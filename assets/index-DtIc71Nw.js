var WE=Object.defineProperty;var XE=(n,t,e)=>t in n?WE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Xn=(n,t,e)=>XE(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var qk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var X1={exports:{}},Sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function QE(){if(qy)return Sf;qy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return Sf.Fragment=t,Sf.jsx=e,Sf.jsxs=e,Sf}var zy;function $E(){return zy||(zy=1,X1.exports=QE()),X1.exports}var vt=$E(),Q1={exports:{}},tn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function JE(){if(Hy)return tn;Hy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),x=Symbol.iterator;function w(Q){return Q===null||typeof Q!="object"?null:(Q=x&&Q[x]||Q["@@iterator"],typeof Q=="function"?Q:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,U={};function B(Q,O,Y){this.props=Q,this.context=O,this.refs=U,this.updater=Y||j}B.prototype.isReactComponent={},B.prototype.setState=function(Q,O){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,O,"setState")},B.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function at(){}at.prototype=B.prototype;function it(Q,O,Y){this.props=Q,this.context=O,this.refs=U,this.updater=Y||j}var nt=it.prototype=new at;nt.constructor=it,q(nt,B.prototype),nt.isPureReactComponent=!0;var wt=Array.isArray;function Tt(){}var z={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function k(Q,O,Y){var $=Y.ref;return{$$typeof:n,type:Q,key:O,ref:$!==void 0?$:null,props:Y}}function G(Q,O){return k(Q.type,O,Q.props)}function T(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function R(Q){var O={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(Y){return O[Y]})}var L=/\/+/g;function st(Q,O){return typeof Q=="object"&&Q!==null&&Q.key!=null?R(""+Q.key):O.toString(36)}function bt(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(Tt,Tt):(Q.status="pending",Q.then(function(O){Q.status==="pending"&&(Q.status="fulfilled",Q.value=O)},function(O){Q.status==="pending"&&(Q.status="rejected",Q.reason=O)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function rt(Q,O,Y,$,ot){var ut=typeof Q;(ut==="undefined"||ut==="boolean")&&(Q=null);var mt=!1;if(Q===null)mt=!0;else switch(ut){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(Q.$$typeof){case n:case t:mt=!0;break;case _:return mt=Q._init,rt(mt(Q._payload),O,Y,$,ot)}}if(mt)return ot=ot(Q),mt=$===""?"."+st(Q,0):$,wt(ot)?(Y="",mt!=null&&(Y=mt.replace(L,"$&/")+"/"),rt(ot,O,Y,"",function(jt){return jt})):ot!=null&&(T(ot)&&(ot=G(ot,Y+(ot.key==null||Q&&Q.key===ot.key?"":(""+ot.key).replace(L,"$&/")+"/")+mt)),O.push(ot)),1;mt=0;var kt=$===""?".":$+":";if(wt(Q))for(var Rt=0;Rt<Q.length;Rt++)$=Q[Rt],ut=kt+st($,Rt),mt+=rt($,O,Y,ut,ot);else if(Rt=w(Q),typeof Rt=="function")for(Q=Rt.call(Q),Rt=0;!($=Q.next()).done;)$=$.value,ut=kt+st($,Rt++),mt+=rt($,O,Y,ut,ot);else if(ut==="object"){if(typeof Q.then=="function")return rt(bt(Q),O,Y,$,ot);throw O=String(Q),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return mt}function ft(Q,O,Y){if(Q==null)return Q;var $=[],ot=0;return rt(Q,$,"","",function(ut){return O.call(Y,ut,ot++)}),$}function ht(Q){if(Q._status===-1){var O=Q._result;O=O(),O.then(function(Y){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=Y)},function(Y){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=Y)}),Q._status===-1&&(Q._status=0,Q._result=O)}if(Q._status===1)return Q._result.default;throw Q._result}var xt=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},zt={map:ft,forEach:function(Q,O,Y){ft(Q,function(){O.apply(this,arguments)},Y)},count:function(Q){var O=0;return ft(Q,function(){O++}),O},toArray:function(Q){return ft(Q,function(O){return O})||[]},only:function(Q){if(!T(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return tn.Activity=E,tn.Children=zt,tn.Component=B,tn.Fragment=e,tn.Profiler=a,tn.PureComponent=it,tn.StrictMode=r,tn.Suspense=f,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,tn.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return z.H.useMemoCache(Q)}},tn.cache=function(Q){return function(){return Q.apply(null,arguments)}},tn.cacheSignal=function(){return null},tn.cloneElement=function(Q,O,Y){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var $=q({},Q.props),ot=Q.key;if(O!=null)for(ut in O.key!==void 0&&(ot=""+O.key),O)!D.call(O,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&O.ref===void 0||($[ut]=O[ut]);var ut=arguments.length-2;if(ut===1)$.children=Y;else if(1<ut){for(var mt=Array(ut),kt=0;kt<ut;kt++)mt[kt]=arguments[kt+2];$.children=mt}return k(Q.type,ot,$)},tn.createContext=function(Q){return Q={$$typeof:c,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:o,_context:Q},Q},tn.createElement=function(Q,O,Y){var $,ot={},ut=null;if(O!=null)for($ in O.key!==void 0&&(ut=""+O.key),O)D.call(O,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ot[$]=O[$]);var mt=arguments.length-2;if(mt===1)ot.children=Y;else if(1<mt){for(var kt=Array(mt),Rt=0;Rt<mt;Rt++)kt[Rt]=arguments[Rt+2];ot.children=kt}if(Q&&Q.defaultProps)for($ in mt=Q.defaultProps,mt)ot[$]===void 0&&(ot[$]=mt[$]);return k(Q,ut,ot)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(Q){return{$$typeof:h,render:Q}},tn.isValidElement=T,tn.lazy=function(Q){return{$$typeof:_,_payload:{_status:-1,_result:Q},_init:ht}},tn.memo=function(Q,O){return{$$typeof:m,type:Q,compare:O===void 0?null:O}},tn.startTransition=function(Q){var O=z.T,Y={};z.T=Y;try{var $=Q(),ot=z.S;ot!==null&&ot(Y,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Tt,xt)}catch(ut){xt(ut)}finally{O!==null&&Y.types!==null&&(O.types=Y.types),z.T=O}},tn.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},tn.use=function(Q){return z.H.use(Q)},tn.useActionState=function(Q,O,Y){return z.H.useActionState(Q,O,Y)},tn.useCallback=function(Q,O){return z.H.useCallback(Q,O)},tn.useContext=function(Q){return z.H.useContext(Q)},tn.useDebugValue=function(){},tn.useDeferredValue=function(Q,O){return z.H.useDeferredValue(Q,O)},tn.useEffect=function(Q,O){return z.H.useEffect(Q,O)},tn.useEffectEvent=function(Q){return z.H.useEffectEvent(Q)},tn.useId=function(){return z.H.useId()},tn.useImperativeHandle=function(Q,O,Y){return z.H.useImperativeHandle(Q,O,Y)},tn.useInsertionEffect=function(Q,O){return z.H.useInsertionEffect(Q,O)},tn.useLayoutEffect=function(Q,O){return z.H.useLayoutEffect(Q,O)},tn.useMemo=function(Q,O){return z.H.useMemo(Q,O)},tn.useOptimistic=function(Q,O){return z.H.useOptimistic(Q,O)},tn.useReducer=function(Q,O,Y){return z.H.useReducer(Q,O,Y)},tn.useRef=function(Q){return z.H.useRef(Q)},tn.useState=function(Q){return z.H.useState(Q)},tn.useSyncExternalStore=function(Q,O,Y){return z.H.useSyncExternalStore(Q,O,Y)},tn.useTransition=function(){return z.H.useTransition()},tn.version="19.2.1",tn}var Gy;function E0(){return Gy||(Gy=1,Q1.exports=JE()),Q1.exports}var Un=E0();const ZE=tw(Un);var $1={exports:{}},Tf={},J1={exports:{}},Z1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function tS(){return Yy||(Yy=1,(function(n){function t(rt,ft){var ht=rt.length;rt.push(ft);t:for(;0<ht;){var xt=ht-1>>>1,zt=rt[xt];if(0<a(zt,ft))rt[xt]=ft,rt[ht]=zt,ht=xt;else break t}}function e(rt){return rt.length===0?null:rt[0]}function r(rt){if(rt.length===0)return null;var ft=rt[0],ht=rt.pop();if(ht!==ft){rt[0]=ht;t:for(var xt=0,zt=rt.length,Q=zt>>>1;xt<Q;){var O=2*(xt+1)-1,Y=rt[O],$=O+1,ot=rt[$];if(0>a(Y,ht))$<zt&&0>a(ot,Y)?(rt[xt]=ot,rt[$]=ht,xt=$):(rt[xt]=Y,rt[O]=ht,xt=O);else if($<zt&&0>a(ot,ht))rt[xt]=ot,rt[$]=ht,xt=$;else break t}}return ft}function a(rt,ft){var ht=rt.sortIndex-ft.sortIndex;return ht!==0?ht:rt.id-ft.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],_=1,E=null,x=3,w=!1,j=!1,q=!1,U=!1,B=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function nt(rt){for(var ft=e(m);ft!==null;){if(ft.callback===null)r(m);else if(ft.startTime<=rt)r(m),ft.sortIndex=ft.expirationTime,t(f,ft);else break;ft=e(m)}}function wt(rt){if(q=!1,nt(rt),!j)if(e(f)!==null)j=!0,Tt||(Tt=!0,R());else{var ft=e(m);ft!==null&&bt(wt,ft.startTime-rt)}}var Tt=!1,z=-1,D=5,k=-1;function G(){return U?!0:!(n.unstable_now()-k<D)}function T(){if(U=!1,Tt){var rt=n.unstable_now();k=rt;var ft=!0;try{t:{j=!1,q&&(q=!1,at(z),z=-1),w=!0;var ht=x;try{e:{for(nt(rt),E=e(f);E!==null&&!(E.expirationTime>rt&&G());){var xt=E.callback;if(typeof xt=="function"){E.callback=null,x=E.priorityLevel;var zt=xt(E.expirationTime<=rt);if(rt=n.unstable_now(),typeof zt=="function"){E.callback=zt,nt(rt),ft=!0;break e}E===e(f)&&r(f),nt(rt)}else r(f);E=e(f)}if(E!==null)ft=!0;else{var Q=e(m);Q!==null&&bt(wt,Q.startTime-rt),ft=!1}}break t}finally{E=null,x=ht,w=!1}ft=void 0}}finally{ft?R():Tt=!1}}}var R;if(typeof it=="function")R=function(){it(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,st=L.port2;L.port1.onmessage=T,R=function(){st.postMessage(null)}}else R=function(){B(T,0)};function bt(rt,ft){z=B(function(){rt(n.unstable_now())},ft)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(rt){rt.callback=null},n.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<rt?Math.floor(1e3/rt):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(rt){switch(x){case 1:case 2:case 3:var ft=3;break;default:ft=x}var ht=x;x=ft;try{return rt()}finally{x=ht}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(rt,ft){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var ht=x;x=rt;try{return ft()}finally{x=ht}},n.unstable_scheduleCallback=function(rt,ft,ht){var xt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?xt+ht:xt):ht=xt,rt){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=ht+zt,rt={id:_++,callback:ft,priorityLevel:rt,startTime:ht,expirationTime:zt,sortIndex:-1},ht>xt?(rt.sortIndex=ht,t(m,rt),e(f)===null&&rt===e(m)&&(q?(at(z),z=-1):q=!0,bt(wt,ht-xt))):(rt.sortIndex=zt,t(f,rt),j||w||(j=!0,Tt||(Tt=!0,R()))),rt},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(rt){var ft=x;return function(){var ht=x;x=ft;try{return rt.apply(this,arguments)}finally{x=ht}}}})(Z1)),Z1}var Ky;function eS(){return Ky||(Ky=1,J1.exports=tS()),J1.exports}var tg={exports:{}},cs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function nS(){if(Wy)return cs;Wy=1;var n=E0();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:f,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return cs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cs.createPortal=function(f,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,_)},cs.flushSync=function(f){var m=c.T,_=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=_,r.d.f()}},cs.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},cs.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},cs.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var _=m.as,E=h(_,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:x,fetchPriority:w}):_==="script"&&r.d.X(f,{crossOrigin:E,integrity:x,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},cs.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},cs.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,E=h(_,m.crossOrigin);r.d.L(f,_,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},cs.preloadModule=function(f,m){if(typeof f=="string")if(m){var _=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},cs.requestFormReset=function(f){r.d.r(f)},cs.unstable_batchedUpdates=function(f,m){return f(m)},cs.useFormState=function(f,m,_){return c.H.useFormState(f,m,_)},cs.useFormStatus=function(){return c.H.useHostTransitionStatus()},cs.version="19.2.1",cs}var Xy;function iS(){if(Xy)return tg.exports;Xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),tg.exports=nS(),tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function rS(){if(Qy)return Tf;Qy=1;var n=eS(),t=E0(),e=iS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return f(g),i;if(v===u)return f(g),s;v=v.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=v;else{for(var I=!1,H=g.child;H;){if(H===l){I=!0,l=g,u=v;break}if(H===u){I=!0,u=g,l=v;break}H=H.sibling}if(!I){for(H=v.child;H;){if(H===l){I=!0,l=v,u=g;break}if(H===u){I=!0,u=v,l=g;break}H=H.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function _(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=_(i),s!==null)return s;i=i.sibling}return null}var E=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),it=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function st(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case q:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case wt:return"Suspense";case Tt:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case it:return i.displayName||"Context";case at:return(i._context.displayName||"Context")+".Consumer";case nt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return s=i.displayName||null,s!==null?s:st(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return st(i(s))}catch{}}return null}var bt=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},xt=[],zt=-1;function Q(i){return{current:i}}function O(i){0>zt||(i.current=xt[zt],xt[zt]=null,zt--)}function Y(i,s){zt++,xt[zt]=i.current,i.current=s}var $=Q(null),ot=Q(null),ut=Q(null),mt=Q(null);function kt(i,s){switch(Y(ut,s),Y(ot,i),Y($,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?hy(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=hy(s),i=fy(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}O($),Y($,i)}function Rt(){O($),O(ot),O(ut)}function jt(i){i.memoizedState!==null&&Y(mt,i);var s=$.current,l=fy(s,i.type);s!==l&&(Y(ot,i),Y($,l))}function Qt(i){ot.current===i&&(O($),O(ot)),mt.current===i&&(O(mt),bf._currentValue=ht)}var ee,te;function ue(i){if(ee===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ee=s&&s[1]||"",te=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+i+te}var J=!1;function Zt(i,s){if(!i||J)return"";J=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(Dt){var Ot=Dt}Reflect.construct(i,[],Ht)}else{try{Ht.call()}catch(Dt){Ot=Dt}i.call(Ht.prototype)}}else{try{throw Error()}catch(Dt){Ot=Dt}(Ht=i())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(Dt){if(Dt&&Ot&&typeof Dt.stack=="string")return[Dt.stack,Ot.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),I=v[0],H=v[1];if(I&&H){var lt=I.split(`
`),Ct=H.split(`
`);for(g=u=0;u<lt.length&&!lt[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Ct.length&&!Ct[g].includes("DetermineComponentFrameRoot");)g++;if(u===lt.length||g===Ct.length)for(u=lt.length-1,g=Ct.length-1;1<=u&&0<=g&&lt[u]!==Ct[g];)g--;for(;1<=u&&0<=g;u--,g--)if(lt[u]!==Ct[g]){if(u!==1||g!==1)do if(u--,g--,0>g||lt[u]!==Ct[g]){var Vt=`
`+lt[u].replace(" at new "," at ");return i.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",i.displayName)),Vt}while(1<=u&&0<=g);break}}}finally{J=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ue(l):""}function Ye(i,s){switch(i.tag){case 26:case 27:case 5:return ue(i.type);case 16:return ue("Lazy");case 13:return i.child!==s&&s!==null?ue("Suspense Fallback"):ue("Suspense");case 19:return ue("SuspenseList");case 0:case 15:return Zt(i.type,!1);case 11:return Zt(i.type.render,!1);case 1:return Zt(i.type,!0);case 31:return ue("Activity");default:return""}}function Te(i){try{var s="",l=null;do s+=Ye(i,l),l=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ft=Object.prototype.hasOwnProperty,ie=n.unstable_scheduleCallback,ne=n.unstable_cancelCallback,xe=n.unstable_shouldYield,_e=n.unstable_requestPaint,Ke=n.unstable_now,Je=n.unstable_getCurrentPriorityLevel,je=n.unstable_ImmediatePriority,sn=n.unstable_UserBlockingPriority,Xe=n.unstable_NormalPriority,me=n.unstable_LowPriority,ze=n.unstable_IdlePriority,ge=n.log,ci=n.unstable_setDisableYieldValue,Qe=null,Ne=null;function Me(i){if(typeof ge=="function"&&ci(i),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Qe,i)}catch{}}var We=Math.clz32?Math.clz32:De,we=Math.log,In=Math.LN2;function De(i){return i>>>=0,i===0?32:31-(we(i)/In|0)|0}var Pe=256,Ln=262144,be=4194304;function ye(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function an(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var g=0,v=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var H=u&134217727;return H!==0?(u=H&~v,u!==0?g=ye(u):(I&=H,I!==0?g=ye(I):l||(l=H&~i,l!==0&&(g=ye(l))))):(H=u&~v,H!==0?g=ye(H):I!==0?g=ye(I):l||(l=u&~i,l!==0&&(g=ye(l)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:g}function hr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Zi(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(){var i=be;return be<<=1,(be&62914560)===0&&(be=4194304),i}function Hi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Ae(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ta(i,s,l,u,g,v){var I=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var H=i.entanglements,lt=i.expirationTimes,Ct=i.hiddenUpdates;for(l=I&~l;0<l;){var Vt=31-We(l),Ht=1<<Vt;H[Vt]=0,lt[Vt]=-1;var Ot=Ct[Vt];if(Ot!==null)for(Ct[Vt]=null,Vt=0;Vt<Ot.length;Vt++){var Dt=Ot[Vt];Dt!==null&&(Dt.lane&=-536870913)}l&=~Ht}u!==0&&Br(i,u,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(I&~s))}function Br(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-We(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function Tr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-We(l),g=1<<u;g&s|i[u]&s&&(i[u]|=s),l&=~g}}function Nr(i,s){var l=s&-s;return l=(l&42)!==0?1:Fn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Fn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $n(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Oi(){var i=ft.p;return i!==0?i:(i=window.event,i===void 0?32:Py(i.type))}function fr(i,s){var l=ft.p;try{return ft.p=i,s()}finally{ft.p=l}}var tr=Math.random().toString(36).slice(2),kn="__reactFiber$"+tr,Hn="__reactProps$"+tr,Di="__reactContainer$"+tr,xr="__reactEvents$"+tr,is="__reactListeners$"+tr,va="__reactHandles$"+tr,_s="__reactResources$"+tr,Ir="__reactMarker$"+tr;function ea(i){delete i[kn],delete i[Hn],delete i[xr],delete i[is],delete i[va]}function Fr(i){var s=i[kn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Di]||l[kn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=_y(i);i!==null;){if(l=i[kn])return l;i=_y(i)}return s}i=l,l=i.parentNode}return null}function dr(i){if(i=i[kn]||i[Di]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function qr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function rs(i){var s=i[_s];return s||(s=i[_s]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function fi(i){i[Ir]=!0}var _o=new Set,Cr={};function ss(i,s){bs(i,s),bs(i+"Capture",s)}function bs(i,s){for(Cr[i]=s,i=0;i<s.length;i++)_o.add(s[i])}var Fa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function el(i){return Ft.call(wo,i)?!0:Ft.call(bo,i)?!1:Fa.test(i)?wo[i]=!0:(bo[i]=!0,!1)}function zr(i,s,l){if(el(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function er(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function _i(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function na(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function as(i,s,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(I){l=""+I,v.call(this,I)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(I){l=""+I},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function gn(i){if(!i._valueTracker){var s=na(i)?"checked":"value";i._valueTracker=as(i,s,""+i[s])}}function _a(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=na(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var si=/[\n"\\]/g;function bi(i){return i.replace(si,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qa(i,s,l,u,g,v,I,H){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),s!=null?I==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),s!=null?nl(i,I,cn(s)):l!=null?nl(i,I,cn(l)):u!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?i.name=""+cn(H):i.removeAttribute("name")}function Ul(i,s,l,u,g,v,I,H){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){gn(i);return}l=l!=null?""+cn(l):"",s=s!=null?""+cn(s):l,H||s===i.value||(i.value=s),i.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=H?i.checked:!!u,i.defaultChecked=!!u,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),gn(i)}function nl(i,s,l){s==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function pr(i,s,l,u){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&u&&(i[l].defaultSelected=!0)}else{for(l=""+cn(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function il(i,s,l){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+cn(l):""}function ia(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(bt(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=cn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),gn(i)}function Gi(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||ba.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function sl(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&rl(i,g,u)}else for(var v in s)s.hasOwnProperty(v)&&rl(i,v,s[v])}function Ao(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(i){return ra.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ws(){}var sa=null;function Lr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wa=null,Ie=null;function za(i){var s=dr(i);if(s&&(i=s.stateNode)){var l=i[Hn]||null;t:switch(i=s.stateNode,s.type){case"input":if(qa(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bi(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var g=u[Hn]||null;if(!g)throw Error(r(90));qa(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&_a(u)}break t;case"textarea":il(i,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&pr(i,!!l.multiple,s,!1)}}}var So=!1;function Aa(i,s,l){if(So)return i(s,l);So=!0;try{var u=i(s);return u}finally{if(So=!1,(wa!==null||Ie!==null)&&(Ud(),wa&&(s=wa,i=Ie,Ie=wa=null,za(s),i)))for(s=0;s<i.length;s++)za(i[s])}}function Yi(i,s){var l=i.stateNode;if(l===null)return null;var u=l[Hn]||null;if(u===null)return null;l=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=!1;if(Pi)try{var On={};Object.defineProperty(On,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Ha=!1}var Hr=null,Ga=null,As=null;function al(){if(As)return As;var i,s=Ga,l=s.length,u,g="value"in Hr?Hr.value:Hr.textContent,v=g.length;for(i=0;i<l&&s[i]===g[i];i++);var I=l-i;for(u=1;u<=I&&s[l-u]===g[v-u];u++);return As=g.slice(i,1<u?1-u:void 0)}function Gr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function aa(){return!0}function Yr(){return!1}function xi(i){function s(l,u,g,v,I){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(l=i[H],this[H]=l?l(v):v[H]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?aa:Yr,this.isPropagationStopped=Yr,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),s}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=xi(Ls),ks=E({},Ls,{view:0,detail:0}),Ea=xi(ks),Os,Ds,os,Ya=E({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Re,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==os&&(os&&i.type==="mousemove"?(Os=i.screenX-os.screenX,Ds=i.screenY-os.screenY):Ds=Os=0,os=i),Os)},movementY:function(i){return"movementY"in i?i.movementY:Ds}}),To=xi(Ya),Kr=E({},Ya,{dataTransfer:0}),Ps=xi(Kr),ol=E({},ks,{relatedTarget:0}),Es=xi(ol),No=E({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),b=xi(No),P=E({},Ls,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tt=xi(P),ct=E({},Ls,{data:0}),yt=xi(ct),Ut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fe(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ae[i])?!!s[i]:!1}function Re(){return fe}var Ee=E({},ks,{key:function(i){if(i.key){var s=Ut[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Gr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Kt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Re,charCode:function(i){return i.type==="keypress"?Gr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),hn=xi(Ee),Jn=E({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qn=xi(Jn),p=E({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Re}),S=xi(p),C=E({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),W=xi(C),At=E({},Ya,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Lt=xi(At),$t=E({},Ls,{newState:0,oldState:0}),qe=xi($t),Zn=[9,13,27,32],ln=Pi&&"CompositionEvent"in window,Dn=null;Pi&&"documentMode"in document&&(Dn=document.documentMode);var ir=Pi&&"TextEvent"in window&&!Dn,mr=Pi&&(!ln||Dn&&8<Dn&&11>=Dn),Gn=" ",gr=!1;function Ss(i,s){switch(i){case"keyup":return Zn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ta=!1;function Wr(i,s){switch(i){case"compositionend":return Sa(s);case"keypress":return s.which!==32?null:(gr=!0,Gn);case"textInput":return i=s.data,i===Gn&&gr?null:i;default:return null}}function Ka(i,s){if(Ta)return i==="compositionend"||!ln&&Ss(i,s)?(i=al(),As=Ga=Hr=null,Ta=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return mr&&s.locale!=="ko"?null:s.data;default:return null}}var Vl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Vl[i.type]:s==="textarea"}function Ts(i,s,l,u){wa?Ie?Ie.push(u):Ie=[u]:wa=u,s=Hd(s,"onChange"),0<s.length&&(l=new nr("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var oa=null,Wa=null;function ju(i){sy(i,0)}function la(i){var s=qr(i);if(_a(s))return i}function xo(i,s){if(i==="change")return s}var ls=!1;if(Pi){var Xr;if(Pi){var Na="oninput"in document;if(!Na){var xa=document.createElement("div");xa.setAttribute("oninput","return;"),Na=typeof xa.oninput=="function"}Xr=Na}else Xr=!1;ls=Xr&&(!document.documentMode||9<document.documentMode)}function Xa(){oa&&(oa.detachEvent("onpropertychange",jl),Wa=oa=null)}function jl(i){if(i.propertyName==="value"&&la(Wa)){var s=[];Ts(s,Wa,i,Lr(i)),Aa(ju,s)}}function Bl(i,s,l){i==="focusin"?(Xa(),oa=s,Wa=l,oa.attachEvent("onpropertychange",jl)):i==="focusout"&&Xa()}function Ii(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return la(Wa)}function Sc(i,s){if(i==="click")return la(s)}function Ia(i,s){if(i==="input"||i==="change")return la(s)}function Ca(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var yr=typeof Object.is=="function"?Object.is:Ca;function Qa(i,s){if(yr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ft.call(s,g)||!yr(i[g],s[g]))return!1}return!0}function Fl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ql(i,s){var l=Fl(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Fl(l)}}function $a(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$a(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ja(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ni(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ni(i.document)}return s}function Ra(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ll=Pi&&"documentMode"in document&&11>=document.documentMode,Ns=null,Za=null,kr=null,Ms=!1;function Cn(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ms||Ns==null||Ns!==Ni(u)||(u=Ns,"selectionStart"in u&&Ra(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),kr&&Qa(kr,u)||(kr=u,u=Hd(Za,"onSelect"),0<u.length&&(s=new nr("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=Ns)))}function An(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var ti={animationend:An("Animation","AnimationEnd"),animationiteration:An("Animation","AnimationIteration"),animationstart:An("Animation","AnimationStart"),transitionrun:An("Transition","TransitionRun"),transitionstart:An("Transition","TransitionStart"),transitioncancel:An("Transition","TransitionCancel"),transitionend:An("Transition","TransitionEnd")},Ci={},La={};Pi&&(La=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function ua(i){if(Ci[i])return Ci[i];if(!ti[i])return i;var s=ti[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in La)return Ci[i]=s[l];return i}var ul=ua("animationend"),Bu=ua("animationiteration"),qh=ua("animationstart"),dd=ua("transitionrun"),pd=ua("transitionstart"),md=ua("transitioncancel"),zh=ua("transitionend"),Hh=new Map,cl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cl.push("scrollEnd");function Us(i,s){Hh.set(i,s),ss(s,[i])}var Fu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xs=[],hl=0,Tc=0;function qu(){for(var i=hl,s=Tc=hl=0;s<i;){var l=xs[s];xs[s++]=null;var u=xs[s];xs[s++]=null;var g=xs[s];xs[s++]=null;var v=xs[s];if(xs[s++]=null,u!==null&&g!==null){var I=u.pending;I===null?g.next=g:(g.next=I.next,I.next=g),u.pending=g}v!==0&&Hu(l,g,v)}}function zu(i,s,l,u){xs[hl++]=i,xs[hl++]=s,xs[hl++]=l,xs[hl++]=u,Tc|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Nc(i,s,l,u){return zu(i,s,l,u),Or(i)}function to(i,s){return zu(i,null,null,s),Or(i)}function Hu(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&s!==null&&(g=31-We(l),i=v.hiddenUpdates,u=i[g],u===null?i[g]=[s]:u.push(s),s.lane=l|536870912),v):null}function Or(i){if(50<df)throw df=0,_1=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var vr={};function xc(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(i,s,l,u){return new xc(i,s,l,u)}function Ic(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vs(i,s){var l=i.alternate;return l===null?(l=Dr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Gu(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function zl(i,s,l,u,g,v){var I=0;if(u=i,typeof i=="function")Ic(i)&&(I=1);else if(typeof i=="string")I=ME(i,l,$.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case k:return i=Dr(31,l,s,g),i.elementType=k,i.lanes=v,i;case q:return Io(l.children,g,v,s);case U:I=8,g|=24;break;case B:return i=Dr(12,l,s,g|2),i.elementType=B,i.lanes=v,i;case wt:return i=Dr(13,l,s,g),i.elementType=wt,i.lanes=v,i;case Tt:return i=Dr(19,l,s,g),i.elementType=Tt,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case it:I=10;break t;case at:I=9;break t;case nt:I=11;break t;case z:I=14;break t;case D:I=16,u=null;break t}I=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Dr(I,l,s,g),s.elementType=i,s.type=u,s.lanes=v,s}function Io(i,s,l,u){return i=Dr(7,i,u,s),i.lanes=l,i}function Yu(i,s,l){return i=Dr(6,i,null,s),i.lanes=l,i}function Cc(i){var s=Dr(18,null,null,0);return s.stateNode=i,s}function Hl(i,s,l){return s=Dr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Rc=new WeakMap;function js(i,s){if(typeof i=="object"&&i!==null){var l=Rc.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Te(s)},Rc.set(i,s),s)}return{value:i,source:s,stack:Te(s)}}var Gl=[],fl=0,Lc=null,Ku=0,Bs=[],Fs=0,Co=null,qs=1,zs="";function Is(i,s){Gl[fl++]=Ku,Gl[fl++]=Lc,Lc=i,Ku=s}function gd(i,s,l){Bs[Fs++]=qs,Bs[Fs++]=zs,Bs[Fs++]=Co,Co=i;var u=qs;i=zs;var g=32-We(u)-1;u&=~(1<<g),l+=1;var v=32-We(s)+g;if(30<v){var I=g-g%5;v=(u&(1<<I)-1).toString(32),u>>=I,g-=I,qs=1<<32-We(s)+g|l<<g|u,zs=v+i}else qs=1<<v|l<<g|u,zs=i}function Gh(i){i.return!==null&&(Is(i,1),gd(i,1,0))}function kc(i){for(;i===Lc;)Lc=Gl[--fl],Gl[fl]=null,Ku=Gl[--fl],Gl[fl]=null;for(;i===Co;)Co=Bs[--Fs],Bs[Fs]=null,zs=Bs[--Fs],Bs[Fs]=null,qs=Bs[--Fs],Bs[Fs]=null}function yd(i,s){Bs[Fs++]=qs,Bs[Fs++]=zs,Bs[Fs++]=Co,qs=s.id,zs=s.overflow,Co=i}var _r=null,ai=null,dn=!1,Qr=null,wi=!1,ca=Error(r(519));function Ro(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(js(s,i)),ca}function Yh(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[kn]=i,s[Hn]=u,l){case"dialog":mn("cancel",s),mn("close",s);break;case"iframe":case"object":case"embed":mn("load",s);break;case"video":case"audio":for(l=0;l<mf.length;l++)mn(mf[l],s);break;case"source":mn("error",s);break;case"img":case"image":case"link":mn("error",s),mn("load",s);break;case"details":mn("toggle",s);break;case"input":mn("invalid",s),Ul(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":mn("invalid",s);break;case"textarea":mn("invalid",s),ia(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||uy(s.textContent,l)?(u.popover!=null&&(mn("beforetoggle",s),mn("toggle",s)),u.onScroll!=null&&mn("scroll",s),u.onScrollEnd!=null&&mn("scrollend",s),u.onClick!=null&&(s.onclick=ws),s=!0):s=!1,s||Ro(i,!0)}function eo(i){for(_r=i.return;_r;)switch(_r.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:_r=_r.return}}function br(i){if(i!==_r)return!1;if(!dn)return eo(i),dn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||D1(i.type,i.memoizedProps)),l=!l),l&&ai&&Ro(i),eo(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ai=vy(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ai=vy(i)}else s===27?(s=ai,au(i.type)?(i=j1,j1=null,ai=i):ai=s):ai=_r?Pa(i.stateNode.nextSibling):null;return!0}function dl(){ai=_r=null,dn=!1}function Kh(){var i=Qr;return i!==null&&(Xs===null?Xs=i:Xs.push.apply(Xs,i),Qr=null),i}function Yl(i){Qr===null?Qr=[i]:Qr.push(i)}var Oc=Q(null),Lo=null,ka=null;function ko(i,s,l){Y(Oc,s._currentValue),s._currentValue=l}function Hs(i){i._currentValue=Oc.current,O(Oc)}function Kl(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function pl(i,s,l,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var I=g.child;v=v.firstContext;t:for(;v!==null;){var H=v;v=g;for(var lt=0;lt<s.length;lt++)if(H.context===s[lt]){v.lanes|=l,H=v.alternate,H!==null&&(H.lanes|=l),Kl(v.return,l,i),u||(I=null);break t}v=H.next}}else if(g.tag===18){if(I=g.return,I===null)throw Error(r(341));I.lanes|=l,v=I.alternate,v!==null&&(v.lanes|=l),Kl(I,l,i),I=null}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===i){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}}function Oo(i,s,l,u){i=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var I=g.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var H=g.type;yr(g.pendingProps.value,I.value)||(i!==null?i.push(H):i=[H])}}else if(g===mt.current){if(I=g.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(bf):i=[bf])}g=g.return}i!==null&&pl(s,i,l,u),s.flags|=262144}function Dc(i){for(i=i.firstContext;i!==null;){if(!yr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Do(i){Lo=i,ka=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function wr(i){return vd(Lo,i)}function Pc(i,s){return Lo===null&&Do(i),vd(i,s)}function vd(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ka===null){if(i===null)throw Error(r(308));ka=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ka=ka.next=s;return l}var Vm=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},jm=n.unstable_scheduleCallback,Bm=n.unstable_NormalPriority,Ri={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wl(){return{controller:new Vm,data:new Map,refCount:0}}function Wu(i){i.refCount--,i.refCount===0&&jm(Bm,function(){i.controller.abort()})}var Xu=null,Mc=0,d=0,y=null;function A(i,s){if(Xu===null){var l=Xu=[];Mc=0,d=T1(),y={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Mc++,s.then(N,N),s}function N(){if(--Mc===0&&Xu!==null){y!==null&&(y.status="fulfilled");var i=Xu;Xu=null,d=0,y=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function M(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var V=rt.S;rt.S=function(i,s){O5=Ke(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A(i,s),V!==null&&V(i,s)};var F=Q(null);function K(){var i=F.current;return i!==null?i:li.pooledCache}function X(i,s){s===null?Y(F,F.current):Y(F,s.pool)}function et(){var i=K();return i===null?null:{parent:Ri._currentValue,pool:i}}var dt=Error(r(460)),Nt=Error(r(474)),Z=Error(r(542)),gt={then:function(){}};function Et(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Mt(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(ws,ws),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xt(i),i;default:if(typeof s.status=="string")s.then(ws,ws);else{if(i=li,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xt(i),i}throw Pt=s,dt}}function St(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pt=l,dt):l}}var Pt=null;function Bt(){if(Pt===null)throw Error(r(459));var i=Pt;return Pt=null,i}function Xt(i){if(i===dt||i===Z)throw Error(r(483))}var Gt=null,de=0;function re(i){var s=de;return de+=1,Gt===null&&(Gt=[]),Mt(Gt,i,s)}function He(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ce(i,s){throw s.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function fn(i){function s(_t,pt){if(i){var It=_t.deletions;It===null?(_t.deletions=[pt],_t.flags|=16):It.push(pt)}}function l(_t,pt){if(!i)return null;for(;pt!==null;)s(_t,pt),pt=pt.sibling;return null}function u(_t){for(var pt=new Map;_t!==null;)_t.key!==null?pt.set(_t.key,_t):pt.set(_t.index,_t),_t=_t.sibling;return pt}function g(_t,pt){return _t=Vs(_t,pt),_t.index=0,_t.sibling=null,_t}function v(_t,pt,It){return _t.index=It,i?(It=_t.alternate,It!==null?(It=It.index,It<pt?(_t.flags|=67108866,pt):It):(_t.flags|=67108866,pt)):(_t.flags|=1048576,pt)}function I(_t){return i&&_t.alternate===null&&(_t.flags|=67108866),_t}function H(_t,pt,It,qt){return pt===null||pt.tag!==6?(pt=Yu(It,_t.mode,qt),pt.return=_t,pt):(pt=g(pt,It),pt.return=_t,pt)}function lt(_t,pt,It,qt){var ke=It.type;return ke===q?Vt(_t,pt,It.props.children,qt,It.key):pt!==null&&(pt.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===D&&St(ke)===pt.type)?(pt=g(pt,It.props),He(pt,It),pt.return=_t,pt):(pt=zl(It.type,It.key,It.props,null,_t.mode,qt),He(pt,It),pt.return=_t,pt)}function Ct(_t,pt,It,qt){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==It.containerInfo||pt.stateNode.implementation!==It.implementation?(pt=Hl(It,_t.mode,qt),pt.return=_t,pt):(pt=g(pt,It.children||[]),pt.return=_t,pt)}function Vt(_t,pt,It,qt,ke){return pt===null||pt.tag!==7?(pt=Io(It,_t.mode,qt,ke),pt.return=_t,pt):(pt=g(pt,It),pt.return=_t,pt)}function Ht(_t,pt,It){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return pt=Yu(""+pt,_t.mode,It),pt.return=_t,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case w:return It=zl(pt.type,pt.key,pt.props,null,_t.mode,It),He(It,pt),It.return=_t,It;case j:return pt=Hl(pt,_t.mode,It),pt.return=_t,pt;case D:return pt=St(pt),Ht(_t,pt,It)}if(bt(pt)||R(pt))return pt=Io(pt,_t.mode,It,null),pt.return=_t,pt;if(typeof pt.then=="function")return Ht(_t,re(pt),It);if(pt.$$typeof===it)return Ht(_t,Pc(_t,pt),It);ce(_t,pt)}return null}function Ot(_t,pt,It,qt){var ke=pt!==null?pt.key:null;if(typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint")return ke!==null?null:H(_t,pt,""+It,qt);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case w:return It.key===ke?lt(_t,pt,It,qt):null;case j:return It.key===ke?Ct(_t,pt,It,qt):null;case D:return It=St(It),Ot(_t,pt,It,qt)}if(bt(It)||R(It))return ke!==null?null:Vt(_t,pt,It,qt,null);if(typeof It.then=="function")return Ot(_t,pt,re(It),qt);if(It.$$typeof===it)return Ot(_t,pt,Pc(_t,It),qt);ce(_t,It)}return null}function Dt(_t,pt,It,qt,ke){if(typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint")return _t=_t.get(It)||null,H(pt,_t,""+qt,ke);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case w:return _t=_t.get(qt.key===null?It:qt.key)||null,lt(pt,_t,qt,ke);case j:return _t=_t.get(qt.key===null?It:qt.key)||null,Ct(pt,_t,qt,ke);case D:return qt=St(qt),Dt(_t,pt,It,qt,ke)}if(bt(qt)||R(qt))return _t=_t.get(It)||null,Vt(pt,_t,qt,ke,null);if(typeof qt.then=="function")return Dt(_t,pt,It,re(qt),ke);if(qt.$$typeof===it)return Dt(_t,pt,It,Pc(pt,qt),ke);ce(pt,qt)}return null}function he(_t,pt,It,qt){for(var ke=null,Pn=null,ve=pt,on=pt=0,vn=null;ve!==null&&on<It.length;on++){ve.index>on?(vn=ve,ve=null):vn=ve.sibling;var Mn=Ot(_t,ve,It[on],qt);if(Mn===null){ve===null&&(ve=vn);break}i&&ve&&Mn.alternate===null&&s(_t,ve),pt=v(Mn,pt,on),Pn===null?ke=Mn:Pn.sibling=Mn,Pn=Mn,ve=vn}if(on===It.length)return l(_t,ve),dn&&Is(_t,on),ke;if(ve===null){for(;on<It.length;on++)ve=Ht(_t,It[on],qt),ve!==null&&(pt=v(ve,pt,on),Pn===null?ke=ve:Pn.sibling=ve,Pn=ve);return dn&&Is(_t,on),ke}for(ve=u(ve);on<It.length;on++)vn=Dt(ve,_t,on,It[on],qt),vn!==null&&(i&&vn.alternate!==null&&ve.delete(vn.key===null?on:vn.key),pt=v(vn,pt,on),Pn===null?ke=vn:Pn.sibling=vn,Pn=vn);return i&&ve.forEach(function(hu){return s(_t,hu)}),dn&&Is(_t,on),ke}function Ve(_t,pt,It,qt){if(It==null)throw Error(r(151));for(var ke=null,Pn=null,ve=pt,on=pt=0,vn=null,Mn=It.next();ve!==null&&!Mn.done;on++,Mn=It.next()){ve.index>on?(vn=ve,ve=null):vn=ve.sibling;var hu=Ot(_t,ve,Mn.value,qt);if(hu===null){ve===null&&(ve=vn);break}i&&ve&&hu.alternate===null&&s(_t,ve),pt=v(hu,pt,on),Pn===null?ke=hu:Pn.sibling=hu,Pn=hu,ve=vn}if(Mn.done)return l(_t,ve),dn&&Is(_t,on),ke;if(ve===null){for(;!Mn.done;on++,Mn=It.next())Mn=Ht(_t,Mn.value,qt),Mn!==null&&(pt=v(Mn,pt,on),Pn===null?ke=Mn:Pn.sibling=Mn,Pn=Mn);return dn&&Is(_t,on),ke}for(ve=u(ve);!Mn.done;on++,Mn=It.next())Mn=Dt(ve,_t,on,Mn.value,qt),Mn!==null&&(i&&Mn.alternate!==null&&ve.delete(Mn.key===null?on:Mn.key),pt=v(Mn,pt,on),Pn===null?ke=Mn:Pn.sibling=Mn,Pn=Mn);return i&&ve.forEach(function(KE){return s(_t,KE)}),dn&&Is(_t,on),ke}function ri(_t,pt,It,qt){if(typeof It=="object"&&It!==null&&It.type===q&&It.key===null&&(It=It.props.children),typeof It=="object"&&It!==null){switch(It.$$typeof){case w:t:{for(var ke=It.key;pt!==null;){if(pt.key===ke){if(ke=It.type,ke===q){if(pt.tag===7){l(_t,pt.sibling),qt=g(pt,It.props.children),qt.return=_t,_t=qt;break t}}else if(pt.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===D&&St(ke)===pt.type){l(_t,pt.sibling),qt=g(pt,It.props),He(qt,It),qt.return=_t,_t=qt;break t}l(_t,pt);break}else s(_t,pt);pt=pt.sibling}It.type===q?(qt=Io(It.props.children,_t.mode,qt,It.key),qt.return=_t,_t=qt):(qt=zl(It.type,It.key,It.props,null,_t.mode,qt),He(qt,It),qt.return=_t,_t=qt)}return I(_t);case j:t:{for(ke=It.key;pt!==null;){if(pt.key===ke)if(pt.tag===4&&pt.stateNode.containerInfo===It.containerInfo&&pt.stateNode.implementation===It.implementation){l(_t,pt.sibling),qt=g(pt,It.children||[]),qt.return=_t,_t=qt;break t}else{l(_t,pt);break}else s(_t,pt);pt=pt.sibling}qt=Hl(It,_t.mode,qt),qt.return=_t,_t=qt}return I(_t);case D:return It=St(It),ri(_t,pt,It,qt)}if(bt(It))return he(_t,pt,It,qt);if(R(It)){if(ke=R(It),typeof ke!="function")throw Error(r(150));return It=ke.call(It),Ve(_t,pt,It,qt)}if(typeof It.then=="function")return ri(_t,pt,re(It),qt);if(It.$$typeof===it)return ri(_t,pt,Pc(_t,It),qt);ce(_t,It)}return typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint"?(It=""+It,pt!==null&&pt.tag===6?(l(_t,pt.sibling),qt=g(pt,It),qt.return=_t,_t=qt):(l(_t,pt),qt=Yu(It,_t.mode,qt),qt.return=_t,_t=qt),I(_t)):l(_t,pt)}return function(_t,pt,It,qt){try{de=0;var ke=ri(_t,pt,It,qt);return Gt=null,ke}catch(ve){if(ve===dt||ve===Z)throw ve;var Pn=Dr(29,ve,null,_t.mode);return Pn.lanes=qt,Pn.return=_t,Pn}finally{}}}var oi=fn(!0),Ze=fn(!1),se=!1;function Jt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function di(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ue(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rn(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Bn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=Or(i),Hu(i,null,l),s}return zu(i,u,s,l),Or(i)}function Vn(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,Tr(i,l)}}function Ki(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=I:v=v.next=I,l=l.next}while(l!==null);v===null?g=v=s:v=v.next=s}else g=v=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Ar=!1;function ei(){if(Ar){var i=y;if(i!==null)throw i}}function Mi(i,s,l,u){Ar=!1;var g=i.updateQueue;se=!1;var v=g.firstBaseUpdate,I=g.lastBaseUpdate,H=g.shared.pending;if(H!==null){g.shared.pending=null;var lt=H,Ct=lt.next;lt.next=null,I===null?v=Ct:I.next=Ct,I=lt;var Vt=i.alternate;Vt!==null&&(Vt=Vt.updateQueue,H=Vt.lastBaseUpdate,H!==I&&(H===null?Vt.firstBaseUpdate=Ct:H.next=Ct,Vt.lastBaseUpdate=lt))}if(v!==null){var Ht=g.baseState;I=0,Vt=Ct=lt=null,H=v;do{var Ot=H.lane&-536870913,Dt=Ot!==H.lane;if(Dt?(yn&Ot)===Ot:(u&Ot)===Ot){Ot!==0&&Ot===d&&(Ar=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var he=i,Ve=H;Ot=s;var ri=l;switch(Ve.tag){case 1:if(he=Ve.payload,typeof he=="function"){Ht=he.call(ri,Ht,Ot);break t}Ht=he;break t;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ve.payload,Ot=typeof he=="function"?he.call(ri,Ht,Ot):he,Ot==null)break t;Ht=E({},Ht,Ot);break t;case 2:se=!0}}Ot=H.callback,Ot!==null&&(i.flags|=64,Dt&&(i.flags|=8192),Dt=g.callbacks,Dt===null?g.callbacks=[Ot]:Dt.push(Ot))}else Dt={lane:Ot,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Vt===null?(Ct=Vt=Dt,lt=Ht):Vt=Vt.next=Dt,I|=Ot;if(H=H.next,H===null){if(H=g.shared.pending,H===null)break;Dt=H,H=Dt.next,Dt.next=null,g.lastBaseUpdate=Dt,g.shared.pending=null}}while(!0);Vt===null&&(lt=Ht),g.baseState=lt,g.firstBaseUpdate=Ct,g.lastBaseUpdate=Vt,v===null&&(g.shared.lanes=0),eu|=I,i.lanes=I,i.memoizedState=Ht}}function Pr(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Ui(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Pr(l[i],s)}var un=Q(null),Sn=Q(0);function pi(i,s){i=Sl,Y(Sn,i),Y(un,s),Sl=i|s.baseLanes}function Rn(){Y(Sn,Sl),Y(un,un.current)}function Wi(){Sl=Sn.current,O(un),O(Sn)}var mi=Q(null),Tn=null;function Li(i){var s=i.alternate;Y(En,En.current&1),Y(mi,i),Tn===null&&(s===null||un.current!==null||s.memoizedState!==null)&&(Tn=i)}function jn(i){Y(En,En.current),Y(mi,i),Tn===null&&(Tn=i)}function Vi(i){i.tag===22?(Y(En,En.current),Y(mi,i),Tn===null&&(Tn=i)):ji()}function ji(){Y(En,En.current),Y(mi,mi.current)}function Yn(i){O(mi),Tn===i&&(Tn=null),O(En)}var En=Q(0);function Mr(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||U1(l)||V1(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ai=0,Ce=null,Le=null,Nn=null,us=!1,Gs=!1,$r=!1,Bi=0,Po=0,Mo=null,Uc=0;function ni(){throw Error(r(321))}function Wh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!yr(i[l],s[l]))return!1;return!0}function Xh(i,s,l,u,g,v){return Ai=v,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,rt.H=i===null||i.memoizedState===null?H2:Wm,$r=!1,v=l(u,g),$r=!1,Gs&&(v=no(s,l,u,g)),Vc(i),v}function Vc(i){rt.H=rf;var s=Le!==null&&Le.next!==null;if(Ai=0,Nn=Le=Ce=null,us=!1,Po=0,Mo=null,s)throw Error(r(300));i===null||sr||(i=i.dependencies,i!==null&&Dc(i)&&(sr=!0))}function no(i,s,l,u){Ce=i;var g=0;do{if(Gs&&(Mo=null),Po=0,Gs=!1,25<=g)throw Error(r(301));if(g+=1,Nn=Le=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}rt.H=G2,v=s(l,u)}while(Gs);return v}function Fm(){var i=rt.H,s=i.useState()[0];return s=typeof s.then=="function"?Uo(s):s,i=i.useState()[0],(Le!==null?Le.memoizedState:null)!==i&&(Ce.flags|=1024),s}function Qh(){var i=Bi!==0;return Bi=0,i}function $h(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function jc(i){if(us){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}us=!1}Ai=0,Nn=Le=Ce=null,Gs=!1,Po=Bi=0,Mo=null}function rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Ce.memoizedState=Nn=i:Nn=Nn.next=i,Nn}function Ei(){if(Le===null){var i=Ce.alternate;i=i!==null?i.memoizedState:null}else i=Le.next;var s=Nn===null?Ce.memoizedState:Nn.next;if(s!==null)Nn=s,Le=i;else{if(i===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Le=i,i={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Nn===null?Ce.memoizedState=Nn=i:Nn=Nn.next=i}return Nn}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(i){var s=Po;return Po+=1,Mo===null&&(Mo=[]),i=Mt(Mo,i,s),s=Ce,(Nn===null?s.memoizedState:Nn.next)===null&&(s=s.alternate,rt.H=s===null||s.memoizedState===null?H2:Wm),i}function Xl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Uo(i);if(i.$$typeof===it)return wr(i)}throw Error(r(438,String(i)))}function ml(i){var s=null,l=Ce.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Qu(),Ce.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=G;return s.index++,l}function Oa(i,s){return typeof s=="function"?s(i):s}function Bc(i){var s=Ei();return Ql(s,Le,i)}function Ql(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=i.baseQueue,v=u.pending;if(v!==null){if(g!==null){var I=g.next;g.next=v.next,v.next=I}s.baseQueue=g=v,u.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{s=g.next;var H=I=null,lt=null,Ct=s,Vt=!1;do{var Ht=Ct.lane&-536870913;if(Ht!==Ct.lane?(yn&Ht)===Ht:(Ai&Ht)===Ht){var Ot=Ct.revertLane;if(Ot===0)lt!==null&&(lt=lt.next={lane:0,revertLane:0,gesture:null,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),Ht===d&&(Vt=!0);else if((Ai&Ot)===Ot){Ct=Ct.next,Ot===d&&(Vt=!0);continue}else Ht={lane:0,revertLane:Ct.revertLane,gesture:null,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null},lt===null?(H=lt=Ht,I=v):lt=lt.next=Ht,Ce.lanes|=Ot,eu|=Ot;Ht=Ct.action,$r&&l(v,Ht),v=Ct.hasEagerState?Ct.eagerState:l(v,Ht)}else Ot={lane:Ht,revertLane:Ct.revertLane,gesture:Ct.gesture,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null},lt===null?(H=lt=Ot,I=v):lt=lt.next=Ot,Ce.lanes|=Ht,eu|=Ht;Ct=Ct.next}while(Ct!==null&&Ct!==s);if(lt===null?I=v:lt.next=H,!yr(v,i.memoizedState)&&(sr=!0,Vt&&(l=y,l!==null)))throw l;i.memoizedState=v,i.baseState=I,i.baseQueue=lt,u.lastRenderedState=v}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Fc(i){var s=Ei(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,g=l.pending,v=s.memoizedState;if(g!==null){l.pending=null;var I=g=g.next;do v=i(v,I.action),I=I.next;while(I!==g);yr(v,s.memoizedState)||(sr=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,u]}function qc(i,s,l){var u=Ce,g=Ei(),v=dn;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=s();var I=!yr((Le||g).memoizedState,l);if(I&&(g.memoizedState=l,sr=!0),g=g.queue,qm(Zh.bind(null,u,g,i),[i]),g.getSnapshot!==s||I||Nn!==null&&Nn.memoizedState.tag&1){if(u.flags|=2048,yl(9,{destroy:void 0},Jh.bind(null,u,g,l,s),null),li===null)throw Error(r(349));v||(Ai&127)!==0||io(u,s,l)}return l}function io(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ce.updateQueue,s===null?(s=Qu(),Ce.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Jh(i,s,l,u){s.value=l,s.getSnapshot=u,_d(s)&&tf(i)}function Zh(i,s,l){return l(function(){_d(s)&&tf(i)})}function _d(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!yr(i,l)}catch{return!0}}function tf(i){var s=to(i,2);s!==null&&Qs(s,i,2)}function Vo(i){var s=rr();if(typeof i=="function"){var l=i;if(i=l(),$r){Me(!0);try{l()}finally{Me(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:i},s}function bd(i,s,l,u){return i.baseState=l,Ql(i,Le,typeof u=="function"?u:Oa)}function wd(i,s,l,u,g){if(Td(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){v.listeners.push(I)}};rt.T!==null?l(!0):v.isTransition=!1,u(v),l=s.pending,l===null?(v.next=s.pending=v,Ad(s,v)):(v.next=l.next,s.pending=l.next=v)}}function Ad(i,s){var l=s.action,u=s.payload,g=i.state;if(s.isTransition){var v=rt.T,I={};rt.T=I;try{var H=l(g,u),lt=rt.S;lt!==null&&lt(I,H),ef(i,s,H)}catch(Ct){gl(i,s,Ct)}finally{v!==null&&I.types!==null&&(v.types=I.types),rt.T=v}}else try{v=l(g,u),ef(i,s,v)}catch(Ct){gl(i,s,Ct)}}function ef(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Ed(i,s,u)},function(u){return gl(i,s,u)}):Ed(i,s,l)}function Ed(i,s,l){s.status="fulfilled",s.value=l,zc(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Ad(i,l)))}function gl(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,zc(s),s=s.next;while(s!==u)}i.action=null}function zc(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function $u(i,s){return s}function Da(i,s){if(dn){var l=li.formState;if(l!==null){t:{var u=Ce;if(dn){if(ai){e:{for(var g=ai,v=wi;g.nodeType!==8;){if(!v){g=null;break e}if(g=Pa(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){ai=Pa(g.nextSibling),u=g.data==="F!";break t}}Ro(u)}u=!1}u&&(s=l[0])}}return l=rr(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:s},l.queue=u,l=F2.bind(null,Ce,u),u.dispatch=l,u=Vo(!1),v=Km.bind(null,Ce,!1,u.queue),u=rr(),g={state:s,dispatch:null,action:i,pending:null},u.queue=g,l=wd.bind(null,Ce,g,v,l),g.dispatch=l,u.memoizedState=i,[s,l,!1]}function ro(i){var s=Ei();return so(s,Le,i)}function so(i,s,l){if(s=Ql(i,s,$u)[0],i=Bc(Oa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Uo(s)}catch(I){throw I===dt?Z:I}else u=s;s=Ei();var g=s.queue,v=g.dispatch;return l!==s.memoizedState&&(Ce.flags|=2048,yl(9,{destroy:void 0},Hc.bind(null,g,l),null)),[u,v,i]}function Hc(i,s){i.action=s}function Gc(i){var s=Ei(),l=Le;if(l!==null)return so(s,l,i);Ei(),s=s.memoizedState,l=Ei();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function yl(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=Qu(),Ce.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function Sd(){return Ei().memoizedState}function $l(i,s,l,u){var g=rr();Ce.flags|=i,g.memoizedState=yl(1|s,{destroy:void 0},l,u===void 0?null:u)}function Jl(i,s,l,u){var g=Ei();u=u===void 0?null:u;var v=g.memoizedState.inst;Le!==null&&u!==null&&Wh(u,Le.memoizedState.deps)?g.memoizedState=yl(s,v,l,u):(Ce.flags|=i,g.memoizedState=yl(1|s,v,l,u))}function x2(i,s){$l(8390656,8,i,s)}function qm(i,s){Jl(2048,8,i,s)}function FA(i){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=Qu(),Ce.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function I2(i){var s=Ei().memoizedState;return FA({ref:s,nextImpl:i}),function(){if((Bn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function C2(i,s){return Jl(4,2,i,s)}function R2(i,s){return Jl(4,4,i,s)}function L2(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function k2(i,s,l){l=l!=null?l.concat([i]):null,Jl(4,4,L2.bind(null,s,i),l)}function zm(){}function O2(i,s){var l=Ei();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Wh(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function D2(i,s){var l=Ei();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Wh(s,u[1]))return u[0];if(u=i(),$r){Me(!0);try{i()}finally{Me(!1)}}return l.memoizedState=[u,s],u}function Hm(i,s,l){return l===void 0||(Ai&1073741824)!==0&&(yn&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=P5(),Ce.lanes|=i,eu|=i,l)}function P2(i,s,l,u){return yr(l,s)?l:un.current!==null?(i=Hm(i,l,u),yr(i,s)||(sr=!0),i):(Ai&42)===0||(Ai&1073741824)!==0&&(yn&261930)===0?(sr=!0,i.memoizedState=l):(i=P5(),Ce.lanes|=i,eu|=i,s)}function M2(i,s,l,u,g){var v=ft.p;ft.p=v!==0&&8>v?v:8;var I=rt.T,H={};rt.T=H,Km(i,!1,s,l);try{var lt=g(),Ct=rt.S;if(Ct!==null&&Ct(H,lt),lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var Vt=M(lt,u);nf(i,s,Vt,da(i))}else nf(i,s,u,da(i))}catch(Ht){nf(i,s,{then:function(){},status:"rejected",reason:Ht},da())}finally{ft.p=v,I!==null&&H.types!==null&&(I.types=H.types),rt.T=I}}function qA(){}function Gm(i,s,l,u){if(i.tag!==5)throw Error(r(476));var g=U2(i).queue;M2(i,g,s,ht,l===null?qA:function(){return V2(i),l(u)})}function U2(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:ht},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function V2(i){var s=U2(i);s.next===null&&(s=i.alternate.memoizedState),nf(i,s.next.queue,{},da())}function Ym(){return wr(bf)}function j2(){return Ei().memoizedState}function B2(){return Ei().memoizedState}function zA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=da();i=Ue(l);var u=rn(s,i,l);u!==null&&(Qs(u,s,l),Vn(u,s,l)),s={cache:Wl()},i.payload=s;return}s=s.return}}function HA(i,s,l){var u=da();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Td(i)?q2(s,l):(l=Nc(i,s,l,u),l!==null&&(Qs(l,i,u),z2(l,s,u)))}function F2(i,s,l){var u=da();nf(i,s,l,u)}function nf(i,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Td(i))q2(s,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var I=s.lastRenderedState,H=v(I,l);if(g.hasEagerState=!0,g.eagerState=H,yr(H,I))return zu(i,s,g,0),li===null&&qu(),!1}catch{}finally{}if(l=Nc(i,s,g,u),l!==null)return Qs(l,i,u),z2(l,s,u),!0}return!1}function Km(i,s,l,u){if(u={lane:2,revertLane:T1(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Td(i)){if(s)throw Error(r(479))}else s=Nc(i,l,u,2),s!==null&&Qs(s,i,2)}function Td(i){var s=i.alternate;return i===Ce||s!==null&&s===Ce}function q2(i,s){Gs=us=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function z2(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,Tr(i,l)}}var rf={readContext:wr,use:Xl,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useLayoutEffect:ni,useInsertionEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useSyncExternalStore:ni,useId:ni,useHostTransitionStatus:ni,useFormState:ni,useActionState:ni,useOptimistic:ni,useMemoCache:ni,useCacheRefresh:ni};rf.useEffectEvent=ni;var H2={readContext:wr,use:Xl,useCallback:function(i,s){return rr().memoizedState=[i,s===void 0?null:s],i},useContext:wr,useEffect:x2,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,$l(4194308,4,L2.bind(null,s,i),l)},useLayoutEffect:function(i,s){return $l(4194308,4,i,s)},useInsertionEffect:function(i,s){$l(4,2,i,s)},useMemo:function(i,s){var l=rr();s=s===void 0?null:s;var u=i();if($r){Me(!0);try{i()}finally{Me(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=rr();if(l!==void 0){var g=l(s);if($r){Me(!0);try{l(s)}finally{Me(!1)}}}else g=s;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=HA.bind(null,Ce,i),[u.memoizedState,i]},useRef:function(i){var s=rr();return i={current:i},s.memoizedState=i},useState:function(i){i=Vo(i);var s=i.queue,l=F2.bind(null,Ce,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:zm,useDeferredValue:function(i,s){var l=rr();return Hm(l,i,s)},useTransition:function(){var i=Vo(!1);return i=M2.bind(null,Ce,i.queue,!0,!1),rr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Ce,g=rr();if(dn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),li===null)throw Error(r(349));(yn&127)!==0||io(u,s,l)}g.memoizedState=l;var v={value:l,getSnapshot:s};return g.queue=v,x2(Zh.bind(null,u,v,i),[i]),u.flags|=2048,yl(9,{destroy:void 0},Jh.bind(null,u,v,l,s),null),l},useId:function(){var i=rr(),s=li.identifierPrefix;if(dn){var l=zs,u=qs;l=(u&~(1<<32-We(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Bi++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Uc++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Ym,useFormState:Da,useActionState:Da,useOptimistic:function(i){var s=rr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Km.bind(null,Ce,!0,l),l.dispatch=s,[i,s]},useMemoCache:ml,useCacheRefresh:function(){return rr().memoizedState=zA.bind(null,Ce)},useEffectEvent:function(i){var s=rr(),l={impl:i};return s.memoizedState=l,function(){if((Bn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Wm={readContext:wr,use:Xl,useCallback:O2,useContext:wr,useEffect:qm,useImperativeHandle:k2,useInsertionEffect:C2,useLayoutEffect:R2,useMemo:D2,useReducer:Bc,useRef:Sd,useState:function(){return Bc(Oa)},useDebugValue:zm,useDeferredValue:function(i,s){var l=Ei();return P2(l,Le.memoizedState,i,s)},useTransition:function(){var i=Bc(Oa)[0],s=Ei().memoizedState;return[typeof i=="boolean"?i:Uo(i),s]},useSyncExternalStore:qc,useId:j2,useHostTransitionStatus:Ym,useFormState:ro,useActionState:ro,useOptimistic:function(i,s){var l=Ei();return bd(l,Le,i,s)},useMemoCache:ml,useCacheRefresh:B2};Wm.useEffectEvent=I2;var G2={readContext:wr,use:Xl,useCallback:O2,useContext:wr,useEffect:qm,useImperativeHandle:k2,useInsertionEffect:C2,useLayoutEffect:R2,useMemo:D2,useReducer:Fc,useRef:Sd,useState:function(){return Fc(Oa)},useDebugValue:zm,useDeferredValue:function(i,s){var l=Ei();return Le===null?Hm(l,i,s):P2(l,Le.memoizedState,i,s)},useTransition:function(){var i=Fc(Oa)[0],s=Ei().memoizedState;return[typeof i=="boolean"?i:Uo(i),s]},useSyncExternalStore:qc,useId:j2,useHostTransitionStatus:Ym,useFormState:Gc,useActionState:Gc,useOptimistic:function(i,s){var l=Ei();return Le!==null?bd(l,Le,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:ml,useCacheRefresh:B2};G2.useEffectEvent=I2;function Xm(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:E({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Qm={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=da(),g=Ue(u);g.payload=s,l!=null&&(g.callback=l),s=rn(i,g,u),s!==null&&(Qs(s,i,u),Vn(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=da(),g=Ue(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=rn(i,g,u),s!==null&&(Qs(s,i,u),Vn(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=da(),u=Ue(l);u.tag=2,s!=null&&(u.callback=s),s=rn(i,u,l),s!==null&&(Qs(s,i,l),Vn(s,i,l))}};function Y2(i,s,l,u,g,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,I):s.prototype&&s.prototype.isPureReactComponent?!Qa(l,u)||!Qa(g,v):!0}function K2(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Qm.enqueueReplaceState(s,s.state,null)}function Ju(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=E({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function W2(i){Fu(i)}function X2(i){console.error(i)}function Q2(i){Fu(i)}function Nd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function $2(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function $m(i,s,l){return l=Ue(l),l.tag=3,l.payload={element:null},l.callback=function(){Nd(i,s)},l}function J2(i){return i=Ue(i),i.tag=3,i}function Z2(i,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;i.payload=function(){return g(v)},i.callback=function(){$2(s,l,u)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){$2(s,l,u),typeof g!="function"&&(nu===null?nu=new Set([this]):nu.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})})}function GA(i,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Oo(s,l,g,!0),l=mi.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Vd():l.alternate===null&&Fi===0&&(Fi=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===gt?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),A1(i,u,g)),!1;case 22:return l.flags|=65536,u===gt?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),A1(i,u,g)),!1}throw Error(r(435,l.tag))}return A1(i,u,g),Vd(),!1}if(dn)return s=mi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==ca&&(i=Error(r(422),{cause:u}),Yl(js(i,l)))):(u!==ca&&(s=Error(r(423),{cause:u}),Yl(js(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=js(u,l),g=$m(i.stateNode,u,g),Ki(i,g),Fi!==4&&(Fi=2)),!1;var v=Error(r(520),{cause:u});if(v=js(v,l),ff===null?ff=[v]:ff.push(v),Fi!==4&&(Fi=2),s===null)return!0;u=js(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=$m(l.stateNode,u,i),Ki(l,i),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(nu===null||!nu.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=J2(g),Z2(g,i,l,u),Ki(l,g),!1}l=l.return}while(l!==null);return!1}var Jm=Error(r(461)),sr=!1;function Jr(i,s,l,u){s.child=i===null?Ze(s,null,l,u):oi(s,i.child,l,u)}function t5(i,s,l,u,g){l=l.render;var v=s.ref;if("ref"in u){var I={};for(var H in u)H!=="ref"&&(I[H]=u[H])}else I=u;return Do(s),u=Xh(i,s,l,I,v,g),H=Qh(),i!==null&&!sr?($h(i,s,g),vl(i,s,g)):(dn&&H&&Gh(s),s.flags|=1,Jr(i,s,u,g),s.child)}function e5(i,s,l,u,g){if(i===null){var v=l.type;return typeof v=="function"&&!Ic(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,n5(i,s,v,u,g)):(i=zl(l.type,null,u,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!a1(i,g)){var I=v.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(I,u)&&i.ref===s.ref)return vl(i,s,g)}return s.flags|=1,i=Vs(v,u),i.ref=s.ref,i.return=s,s.child=i}function n5(i,s,l,u,g){if(i!==null){var v=i.memoizedProps;if(Qa(v,u)&&i.ref===s.ref)if(sr=!1,s.pendingProps=u=v,a1(i,g))(i.flags&131072)!==0&&(sr=!0);else return s.lanes=i.lanes,vl(i,s,g)}return Zm(i,s,l,u,g)}function i5(i,s,l,u){var g=u.children,v=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(u=s.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~v}else u=0,s.child=null;return r5(i,s,v,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&X(s,v!==null?v.cachePool:null),v!==null?pi(s,v):Rn(),Vi(s);else return u=s.lanes=536870912,r5(i,s,v!==null?v.baseLanes|l:l,l,u)}else v!==null?(X(s,v.cachePool),pi(s,v),ji(),s.memoizedState=null):(i!==null&&X(s,null),Rn(),ji());return Jr(i,s,g,l),s.child}function sf(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function r5(i,s,l,u,g){var v=K();return v=v===null?null:{parent:Ri._currentValue,pool:v},s.memoizedState={baseLanes:l,cachePool:v},i!==null&&X(s,null),Rn(),Vi(s),i!==null&&Oo(i,s,u,!0),s.childLanes=g,null}function xd(i,s){return s=Cd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function s5(i,s,l){return oi(s,i.child,null,l),i=xd(s,s.pendingProps),i.flags|=2,Yn(s),s.memoizedState=null,i}function YA(i,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(dn){if(u.mode==="hidden")return i=xd(s,u),s.lanes=536870912,sf(null,i);if(jn(s),(i=ai)?(i=yy(i,wi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Co!==null?{id:qs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},l=Cc(i),l.return=s,s.child=l,_r=s,ai=null)):i=null,i===null)throw Ro(s);return s.lanes=536870912,null}return xd(s,u)}var v=i.memoizedState;if(v!==null){var I=v.dehydrated;if(jn(s),g)if(s.flags&256)s.flags&=-257,s=s5(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(sr||Oo(i,s,l,!1),g=(l&i.childLanes)!==0,sr||g){if(u=li,u!==null&&(I=Nr(u,l),I!==0&&I!==v.retryLane))throw v.retryLane=I,to(i,I),Qs(u,i,I),Jm;Vd(),s=s5(i,s,l)}else i=v.treeContext,ai=Pa(I.nextSibling),_r=s,dn=!0,Qr=null,wi=!1,i!==null&&yd(s,i),s=xd(s,u),s.flags|=4096;return s}return i=Vs(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Id(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Zm(i,s,l,u,g){return Do(s),l=Xh(i,s,l,u,void 0,g),u=Qh(),i!==null&&!sr?($h(i,s,g),vl(i,s,g)):(dn&&u&&Gh(s),s.flags|=1,Jr(i,s,l,g),s.child)}function a5(i,s,l,u,g,v){return Do(s),s.updateQueue=null,l=no(s,u,l,g),Vc(i),u=Qh(),i!==null&&!sr?($h(i,s,v),vl(i,s,v)):(dn&&u&&Gh(s),s.flags|=1,Jr(i,s,l,v),s.child)}function o5(i,s,l,u,g){if(Do(s),s.stateNode===null){var v=vr,I=l.contextType;typeof I=="object"&&I!==null&&(v=wr(I)),v=new l(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qm,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},Jt(s),I=l.contextType,v.context=typeof I=="object"&&I!==null?wr(I):vr,v.state=s.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(Xm(s,l,I,u),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(I=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),I!==v.state&&Qm.enqueueReplaceState(v,v.state,null),Mi(s,u,v,g),ei(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){v=s.stateNode;var H=s.memoizedProps,lt=Ju(l,H);v.props=lt;var Ct=v.context,Vt=l.contextType;I=vr,typeof Vt=="object"&&Vt!==null&&(I=wr(Vt));var Ht=l.getDerivedStateFromProps;Vt=typeof Ht=="function"||typeof v.getSnapshotBeforeUpdate=="function",H=s.pendingProps!==H,Vt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(H||Ct!==I)&&K2(s,v,u,I),se=!1;var Ot=s.memoizedState;v.state=Ot,Mi(s,u,v,g),ei(),Ct=s.memoizedState,H||Ot!==Ct||se?(typeof Ht=="function"&&(Xm(s,l,Ht,u),Ct=s.memoizedState),(lt=se||Y2(s,l,lt,u,Ot,Ct,I))?(Vt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Ct),v.props=u,v.state=Ct,v.context=I,u=lt):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,di(i,s),I=s.memoizedProps,Vt=Ju(l,I),v.props=Vt,Ht=s.pendingProps,Ot=v.context,Ct=l.contextType,lt=vr,typeof Ct=="object"&&Ct!==null&&(lt=wr(Ct)),H=l.getDerivedStateFromProps,(Ct=typeof H=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==Ht||Ot!==lt)&&K2(s,v,u,lt),se=!1,Ot=s.memoizedState,v.state=Ot,Mi(s,u,v,g),ei();var Dt=s.memoizedState;I!==Ht||Ot!==Dt||se||i!==null&&i.dependencies!==null&&Dc(i.dependencies)?(typeof H=="function"&&(Xm(s,l,H,u),Dt=s.memoizedState),(Vt=se||Y2(s,l,Vt,u,Ot,Dt,lt)||i!==null&&i.dependencies!==null&&Dc(i.dependencies))?(Ct||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,Dt,lt),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,Dt,lt)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===i.memoizedProps&&Ot===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Ot===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Dt),v.props=u,v.state=Dt,v.context=lt,u=Vt):(typeof v.componentDidUpdate!="function"||I===i.memoizedProps&&Ot===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Ot===i.memoizedState||(s.flags|=1024),u=!1)}return v=u,Id(i,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&u?(s.child=oi(s,i.child,null,g),s.child=oi(s,null,l,g)):Jr(i,s,l,g),s.memoizedState=v.state,i=s.child):i=vl(i,s,g),i}function l5(i,s,l,u){return dl(),s.flags|=256,Jr(i,s,l,u),s.child}var t1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e1(i){return{baseLanes:i,cachePool:et()}}function n1(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=fa),i}function u5(i,s,l){var u=s.pendingProps,g=!1,v=(s.flags&128)!==0,I;if((I=v)||(I=i!==null&&i.memoizedState===null?!1:(En.current&2)!==0),I&&(g=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,i===null){if(dn){if(g?Li(s):ji(),(i=ai)?(i=yy(i,wi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Co!==null?{id:qs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},l=Cc(i),l.return=s,s.child=l,_r=s,ai=null)):i=null,i===null)throw Ro(s);return V1(i)?s.lanes=32:s.lanes=536870912,null}var H=u.children;return u=u.fallback,g?(ji(),g=s.mode,H=Cd({mode:"hidden",children:H},g),u=Io(u,g,l,null),H.return=s,u.return=s,H.sibling=u,s.child=H,u=s.child,u.memoizedState=e1(l),u.childLanes=n1(i,I,l),s.memoizedState=t1,sf(null,u)):(Li(s),i1(s,H))}var lt=i.memoizedState;if(lt!==null&&(H=lt.dehydrated,H!==null)){if(v)s.flags&256?(Li(s),s.flags&=-257,s=r1(i,s,l)):s.memoizedState!==null?(ji(),s.child=i.child,s.flags|=128,s=null):(ji(),H=u.fallback,g=s.mode,u=Cd({mode:"visible",children:u.children},g),H=Io(H,g,l,null),H.flags|=2,u.return=s,H.return=s,u.sibling=H,s.child=u,oi(s,i.child,null,l),u=s.child,u.memoizedState=e1(l),u.childLanes=n1(i,I,l),s.memoizedState=t1,s=sf(null,u));else if(Li(s),V1(H)){if(I=H.nextSibling&&H.nextSibling.dataset,I)var Ct=I.dgst;I=Ct,u=Error(r(419)),u.stack="",u.digest=I,Yl({value:u,source:null,stack:null}),s=r1(i,s,l)}else if(sr||Oo(i,s,l,!1),I=(l&i.childLanes)!==0,sr||I){if(I=li,I!==null&&(u=Nr(I,l),u!==0&&u!==lt.retryLane))throw lt.retryLane=u,to(i,u),Qs(I,i,u),Jm;U1(H)||Vd(),s=r1(i,s,l)}else U1(H)?(s.flags|=192,s.child=i.child,s=null):(i=lt.treeContext,ai=Pa(H.nextSibling),_r=s,dn=!0,Qr=null,wi=!1,i!==null&&yd(s,i),s=i1(s,u.children),s.flags|=4096);return s}return g?(ji(),H=u.fallback,g=s.mode,lt=i.child,Ct=lt.sibling,u=Vs(lt,{mode:"hidden",children:u.children}),u.subtreeFlags=lt.subtreeFlags&65011712,Ct!==null?H=Vs(Ct,H):(H=Io(H,g,l,null),H.flags|=2),H.return=s,u.return=s,u.sibling=H,s.child=u,sf(null,u),u=s.child,H=i.child.memoizedState,H===null?H=e1(l):(g=H.cachePool,g!==null?(lt=Ri._currentValue,g=g.parent!==lt?{parent:lt,pool:lt}:g):g=et(),H={baseLanes:H.baseLanes|l,cachePool:g}),u.memoizedState=H,u.childLanes=n1(i,I,l),s.memoizedState=t1,sf(i.child,u)):(Li(s),l=i.child,i=l.sibling,l=Vs(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(I=s.deletions,I===null?(s.deletions=[i],s.flags|=16):I.push(i)),s.child=l,s.memoizedState=null,l)}function i1(i,s){return s=Cd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Cd(i,s){return i=Dr(22,i,null,s),i.lanes=0,i}function r1(i,s,l){return oi(s,i.child,null,l),i=i1(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function c5(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Kl(i.return,s,l)}function s1(i,s,l,u,g,v){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:v}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=u,I.tail=l,I.tailMode=g,I.treeForkCount=v)}function h5(i,s,l){var u=s.pendingProps,g=u.revealOrder,v=u.tail;u=u.children;var I=En.current,H=(I&2)!==0;if(H?(I=I&1|2,s.flags|=128):I&=1,Y(En,I),Jr(i,s,u,l),u=dn?Ku:0,!H&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&c5(i,l,s);else if(i.tag===19)c5(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&Mr(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),s1(s,!1,g,l,v,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Mr(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}s1(s,!0,l,null,v,u);break;case"together":s1(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function vl(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),eu|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Oo(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Vs(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Vs(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function a1(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Dc(i)))}function KA(i,s,l){switch(s.tag){case 3:kt(s,s.stateNode.containerInfo),ko(s,Ri,i.memoizedState.cache),dl();break;case 27:case 5:jt(s);break;case 4:kt(s,s.stateNode.containerInfo);break;case 10:ko(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,jn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Li(s),s.flags|=128,null):(l&s.child.childLanes)!==0?u5(i,s,l):(Li(s),i=vl(i,s,l),i!==null?i.sibling:null);Li(s);break;case 19:var g=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Oo(i,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return h5(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Y(En,En.current),u)break;return null;case 22:return s.lanes=0,i5(i,s,l,s.pendingProps);case 24:ko(s,Ri,i.memoizedState.cache)}return vl(i,s,l)}function f5(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)sr=!0;else{if(!a1(i,l)&&(s.flags&128)===0)return sr=!1,KA(i,s,l);sr=(i.flags&131072)!==0}else sr=!1,dn&&(s.flags&1048576)!==0&&gd(s,Ku,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(i=St(s.elementType),s.type=i,typeof i=="function")Ic(i)?(u=Ju(i,u),s.tag=1,s=o5(null,s,i,u,l)):(s.tag=0,s=Zm(null,s,i,u,l));else{if(i!=null){var g=i.$$typeof;if(g===nt){s.tag=11,s=t5(null,s,i,u,l);break t}else if(g===z){s.tag=14,s=e5(null,s,i,u,l);break t}}throw s=st(i)||i,Error(r(306,s,""))}}return s;case 0:return Zm(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Ju(u,s.pendingProps),o5(i,s,u,g,l);case 3:t:{if(kt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var v=s.memoizedState;g=v.element,di(i,s),Mi(s,u,null,l);var I=s.memoizedState;if(u=I.cache,ko(s,Ri,u),u!==v.cache&&pl(s,[Ri],l,!0),ei(),u=I.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=l5(i,s,u,l);break t}else if(u!==g){g=js(Error(r(424)),s),Yl(g),s=l5(i,s,u,l);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ai=Pa(i.firstChild),_r=s,dn=!0,Qr=null,wi=!0,l=Ze(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(dl(),u===g){s=vl(i,s,l);break t}Jr(i,s,u,l)}s=s.child}return s;case 26:return Id(i,s),i===null?(l=Ey(s.type,null,s.pendingProps,null))?s.memoizedState=l:dn||(l=s.type,i=s.pendingProps,u=Gd(ut.current).createElement(l),u[kn]=s,u[Hn]=i,Zr(u,l,i),fi(u),s.stateNode=u):s.memoizedState=Ey(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return jt(s),i===null&&dn&&(u=s.stateNode=by(s.type,s.pendingProps,ut.current),_r=s,wi=!0,g=ai,au(s.type)?(j1=g,ai=Pa(u.firstChild)):ai=g),Jr(i,s,s.pendingProps.children,l),Id(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&dn&&((g=u=ai)&&(u=EE(u,s.type,s.pendingProps,wi),u!==null?(s.stateNode=u,_r=s,ai=Pa(u.firstChild),wi=!1,g=!0):g=!1),g||Ro(s)),jt(s),g=s.type,v=s.pendingProps,I=i!==null?i.memoizedProps:null,u=v.children,D1(g,v)?u=null:I!==null&&D1(g,I)&&(s.flags|=32),s.memoizedState!==null&&(g=Xh(i,s,Fm,null,null,l),bf._currentValue=g),Id(i,s),Jr(i,s,u,l),s.child;case 6:return i===null&&dn&&((i=l=ai)&&(l=SE(l,s.pendingProps,wi),l!==null?(s.stateNode=l,_r=s,ai=null,i=!0):i=!1),i||Ro(s)),null;case 13:return u5(i,s,l);case 4:return kt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=oi(s,null,u,l):Jr(i,s,u,l),s.child;case 11:return t5(i,s,s.type,s.pendingProps,l);case 7:return Jr(i,s,s.pendingProps,l),s.child;case 8:return Jr(i,s,s.pendingProps.children,l),s.child;case 12:return Jr(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,ko(s,s.type,u.value),Jr(i,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Do(s),g=wr(g),u=u(g),s.flags|=1,Jr(i,s,u,l),s.child;case 14:return e5(i,s,s.type,s.pendingProps,l);case 15:return n5(i,s,s.type,s.pendingProps,l);case 19:return h5(i,s,l);case 31:return YA(i,s,l);case 22:return i5(i,s,l,s.pendingProps);case 24:return Do(s),u=wr(Ri),i===null?(g=K(),g===null&&(g=li,v=Wl(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),s.memoizedState={parent:u,cache:g},Jt(s),ko(s,Ri,g)):((i.lanes&l)!==0&&(di(i,s),Mi(s,null,null,l),ei()),g=i.memoizedState,v=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),ko(s,Ri,u)):(u=v.cache,ko(s,Ri,u),u!==g.cache&&pl(s,[Ri],l,!0))),Jr(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function _l(i){i.flags|=4}function o1(i,s,l,u,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(j5())i.flags|=8192;else throw Pt=gt,Nt}else i.flags&=-16777217}function d5(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Iy(s))if(j5())i.flags|=8192;else throw Pt=gt,Nt}function Rd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Rs():536870912,i.lanes|=s,Xc|=s)}function af(i,s){if(!dn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function gi(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function WA(i,s,l){var u=s.pendingProps;switch(kc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(s),null;case 1:return gi(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Hs(Ri),Rt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(br(s)?_l(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kh())),gi(s),null;case 26:var g=s.type,v=s.memoizedState;return i===null?(_l(s),v!==null?(gi(s),d5(s,v)):(gi(s),o1(s,g,null,u,l))):v?v!==i.memoizedState?(_l(s),gi(s),d5(s,v)):(gi(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&_l(s),gi(s),o1(s,g,i,u,l)),null;case 27:if(Qt(s),l=ut.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_l(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gi(s),null}i=$.current,br(s)?Yh(s):(i=by(g,u,l),s.stateNode=i,_l(s))}return gi(s),null;case 5:if(Qt(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_l(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gi(s),null}if(v=$.current,br(s))Yh(s);else{var I=Gd(ut.current);switch(v){case 1:v=I.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=I.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=I.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?I.createElement("select",{is:u.is}):I.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?I.createElement(g,{is:u.is}):I.createElement(g)}}v[kn]=s,v[Hn]=u;t:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)v.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break t;for(;I.sibling===null;){if(I.return===null||I.return===s)break t;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=v;t:switch(Zr(v,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&_l(s)}}return gi(s),o1(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&_l(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ut.current,br(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,g=_r,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[kn]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||uy(i.nodeValue,l)),i||Ro(s,!0)}else i=Gd(i).createTextNode(u),i[kn]=s,s.stateNode=i}return gi(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(u=br(s),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[kn]=s}else dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gi(s),i=!1}else l=Kh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Yn(s),s):(Yn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gi(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=br(s),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[kn]=s}else dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gi(s),g=!1}else g=Kh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Yn(s),s):(Yn(s),null)}return Yn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Rd(s,s.updateQueue),gi(s),null);case 4:return Rt(),i===null&&C1(s.stateNode.containerInfo),gi(s),null;case 10:return Hs(s.type),gi(s),null;case 19:if(O(En),u=s.memoizedState,u===null)return gi(s),null;if(g=(s.flags&128)!==0,v=u.rendering,v===null)if(g)af(u,!1);else{if(Fi!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=Mr(i),v!==null){for(s.flags|=128,af(u,!1),i=v.updateQueue,s.updateQueue=i,Rd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Gu(l,i),l=l.sibling;return Y(En,En.current&1|2),dn&&Is(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Ke()>Pd&&(s.flags|=128,g=!0,af(u,!1),s.lanes=4194304)}else{if(!g)if(i=Mr(v),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,Rd(s,i),af(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!dn)return gi(s),null}else 2*Ke()-u.renderingStartTime>Pd&&l!==536870912&&(s.flags|=128,g=!0,af(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(i=u.last,i!==null?i.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ke(),i.sibling=null,l=En.current,Y(En,g?l&1|2:l&1),dn&&Is(s,u.treeForkCount),i):(gi(s),null);case 22:case 23:return Yn(s),Wi(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(gi(s),s.subtreeFlags&6&&(s.flags|=8192)):gi(s),l=s.updateQueue,l!==null&&Rd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&O(F),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Hs(Ri),gi(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function XA(i,s){switch(kc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Hs(Ri),Rt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Qt(s),null;case 31:if(s.memoizedState!==null){if(Yn(s),s.alternate===null)throw Error(r(340));dl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Yn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));dl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return O(En),null;case 4:return Rt(),null;case 10:return Hs(s.type),null;case 22:case 23:return Yn(s),Wi(),i!==null&&O(F),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Hs(Ri),null;case 25:return null;default:return null}}function p5(i,s){switch(kc(s),s.tag){case 3:Hs(Ri),Rt();break;case 26:case 27:case 5:Qt(s);break;case 4:Rt();break;case 31:s.memoizedState!==null&&Yn(s);break;case 13:Yn(s);break;case 19:O(En);break;case 10:Hs(s.type);break;case 22:case 23:Yn(s),Wi(),i!==null&&O(F);break;case 24:Hs(Ri)}}function of(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&i)===i){u=void 0;var v=l.create,I=l.inst;u=v(),I.destroy=u}l=l.next}while(l!==g)}}catch(H){Wn(s,s.return,H)}}function Zl(i,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&i)===i){var I=u.inst,H=I.destroy;if(H!==void 0){I.destroy=void 0,g=s;var lt=l,Ct=H;try{Ct()}catch(Vt){Wn(g,lt,Vt)}}}u=u.next}while(u!==v)}}catch(Vt){Wn(s,s.return,Vt)}}function m5(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Ui(s,l)}catch(u){Wn(i,i.return,u)}}}function g5(i,s,l){l.props=Ju(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Wn(i,s,u)}}function lf(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(g){Wn(i,s,g)}}function jo(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Wn(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Wn(i,s,g)}else l.current=null}function y5(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Wn(i,i.return,g)}}function l1(i,s,l){try{var u=i.stateNode;yE(u,i.type,l,s),u[Hn]=s}catch(g){Wn(i,i.return,g)}}function v5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&au(i.type)||i.tag===4}function u1(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||v5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&au(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function c1(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ws));else if(u!==4&&(u===27&&au(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(c1(i,s,l),i=i.sibling;i!==null;)c1(i,s,l),i=i.sibling}function Ld(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&au(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ld(i,s,l),i=i.sibling;i!==null;)Ld(i,s,l),i=i.sibling}function _5(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Zr(s,u,l),s[kn]=i,s[Hn]=l}catch(v){Wn(i,i.return,v)}}var bl=!1,ar=!1,h1=!1,b5=typeof WeakSet=="function"?WeakSet:Set,Ur=null;function QA(i,s){if(i=i.containerInfo,k1=Jd,i=Ja(i),Ra(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break t}var I=0,H=-1,lt=-1,Ct=0,Vt=0,Ht=i,Ot=null;e:for(;;){for(var Dt;Ht!==l||g!==0&&Ht.nodeType!==3||(H=I+g),Ht!==v||u!==0&&Ht.nodeType!==3||(lt=I+u),Ht.nodeType===3&&(I+=Ht.nodeValue.length),(Dt=Ht.firstChild)!==null;)Ot=Ht,Ht=Dt;for(;;){if(Ht===i)break e;if(Ot===l&&++Ct===g&&(H=I),Ot===v&&++Vt===u&&(lt=I),(Dt=Ht.nextSibling)!==null)break;Ht=Ot,Ot=Ht.parentNode}Ht=Dt}l=H===-1||lt===-1?null:{start:H,end:lt}}else l=null}l=l||{start:0,end:0}}else l=null;for(O1={focusedElem:i,selectionRange:l},Jd=!1,Ur=s;Ur!==null;)if(s=Ur,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ur=i;else for(;Ur!==null;){switch(s=Ur,v=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=s,g=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var he=Ju(l.type,g);i=u.getSnapshotBeforeUpdate(he,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){Wn(l,l.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)M1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":M1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ur=i;break}Ur=s.return}}function w5(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Al(i,l),u&4&&of(5,l);break;case 1:if(Al(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(I){Wn(l,l.return,I)}else{var g=Ju(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Wn(l,l.return,I)}}u&64&&m5(l),u&512&&lf(l,l.return);break;case 3:if(Al(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ui(i,s)}catch(I){Wn(l,l.return,I)}}break;case 27:s===null&&u&4&&_5(l);case 26:case 5:Al(i,l),s===null&&u&4&&y5(l),u&512&&lf(l,l.return);break;case 12:Al(i,l);break;case 31:Al(i,l),u&4&&S5(i,l);break;case 13:Al(i,l),u&4&&T5(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=sE.bind(null,l),TE(i,l))));break;case 22:if(u=l.memoizedState!==null||bl,!u){s=s!==null&&s.memoizedState!==null||ar,g=bl;var v=ar;bl=u,(ar=s)&&!v?El(i,l,(l.subtreeFlags&8772)!==0):Al(i,l),bl=g,ar=v}break;case 30:break;default:Al(i,l)}}function A5(i){var s=i.alternate;s!==null&&(i.alternate=null,A5(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ea(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Si=null,Ys=!1;function wl(i,s,l){for(l=l.child;l!==null;)E5(i,s,l),l=l.sibling}function E5(i,s,l){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Qe,l)}catch{}switch(l.tag){case 26:ar||jo(l,s),wl(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ar||jo(l,s);var u=Si,g=Ys;au(l.type)&&(Si=l.stateNode,Ys=!1),wl(i,s,l),yf(l.stateNode),Si=u,Ys=g;break;case 5:ar||jo(l,s);case 6:if(u=Si,g=Ys,Si=null,wl(i,s,l),Si=u,Ys=g,Si!==null)if(Ys)try{(Si.nodeType===9?Si.body:Si.nodeName==="HTML"?Si.ownerDocument.body:Si).removeChild(l.stateNode)}catch(v){Wn(l,s,v)}else try{Si.removeChild(l.stateNode)}catch(v){Wn(l,s,v)}break;case 18:Si!==null&&(Ys?(i=Si,my(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ih(i)):my(Si,l.stateNode));break;case 4:u=Si,g=Ys,Si=l.stateNode.containerInfo,Ys=!0,wl(i,s,l),Si=u,Ys=g;break;case 0:case 11:case 14:case 15:Zl(2,l,s),ar||Zl(4,l,s),wl(i,s,l);break;case 1:ar||(jo(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&g5(l,s,u)),wl(i,s,l);break;case 21:wl(i,s,l);break;case 22:ar=(u=ar)||l.memoizedState!==null,wl(i,s,l),ar=u;break;default:wl(i,s,l)}}function S5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ih(i)}catch(l){Wn(s,s.return,l)}}}function T5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ih(i)}catch(l){Wn(s,s.return,l)}}function $A(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new b5),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new b5),s;default:throw Error(r(435,i.tag))}}function kd(i,s){var l=$A(i);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=aE.bind(null,i,u);u.then(g,g)}})}function Ks(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],v=i,I=s,H=I;t:for(;H!==null;){switch(H.tag){case 27:if(au(H.type)){Si=H.stateNode,Ys=!1;break t}break;case 5:Si=H.stateNode,Ys=!1;break t;case 3:case 4:Si=H.stateNode.containerInfo,Ys=!0;break t}H=H.return}if(Si===null)throw Error(r(160));E5(v,I,g),Si=null,Ys=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)N5(s,i),s=s.sibling}var ao=null;function N5(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ks(s,i),Ws(i),u&4&&(Zl(3,i,i.return),of(3,i),Zl(5,i,i.return));break;case 1:Ks(s,i),Ws(i),u&512&&(ar||l===null||jo(l,l.return)),u&64&&bl&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=ao;if(Ks(s,i),Ws(i),u&512&&(ar||l===null||jo(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){t:{u=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ir]||v[kn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),Zr(v,u,l),v[kn]=i,fi(v),u=v;break t;case"link":var I=Ny("link","href",g).get(u+(l.href||""));if(I){for(var H=0;H<I.length;H++)if(v=I[H],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(H,1);break e}}v=g.createElement(u),Zr(v,u,l),g.head.appendChild(v);break;case"meta":if(I=Ny("meta","content",g).get(u+(l.content||""))){for(H=0;H<I.length;H++)if(v=I[H],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(H,1);break e}}v=g.createElement(u),Zr(v,u,l),g.head.appendChild(v);break;default:throw Error(r(468,u))}v[kn]=i,fi(v),u=v}i.stateNode=u}else xy(g,i.type,i.stateNode);else i.stateNode=Ty(g,u,i.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?xy(g,i.type,i.stateNode):Ty(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&l1(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ks(s,i),Ws(i),u&512&&(ar||l===null||jo(l,l.return)),l!==null&&u&4&&l1(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ks(s,i),Ws(i),u&512&&(ar||l===null||jo(l,l.return)),i.flags&32){g=i.stateNode;try{Gi(g,"")}catch(he){Wn(i,i.return,he)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,l1(i,g,l!==null?l.memoizedProps:g)),u&1024&&(h1=!0);break;case 6:if(Ks(s,i),Ws(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(he){Wn(i,i.return,he)}}break;case 3:if(Wd=null,g=ao,ao=Yd(s.containerInfo),Ks(s,i),ao=g,Ws(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ih(s.containerInfo)}catch(he){Wn(i,i.return,he)}h1&&(h1=!1,x5(i));break;case 4:u=ao,ao=Yd(i.stateNode.containerInfo),Ks(s,i),Ws(i),ao=u;break;case 12:Ks(s,i),Ws(i);break;case 31:Ks(s,i),Ws(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,kd(i,u)));break;case 13:Ks(s,i),Ws(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Dd=Ke()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,kd(i,u)));break;case 22:g=i.memoizedState!==null;var lt=l!==null&&l.memoizedState!==null,Ct=bl,Vt=ar;if(bl=Ct||g,ar=Vt||lt,Ks(s,i),ar=Vt,bl=Ct,Ws(i),u&8192)t:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||lt||bl||ar||Zu(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){lt=l=s;try{if(v=lt.stateNode,g)I=v.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{H=lt.stateNode;var Ht=lt.memoizedProps.style,Ot=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;H.style.display=Ot==null||typeof Ot=="boolean"?"":(""+Ot).trim()}}catch(he){Wn(lt,lt.return,he)}}}else if(s.tag===6){if(l===null){lt=s;try{lt.stateNode.nodeValue=g?"":lt.memoizedProps}catch(he){Wn(lt,lt.return,he)}}}else if(s.tag===18){if(l===null){lt=s;try{var Dt=lt.stateNode;g?gy(Dt,!0):gy(lt.stateNode,!1)}catch(he){Wn(lt,lt.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,kd(i,l))));break;case 19:Ks(s,i),Ws(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,kd(i,u)));break;case 30:break;case 21:break;default:Ks(s,i),Ws(i)}}function Ws(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(v5(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=u1(i);Ld(i,v,g);break;case 5:var I=l.stateNode;l.flags&32&&(Gi(I,""),l.flags&=-33);var H=u1(i);Ld(i,H,I);break;case 3:case 4:var lt=l.stateNode.containerInfo,Ct=u1(i);c1(i,Ct,lt);break;default:throw Error(r(161))}}catch(Vt){Wn(i,i.return,Vt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function x5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;x5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Al(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)w5(i,s.alternate,s),s=s.sibling}function Zu(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Zl(4,s,s.return),Zu(s);break;case 1:jo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&g5(s,s.return,l),Zu(s);break;case 27:yf(s.stateNode);case 26:case 5:jo(s,s.return),Zu(s);break;case 22:s.memoizedState===null&&Zu(s);break;case 30:Zu(s);break;default:Zu(s)}i=i.sibling}}function El(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=i,v=s,I=v.flags;switch(v.tag){case 0:case 11:case 15:El(g,v,l),of(4,v);break;case 1:if(El(g,v,l),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Ct){Wn(u,u.return,Ct)}if(u=v,g=u.updateQueue,g!==null){var H=u.stateNode;try{var lt=g.shared.hiddenCallbacks;if(lt!==null)for(g.shared.hiddenCallbacks=null,g=0;g<lt.length;g++)Pr(lt[g],H)}catch(Ct){Wn(u,u.return,Ct)}}l&&I&64&&m5(v),lf(v,v.return);break;case 27:_5(v);case 26:case 5:El(g,v,l),l&&u===null&&I&4&&y5(v),lf(v,v.return);break;case 12:El(g,v,l);break;case 31:El(g,v,l),l&&I&4&&S5(g,v);break;case 13:El(g,v,l),l&&I&4&&T5(g,v);break;case 22:v.memoizedState===null&&El(g,v,l),lf(v,v.return);break;case 30:break;default:El(g,v,l)}s=s.sibling}}function f1(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Wu(l))}function d1(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Wu(i))}function oo(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)I5(i,s,l,u),s=s.sibling}function I5(i,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:oo(i,s,l,u),g&2048&&of(9,s);break;case 1:oo(i,s,l,u);break;case 3:oo(i,s,l,u),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Wu(i)));break;case 12:if(g&2048){oo(i,s,l,u),i=s.stateNode;try{var v=s.memoizedProps,I=v.id,H=v.onPostCommit;typeof H=="function"&&H(I,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(lt){Wn(s,s.return,lt)}}else oo(i,s,l,u);break;case 31:oo(i,s,l,u);break;case 13:oo(i,s,l,u);break;case 23:break;case 22:v=s.stateNode,I=s.alternate,s.memoizedState!==null?v._visibility&2?oo(i,s,l,u):uf(i,s):v._visibility&2?oo(i,s,l,u):(v._visibility|=2,Yc(i,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&f1(I,s);break;case 24:oo(i,s,l,u),g&2048&&d1(s.alternate,s);break;default:oo(i,s,l,u)}}function Yc(i,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=i,I=s,H=l,lt=u,Ct=I.flags;switch(I.tag){case 0:case 11:case 15:Yc(v,I,H,lt,g),of(8,I);break;case 23:break;case 22:var Vt=I.stateNode;I.memoizedState!==null?Vt._visibility&2?Yc(v,I,H,lt,g):uf(v,I):(Vt._visibility|=2,Yc(v,I,H,lt,g)),g&&Ct&2048&&f1(I.alternate,I);break;case 24:Yc(v,I,H,lt,g),g&&Ct&2048&&d1(I.alternate,I);break;default:Yc(v,I,H,lt,g)}s=s.sibling}}function uf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,g=u.flags;switch(u.tag){case 22:uf(l,u),g&2048&&f1(u.alternate,u);break;case 24:uf(l,u),g&2048&&d1(u.alternate,u);break;default:uf(l,u)}s=s.sibling}}var cf=8192;function Kc(i,s,l){if(i.subtreeFlags&cf)for(i=i.child;i!==null;)C5(i,s,l),i=i.sibling}function C5(i,s,l){switch(i.tag){case 26:Kc(i,s,l),i.flags&cf&&i.memoizedState!==null&&UE(l,ao,i.memoizedState,i.memoizedProps);break;case 5:Kc(i,s,l);break;case 3:case 4:var u=ao;ao=Yd(i.stateNode.containerInfo),Kc(i,s,l),ao=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=cf,cf=16777216,Kc(i,s,l),cf=u):Kc(i,s,l));break;default:Kc(i,s,l)}}function R5(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function hf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Ur=u,k5(u,i)}R5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)L5(i),i=i.sibling}function L5(i){switch(i.tag){case 0:case 11:case 15:hf(i),i.flags&2048&&Zl(9,i,i.return);break;case 3:hf(i);break;case 12:hf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Od(i)):hf(i);break;default:hf(i)}}function Od(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Ur=u,k5(u,i)}R5(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Zl(8,s,s.return),Od(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Od(s));break;default:Od(s)}i=i.sibling}}function k5(i,s){for(;Ur!==null;){var l=Ur;switch(l.tag){case 0:case 11:case 15:Zl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Wu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ur=u;else t:for(l=i;Ur!==null;){u=Ur;var g=u.sibling,v=u.return;if(A5(u),u===l){Ur=null;break t}if(g!==null){g.return=v,Ur=g;break t}Ur=v}}}var JA={getCacheForType:function(i){var s=wr(Ri),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return wr(Ri).controller.signal}},ZA=typeof WeakMap=="function"?WeakMap:Map,Bn=0,li=null,pn=null,yn=0,Kn=0,ha=null,tu=!1,Wc=!1,p1=!1,Sl=0,Fi=0,eu=0,tc=0,m1=0,fa=0,Xc=0,ff=null,Xs=null,g1=!1,Dd=0,O5=0,Pd=1/0,Md=null,nu=null,Er=0,iu=null,Qc=null,Tl=0,y1=0,v1=null,D5=null,df=0,_1=null;function da(){return(Bn&2)!==0&&yn!==0?yn&-yn:rt.T!==null?T1():Oi()}function P5(){if(fa===0)if((yn&536870912)===0||dn){var i=Ln;Ln<<=1,(Ln&3932160)===0&&(Ln=262144),fa=i}else fa=536870912;return i=mi.current,i!==null&&(i.flags|=32),fa}function Qs(i,s,l){(i===li&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)&&($c(i,0),ru(i,yn,fa,!1)),Ae(i,l),((Bn&2)===0||i!==li)&&(i===li&&((Bn&2)===0&&(tc|=l),Fi===4&&ru(i,yn,fa,!1)),Bo(i))}function M5(i,s,l){if((Bn&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&i.expiredLanes)===0||hr(i,s),g=u?nE(i,s):w1(i,s,!0),v=u;do{if(g===0){Wc&&!u&&ru(i,s,0,!1);break}else{if(l=i.current.alternate,v&&!tE(l)){g=w1(i,s,!1),v=!1;continue}if(g===2){if(v=s,i.errorRecoveryDisabledLanes&v)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;t:{var H=i;g=ff;var lt=H.current.memoizedState.isDehydrated;if(lt&&($c(H,I).flags|=256),I=w1(H,I,!1),I!==2){if(p1&&!lt){H.errorRecoveryDisabledLanes|=v,tc|=v,g=4;break t}v=Xs,Xs=g,v!==null&&(Xs===null?Xs=v:Xs.push.apply(Xs,v))}g=I}if(v=!1,g!==2)continue}}if(g===1){$c(i,0),ru(i,s,0,!0);break}t:{switch(u=i,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ru(u,s,fa,!tu);break t;case 2:Xs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Dd+300-Ke(),10<g)){if(ru(u,s,fa,!tu),an(u,0,!0)!==0)break t;Tl=s,u.timeoutHandle=dy(U5.bind(null,u,l,Xs,Md,g1,s,fa,tc,Xc,tu,v,"Throttled",-0,0),g);break t}U5(u,l,Xs,Md,g1,s,fa,tc,Xc,tu,v,null,-0,0)}}break}while(!0);Bo(i)}function U5(i,s,l,u,g,v,I,H,lt,Ct,Vt,Ht,Ot,Dt){if(i.timeoutHandle=-1,Ht=s.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ws},C5(s,v,Ht);var he=(v&62914560)===v?Dd-Ke():(v&4194048)===v?O5-Ke():0;if(he=VE(Ht,he),he!==null){Tl=v,i.cancelPendingCommit=he(G5.bind(null,i,s,v,l,u,g,I,H,lt,Vt,Ht,null,Ot,Dt)),ru(i,v,I,!Ct);return}}G5(i,s,v,l,u,g,I,H,lt)}function tE(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],v=g.getSnapshot;g=g.value;try{if(!yr(v(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ru(i,s,l,u){s&=~m1,s&=~tc,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var g=s;0<g;){var v=31-We(g),I=1<<v;u[v]=-1,g&=~I}l!==0&&Br(i,l,s)}function Ud(){return(Bn&6)===0?(pf(0),!1):!0}function b1(){if(pn!==null){if(Kn===0)var i=pn.return;else i=pn,ka=Lo=null,jc(i),Gt=null,de=0,i=pn;for(;i!==null;)p5(i.alternate,i),i=i.return;pn=null}}function $c(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,bE(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Tl=0,b1(),li=i,pn=l=Vs(i.current,null),yn=s,Kn=0,ha=null,tu=!1,Wc=hr(i,s),p1=!1,Xc=fa=m1=tc=eu=Fi=0,Xs=ff=null,g1=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var g=31-We(u),v=1<<g;s|=i[g],u&=~v}return Sl=s,qu(),l}function V5(i,s){Ce=null,rt.H=rf,s===dt||s===Z?(s=Bt(),Kn=3):s===Nt?(s=Bt(),Kn=4):Kn=s===Jm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ha=s,pn===null&&(Fi=1,Nd(i,js(s,i.current)))}function j5(){var i=mi.current;return i===null?!0:(yn&4194048)===yn?Tn===null:(yn&62914560)===yn||(yn&536870912)!==0?i===Tn:!1}function B5(){var i=rt.H;return rt.H=rf,i===null?rf:i}function F5(){var i=rt.A;return rt.A=JA,i}function Vd(){Fi=4,tu||(yn&4194048)!==yn&&mi.current!==null||(Wc=!0),(eu&134217727)===0&&(tc&134217727)===0||li===null||ru(li,yn,fa,!1)}function w1(i,s,l){var u=Bn;Bn|=2;var g=B5(),v=F5();(li!==i||yn!==s)&&(Md=null,$c(i,s)),s=!1;var I=Fi;t:do try{if(Kn!==0&&pn!==null){var H=pn,lt=ha;switch(Kn){case 8:b1(),I=6;break t;case 3:case 2:case 9:case 6:mi.current===null&&(s=!0);var Ct=Kn;if(Kn=0,ha=null,Jc(i,H,lt,Ct),l&&Wc){I=0;break t}break;default:Ct=Kn,Kn=0,ha=null,Jc(i,H,lt,Ct)}}eE(),I=Fi;break}catch(Vt){V5(i,Vt)}while(!0);return s&&i.shellSuspendCounter++,ka=Lo=null,Bn=u,rt.H=g,rt.A=v,pn===null&&(li=null,yn=0,qu()),I}function eE(){for(;pn!==null;)q5(pn)}function nE(i,s){var l=Bn;Bn|=2;var u=B5(),g=F5();li!==i||yn!==s?(Md=null,Pd=Ke()+500,$c(i,s)):Wc=hr(i,s);t:do try{if(Kn!==0&&pn!==null){s=pn;var v=ha;e:switch(Kn){case 1:Kn=0,ha=null,Jc(i,s,v,1);break;case 2:case 9:if(Et(v)){Kn=0,ha=null,z5(s);break}s=function(){Kn!==2&&Kn!==9||li!==i||(Kn=7),Bo(i)},v.then(s,s);break t;case 3:Kn=7;break t;case 4:Kn=5;break t;case 7:Et(v)?(Kn=0,ha=null,z5(s)):(Kn=0,ha=null,Jc(i,s,v,7));break;case 5:var I=null;switch(pn.tag){case 26:I=pn.memoizedState;case 5:case 27:var H=pn;if(I?Iy(I):H.stateNode.complete){Kn=0,ha=null;var lt=H.sibling;if(lt!==null)pn=lt;else{var Ct=H.return;Ct!==null?(pn=Ct,jd(Ct)):pn=null}break e}}Kn=0,ha=null,Jc(i,s,v,5);break;case 6:Kn=0,ha=null,Jc(i,s,v,6);break;case 8:b1(),Fi=6;break t;default:throw Error(r(462))}}iE();break}catch(Vt){V5(i,Vt)}while(!0);return ka=Lo=null,rt.H=u,rt.A=g,Bn=l,pn!==null?0:(li=null,yn=0,qu(),Fi)}function iE(){for(;pn!==null&&!xe();)q5(pn)}function q5(i){var s=f5(i.alternate,i,Sl);i.memoizedProps=i.pendingProps,s===null?jd(i):pn=s}function z5(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=a5(l,s,s.pendingProps,s.type,void 0,yn);break;case 11:s=a5(l,s,s.pendingProps,s.type.render,s.ref,yn);break;case 5:jc(s);default:p5(l,s),s=pn=Gu(s,Sl),s=f5(l,s,Sl)}i.memoizedProps=i.pendingProps,s===null?jd(i):pn=s}function Jc(i,s,l,u){ka=Lo=null,jc(s),Gt=null,de=0;var g=s.return;try{if(GA(i,g,s,l,yn)){Fi=1,Nd(i,js(l,i.current)),pn=null;return}}catch(v){if(g!==null)throw pn=g,v;Fi=1,Nd(i,js(l,i.current)),pn=null;return}s.flags&32768?(dn||u===1?i=!0:Wc||(yn&536870912)!==0?i=!1:(tu=i=!0,(u===2||u===9||u===3||u===6)&&(u=mi.current,u!==null&&u.tag===13&&(u.flags|=16384))),H5(s,i)):jd(s)}function jd(i){var s=i;do{if((s.flags&32768)!==0){H5(s,tu);return}i=s.return;var l=WA(s.alternate,s,Sl);if(l!==null){pn=l;return}if(s=s.sibling,s!==null){pn=s;return}pn=s=i}while(s!==null);Fi===0&&(Fi=5)}function H5(i,s){do{var l=XA(i.alternate,i);if(l!==null){l.flags&=32767,pn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){pn=i;return}pn=i=l}while(i!==null);Fi=6,pn=null}function G5(i,s,l,u,g,v,I,H,lt){i.cancelPendingCommit=null;do Bd();while(Er!==0);if((Bn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=Tc,ta(i,l,v,I,H,lt),i===li&&(pn=li=null,yn=0),Qc=s,iu=i,Tl=l,y1=v,v1=g,D5=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oE(Xe,function(){return Q5(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=rt.T,rt.T=null,g=ft.p,ft.p=2,I=Bn,Bn|=4;try{QA(i,s,l)}finally{Bn=I,ft.p=g,rt.T=u}}Er=1,Y5(),K5(),W5()}}function Y5(){if(Er===1){Er=0;var i=iu,s=Qc,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=rt.T,rt.T=null;var u=ft.p;ft.p=2;var g=Bn;Bn|=4;try{N5(s,i);var v=O1,I=Ja(i.containerInfo),H=v.focusedElem,lt=v.selectionRange;if(I!==H&&H&&H.ownerDocument&&$a(H.ownerDocument.documentElement,H)){if(lt!==null&&Ra(H)){var Ct=lt.start,Vt=lt.end;if(Vt===void 0&&(Vt=Ct),"selectionStart"in H)H.selectionStart=Ct,H.selectionEnd=Math.min(Vt,H.value.length);else{var Ht=H.ownerDocument||document,Ot=Ht&&Ht.defaultView||window;if(Ot.getSelection){var Dt=Ot.getSelection(),he=H.textContent.length,Ve=Math.min(lt.start,he),ri=lt.end===void 0?Ve:Math.min(lt.end,he);!Dt.extend&&Ve>ri&&(I=ri,ri=Ve,Ve=I);var _t=ql(H,Ve),pt=ql(H,ri);if(_t&&pt&&(Dt.rangeCount!==1||Dt.anchorNode!==_t.node||Dt.anchorOffset!==_t.offset||Dt.focusNode!==pt.node||Dt.focusOffset!==pt.offset)){var It=Ht.createRange();It.setStart(_t.node,_t.offset),Dt.removeAllRanges(),Ve>ri?(Dt.addRange(It),Dt.extend(pt.node,pt.offset)):(It.setEnd(pt.node,pt.offset),Dt.addRange(It))}}}}for(Ht=[],Dt=H;Dt=Dt.parentNode;)Dt.nodeType===1&&Ht.push({element:Dt,left:Dt.scrollLeft,top:Dt.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ht.length;H++){var qt=Ht[H];qt.element.scrollLeft=qt.left,qt.element.scrollTop=qt.top}}Jd=!!k1,O1=k1=null}finally{Bn=g,ft.p=u,rt.T=l}}i.current=s,Er=2}}function K5(){if(Er===2){Er=0;var i=iu,s=Qc,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=rt.T,rt.T=null;var u=ft.p;ft.p=2;var g=Bn;Bn|=4;try{w5(i,s.alternate,s)}finally{Bn=g,ft.p=u,rt.T=l}}Er=3}}function W5(){if(Er===4||Er===3){Er=0,_e();var i=iu,s=Qc,l=Tl,u=D5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Er=5:(Er=0,Qc=iu=null,X5(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(nu=null),$n(l),s=s.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Qe,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=rt.T,g=ft.p,ft.p=2,rt.T=null;try{for(var v=i.onRecoverableError,I=0;I<u.length;I++){var H=u[I];v(H.value,{componentStack:H.stack})}}finally{rt.T=s,ft.p=g}}(Tl&3)!==0&&Bd(),Bo(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===_1?df++:(df=0,_1=i):df=0,pf(0)}}function X5(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Wu(s)))}function Bd(){return Y5(),K5(),W5(),Q5()}function Q5(){if(Er!==5)return!1;var i=iu,s=y1;y1=0;var l=$n(Tl),u=rt.T,g=ft.p;try{ft.p=32>l?32:l,rt.T=null,l=v1,v1=null;var v=iu,I=Tl;if(Er=0,Qc=iu=null,Tl=0,(Bn&6)!==0)throw Error(r(331));var H=Bn;if(Bn|=4,L5(v.current),I5(v,v.current,I,l),Bn=H,pf(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Qe,v)}catch{}return!0}finally{ft.p=g,rt.T=u,X5(i,s)}}function $5(i,s,l){s=js(l,s),s=$m(i.stateNode,s,2),i=rn(i,s,2),i!==null&&(Ae(i,2),Bo(i))}function Wn(i,s,l){if(i.tag===3)$5(i,i,l);else for(;s!==null;){if(s.tag===3){$5(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(nu===null||!nu.has(u))){i=js(l,i),l=J2(2),u=rn(s,l,2),u!==null&&(Z2(l,u,s,i),Ae(u,2),Bo(u));break}}s=s.return}}function A1(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new ZA;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(p1=!0,g.add(l),i=rE.bind(null,i,s,l),s.then(i,i))}function rE(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,li===i&&(yn&l)===l&&(Fi===4||Fi===3&&(yn&62914560)===yn&&300>Ke()-Dd?(Bn&2)===0&&$c(i,0):m1|=l,Xc===yn&&(Xc=0)),Bo(i)}function J5(i,s){s===0&&(s=Rs()),i=to(i,s),i!==null&&(Ae(i,s),Bo(i))}function sE(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),J5(i,l)}function aE(i,s){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),J5(i,l)}function oE(i,s){return ie(i,s)}var Fd=null,Zc=null,E1=!1,qd=!1,S1=!1,su=0;function Bo(i){i!==Zc&&i.next===null&&(Zc===null?Fd=Zc=i:Zc=Zc.next=i),qd=!0,E1||(E1=!0,uE())}function pf(i,s){if(!S1&&qd){S1=!0;do for(var l=!1,u=Fd;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var I=u.suspendedLanes,H=u.pingedLanes;v=(1<<31-We(42|i)+1)-1,v&=g&~(I&~H),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,ny(u,v))}else v=yn,v=an(u,u===li?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||hr(u,v)||(l=!0,ny(u,v));u=u.next}while(l);S1=!1}}function lE(){Z5()}function Z5(){qd=E1=!1;var i=0;su!==0&&_E()&&(i=su);for(var s=Ke(),l=null,u=Fd;u!==null;){var g=u.next,v=ty(u,s);v===0?(u.next=null,l===null?Fd=g:l.next=g,g===null&&(Zc=l)):(l=u,(i!==0||(v&3)!==0)&&(qd=!0)),u=g}Er!==0&&Er!==5||pf(i),su!==0&&(su=0)}function ty(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var I=31-We(v),H=1<<I,lt=g[I];lt===-1?((H&l)===0||(H&u)!==0)&&(g[I]=Zi(H,s)):lt<=s&&(i.expiredLanes|=H),v&=~H}if(s=li,l=yn,l=an(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ne(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||hr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&ne(u),$n(l)){case 2:case 8:l=sn;break;case 32:l=Xe;break;case 268435456:l=ze;break;default:l=Xe}return u=ey.bind(null,i),l=ie(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&ne(u),i.callbackPriority=2,i.callbackNode=null,2}function ey(i,s){if(Er!==0&&Er!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Bd()&&i.callbackNode!==l)return null;var u=yn;return u=an(i,i===li?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(M5(i,u,s),ty(i,Ke()),i.callbackNode!=null&&i.callbackNode===l?ey.bind(null,i):null)}function ny(i,s){if(Bd())return null;M5(i,s,!0)}function uE(){wE(function(){(Bn&6)!==0?ie(je,lE):Z5()})}function T1(){if(su===0){var i=d;i===0&&(i=Pe,Pe<<=1,(Pe&261888)===0&&(Pe=256)),su=i}return su}function iy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Rr(""+i)}function ry(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function cE(i,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var v=iy((g[Hn]||null).action),I=u.submitter;I&&(s=(s=I[Hn]||null)?iy(s.formAction):I.getAttribute("formAction"),s!==null&&(v=s,I=null));var H=new nr("action","action",null,u,g);i.push({event:H,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(su!==0){var lt=I?ry(g,I):new FormData(g);Gm(l,{pending:!0,data:lt,method:g.method,action:v},null,lt)}}else typeof v=="function"&&(H.preventDefault(),lt=I?ry(g,I):new FormData(g),Gm(l,{pending:!0,data:lt,method:g.method,action:v},v,lt))},currentTarget:g}]})}}for(var N1=0;N1<cl.length;N1++){var x1=cl[N1],hE=x1.toLowerCase(),fE=x1[0].toUpperCase()+x1.slice(1);Us(hE,"on"+fE)}Us(ul,"onAnimationEnd"),Us(Bu,"onAnimationIteration"),Us(qh,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(dd,"onTransitionRun"),Us(pd,"onTransitionStart"),Us(md,"onTransitionCancel"),Us(zh,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mf));function sy(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],g=u.event;u=u.listeners;t:{var v=void 0;if(s)for(var I=u.length-1;0<=I;I--){var H=u[I],lt=H.instance,Ct=H.currentTarget;if(H=H.listener,lt!==v&&g.isPropagationStopped())break t;v=H,g.currentTarget=Ct;try{v(g)}catch(Vt){Fu(Vt)}g.currentTarget=null,v=lt}else for(I=0;I<u.length;I++){if(H=u[I],lt=H.instance,Ct=H.currentTarget,H=H.listener,lt!==v&&g.isPropagationStopped())break t;v=H,g.currentTarget=Ct;try{v(g)}catch(Vt){Fu(Vt)}g.currentTarget=null,v=lt}}}}function mn(i,s){var l=s[xr];l===void 0&&(l=s[xr]=new Set);var u=i+"__bubble";l.has(u)||(ay(s,i,2,!1),l.add(u))}function I1(i,s,l){var u=0;s&&(u|=4),ay(l,i,u,s)}var zd="_reactListening"+Math.random().toString(36).slice(2);function C1(i){if(!i[zd]){i[zd]=!0,_o.forEach(function(l){l!=="selectionchange"&&(dE.has(l)||I1(l,!1,i),I1(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[zd]||(s[zd]=!0,I1("selectionchange",!1,s))}}function ay(i,s,l,u){switch(Py(s)){case 2:var g=FE;break;case 8:g=qE;break;default:g=H1}l=g.bind(null,s,l,i),g=void 0,!Ha||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function R1(i,s,l,u,g){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var I=u.tag;if(I===3||I===4){var H=u.stateNode.containerInfo;if(H===g)break;if(I===4)for(I=u.return;I!==null;){var lt=I.tag;if((lt===3||lt===4)&&I.stateNode.containerInfo===g)return;I=I.return}for(;H!==null;){if(I=Fr(H),I===null)return;if(lt=I.tag,lt===5||lt===6||lt===26||lt===27){u=v=I;continue t}H=H.parentNode}}u=u.return}Aa(function(){var Ct=v,Vt=Lr(l),Ht=[];t:{var Ot=Hh.get(i);if(Ot!==void 0){var Dt=nr,he=i;switch(i){case"keypress":if(Gr(l)===0)break t;case"keydown":case"keyup":Dt=hn;break;case"focusin":he="focus",Dt=Es;break;case"focusout":he="blur",Dt=Es;break;case"beforeblur":case"afterblur":Dt=Es;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=Ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=S;break;case ul:case Bu:case qh:Dt=b;break;case zh:Dt=W;break;case"scroll":case"scrollend":Dt=Ea;break;case"wheel":Dt=Lt;break;case"copy":case"cut":case"paste":Dt=tt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=qn;break;case"toggle":case"beforetoggle":Dt=qe}var Ve=(s&4)!==0,ri=!Ve&&(i==="scroll"||i==="scrollend"),_t=Ve?Ot!==null?Ot+"Capture":null:Ot;Ve=[];for(var pt=Ct,It;pt!==null;){var qt=pt;if(It=qt.stateNode,qt=qt.tag,qt!==5&&qt!==26&&qt!==27||It===null||_t===null||(qt=Yi(pt,_t),qt!=null&&Ve.push(gf(pt,qt,It))),ri)break;pt=pt.return}0<Ve.length&&(Ot=new Dt(Ot,he,null,l,Vt),Ht.push({event:Ot,listeners:Ve}))}}if((s&7)===0){t:{if(Ot=i==="mouseover"||i==="pointerover",Dt=i==="mouseout"||i==="pointerout",Ot&&l!==sa&&(he=l.relatedTarget||l.fromElement)&&(Fr(he)||he[Di]))break t;if((Dt||Ot)&&(Ot=Vt.window===Vt?Vt:(Ot=Vt.ownerDocument)?Ot.defaultView||Ot.parentWindow:window,Dt?(he=l.relatedTarget||l.toElement,Dt=Ct,he=he?Fr(he):null,he!==null&&(ri=o(he),Ve=he.tag,he!==ri||Ve!==5&&Ve!==27&&Ve!==6)&&(he=null)):(Dt=null,he=Ct),Dt!==he)){if(Ve=To,qt="onMouseLeave",_t="onMouseEnter",pt="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=qn,qt="onPointerLeave",_t="onPointerEnter",pt="pointer"),ri=Dt==null?Ot:qr(Dt),It=he==null?Ot:qr(he),Ot=new Ve(qt,pt+"leave",Dt,l,Vt),Ot.target=ri,Ot.relatedTarget=It,qt=null,Fr(Vt)===Ct&&(Ve=new Ve(_t,pt+"enter",he,l,Vt),Ve.target=It,Ve.relatedTarget=ri,qt=Ve),ri=qt,Dt&&he)e:{for(Ve=pE,_t=Dt,pt=he,It=0,qt=_t;qt;qt=Ve(qt))It++;qt=0;for(var ke=pt;ke;ke=Ve(ke))qt++;for(;0<It-qt;)_t=Ve(_t),It--;for(;0<qt-It;)pt=Ve(pt),qt--;for(;It--;){if(_t===pt||pt!==null&&_t===pt.alternate){Ve=_t;break e}_t=Ve(_t),pt=Ve(pt)}Ve=null}else Ve=null;Dt!==null&&oy(Ht,Ot,Dt,Ve,!1),he!==null&&ri!==null&&oy(Ht,ri,he,Ve,!0)}}t:{if(Ot=Ct?qr(Ct):window,Dt=Ot.nodeName&&Ot.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&Ot.type==="file")var Pn=xo;else if(Vu(Ot))if(ls)Pn=Ia;else{Pn=Ii;var ve=Bl}else Dt=Ot.nodeName,!Dt||Dt.toLowerCase()!=="input"||Ot.type!=="checkbox"&&Ot.type!=="radio"?Ct&&Ao(Ct.elementType)&&(Pn=xo):Pn=Sc;if(Pn&&(Pn=Pn(i,Ct))){Ts(Ht,Pn,l,Vt);break t}ve&&ve(i,Ot,Ct),i==="focusout"&&Ct&&Ot.type==="number"&&Ct.memoizedProps.value!=null&&nl(Ot,"number",Ot.value)}switch(ve=Ct?qr(Ct):window,i){case"focusin":(Vu(ve)||ve.contentEditable==="true")&&(Ns=ve,Za=Ct,kr=null);break;case"focusout":kr=Za=Ns=null;break;case"mousedown":Ms=!0;break;case"contextmenu":case"mouseup":case"dragend":Ms=!1,Cn(Ht,l,Vt);break;case"selectionchange":if(ll)break;case"keydown":case"keyup":Cn(Ht,l,Vt)}var on;if(ln)t:{switch(i){case"compositionstart":var vn="onCompositionStart";break t;case"compositionend":vn="onCompositionEnd";break t;case"compositionupdate":vn="onCompositionUpdate";break t}vn=void 0}else Ta?Ss(i,l)&&(vn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(vn="onCompositionStart");vn&&(mr&&l.locale!=="ko"&&(Ta||vn!=="onCompositionStart"?vn==="onCompositionEnd"&&Ta&&(on=al()):(Hr=Vt,Ga="value"in Hr?Hr.value:Hr.textContent,Ta=!0)),ve=Hd(Ct,vn),0<ve.length&&(vn=new yt(vn,i,null,l,Vt),Ht.push({event:vn,listeners:ve}),on?vn.data=on:(on=Sa(l),on!==null&&(vn.data=on)))),(on=ir?Wr(i,l):Ka(i,l))&&(vn=Hd(Ct,"onBeforeInput"),0<vn.length&&(ve=new yt("onBeforeInput","beforeinput",null,l,Vt),Ht.push({event:ve,listeners:vn}),ve.data=on)),cE(Ht,i,Ct,l,Vt)}sy(Ht,s)})}function gf(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Hd(i,s){for(var l=s+"Capture",u=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Yi(i,l),g!=null&&u.unshift(gf(i,g,v)),g=Yi(i,s),g!=null&&u.push(gf(i,g,v))),i.tag===3)return u;i=i.return}return[]}function pE(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function oy(i,s,l,u,g){for(var v=s._reactName,I=[];l!==null&&l!==u;){var H=l,lt=H.alternate,Ct=H.stateNode;if(H=H.tag,lt!==null&&lt===u)break;H!==5&&H!==26&&H!==27||Ct===null||(lt=Ct,g?(Ct=Yi(l,v),Ct!=null&&I.unshift(gf(l,Ct,lt))):g||(Ct=Yi(l,v),Ct!=null&&I.push(gf(l,Ct,lt)))),l=l.return}I.length!==0&&i.push({event:s,listeners:I})}var mE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function ly(i){return(typeof i=="string"?i:""+i).replace(mE,`
`).replace(gE,"")}function uy(i,s){return s=ly(s),ly(i)===s}function ii(i,s,l,u,g,v){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Gi(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Gi(i,""+u);break;case"className":er(i,"class",u);break;case"tabIndex":er(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":er(i,l,u);break;case"style":sl(i,u,v);break;case"data":if(s!=="object"){er(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Rr(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&ii(i,s,"name",g.name,g,null),ii(i,s,"formEncType",g.formEncType,g,null),ii(i,s,"formMethod",g.formMethod,g,null),ii(i,s,"formTarget",g.formTarget,g,null)):(ii(i,s,"encType",g.encType,g,null),ii(i,s,"method",g.method,g,null),ii(i,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Rr(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=ws);break;case"onScroll":u!=null&&mn("scroll",i);break;case"onScrollEnd":u!=null&&mn("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Rr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":mn("beforetoggle",i),mn("toggle",i),zr(i,"popover",u);break;case"xlinkActuate":_i(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_i(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_i(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_i(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_i(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_i(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_i(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_i(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_i(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Eo.get(l)||l,zr(i,l,u))}}function L1(i,s,l,u,g,v){switch(l){case"style":sl(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Gi(i,u):(typeof u=="number"||typeof u=="bigint")&&Gi(i,""+u);break;case"onScroll":u!=null&&mn("scroll",i);break;case"onScrollEnd":u!=null&&mn("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ws);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cr.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),v=i[Hn]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(s,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,g);break t}l in i?i[l]=u:u===!0?i.setAttribute(l,""):zr(i,l,u)}}}function Zr(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",i),mn("load",i);var u=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var I=l[v];if(I!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ii(i,s,v,I,l,null)}}g&&ii(i,s,"srcSet",l.srcSet,l,null),u&&ii(i,s,"src",l.src,l,null);return;case"input":mn("invalid",i);var H=v=I=g=null,lt=null,Ct=null;for(u in l)if(l.hasOwnProperty(u)){var Vt=l[u];if(Vt!=null)switch(u){case"name":g=Vt;break;case"type":I=Vt;break;case"checked":lt=Vt;break;case"defaultChecked":Ct=Vt;break;case"value":v=Vt;break;case"defaultValue":H=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(r(137,s));break;default:ii(i,s,u,Vt,l,null)}}Ul(i,v,H,lt,Ct,I,g,!1);return;case"select":mn("invalid",i),u=I=v=null;for(g in l)if(l.hasOwnProperty(g)&&(H=l[g],H!=null))switch(g){case"value":v=H;break;case"defaultValue":I=H;break;case"multiple":u=H;default:ii(i,s,g,H,l,null)}s=v,l=I,i.multiple=!!u,s!=null?pr(i,!!u,s,!1):l!=null&&pr(i,!!u,l,!0);return;case"textarea":mn("invalid",i),v=g=u=null;for(I in l)if(l.hasOwnProperty(I)&&(H=l[I],H!=null))switch(I){case"value":u=H;break;case"defaultValue":g=H;break;case"children":v=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:ii(i,s,I,H,l,null)}ia(i,u,g,v);return;case"option":for(lt in l)if(l.hasOwnProperty(lt)&&(u=l[lt],u!=null))switch(lt){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ii(i,s,lt,u,l,null)}return;case"dialog":mn("beforetoggle",i),mn("toggle",i),mn("cancel",i),mn("close",i);break;case"iframe":case"object":mn("load",i);break;case"video":case"audio":for(u=0;u<mf.length;u++)mn(mf[u],i);break;case"image":mn("error",i),mn("load",i);break;case"details":mn("toggle",i);break;case"embed":case"source":case"link":mn("error",i),mn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ct in l)if(l.hasOwnProperty(Ct)&&(u=l[Ct],u!=null))switch(Ct){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ii(i,s,Ct,u,l,null)}return;default:if(Ao(s)){for(Vt in l)l.hasOwnProperty(Vt)&&(u=l[Vt],u!==void 0&&L1(i,s,Vt,u,l,void 0));return}}for(H in l)l.hasOwnProperty(H)&&(u=l[H],u!=null&&ii(i,s,H,u,l,null))}function yE(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,I=null,H=null,lt=null,Ct=null,Vt=null;for(Dt in l){var Ht=l[Dt];if(l.hasOwnProperty(Dt)&&Ht!=null)switch(Dt){case"checked":break;case"value":break;case"defaultValue":lt=Ht;default:u.hasOwnProperty(Dt)||ii(i,s,Dt,null,u,Ht)}}for(var Ot in u){var Dt=u[Ot];if(Ht=l[Ot],u.hasOwnProperty(Ot)&&(Dt!=null||Ht!=null))switch(Ot){case"type":v=Dt;break;case"name":g=Dt;break;case"checked":Ct=Dt;break;case"defaultChecked":Vt=Dt;break;case"value":I=Dt;break;case"defaultValue":H=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(r(137,s));break;default:Dt!==Ht&&ii(i,s,Ot,Dt,u,Ht)}}qa(i,I,H,lt,Ct,Vt,v,g);return;case"select":Dt=I=H=Ot=null;for(v in l)if(lt=l[v],l.hasOwnProperty(v)&&lt!=null)switch(v){case"value":break;case"multiple":Dt=lt;default:u.hasOwnProperty(v)||ii(i,s,v,null,u,lt)}for(g in u)if(v=u[g],lt=l[g],u.hasOwnProperty(g)&&(v!=null||lt!=null))switch(g){case"value":Ot=v;break;case"defaultValue":H=v;break;case"multiple":I=v;default:v!==lt&&ii(i,s,g,v,u,lt)}s=H,l=I,u=Dt,Ot!=null?pr(i,!!l,Ot,!1):!!u!=!!l&&(s!=null?pr(i,!!l,s,!0):pr(i,!!l,l?[]:"",!1));return;case"textarea":Dt=Ot=null;for(H in l)if(g=l[H],l.hasOwnProperty(H)&&g!=null&&!u.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:ii(i,s,H,null,u,g)}for(I in u)if(g=u[I],v=l[I],u.hasOwnProperty(I)&&(g!=null||v!=null))switch(I){case"value":Ot=g;break;case"defaultValue":Dt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&ii(i,s,I,g,u,v)}il(i,Ot,Dt);return;case"option":for(var he in l)if(Ot=l[he],l.hasOwnProperty(he)&&Ot!=null&&!u.hasOwnProperty(he))switch(he){case"selected":i.selected=!1;break;default:ii(i,s,he,null,u,Ot)}for(lt in u)if(Ot=u[lt],Dt=l[lt],u.hasOwnProperty(lt)&&Ot!==Dt&&(Ot!=null||Dt!=null))switch(lt){case"selected":i.selected=Ot&&typeof Ot!="function"&&typeof Ot!="symbol";break;default:ii(i,s,lt,Ot,u,Dt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)Ot=l[Ve],l.hasOwnProperty(Ve)&&Ot!=null&&!u.hasOwnProperty(Ve)&&ii(i,s,Ve,null,u,Ot);for(Ct in u)if(Ot=u[Ct],Dt=l[Ct],u.hasOwnProperty(Ct)&&Ot!==Dt&&(Ot!=null||Dt!=null))switch(Ct){case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(r(137,s));break;default:ii(i,s,Ct,Ot,u,Dt)}return;default:if(Ao(s)){for(var ri in l)Ot=l[ri],l.hasOwnProperty(ri)&&Ot!==void 0&&!u.hasOwnProperty(ri)&&L1(i,s,ri,void 0,u,Ot);for(Vt in u)Ot=u[Vt],Dt=l[Vt],!u.hasOwnProperty(Vt)||Ot===Dt||Ot===void 0&&Dt===void 0||L1(i,s,Vt,Ot,u,Dt);return}}for(var _t in l)Ot=l[_t],l.hasOwnProperty(_t)&&Ot!=null&&!u.hasOwnProperty(_t)&&ii(i,s,_t,null,u,Ot);for(Ht in u)Ot=u[Ht],Dt=l[Ht],!u.hasOwnProperty(Ht)||Ot===Dt||Ot==null&&Dt==null||ii(i,s,Ht,Ot,u,Dt)}function cy(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vE(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],v=g.transferSize,I=g.initiatorType,H=g.duration;if(v&&H&&cy(I)){for(I=0,H=g.responseEnd,u+=1;u<l.length;u++){var lt=l[u],Ct=lt.startTime;if(Ct>H)break;var Vt=lt.transferSize,Ht=lt.initiatorType;Vt&&cy(Ht)&&(lt=lt.responseEnd,I+=Vt*(lt<H?1:(H-Ct)/(lt-Ct)))}if(--u,s+=8*(v+I)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var k1=null,O1=null;function Gd(i){return i.nodeType===9?i:i.ownerDocument}function hy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fy(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function D1(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var P1=null;function _E(){var i=window.event;return i&&i.type==="popstate"?i===P1?!1:(P1=i,!0):(P1=null,!1)}var dy=typeof setTimeout=="function"?setTimeout:void 0,bE=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,wE=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(i){return py.resolve(null).then(i).catch(AE)}:dy;function AE(i){setTimeout(function(){throw i})}function au(i){return i==="head"}function my(i,s){var l=s,u=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(g),ih(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")yf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,yf(l);for(var v=l.firstChild;v;){var I=v.nextSibling,H=v.nodeName;v[Ir]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=I}}else l==="body"&&yf(i.ownerDocument.body);l=g}while(l);ih(s)}function gy(i,s){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function M1(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":M1(l),ea(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function EE(i,s,l,u){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ir])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Pa(i.nextSibling),i===null)break}return null}function SE(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Pa(i.nextSibling),i===null))return null;return i}function yy(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Pa(i.nextSibling),i===null))return null;return i}function U1(i){return i.data==="$?"||i.data==="$~"}function V1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function TE(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Pa(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var j1=null;function vy(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Pa(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function _y(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function by(i,s,l){switch(s=Gd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function yf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ea(i)}var Ma=new Map,wy=new Set;function Yd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Nl=ft.d;ft.d={f:NE,r:xE,D:IE,C:CE,L:RE,m:LE,X:OE,S:kE,M:DE};function NE(){var i=Nl.f(),s=Ud();return i||s}function xE(i){var s=dr(i);s!==null&&s.tag===5&&s.type==="form"?V2(s):Nl.r(i)}var th=typeof document>"u"?null:document;function Ay(i,s,l){var u=th;if(u&&typeof s=="string"&&s){var g=bi(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),wy.has(g)||(wy.add(g),i={rel:i,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Zr(s,"link",i),fi(s),u.head.appendChild(s)))}}function IE(i){Nl.D(i),Ay("dns-prefetch",i,null)}function CE(i,s){Nl.C(i,s),Ay("preconnect",i,s)}function RE(i,s,l){Nl.L(i,s,l);var u=th;if(u&&i&&s){var g='link[rel="preload"][as="'+bi(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+bi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+bi(l.imageSizes)+'"]')):g+='[href="'+bi(i)+'"]';var v=g;switch(s){case"style":v=eh(i);break;case"script":v=nh(i)}Ma.has(v)||(i=E({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Ma.set(v,i),u.querySelector(g)!==null||s==="style"&&u.querySelector(vf(v))||s==="script"&&u.querySelector(_f(v))||(s=u.createElement("link"),Zr(s,"link",i),fi(s),u.head.appendChild(s)))}}function LE(i,s){Nl.m(i,s);var l=th;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+bi(u)+'"][href="'+bi(i)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=nh(i)}if(!Ma.has(v)&&(i=E({rel:"modulepreload",href:i},s),Ma.set(v,i),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_f(v)))return}u=l.createElement("link"),Zr(u,"link",i),fi(u),l.head.appendChild(u)}}}function kE(i,s,l){Nl.S(i,s,l);var u=th;if(u&&i){var g=rs(u).hoistableStyles,v=eh(i);s=s||"default";var I=g.get(v);if(!I){var H={loading:0,preload:null};if(I=u.querySelector(vf(v)))H.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Ma.get(v))&&B1(i,l);var lt=I=u.createElement("link");fi(lt),Zr(lt,"link",i),lt._p=new Promise(function(Ct,Vt){lt.onload=Ct,lt.onerror=Vt}),lt.addEventListener("load",function(){H.loading|=1}),lt.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Kd(I,s,u)}I={type:"stylesheet",instance:I,count:1,state:H},g.set(v,I)}}}function OE(i,s){Nl.X(i,s);var l=th;if(l&&i){var u=rs(l).hoistableScripts,g=nh(i),v=u.get(g);v||(v=l.querySelector(_f(g)),v||(i=E({src:i,async:!0},s),(s=Ma.get(g))&&F1(i,s),v=l.createElement("script"),fi(v),Zr(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function DE(i,s){Nl.M(i,s);var l=th;if(l&&i){var u=rs(l).hoistableScripts,g=nh(i),v=u.get(g);v||(v=l.querySelector(_f(g)),v||(i=E({src:i,async:!0,type:"module"},s),(s=Ma.get(g))&&F1(i,s),v=l.createElement("script"),fi(v),Zr(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function Ey(i,s,l,u){var g=(g=ut.current)?Yd(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=eh(l.href),l=rs(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=eh(l.href);var v=rs(g).hoistableStyles,I=v.get(i);if(I||(g=g.ownerDocument||g,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,I),(v=g.querySelector(vf(i)))&&!v._p&&(I.instance=v,I.state.loading=5),Ma.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ma.set(i,l),v||PE(g,i,l,I.state))),s&&u===null)throw Error(r(528,""));return I}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nh(l),l=rs(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function eh(i){return'href="'+bi(i)+'"'}function vf(i){return'link[rel="stylesheet"]['+i+"]"}function Sy(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function PE(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Zr(s,"link",l),fi(s),i.head.appendChild(s))}function nh(i){return'[src="'+bi(i)+'"]'}function _f(i){return"script[async]"+i}function Ty(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+bi(l.href)+'"]');if(u)return s.instance=u,fi(u),u;var g=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),fi(u),Zr(u,"style",g),Kd(u,l.precedence,i),s.instance=u;case"stylesheet":g=eh(l.href);var v=i.querySelector(vf(g));if(v)return s.state.loading|=4,s.instance=v,fi(v),v;u=Sy(l),(g=Ma.get(g))&&B1(u,g),v=(i.ownerDocument||i).createElement("link"),fi(v);var I=v;return I._p=new Promise(function(H,lt){I.onload=H,I.onerror=lt}),Zr(v,"link",u),s.state.loading|=4,Kd(v,l.precedence,i),s.instance=v;case"script":return v=nh(l.src),(g=i.querySelector(_f(v)))?(s.instance=g,fi(g),g):(u=l,(g=Ma.get(v))&&(u=E({},l),F1(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),fi(g),Zr(g,"link",u),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Kd(u,l.precedence,i));return s.instance}function Kd(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,I=0;I<u.length;I++){var H=u[I];if(H.dataset.precedence===s)v=H;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function B1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function F1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Wd=null;function Ny(i,s,l){if(Wd===null){var u=new Map,g=Wd=new Map;g.set(l,u)}else g=Wd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[Ir]||v[kn]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var I=v.getAttribute(s)||"";I=i+I;var H=u.get(I);H?H.push(v):u.set(I,[v])}}return u}function xy(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function ME(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Iy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function UE(i,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=eh(u.href),v=s.querySelector(vf(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Xd.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=v,fi(v);return}v=s.ownerDocument||s,u=Sy(u),(g=Ma.get(g))&&B1(u,g),v=v.createElement("link"),fi(v);var I=v;I._p=new Promise(function(H,lt){I.onload=H,I.onerror=lt}),Zr(v,"link",u),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Xd.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var q1=0;function VE(i,s){return i.stylesheets&&i.count===0&&$d(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&$d(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+s);0<i.imgBytes&&q1===0&&(q1=62500*vE());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&$d(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>q1?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Xd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qd=null;function $d(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qd=new Map,s.forEach(jE,i),Qd=null,Xd.call(i))}function jE(i,s){if(!(s.state.loading&4)){var l=Qd.get(i);if(l)var u=l.get(null);else{l=new Map,Qd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var I=g[v];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),u=I)}u&&l.set(null,u)}g=s.instance,I=g.getAttribute("data-precedence"),v=l.get(I)||u,v===u&&l.set(null,g),l.set(I,g),this.count++,u=Xd.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var bf={$$typeof:it,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function BE(i,s,l,u,g,v,I,H,lt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=lt,this.incompleteTransitions=new Map}function Cy(i,s,l,u,g,v,I,H,lt,Ct,Vt,Ht){return i=new BE(i,s,l,I,lt,Ct,Vt,Ht,H),s=1,v===!0&&(s|=24),v=Dr(3,null,null,s),i.current=v,v.stateNode=i,s=Wl(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:s},Jt(v),i}function Ry(i){return i?(i=vr,i):vr}function Ly(i,s,l,u,g,v){g=Ry(g),u.context===null?u.context=g:u.pendingContext=g,u=Ue(s),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=rn(i,u,s),l!==null&&(Qs(l,i,s),Vn(l,i,s))}function ky(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function z1(i,s){ky(i,s),(i=i.alternate)&&ky(i,s)}function Oy(i){if(i.tag===13||i.tag===31){var s=to(i,67108864);s!==null&&Qs(s,i,67108864),z1(i,67108864)}}function Dy(i){if(i.tag===13||i.tag===31){var s=da();s=Fn(s);var l=to(i,s);l!==null&&Qs(l,i,s),z1(i,s)}}var Jd=!0;function FE(i,s,l,u){var g=rt.T;rt.T=null;var v=ft.p;try{ft.p=2,H1(i,s,l,u)}finally{ft.p=v,rt.T=g}}function qE(i,s,l,u){var g=rt.T;rt.T=null;var v=ft.p;try{ft.p=8,H1(i,s,l,u)}finally{ft.p=v,rt.T=g}}function H1(i,s,l,u){if(Jd){var g=G1(u);if(g===null)R1(i,s,u,Zd,l),My(i,u);else if(HE(g,i,s,l,u))u.stopPropagation();else if(My(i,u),s&4&&-1<zE.indexOf(i)){for(;g!==null;){var v=dr(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var I=ye(v.pendingLanes);if(I!==0){var H=v;for(H.pendingLanes|=2,H.entangledLanes|=2;I;){var lt=1<<31-We(I);H.entanglements[1]|=lt,I&=~lt}Bo(v),(Bn&6)===0&&(Pd=Ke()+500,pf(0))}}break;case 31:case 13:H=to(v,2),H!==null&&Qs(H,v,2),Ud(),z1(v,2)}if(v=G1(u),v===null&&R1(i,s,u,Zd,l),v===g)break;g=v}g!==null&&u.stopPropagation()}else R1(i,s,u,null,l)}}function G1(i){return i=Lr(i),Y1(i)}var Zd=null;function Y1(i){if(Zd=null,i=Fr(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Zd=i,null}function Py(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case je:return 2;case sn:return 8;case Xe:case me:return 32;case ze:return 268435456;default:return 32}default:return 32}}var K1=!1,ou=null,lu=null,uu=null,wf=new Map,Af=new Map,cu=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function My(i,s){switch(i){case"focusin":case"focusout":ou=null;break;case"dragenter":case"dragleave":lu=null;break;case"mouseover":case"mouseout":uu=null;break;case"pointerover":case"pointerout":wf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Af.delete(s.pointerId)}}function Ef(i,s,l,u,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},s!==null&&(s=dr(s),s!==null&&Oy(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function HE(i,s,l,u,g){switch(s){case"focusin":return ou=Ef(ou,i,s,l,u,g),!0;case"dragenter":return lu=Ef(lu,i,s,l,u,g),!0;case"mouseover":return uu=Ef(uu,i,s,l,u,g),!0;case"pointerover":var v=g.pointerId;return wf.set(v,Ef(wf.get(v)||null,i,s,l,u,g)),!0;case"gotpointercapture":return v=g.pointerId,Af.set(v,Ef(Af.get(v)||null,i,s,l,u,g)),!0}return!1}function Uy(i){var s=Fr(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,fr(i.priority,function(){Dy(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,fr(i.priority,function(){Dy(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=G1(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);sa=u,l.target.dispatchEvent(u),sa=null}else return s=dr(l),s!==null&&Oy(s),i.blockedOn=l,!1;s.shift()}return!0}function Vy(i,s,l){tp(i)&&l.delete(s)}function GE(){K1=!1,ou!==null&&tp(ou)&&(ou=null),lu!==null&&tp(lu)&&(lu=null),uu!==null&&tp(uu)&&(uu=null),wf.forEach(Vy),Af.forEach(Vy)}function ep(i,s){i.blockedOn===s&&(i.blockedOn=null,K1||(K1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,GE)))}var np=null;function jy(i){np!==i&&(np=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){np===i&&(np=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],g=i[s+2];if(typeof u!="function"){if(Y1(u||l)===null)continue;break}var v=dr(l);v!==null&&(i.splice(s,3),s-=3,Gm(v,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function ih(i){function s(lt){return ep(lt,i)}ou!==null&&ep(ou,i),lu!==null&&ep(lu,i),uu!==null&&ep(uu,i),wf.forEach(s),Af.forEach(s);for(var l=0;l<cu.length;l++){var u=cu[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<cu.length&&(l=cu[0],l.blockedOn===null);)Uy(l),l.blockedOn===null&&cu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],v=l[u+1],I=g[Hn]||null;if(typeof v=="function")I||jy(l);else if(I){var H=null;if(v&&v.hasAttribute("formAction")){if(g=v,I=v[Hn]||null)H=I.formAction;else if(Y1(g)!==null)continue}else H=I.action;typeof H=="function"?l[u+1]=H:(l.splice(u,3),u-=3),jy(l)}}}function By(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(I){return g=I})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function W1(i){this._internalRoot=i}ip.prototype.render=W1.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=da();Ly(l,u,i,s,null,null)},ip.prototype.unmount=W1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ly(i.current,2,null,i,null,null),Ud(),s[Di]=null}};function ip(i){this._internalRoot=i}ip.prototype.unstable_scheduleHydration=function(i){if(i){var s=Oi();i={blockedOn:null,target:i,priority:s};for(var l=0;l<cu.length&&s!==0&&s<cu[l].priority;l++);cu.splice(l,0,i),l===0&&Uy(i)}};var Fy=t.version;if(Fy!=="19.2.1")throw Error(r(527,Fy,"19.2.1"));ft.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var YE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{Qe=rp.inject(YE),Ne=rp}catch{}}return Tf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",g=W2,v=X2,I=Q2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=Cy(i,1,!1,null,null,l,u,null,g,v,I,By),i[Di]=s.current,C1(i),new W1(s)},Tf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,g="",v=W2,I=X2,H=Q2,lt=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(H=l.onRecoverableError),l.formState!==void 0&&(lt=l.formState)),s=Cy(i,1,!0,s,l??null,u,g,lt,v,I,H,By),s.context=Ry(null),l=s.current,u=da(),u=Fn(u),g=Ue(u),g.callback=null,rn(l,g,u),l=u,s.current.lanes=l,Ae(s,l),Bo(s),i[Di]=s.current,C1(i),new ip(s)},Tf.version="19.2.1",Tf}var $y;function sS(){if($y)return $1.exports;$y=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),$1.exports=rS(),$1.exports}var aS=sS();const oS=tw(aS),lS=()=>{};var Jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},uS=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const a=n[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,_=o>>2,E=(o&3)<<4|h>>4;let x=(h&15)<<2|m>>6,w=m&63;f||(w=64,c||(x=64)),r.push(e[_],e[E],e[x],e[w])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(ew(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):uS(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const E=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||E==null)throw new cS;const x=o<<2|h>>4;if(r.push(x),m!==64){const w=h<<4&240|m>>2;if(r.push(w),E!==64){const j=m<<6&192|E;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(n){const t=ew(n);return nw.encodeByteArray(t,!0)},Vp=function(n){return hS(n).replace(/\./g,"")},iw=function(n){try{return nw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=()=>fS().__FIREBASE_DEFAULTS__,pS=()=>{if(typeof process>"u"||typeof Jy>"u")return;const n=Jy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&iw(n[1]);return t&&JSON.parse(t)},dm=()=>{try{return lS()||dS()||pS()||mS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rw=n=>{var t,e;return(e=(t=dm())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},gS=n=>{const t=rw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},sw=()=>{var n;return(n=dm())==null?void 0:n.config},aw=n=>{var t;return(t=dm())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ow(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Vp(JSON.stringify(e)),Vp(JSON.stringify(c)),""].join(".")}const Df={};function _S(){const n={prod:[],emulator:[]};for(const t of Object.keys(Df))Df[t]?n.emulator.push(t):n.prod.push(t);return n}function bS(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Zy=!1;function lw(n,t){if(typeof window>"u"||typeof document>"u"||!Oh(window.location.host)||Df[n]===t||Df[n]||Zy)return;Df[n]=t;function e(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=_S().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Zy=!0,c()},x}function _(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function E(){const x=bS(r),w=e("text"),j=document.getElementById(w)||document.createElement("span"),q=e("learnmore"),U=document.getElementById(q)||document.createElement("a"),B=e("preprendIcon"),at=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const it=x.element;h(it),_(U,q);const nt=m();f(at,B),it.append(at,j,U,nt),document.body.appendChild(it)}o?(j.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vs())}function AS(){var t;const n=(t=dm())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ES(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TS(){const n=vs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NS(){return!AS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cw(){try{return typeof indexedDB=="object"}catch{return!1}}function hw(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var o;t(((o=a.error)==null?void 0:o.message)||"")}}catch(e){t(e)}})}function xS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="FirebaseError";class go extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=IS,Object.setPrototypeOf(this,go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?CS(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new go(a,h,r)}}function CS(n,t){return n.replace(RS,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const RS=/\{\$([^}]+)}/g;function LS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Nu(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const o=n[a],c=t[a];if(tv(o)&&tv(c)){if(!Nu(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function tv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function If(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function Cf(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function kS(n,t){const e=new OS(n,t);return e.subscribe.bind(e)}class OS{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");DS(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=eg),a.error===void 0&&(a.error=eg),a.complete===void 0&&(a.complete=eg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DS(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=1e3,MS=2,US=14400*1e3,VS=.5;function ev(n,t=PS,e=MS){const r=t*Math.pow(e,n),a=Math.round(VS*r*(Math.random()-.5)*2);return Math.min(US,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n){return n&&n._delegate?n._delegate:n}class ho{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new yS;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FS(t))try{this.getOrInitializeService({instanceIdentifier:ec})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(t=ec){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ec){return this.instances.has(t)}getOptions(t=ec){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&t(o,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BS(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ec){return this.component?this.component.multipleInstances?t:ec:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BS(n){return n===ec?void 0:n}function FS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new jS(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(_n||(_n={}));const zS={debug:_n.DEBUG,verbose:_n.VERBOSE,info:_n.INFO,warn:_n.WARN,error:_n.ERROR,silent:_n.SILENT},HS=_n.INFO,GS={[_n.DEBUG]:"log",[_n.VERBOSE]:"log",[_n.INFO]:"info",[_n.WARN]:"warn",[_n.ERROR]:"error"},YS=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),a=GS[t];if(a)console[a](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=HS,this._logHandler=YS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _n))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_n.DEBUG,...t),this._logHandler(this,_n.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_n.VERBOSE,...t),this._logHandler(this,_n.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_n.INFO,...t),this._logHandler(this,_n.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_n.WARN,...t),this._logHandler(this,_n.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_n.ERROR,...t),this._logHandler(this,_n.ERROR,...t)}}const KS=(n,t)=>t.some(e=>n instanceof e);let nv,iv;function WS(){return nv||(nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XS(){return iv||(iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fw=new WeakMap,Vg=new WeakMap,dw=new WeakMap,ng=new WeakMap,S0=new WeakMap;function QS(n){const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(wu(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&fw.set(e,n)}).catch(()=>{}),S0.set(t,n),t}function $S(n){if(Vg.has(n))return;const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Vg.set(n,t)}let jg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Vg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||dw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return wu(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function JS(n){jg=n(jg)}function ZS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(ig(this),t,...e);return dw.set(r,t.sort?t.sort():[t]),wu(r)}:XS().includes(n)?function(...t){return n.apply(ig(this),t),wu(fw.get(this))}:function(...t){return wu(n.apply(ig(this),t))}}function t6(n){return typeof n=="function"?ZS(n):(n instanceof IDBTransaction&&$S(n),KS(n,WS())?new Proxy(n,jg):n)}function wu(n){if(n instanceof IDBRequest)return QS(n);if(ng.has(n))return ng.get(n);const t=t6(n);return t!==n&&(ng.set(n,t),S0.set(t,n)),t}const ig=n=>S0.get(n);function pw(n,t,{blocked:e,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=wu(c);return r&&c.addEventListener("upgradeneeded",f=>{r(wu(c.result),f.oldVersion,f.newVersion,wu(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const e6=["get","getKey","getAll","getAllKeys","count"],n6=["put","add","delete","clear"],rg=new Map;function rv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(rg.get(t))return rg.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=n6.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||e6.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),a&&f.done]))[0]};return rg.set(t,o),o}JS(n=>({...n,get:(t,e,r)=>rv(t,e)||n.get(t,e,r),has:(t,e)=>!!rv(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(r6(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function r6(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bg="@firebase/app",sv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new pm("@firebase/app"),s6="@firebase/app-compat",a6="@firebase/analytics-compat",o6="@firebase/analytics",l6="@firebase/app-check-compat",u6="@firebase/app-check",c6="@firebase/auth",h6="@firebase/auth-compat",f6="@firebase/database",d6="@firebase/data-connect",p6="@firebase/database-compat",m6="@firebase/functions",g6="@firebase/functions-compat",y6="@firebase/installations",v6="@firebase/installations-compat",_6="@firebase/messaging",b6="@firebase/messaging-compat",w6="@firebase/performance",A6="@firebase/performance-compat",E6="@firebase/remote-config",S6="@firebase/remote-config-compat",T6="@firebase/storage",N6="@firebase/storage-compat",x6="@firebase/firestore",I6="@firebase/ai",C6="@firebase/firestore-compat",R6="firebase",L6="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="[DEFAULT]",k6={[Bg]:"fire-core",[s6]:"fire-core-compat",[o6]:"fire-analytics",[a6]:"fire-analytics-compat",[u6]:"fire-app-check",[l6]:"fire-app-check-compat",[c6]:"fire-auth",[h6]:"fire-auth-compat",[f6]:"fire-rtdb",[d6]:"fire-data-connect",[p6]:"fire-rtdb-compat",[m6]:"fire-fn",[g6]:"fire-fn-compat",[y6]:"fire-iid",[v6]:"fire-iid-compat",[_6]:"fire-fcm",[b6]:"fire-fcm-compat",[w6]:"fire-perf",[A6]:"fire-perf-compat",[E6]:"fire-rc",[S6]:"fire-rc-compat",[T6]:"fire-gcs",[N6]:"fire-gcs-compat",[x6]:"fire-fst",[C6]:"fire-fst-compat",[I6]:"fire-vertex","fire-js":"fire-js",[R6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new Map,O6=new Map,qg=new Map;function av(n,t){try{n.container.addComponent(t)}catch(e){Ol.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Jo(n){const t=n.name;if(qg.has(t))return Ol.debug(`There were multiple attempts to register component ${t}.`),!1;qg.set(t,n);for(const e of jp.values())av(e,n);for(const e of O6.values())av(e,n);return!0}function vc(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ua(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Au=new yc("app","Firebase",D6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Au.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=L6;function mw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Fg,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw Au.create("bad-app-name",{appName:String(a)});if(e||(e=sw()),!e)throw Au.create("no-options");const o=jp.get(a);if(o){if(Nu(e,o.options)&&Nu(r,o.config))return o;throw Au.create("duplicate-app",{appName:a})}const c=new qS(a);for(const f of qg.values())c.addComponent(f);const h=new P6(e,r,c);return jp.set(a,h),h}function T0(n=Fg){const t=jp.get(n);if(!t&&n===Fg&&sw())return mw();if(!t)throw Au.create("no-app",{appName:n});return t}function ja(n,t,e){let r=k6[n]??n;e&&(r+=`-${e}`);const a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${t}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ol.warn(c.join(" "));return}Jo(new ho(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="firebase-heartbeat-database",U6=1,qf="firebase-heartbeat-store";let sg=null;function gw(){return sg||(sg=pw(M6,U6,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(qf)}catch(e){console.warn(e)}}}}).catch(n=>{throw Au.create("idb-open",{originalErrorMessage:n.message})})),sg}async function V6(n){try{const e=(await gw()).transaction(qf),r=await e.objectStore(qf).get(yw(n));return await e.done,r}catch(t){if(t instanceof go)Ol.warn(t.message);else{const e=Au.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ol.warn(e.message)}}}async function ov(n,t){try{const r=(await gw()).transaction(qf,"readwrite");await r.objectStore(qf).put(t,yw(n)),await r.done}catch(e){if(e instanceof go)Ol.warn(e.message);else{const r=Au.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ol.warn(r.message)}}}function yw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=1024,B6=30;class F6{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new z6(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=lv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>B6){const c=H6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ol.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lv(),{heartbeatsToSend:r,unsentEntries:a}=q6(this._heartbeatsCache.heartbeats),o=Vp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ol.warn(e),""}}}function lv(){return new Date().toISOString().substring(0,10)}function q6(n,t=j6){const e=[];let r=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),uv(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),uv(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class z6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cw()?hw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await V6(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function uv(n){return Vp(JSON.stringify({version:2,heartbeats:n})).length}function H6(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(n){Jo(new ho("platform-logger",t=>new i6(t),"PRIVATE")),Jo(new ho("heartbeat",t=>new F6(t),"PRIVATE")),ja(Bg,sv,n),ja(Bg,sv,"esm2020"),ja("fire-js","")}G6("");var Y6="firebase",K6="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ja(Y6,K6,"app");function vw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W6=vw,_w=new yc("auth","Firebase",vw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new pm("@firebase/auth");function X6(n,...t){Bp.logLevel<=_n.WARN&&Bp.warn(`Auth (${Dh}): ${n}`,...t)}function wp(n,...t){Bp.logLevel<=_n.ERROR&&Bp.error(`Auth (${Dh}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(n,...t){throw N0(n,...t)}function Yo(n,...t){return N0(n,...t)}function bw(n,t,e){const r={...W6(),[t]:e};return new yc("auth","Firebase",r).create(t,{appName:n.name})}function kl(n){return bw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N0(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return _w.create(n,...t)}function Be(n,t,...e){if(!n)throw N0(t,...e)}function Rl(n){const t="INTERNAL ASSERTION FAILED: "+n;throw wp(t),new Error(t)}function Dl(n,t){n||Rl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function Q6(){return cv()==="http:"||cv()==="https:"}function cv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q6()||uw()||"connection"in navigator)?navigator.onLine:!0}function J6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,e){this.shortDelay=t,this.longDelay=e,Dl(e>t,"Short delay should be less than long delay!"),this.isMobile=wS()||SS()}get(){return $6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n,t){Dl(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eT=new ed(3e4,6e4);function Du(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Pu(n,t,e,r,a={}){return Aw(n,a,async()=>{let o={},c={};r&&(t==="GET"?c=r:o={body:JSON.stringify(r)});const h=td({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return ES()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Oh(n.emulatorConfig.host)&&(m.credentials="include"),ww.fetch()(await Ew(n,n.config.apiHost,e,h),m)})}async function Aw(n,t,e){n._canInitEmulator=!1;const r={...Z6,...t};try{const a=new iT(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw sp(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw sp(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw sp(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw sp(n,"user-disabled",c);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw bw(n,_,m);fo(n,_)}}catch(a){if(a instanceof go)throw a;fo(n,"network-request-failed",{message:String(a)})}}async function nd(n,t,e,r,a={}){const o=await Pu(n,t,e,r,a);return"mfaPendingCredential"in o&&fo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Ew(n,t,e,r){const a=`${t}${e}?${r}`,o=n,c=o.config.emulator?x0(n.config,a):`${n.config.apiScheme}://${a}`;return tT.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function nT(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Yo(this.auth,"network-request-failed")),eT.get())})}}function sp(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=Yo(n,t,r);return a.customData._tokenResponse=e,a}function hv(n){return n!==void 0&&n.enterprise!==void 0}class rT{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return nT(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sT(n,t){return Pu(n,"GET","/v2/recaptchaConfig",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(n,t){return Pu(n,"POST","/v1/accounts:delete",t)}async function Fp(n,t){return Pu(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oT(n,t=!1){const e=zi(n),r=await e.getIdToken(t),a=I0(r);Be(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Pf(ag(a.auth_time)),issuedAtTime:Pf(ag(a.iat)),expirationTime:Pf(ag(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ag(n){return Number(n)*1e3}function I0(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return wp("JWT malformed, contained fewer than 3 sections"),null;try{const a=iw(e);return a?JSON.parse(a):(wp("Failed to decode base64 JWT payload"),null)}catch(a){return wp("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function fv(n){const t=I0(n);return Be(t,"internal-error"),Be(typeof t.exp<"u","internal-error"),Be(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof go&&lT(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function lT({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pf(this.lastLoginAt),this.creationTime=Pf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(n){var E;const t=n.auth,e=await n.getIdToken(),r=await zf(n,Fp(t,{idToken:e}));Be(r==null?void 0:r.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=(E=a.providerUserInfo)!=null&&E.length?Sw(a.providerUserInfo):[],c=hT(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),m=h?f:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Hg(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function cT(n){const t=zi(n);await qp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hT(n,t){return[...n.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function Sw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(n,t){const e=await Aw(n,{},async()=>{const r=td({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await Ew(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&Oh(n.emulatorConfig.host)&&(f.credentials="include"),ww.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function dT(n,t){return Pu(n,"POST","/v2/accounts:revokeToken",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Be(t.idToken,"internal-error"),Be(typeof t.idToken<"u","internal-error"),Be(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Be(t.length!==0,"internal-error");const e=fv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:o}=await fT(t,e);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:o}=e,c=new mh;return r&&(Be(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Be(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(Be(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new mh,this.toJSON())}_performRefresh(){return Rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(n,t){Be(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class uo{constructor({uid:t,auth:e,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new uT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await zf(this,this.stsTokenManager.getToken(this.auth,t));return Be(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return oT(this,t)}reload(){return cT(this)}_assign(t){this!==t&&(Be(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new uo({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await qp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ua(this.auth.app))return Promise.reject(kl(this.auth));const t=await this.getIdToken();return await zf(this,aT(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:E,emailVerified:x,isAnonymous:w,providerData:j,stsTokenManager:q}=e;Be(E&&q,t,"internal-error");const U=mh.fromJSON(this.name,q);Be(typeof E=="string",t,"internal-error"),fu(r,t.name),fu(a,t.name),Be(typeof x=="boolean",t,"internal-error"),Be(typeof w=="boolean",t,"internal-error"),fu(o,t.name),fu(c,t.name),fu(h,t.name),fu(f,t.name),fu(m,t.name),fu(_,t.name);const B=new uo({uid:E,auth:t,email:a,emailVerified:x,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:U,createdAt:m,lastLoginAt:_});return j&&Array.isArray(j)&&(B.providerData=j.map(at=>({...at}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(t,e,r=!1){const a=new mh;a.updateFromServerResponse(e);const o=new uo({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await qp(o),o}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];Be(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?Sw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new mh;h.updateFromIdToken(r);const f=new uo({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Hg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;function Ll(n){Dl(n instanceof Function,"Expected a class definition");let t=dv.get(n);return t?(Dl(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,dv.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Tw.type="NONE";const pv=Tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,t,e){return`firebase:${n}:${t}:${e}`}class gh{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Ap(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ap("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Fp(this.auth,{idToken:t}).catch(()=>{});return e?uo._fromGetAccountInfoResponse(this.auth,e,t):null}return uo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new gh(Ll(pv),t,r);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Ll(pv);const c=Ap(r,t.config.apiKey,t.name);let h=null;for(const m of e)try{const _=await m._get(c);if(_){let E;if(typeof _=="string"){const x=await Fp(t,{idToken:_}).catch(()=>{});if(!x)break;E=await uo._fromGetAccountInfoResponse(t,x,_)}else E=uo._fromJSON(t,_);m!==o&&(h=E),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new gh(o,t,r):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new gh(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lw(t))return"Blackberry";if(kw(t))return"Webos";if(xw(t))return"Safari";if((t.includes("chrome/")||Iw(t))&&!t.includes("edge/"))return"Chrome";if(Rw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Nw(n=vs()){return/firefox\//i.test(n)}function xw(n=vs()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Iw(n=vs()){return/crios\//i.test(n)}function Cw(n=vs()){return/iemobile/i.test(n)}function Rw(n=vs()){return/android/i.test(n)}function Lw(n=vs()){return/blackberry/i.test(n)}function kw(n=vs()){return/webos/i.test(n)}function C0(n=vs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pT(n=vs()){var t;return C0(n)&&!!((t=window.navigator)!=null&&t.standalone)}function mT(){return TS()&&document.documentMode===10}function Ow(n=vs()){return C0(n)||Rw(n)||kw(n)||Lw(n)||/windows phone/i.test(n)||Cw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(n,t=[]){let e;switch(n){case"Browser":e=mv(vs());break;case"Worker":e=`${mv(vs())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Dh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(n,t={}){return Pu(n,"GET","/v2/passwordPolicy",Du(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=6;class _T{constructor(t){var r;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??vT,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new gT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_w,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ll(e)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await gh.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Fp(this,{idToken:t}),r=await uo._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var o;if(Ua(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(t);(!c||c===h)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await qp(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=J6()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ua(this.app))return Promise.reject(kl(this));const e=t?zi(t):null;return e&&Be(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Be(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ua(this.app)?Promise.reject(kl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ua(this.app)?Promise.reject(kl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ll(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yT(this),e=new _T(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new yc("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await dT(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ll(t)||this._popupRedirectResolver;Be(e,this,"argument-error"),this.redirectPersistenceManager=await gh.create(this,[Ll(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,r,a);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Dw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ua(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&X6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _c(n){return zi(n)}class gv{constructor(t){this.auth=t,this.observer=null,this.addObserver=kS(e=>this.observer=e)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wT(n){mm=n}function Pw(n){return mm.loadJS(n)}function AT(){return mm.recaptchaEnterpriseScript}function ET(){return mm.gapiScript}function ST(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class TT{constructor(){this.enterprise=new NT}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class NT{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const xT="recaptcha-enterprise",Mw="NO_RECAPTCHA";class IT{constructor(t){this.type=xT,this.auth=_c(t)}async verify(t="verify",e=!1){async function r(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{sT(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new rT(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function a(o,c,h){const f=window.grecaptcha;hv(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(m=>{c(m)}).catch(()=>{c(Mw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TT().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(h=>{if(!e&&hv(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=AT();f.length!==0&&(f+=h),Pw(f).then(()=>{a(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function yv(n,t,e,r=!1,a=!1){const o=new IT(n);let c;if(a)c=Mw;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Gg(n,t,e,r,a){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await yv(n,t,e,e==="getOobCode");return r(n,c)}else return r(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await yv(n,t,e,e==="getOobCode");return r(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n,t){const e=vc(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(Nu(o,t??{}))return a;fo(a,"already-initialized")}return e.initialize({options:t})}function RT(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(Ll);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function LT(n,t,e){const r=_c(n);Be(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,o=Uw(t),{host:c,port:h}=kT(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(Nu(m,r.config.emulator)&&Nu(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Oh(c)?(ow(`${o}//${c}${f}`),lw("Auth",!0)):OT()}function Uw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function kT(n){const t=Uw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:vv(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:vv(c)}}}function vv(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function OT(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Rl("not implemented")}_getIdTokenResponse(t){return Rl("not implemented")}_linkToIdToken(t,e){return Rl("not implemented")}_getReauthenticationResolver(t){return Rl("not implemented")}}async function DT(n,t){return Pu(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PT(n,t){return nd(n,"POST","/v1/accounts:signInWithPassword",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(n,t){return nd(n,"POST","/v1/accounts:signInWithEmailLink",Du(n,t))}async function UT(n,t){return nd(n,"POST","/v1/accounts:signInWithEmailLink",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends R0{constructor(t,e,r,a=null){super("password",r),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Hf(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Hf(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gg(t,e,"signInWithPassword",PT);case"emailLink":return MT(t,{email:this._email,oobCode:this._password});default:fo(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gg(t,r,"signUpPassword",DT);case"emailLink":return UT(t,{idToken:e,email:this._email,oobCode:this._password});default:fo(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(n,t){return nd(n,"POST","/v1/accounts:signInWithIdp",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="http://localhost";class uc extends R0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new uc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):fo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...o}=e;if(!r||!a)return null;const c=new uc(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return yh(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,yh(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,yh(t,e)}buildRequest(){const t={requestUri:VT,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=td(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BT(n){const t=If(Cf(n)).link,e=t?If(Cf(t)).deep_link_id:null,r=If(Cf(n)).deep_link_id;return(r?If(Cf(r)).link:null)||r||e||t||n}class L0{constructor(t){const e=If(Cf(t)),r=e.apiKey??null,a=e.oobCode??null,o=jT(e.mode??null);Be(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=BT(t);try{return new L0(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.providerId=Ph.PROVIDER_ID}static credential(t,e){return Hf._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=L0.parseLink(e);return Be(r,"argument-error"),Hf._fromEmailAndCode(t,r.code,r.tenantId)}}Ph.PROVIDER_ID="password";Ph.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ph.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends Vw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends id{constructor(){super("facebook.com")}static credential(t){return uc._fromParams({providerId:mu.PROVIDER_ID,signInMethod:mu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mu.credentialFromTaggedObject(t)}static credentialFromError(t){return mu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mu.credential(t.oauthAccessToken)}catch{return null}}}mu.FACEBOOK_SIGN_IN_METHOD="facebook.com";mu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends id{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return uc._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return gu.credentialFromTaggedObject(t)}static credentialFromError(t){return gu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return gu.credential(e,r)}catch{return null}}}gu.GOOGLE_SIGN_IN_METHOD="google.com";gu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends id{constructor(){super("github.com")}static credential(t){return uc._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yu.credentialFromTaggedObject(t)}static credentialFromError(t){return yu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yu.credential(t.oauthAccessToken)}catch{return null}}}yu.GITHUB_SIGN_IN_METHOD="github.com";yu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends id{constructor(){super("twitter.com")}static credential(t,e){return uc._fromParams({providerId:vu.PROVIDER_ID,signInMethod:vu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return vu.credentialFromTaggedObject(t)}static credentialFromError(t){return vu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return vu.credential(e,r)}catch{return null}}}vu.TWITTER_SIGN_IN_METHOD="twitter.com";vu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(n,t){return nd(n,"POST","/v1/accounts:signUp",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const o=await uo._fromIdTokenResponse(t,r,a),c=_v(r);return new cc({user:o,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=_v(r);return new cc({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function _v(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends go{constructor(t,e,r,a){super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,zp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new zp(t,e,r,a)}}function jw(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zp._fromErrorAndOperation(n,o,t,r):o})}async function qT(n,t,e=!1){const r=await zf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return cc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(n,t,e=!1){const{auth:r}=n;if(Ua(r.app))return Promise.reject(kl(r));const a="reauthenticate";try{const o=await zf(n,jw(r,a,t,n),e);Be(o.idToken,r,"internal-error");const c=I0(o.idToken);Be(c,r,"internal-error");const{sub:h}=c;return Be(n.uid===h,r,"user-mismatch"),cc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(n,t,e=!1){if(Ua(n.app))return Promise.reject(kl(n));const r="signIn",a=await jw(n,r,t),o=await cc._fromIdTokenResponse(n,r,a);return e||await n._updateCurrentUser(o.user),o}async function HT(n,t){return Bw(_c(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(n){const t=_c(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GT(n,t,e){if(Ua(n.app))return Promise.reject(kl(n));const r=_c(n),c=await Gg(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FT).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Fw(n),f}),h=await cc._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function YT(n,t,e){return Ua(n.app)?Promise.reject(kl(n)):HT(zi(n),Ph.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fw(n),r})}function KT(n,t,e,r){return zi(n).onIdTokenChanged(t,e,r)}function WT(n,t,e){return zi(n).beforeAuthStateChanged(t,e)}function XT(n,t,e,r){return zi(n).onAuthStateChanged(t,e,r)}function QT(n){return zi(n).signOut()}const Hp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Hp,"1"),this.storage.removeItem(Hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=1e3,JT=10;class zw extends qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ow(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);mT()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,JT):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},$T)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}zw.type="LOCAL";const ZT=zw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Hw.type="SESSION";const Gw=Hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new gm(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await tN(h);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=k0("",20);a.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(E){const x=E;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return window}function nN(n){Ko().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){return typeof Ko().WorkerGlobalScope<"u"&&typeof Ko().importScripts=="function"}async function iN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function sN(){return Yw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="firebaseLocalStorageDb",aN=1,Gp="firebaseLocalStorage",Ww="fbase_key";class rd{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ym(n,t){return n.transaction([Gp],t?"readwrite":"readonly").objectStore(Gp)}function oN(){const n=indexedDB.deleteDatabase(Kw);return new rd(n).toPromise()}function Yg(){const n=indexedDB.open(Kw,aN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gp,{keyPath:Ww})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Gp)?t(r):(r.close(),await oN(),t(await Yg()))})})}async function bv(n,t,e){const r=ym(n,!0).put({[Ww]:t,value:e});return new rd(r).toPromise()}async function lN(n,t){const e=ym(n,!1).get(t),r=await new rd(e).toPromise();return r===void 0?null:r.value}function wv(n,t){const e=ym(n,!0).delete(t);return new rd(e).toPromise()}const uN=800,cN=3;class Xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>cN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gm._getInstance(sN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await iN(),!this.activeServiceWorker)return;this.sender=new eN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yg();return await bv(t,Hp,"1"),await wv(t,Hp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>bv(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>lN(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>wv(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=ym(a,!1).getAll();return new rd(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xw.type="LOCAL";const hN=Xw;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n,t){return t?Ll(t):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends R0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yh(t,this._buildIdpRequest())}_linkToIdToken(t,e){return yh(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return yh(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function dN(n){return Bw(n.auth,new O0(n),n.bypassAuthState)}function pN(n){const{auth:t,user:e}=n;return Be(e,t,"internal-error"),zT(e,new O0(n),n.bypassAuthState)}async function mN(n){const{auth:t,user:e}=n;return Be(e,t,"internal-error"),qT(e,new O0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,e,r,a,o=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dN;case"linkViaPopup":case"linkViaRedirect":return mN;case"reauthViaPopup":case"reauthViaRedirect":return pN;default:fo(this.auth,"internal-error")}}resolve(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new ed(2e3,1e4);class dh extends Qw{constructor(t,e,r,a,o){super(t,e,a,o),this.provider=r,this.authWindow=null,this.pollId=null,dh.currentPopupAction&&dh.currentPopupAction.cancel(),dh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Be(t,this.auth,"internal-error"),t}async onExecution(){Dl(this.filter.length===1,"Popup operations only handle one event");const t=k0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Yo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Yo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if((r=(e=this.authWindow)==null?void 0:e.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gN.get())};t()}}dh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="pendingRedirect",Ep=new Map;class vN extends Qw{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Ep.get(this.auth._key());if(!t){try{const r=await _N(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Ep.set(this.auth._key(),t)}return this.bypassAuthState||Ep.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(n,t){const e=AN(t),r=wN(n);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function bN(n,t){Ep.set(n._key(),t)}function wN(n){return Ll(n._redirectPersistence)}function AN(n){return Ap(yN,n.config.apiKey,n.name)}async function EN(n,t,e=!1){if(Ua(n.app))return Promise.reject(kl(n));const r=_c(n),a=fN(r,t),c=await new vN(r,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=600*1e3;class TN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!NN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!$w(t)){const a=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";e.onError(Yo(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(t))}saveEventToCache(t){this.cachedEventUids.add(Av(t)),this.lastProcessedEventTime=Date.now()}}function Av(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function $w({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function NN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $w(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,t={}){return Pu(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CN=/^https?/;async function RN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await xN(n);for(const e of t)try{if(LN(e))return}catch{}fo(n,"unauthorized-domain")}function LN(n){const t=zg(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!CN.test(e))return!1;if(IN.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new ed(3e4,6e4);function Ev(){const n=Ko().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function ON(n){return new Promise((t,e)=>{var a,o,c;function r(){Ev(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ev(),e(Yo(n,"network-request-failed"))},timeout:kN.get()})}if((o=(a=Ko().gapi)==null?void 0:a.iframes)!=null&&o.Iframe)t(gapi.iframes.getContext());else if((c=Ko().gapi)!=null&&c.load)r();else{const h=ST("iframefcb");return Ko()[h]=()=>{gapi.load?r():e(Yo(n,"network-request-failed"))},Pw(`${ET()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw Sp=null,t})}let Sp=null;function DN(n){return Sp=Sp||ON(n),Sp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new ed(5e3,15e3),MN="__/auth/iframe",UN="emulator/auth/iframe",VN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(n){const t=n.config;Be(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?x0(t,UN):`https://${n.config.authDomain}/${MN}`,r={apiKey:t.apiKey,appName:n.name,v:Dh},a=jN.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${e}?${td(r).slice(1)}`}async function FN(n){const t=await DN(n),e=Ko().gapi;return Be(e,n,"internal-error"),t.open({where:document.body,url:BN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VN,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Yo(n,"network-request-failed"),h=Ko().setTimeout(()=>{o(c)},PN.get());function f(){Ko().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zN=500,HN=600,GN="_blank",YN="http://localhost";class Sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KN(n,t,e,r=zN,a=HN){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...qN,width:r.toString(),height:a.toString(),top:o,left:c},m=vs().toLowerCase();e&&(h=Iw(m)?GN:e),Nw(m)&&(t=t||YN,f.scrollbars="yes");const _=Object.entries(f).reduce((x,[w,j])=>`${x}${w}=${j},`,"");if(pT(m)&&h!=="_self")return WN(t||"",h),new Sv(null);const E=window.open(t||"",h,_);Be(E,n,"popup-blocked");try{E.focus()}catch{}return new Sv(E)}function WN(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__/auth/handler",QN="emulator/auth/handler",$N=encodeURIComponent("fac");async function Tv(n,t,e,r,a,o){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Dh,eventId:a};if(t instanceof Vw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",LS(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(t instanceof id){const _=t.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),m=f?`#${$N}=${encodeURIComponent(f)}`:"";return`${JN(n)}?${td(h).slice(1)}${m}`}function JN({config:n}){return n.emulator?x0(n,QN):`https://${n.authDomain}/${XN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class ZN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gw,this._completeRedirectFn=EN,this._overrideRedirectResult=bN}async _openPopup(t,e,r,a){var c;Dl((c=this.eventManagers[t._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const o=await Tv(t,e,r,zg(),a);return KN(t,o,k0())}async _openRedirect(t,e,r,a){await this._originValidation(t);const o=await Tv(t,e,r,zg(),a);return nN(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Dl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await FN(t),r=new TN(t);return e.register("authEvent",a=>(Be(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(og,{type:og},a=>{var c;const o=(c=a==null?void 0:a[0])==null?void 0:c[og];o!==void 0&&e(!!o),fo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=RN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ow()||xw()||C0()}}const tx=ZN;var Nv="@firebase/auth",xv="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ix(n){Jo(new ho("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Be(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dw(n)},m=new bT(r,a,o,f);return RT(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Jo(new ho("auth-internal",t=>{const e=_c(t.getProvider("auth").getImmediate());return(r=>new ex(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ja(Nv,xv,nx(n)),ja(Nv,xv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=300,sx=aw("authIdTokenMaxAge")||rx;let Iv=null;const ax=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>sx)return;const a=e==null?void 0:e.token;Iv!==a&&(Iv=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ox(n=T0()){const t=vc(n,"auth");if(t.isInitialized())return t.getImmediate();const e=CT(n,{popupRedirectResolver:tx,persistence:[hN,ZT,Gw]}),r=aw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=ax(o.toString());WT(e,c,()=>c(e.currentUser)),KT(e,h=>c(h))}}const a=rw("auth");return a&&LT(e,`http://${a}`),e}function lx(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}wT({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=a=>{const o=Yo("internal-error");o.customData=a,e(o)},r.type="text/javascript",r.charset="UTF-8",lx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ix("Browser");var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eu,Jw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,D){function k(){}k.prototype=D.prototype,z.F=D.prototype,z.prototype=new k,z.prototype.constructor=z,z.D=function(G,T,R){for(var L=Array(arguments.length-2),st=2;st<arguments.length;st++)L[st-2]=arguments[st];return D.prototype[T].apply(G,L)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,D,k){k||(k=0);const G=Array(16);if(typeof D=="string")for(var T=0;T<16;++T)G[T]=D.charCodeAt(k++)|D.charCodeAt(k++)<<8|D.charCodeAt(k++)<<16|D.charCodeAt(k++)<<24;else for(T=0;T<16;++T)G[T]=D[k++]|D[k++]<<8|D[k++]<<16|D[k++]<<24;D=z.g[0],k=z.g[1],T=z.g[2];let R=z.g[3],L;L=D+(R^k&(T^R))+G[0]+3614090360&4294967295,D=k+(L<<7&4294967295|L>>>25),L=R+(T^D&(k^T))+G[1]+3905402710&4294967295,R=D+(L<<12&4294967295|L>>>20),L=T+(k^R&(D^k))+G[2]+606105819&4294967295,T=R+(L<<17&4294967295|L>>>15),L=k+(D^T&(R^D))+G[3]+3250441966&4294967295,k=T+(L<<22&4294967295|L>>>10),L=D+(R^k&(T^R))+G[4]+4118548399&4294967295,D=k+(L<<7&4294967295|L>>>25),L=R+(T^D&(k^T))+G[5]+1200080426&4294967295,R=D+(L<<12&4294967295|L>>>20),L=T+(k^R&(D^k))+G[6]+2821735955&4294967295,T=R+(L<<17&4294967295|L>>>15),L=k+(D^T&(R^D))+G[7]+4249261313&4294967295,k=T+(L<<22&4294967295|L>>>10),L=D+(R^k&(T^R))+G[8]+1770035416&4294967295,D=k+(L<<7&4294967295|L>>>25),L=R+(T^D&(k^T))+G[9]+2336552879&4294967295,R=D+(L<<12&4294967295|L>>>20),L=T+(k^R&(D^k))+G[10]+4294925233&4294967295,T=R+(L<<17&4294967295|L>>>15),L=k+(D^T&(R^D))+G[11]+2304563134&4294967295,k=T+(L<<22&4294967295|L>>>10),L=D+(R^k&(T^R))+G[12]+1804603682&4294967295,D=k+(L<<7&4294967295|L>>>25),L=R+(T^D&(k^T))+G[13]+4254626195&4294967295,R=D+(L<<12&4294967295|L>>>20),L=T+(k^R&(D^k))+G[14]+2792965006&4294967295,T=R+(L<<17&4294967295|L>>>15),L=k+(D^T&(R^D))+G[15]+1236535329&4294967295,k=T+(L<<22&4294967295|L>>>10),L=D+(T^R&(k^T))+G[1]+4129170786&4294967295,D=k+(L<<5&4294967295|L>>>27),L=R+(k^T&(D^k))+G[6]+3225465664&4294967295,R=D+(L<<9&4294967295|L>>>23),L=T+(D^k&(R^D))+G[11]+643717713&4294967295,T=R+(L<<14&4294967295|L>>>18),L=k+(R^D&(T^R))+G[0]+3921069994&4294967295,k=T+(L<<20&4294967295|L>>>12),L=D+(T^R&(k^T))+G[5]+3593408605&4294967295,D=k+(L<<5&4294967295|L>>>27),L=R+(k^T&(D^k))+G[10]+38016083&4294967295,R=D+(L<<9&4294967295|L>>>23),L=T+(D^k&(R^D))+G[15]+3634488961&4294967295,T=R+(L<<14&4294967295|L>>>18),L=k+(R^D&(T^R))+G[4]+3889429448&4294967295,k=T+(L<<20&4294967295|L>>>12),L=D+(T^R&(k^T))+G[9]+568446438&4294967295,D=k+(L<<5&4294967295|L>>>27),L=R+(k^T&(D^k))+G[14]+3275163606&4294967295,R=D+(L<<9&4294967295|L>>>23),L=T+(D^k&(R^D))+G[3]+4107603335&4294967295,T=R+(L<<14&4294967295|L>>>18),L=k+(R^D&(T^R))+G[8]+1163531501&4294967295,k=T+(L<<20&4294967295|L>>>12),L=D+(T^R&(k^T))+G[13]+2850285829&4294967295,D=k+(L<<5&4294967295|L>>>27),L=R+(k^T&(D^k))+G[2]+4243563512&4294967295,R=D+(L<<9&4294967295|L>>>23),L=T+(D^k&(R^D))+G[7]+1735328473&4294967295,T=R+(L<<14&4294967295|L>>>18),L=k+(R^D&(T^R))+G[12]+2368359562&4294967295,k=T+(L<<20&4294967295|L>>>12),L=D+(k^T^R)+G[5]+4294588738&4294967295,D=k+(L<<4&4294967295|L>>>28),L=R+(D^k^T)+G[8]+2272392833&4294967295,R=D+(L<<11&4294967295|L>>>21),L=T+(R^D^k)+G[11]+1839030562&4294967295,T=R+(L<<16&4294967295|L>>>16),L=k+(T^R^D)+G[14]+4259657740&4294967295,k=T+(L<<23&4294967295|L>>>9),L=D+(k^T^R)+G[1]+2763975236&4294967295,D=k+(L<<4&4294967295|L>>>28),L=R+(D^k^T)+G[4]+1272893353&4294967295,R=D+(L<<11&4294967295|L>>>21),L=T+(R^D^k)+G[7]+4139469664&4294967295,T=R+(L<<16&4294967295|L>>>16),L=k+(T^R^D)+G[10]+3200236656&4294967295,k=T+(L<<23&4294967295|L>>>9),L=D+(k^T^R)+G[13]+681279174&4294967295,D=k+(L<<4&4294967295|L>>>28),L=R+(D^k^T)+G[0]+3936430074&4294967295,R=D+(L<<11&4294967295|L>>>21),L=T+(R^D^k)+G[3]+3572445317&4294967295,T=R+(L<<16&4294967295|L>>>16),L=k+(T^R^D)+G[6]+76029189&4294967295,k=T+(L<<23&4294967295|L>>>9),L=D+(k^T^R)+G[9]+3654602809&4294967295,D=k+(L<<4&4294967295|L>>>28),L=R+(D^k^T)+G[12]+3873151461&4294967295,R=D+(L<<11&4294967295|L>>>21),L=T+(R^D^k)+G[15]+530742520&4294967295,T=R+(L<<16&4294967295|L>>>16),L=k+(T^R^D)+G[2]+3299628645&4294967295,k=T+(L<<23&4294967295|L>>>9),L=D+(T^(k|~R))+G[0]+4096336452&4294967295,D=k+(L<<6&4294967295|L>>>26),L=R+(k^(D|~T))+G[7]+1126891415&4294967295,R=D+(L<<10&4294967295|L>>>22),L=T+(D^(R|~k))+G[14]+2878612391&4294967295,T=R+(L<<15&4294967295|L>>>17),L=k+(R^(T|~D))+G[5]+4237533241&4294967295,k=T+(L<<21&4294967295|L>>>11),L=D+(T^(k|~R))+G[12]+1700485571&4294967295,D=k+(L<<6&4294967295|L>>>26),L=R+(k^(D|~T))+G[3]+2399980690&4294967295,R=D+(L<<10&4294967295|L>>>22),L=T+(D^(R|~k))+G[10]+4293915773&4294967295,T=R+(L<<15&4294967295|L>>>17),L=k+(R^(T|~D))+G[1]+2240044497&4294967295,k=T+(L<<21&4294967295|L>>>11),L=D+(T^(k|~R))+G[8]+1873313359&4294967295,D=k+(L<<6&4294967295|L>>>26),L=R+(k^(D|~T))+G[15]+4264355552&4294967295,R=D+(L<<10&4294967295|L>>>22),L=T+(D^(R|~k))+G[6]+2734768916&4294967295,T=R+(L<<15&4294967295|L>>>17),L=k+(R^(T|~D))+G[13]+1309151649&4294967295,k=T+(L<<21&4294967295|L>>>11),L=D+(T^(k|~R))+G[4]+4149444226&4294967295,D=k+(L<<6&4294967295|L>>>26),L=R+(k^(D|~T))+G[11]+3174756917&4294967295,R=D+(L<<10&4294967295|L>>>22),L=T+(D^(R|~k))+G[2]+718787259&4294967295,T=R+(L<<15&4294967295|L>>>17),L=k+(R^(T|~D))+G[9]+3951481745&4294967295,z.g[0]=z.g[0]+D&4294967295,z.g[1]=z.g[1]+(T+(L<<21&4294967295|L>>>11))&4294967295,z.g[2]=z.g[2]+T&4294967295,z.g[3]=z.g[3]+R&4294967295}r.prototype.v=function(z,D){D===void 0&&(D=z.length);const k=D-this.blockSize,G=this.C;let T=this.h,R=0;for(;R<D;){if(T==0)for(;R<=k;)a(this,z,R),R+=this.blockSize;if(typeof z=="string"){for(;R<D;)if(G[T++]=z.charCodeAt(R++),T==this.blockSize){a(this,G),T=0;break}}else for(;R<D;)if(G[T++]=z[R++],T==this.blockSize){a(this,G),T=0;break}}this.h=T,this.o+=D},r.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var D=1;D<z.length-8;++D)z[D]=0;D=this.o*8;for(var k=z.length-8;k<z.length;++k)z[k]=D&255,D/=256;for(this.v(z),z=Array(16),D=0,k=0;k<4;++k)for(let G=0;G<32;G+=8)z[D++]=this.g[k]>>>G&255;return z};function o(z,D){var k=h;return Object.prototype.hasOwnProperty.call(k,z)?k[z]:k[z]=D(z)}function c(z,D){this.h=D;const k=[];let G=!0;for(let T=z.length-1;T>=0;T--){const R=z[T]|0;G&&R==D||(k[T]=R,G=!1)}this.g=k}var h={};function f(z){return-128<=z&&z<128?o(z,function(D){return new c([D|0],D<0?-1:0)}):new c([z|0],z<0?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return E;if(z<0)return U(m(-z));const D=[];let k=1;for(let G=0;z>=k;G++)D[G]=z/k|0,k*=4294967296;return new c(D,0)}function _(z,D){if(z.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(z.charAt(0)=="-")return U(_(z.substring(1),D));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=m(Math.pow(D,8));let G=E;for(let R=0;R<z.length;R+=8){var T=Math.min(8,z.length-R);const L=parseInt(z.substring(R,R+T),D);T<8?(T=m(Math.pow(D,T)),G=G.j(T).add(m(L))):(G=G.j(k),G=G.add(m(L)))}return G}var E=f(0),x=f(1),w=f(16777216);n=c.prototype,n.m=function(){if(q(this))return-U(this).m();let z=0,D=1;for(let k=0;k<this.g.length;k++){const G=this.i(k);z+=(G>=0?G:4294967296+G)*D,D*=4294967296}return z},n.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(j(this))return"0";if(q(this))return"-"+U(this).toString(z);const D=m(Math.pow(z,6));var k=this;let G="";for(;;){const T=nt(k,D).g;k=B(k,T.j(D));let R=((k.g.length>0?k.g[0]:k.h)>>>0).toString(z);if(k=T,j(k))return R+G;for(;R.length<6;)R="0"+R;G=R+G}},n.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function j(z){if(z.h!=0)return!1;for(let D=0;D<z.g.length;D++)if(z.g[D]!=0)return!1;return!0}function q(z){return z.h==-1}n.l=function(z){return z=B(this,z),q(z)?-1:j(z)?0:1};function U(z){const D=z.g.length,k=[];for(let G=0;G<D;G++)k[G]=~z.g[G];return new c(k,~z.h).add(x)}n.abs=function(){return q(this)?U(this):this},n.add=function(z){const D=Math.max(this.g.length,z.g.length),k=[];let G=0;for(let T=0;T<=D;T++){let R=G+(this.i(T)&65535)+(z.i(T)&65535),L=(R>>>16)+(this.i(T)>>>16)+(z.i(T)>>>16);G=L>>>16,R&=65535,L&=65535,k[T]=L<<16|R}return new c(k,k[k.length-1]&-2147483648?-1:0)};function B(z,D){return z.add(U(D))}n.j=function(z){if(j(this)||j(z))return E;if(q(this))return q(z)?U(this).j(U(z)):U(U(this).j(z));if(q(z))return U(this.j(U(z)));if(this.l(w)<0&&z.l(w)<0)return m(this.m()*z.m());const D=this.g.length+z.g.length,k=[];for(var G=0;G<2*D;G++)k[G]=0;for(G=0;G<this.g.length;G++)for(let T=0;T<z.g.length;T++){const R=this.i(G)>>>16,L=this.i(G)&65535,st=z.i(T)>>>16,bt=z.i(T)&65535;k[2*G+2*T]+=L*bt,at(k,2*G+2*T),k[2*G+2*T+1]+=R*bt,at(k,2*G+2*T+1),k[2*G+2*T+1]+=L*st,at(k,2*G+2*T+1),k[2*G+2*T+2]+=R*st,at(k,2*G+2*T+2)}for(z=0;z<D;z++)k[z]=k[2*z+1]<<16|k[2*z];for(z=D;z<2*D;z++)k[z]=0;return new c(k,0)};function at(z,D){for(;(z[D]&65535)!=z[D];)z[D+1]+=z[D]>>>16,z[D]&=65535,D++}function it(z,D){this.g=z,this.h=D}function nt(z,D){if(j(D))throw Error("division by zero");if(j(z))return new it(E,E);if(q(z))return D=nt(U(z),D),new it(U(D.g),U(D.h));if(q(D))return D=nt(z,U(D)),new it(U(D.g),D.h);if(z.g.length>30){if(q(z)||q(D))throw Error("slowDivide_ only works with positive integers.");for(var k=x,G=D;G.l(z)<=0;)k=wt(k),G=wt(G);var T=Tt(k,1),R=Tt(G,1);for(G=Tt(G,2),k=Tt(k,2);!j(G);){var L=R.add(G);L.l(z)<=0&&(T=T.add(k),R=L),G=Tt(G,1),k=Tt(k,1)}return D=B(z,T.j(D)),new it(T,D)}for(T=E;z.l(D)>=0;){for(k=Math.max(1,Math.floor(z.m()/D.m())),G=Math.ceil(Math.log(k)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),R=m(k),L=R.j(D);q(L)||L.l(z)>0;)k-=G,R=m(k),L=R.j(D);j(R)&&(R=x),T=T.add(R),z=B(z,L)}return new it(T,z)}n.B=function(z){return nt(this,z).h},n.and=function(z){const D=Math.max(this.g.length,z.g.length),k=[];for(let G=0;G<D;G++)k[G]=this.i(G)&z.i(G);return new c(k,this.h&z.h)},n.or=function(z){const D=Math.max(this.g.length,z.g.length),k=[];for(let G=0;G<D;G++)k[G]=this.i(G)|z.i(G);return new c(k,this.h|z.h)},n.xor=function(z){const D=Math.max(this.g.length,z.g.length),k=[];for(let G=0;G<D;G++)k[G]=this.i(G)^z.i(G);return new c(k,this.h^z.h)};function wt(z){const D=z.g.length+1,k=[];for(let G=0;G<D;G++)k[G]=z.i(G)<<1|z.i(G-1)>>>31;return new c(k,z.h)}function Tt(z,D){const k=D>>5;D%=32;const G=z.g.length-k,T=[];for(let R=0;R<G;R++)T[R]=D>0?z.i(R+k)>>>D|z.i(R+k+1)<<32-D:z.i(R+k);return new c(T,z.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Jw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Eu=c}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zw,Rf,t4,Tp,Kg,e4,n4,i4;(function(){var n,t=Object.defineProperty;function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ap=="object"&&ap];for(var S=0;S<p.length;++S){var C=p[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=e(this);function a(p,S){if(S)t:{var C=r;p=p.split(".");for(var W=0;W<p.length-1;W++){var At=p[W];if(!(At in C))break t;C=C[At]}p=p[p.length-1],W=C[p],S=S(W),S!=W&&S!=null&&t(C,p,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(S){var C=[],W;for(W in S)Object.prototype.hasOwnProperty.call(S,W)&&C.push([W,S[W]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function f(p,S,C){return p.call.apply(p.bind,arguments)}function m(p,S,C){return m=f,m.apply(null,arguments)}function _(p,S){var C=Array.prototype.slice.call(arguments,1);return function(){var W=C.slice();return W.push.apply(W,arguments),p.apply(this,W)}}function E(p,S){function C(){}C.prototype=S.prototype,p.Z=S.prototype,p.prototype=new C,p.prototype.constructor=p,p.Ob=function(W,At,Lt){for(var $t=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)$t[qe-2]=arguments[qe];return S.prototype[At].apply(W,$t)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const S=p.length;if(S>0){const C=Array(S);for(let W=0;W<S;W++)C[W]=p[W];return C}return[]}function j(p,S){for(let W=1;W<arguments.length;W++){const At=arguments[W];var C=typeof At;if(C=C!="object"?C:At?Array.isArray(At)?"array":C:"null",C=="array"||C=="object"&&typeof At.length=="number"){C=p.length||0;const Lt=At.length||0;p.length=C+Lt;for(let $t=0;$t<Lt;$t++)p[C+$t]=At[$t]}else p.push(At)}}class q{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function U(p){c.setTimeout(()=>{throw p},0)}function B(){var p=z;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class at{constructor(){this.h=this.g=null}add(S,C){const W=it.get();W.set(S,C),this.h?this.h.next=W:this.g=W,this.h=W}}var it=new q(()=>new nt,p=>p.reset());class nt{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,Tt=!1,z=new at,D=()=>{const p=Promise.resolve(void 0);wt=()=>{p.then(k)}};function k(){for(var p;p=B();){try{p.h.call(p.g)}catch(C){U(C)}var S=it;S.j(p),S.h<100&&(S.h++,p.next=S.g,S.g=p)}Tt=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};c.addEventListener("test",C,S),c.removeEventListener("test",C,S)}catch{}return p})();function L(p){return/^[\s\xa0]*$/.test(p)}function st(p,S){T.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,S)}E(st,T),st.prototype.init=function(p,S){const C=this.type=p.type,W=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget,S||(C=="mouseover"?S=p.fromElement:C=="mouseout"&&(S=p.toElement)),this.relatedTarget=S,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),rt=0;function ft(p,S,C,W,At){this.listener=p,this.proxy=null,this.src=S,this.type=C,this.capture=!!W,this.ha=At,this.key=++rt,this.da=this.fa=!1}function ht(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function xt(p,S,C){for(const W in p)S.call(C,p[W],W,p)}function zt(p,S){for(const C in p)S.call(void 0,p[C],C,p)}function Q(p){const S={};for(const C in p)S[C]=p[C];return S}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(p,S){let C,W;for(let At=1;At<arguments.length;At++){W=arguments[At];for(C in W)p[C]=W[C];for(let Lt=0;Lt<O.length;Lt++)C=O[Lt],Object.prototype.hasOwnProperty.call(W,C)&&(p[C]=W[C])}}function $(p){this.src=p,this.g={},this.h=0}$.prototype.add=function(p,S,C,W,At){const Lt=p.toString();p=this.g[Lt],p||(p=this.g[Lt]=[],this.h++);const $t=ut(p,S,W,At);return $t>-1?(S=p[$t],C||(S.fa=!1)):(S=new ft(S,this.src,Lt,!!W,At),S.fa=C,p.push(S)),S};function ot(p,S){const C=S.type;if(C in p.g){var W=p.g[C],At=Array.prototype.indexOf.call(W,S,void 0),Lt;(Lt=At>=0)&&Array.prototype.splice.call(W,At,1),Lt&&(ht(S),p.g[C].length==0&&(delete p.g[C],p.h--))}}function ut(p,S,C,W){for(let At=0;At<p.length;++At){const Lt=p[At];if(!Lt.da&&Lt.listener==S&&Lt.capture==!!C&&Lt.ha==W)return At}return-1}var mt="closure_lm_"+(Math.random()*1e6|0),kt={};function Rt(p,S,C,W,At){if(Array.isArray(S)){for(let Lt=0;Lt<S.length;Lt++)Rt(p,S[Lt],C,W,At);return null}return C=Te(C),p&&p[bt]?p.J(S,C,h(W)?!!W.capture:!1,At):jt(p,S,C,!1,W,At)}function jt(p,S,C,W,At,Lt){if(!S)throw Error("Invalid event type");const $t=h(At)?!!At.capture:!!At;let qe=Zt(p);if(qe||(p[mt]=qe=new $(p)),C=qe.add(S,C,W,$t,Lt),C.proxy)return C;if(W=Qt(),C.proxy=W,W.src=p,W.listener=C,p.addEventListener)R||(At=$t),At===void 0&&(At=!1),p.addEventListener(S.toString(),W,At);else if(p.attachEvent)p.attachEvent(ue(S.toString()),W);else if(p.addListener&&p.removeListener)p.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Qt(){function p(C){return S.call(p.src,p.listener,C)}const S=J;return p}function ee(p,S,C,W,At){if(Array.isArray(S))for(var Lt=0;Lt<S.length;Lt++)ee(p,S[Lt],C,W,At);else W=h(W)?!!W.capture:!!W,C=Te(C),p&&p[bt]?(p=p.i,Lt=String(S).toString(),Lt in p.g&&(S=p.g[Lt],C=ut(S,C,W,At),C>-1&&(ht(S[C]),Array.prototype.splice.call(S,C,1),S.length==0&&(delete p.g[Lt],p.h--)))):p&&(p=Zt(p))&&(S=p.g[S.toString()],p=-1,S&&(p=ut(S,C,W,At)),(C=p>-1?S[p]:null)&&te(C))}function te(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[bt])ot(S.i,p);else{var C=p.type,W=p.proxy;S.removeEventListener?S.removeEventListener(C,W,p.capture):S.detachEvent?S.detachEvent(ue(C),W):S.addListener&&S.removeListener&&S.removeListener(W),(C=Zt(S))?(ot(C,p),C.h==0&&(C.src=null,S[mt]=null)):ht(p)}}}function ue(p){return p in kt?kt[p]:kt[p]="on"+p}function J(p,S){if(p.da)p=!0;else{S=new st(S,this);const C=p.listener,W=p.ha||p.src;p.fa&&te(p),p=C.call(W,S)}return p}function Zt(p){return p=p[mt],p instanceof $?p:null}var Ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function Te(p){return typeof p=="function"?p:(p[Ye]||(p[Ye]=function(S){return p.handleEvent(S)}),p[Ye])}function Ft(){G.call(this),this.i=new $(this),this.M=this,this.G=null}E(Ft,G),Ft.prototype[bt]=!0,Ft.prototype.removeEventListener=function(p,S,C,W){ee(this,p,S,C,W)};function ie(p,S){var C,W=p.G;if(W)for(C=[];W;W=W.G)C.push(W);if(p=p.M,W=S.type||S,typeof S=="string")S=new T(S,p);else if(S instanceof T)S.target=S.target||p;else{var At=S;S=new T(W,p),Y(S,At)}At=!0;let Lt,$t;if(C)for($t=C.length-1;$t>=0;$t--)Lt=S.g=C[$t],At=ne(Lt,W,!0,S)&&At;if(Lt=S.g=p,At=ne(Lt,W,!0,S)&&At,At=ne(Lt,W,!1,S)&&At,C)for($t=0;$t<C.length;$t++)Lt=S.g=C[$t],At=ne(Lt,W,!1,S)&&At}Ft.prototype.N=function(){if(Ft.Z.N.call(this),this.i){var p=this.i;for(const S in p.g){const C=p.g[S];for(let W=0;W<C.length;W++)ht(C[W]);delete p.g[S],p.h--}}this.G=null},Ft.prototype.J=function(p,S,C,W){return this.i.add(String(p),S,!1,C,W)},Ft.prototype.K=function(p,S,C,W){return this.i.add(String(p),S,!0,C,W)};function ne(p,S,C,W){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();let At=!0;for(let Lt=0;Lt<S.length;++Lt){const $t=S[Lt];if($t&&!$t.da&&$t.capture==C){const qe=$t.listener,Zn=$t.ha||$t.src;$t.fa&&ot(p.i,$t),At=qe.call(Zn,W)!==!1&&At}}return At&&!W.defaultPrevented}function xe(p,S){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(p,S||0)}function _e(p){p.g=xe(()=>{p.g=null,p.i&&(p.i=!1,_e(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class Ke extends G{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(p){G.call(this),this.h=p,this.g={}}E(Je,G);var je=[];function sn(p){xt(p.g,function(S,C){this.g.hasOwnProperty(C)&&te(S)},p),p.g={}}Je.prototype.N=function(){Je.Z.N.call(this),sn(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=c.JSON.stringify,me=c.JSON.parse,ze=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function ge(){}function ci(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ne(){T.call(this,"d")}E(Ne,T);function Me(){T.call(this,"c")}E(Me,T);var We={},we=null;function In(){return we=we||new Ft}We.Ia="serverreachability";function De(p){T.call(this,We.Ia,p)}E(De,T);function Pe(p){const S=In();ie(S,new De(S))}We.STAT_EVENT="statevent";function Ln(p,S){T.call(this,We.STAT_EVENT,p),this.stat=S}E(Ln,T);function be(p){const S=In();ie(S,new Ln(S,p))}We.Ja="timingevent";function ye(p,S){T.call(this,We.Ja,p),this.size=S}E(ye,T);function an(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},S)}function hr(){this.g=!0}hr.prototype.ua=function(){this.g=!1};function Zi(p,S,C,W,At,Lt){p.info(function(){if(p.g)if(Lt){var $t="",qe=Lt.split("&");for(let ln=0;ln<qe.length;ln++){var Zn=qe[ln].split("=");if(Zn.length>1){const Dn=Zn[0];Zn=Zn[1];const ir=Dn.split("_");$t=ir.length>=2&&ir[1]=="type"?$t+(Dn+"="+Zn+"&"):$t+(Dn+"=redacted&")}}}else $t=null;else $t=Lt;return"XMLHTTP REQ ("+W+") [attempt "+At+"]: "+S+`
`+C+`
`+$t})}function Rs(p,S,C,W,At,Lt,$t){p.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+At+"]: "+S+`
`+C+`
`+Lt+" "+$t})}function Hi(p,S,C,W){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+ta(p,C)+(W?" "+W:"")})}function Ae(p,S){p.info(function(){return"TIMEOUT: "+S})}hr.prototype.info=function(){};function ta(p,S){if(!p.g)return S;if(!S)return null;try{const Lt=JSON.parse(S);if(Lt){for(p=0;p<Lt.length;p++)if(Array.isArray(Lt[p])){var C=Lt[p];if(!(C.length<2)){var W=C[1];if(Array.isArray(W)&&!(W.length<1)){var At=W[0];if(At!="noop"&&At!="stop"&&At!="close")for(let $t=1;$t<W.length;$t++)W[$t]=""}}}}return Xe(Lt)}catch{return S}}var Br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nr;function Fn(){}E(Fn,ge),Fn.prototype.g=function(){return new XMLHttpRequest},Nr=new Fn;function $n(p){return encodeURIComponent(String(p))}function Oi(p){var S=1;p=p.split(":");const C=[];for(;S>0&&p.length;)C.push(p.shift()),S--;return p.length&&C.push(p.join(":")),C}function fr(p,S,C,W){this.j=p,this.i=S,this.l=C,this.S=W||1,this.V=new Je(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}var kn={},Hn={};function Di(p,S,C){p.M=1,p.A=_a(_i(S)),p.u=C,p.R=!0,xr(p,null)}function xr(p,S){p.F=Date.now(),Ir(p),p.B=_i(p.A);var C=p.B,W=p.S;Array.isArray(W)||(W=[String(W)]),Ao(C.i,"t",W),p.C=0,C=p.j.L,p.h=new tr,p.g=ae(p.j,C?S:null,!p.u),p.P>0&&(p.O=new Ke(m(p.Y,p,p.g),p.P)),S=p.V,C=p.g,W=p.ba;var At="readystatechange";Array.isArray(At)||(At&&(je[0]=At.toString()),At=je);for(let Lt=0;Lt<At.length;Lt++){const $t=Rt(C,At[Lt],W||S.handleEvent,!1,S.h||S);if(!$t)break;S.g[$t.key]=$t}S=p.J?Q(p.J):{},p.u?(p.v||(p.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,S)):(p.v="GET",p.g.ea(p.B,p.v,null,S)),Pe(),Zi(p.i,p.v,p.B,p.l,p.S,p.u)}fr.prototype.ba=function(p){p=p.target;const S=this.O;S&&Yr(p)==3?S.j():this.Y(p)},fr.prototype.Y=function(p){try{if(p==this.g)t:{const qe=Yr(this.g),Zn=this.g.ya(),ln=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||xi(this.g)))){this.K||qe!=4||Zn==7||(Zn==8||ln<=0?Pe(3):Pe(2)),Fr(this);var S=this.g.ca();this.X=S;var C=is(this);if(this.o=S==200,Rs(this.i,this.v,this.B,this.l,this.S,qe,S),this.o){if(this.U&&!this.L){e:{if(this.g){var W,At=this.g;if((W=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(W)){var Lt=W;break e}}Lt=null}if(p=Lt)Hi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rs(this,p);else{this.o=!1,this.m=3,be(12),qr(this),dr(this);break t}}if(this.R){p=!0;let Dn;for(;!this.K&&this.C<C.length;)if(Dn=_s(this,C),Dn==Hn){qe==4&&(this.m=4,be(14),p=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==kn){this.m=4,be(15),Hi(this.i,this.l,C,"[Invalid Chunk]"),p=!1;break}else Hi(this.i,this.l,Dn,null),rs(this,Dn);if(va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||C.length!=0||this.h.h||(this.m=1,be(16),p=!1),this.o=this.o&&p,!p)Hi(this.i,this.l,C,"[Invalid Chunked Response]"),qr(this),dr(this);else if(C.length>0&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.aa&&!$t.P&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),No($t),$t.P=!0,be(11))}}else Hi(this.i,this.l,C,null),rs(this,C);qe==4&&qr(this),this.o&&!this.K&&(qe==4?tt(this.j,this):(this.o=!1,Ir(this)))}else Ls(this.g),S==400&&C.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),qr(this),dr(this)}}}catch{}finally{}};function is(p){if(!va(p))return p.g.la();const S=xi(p.g);if(S==="")return"";let C="";const W=S.length,At=Yr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return qr(p),dr(p),"";p.h.i=new c.TextDecoder}for(let Lt=0;Lt<W;Lt++)p.h.h=!0,C+=p.h.i.decode(S[Lt],{stream:!(At&&Lt==W-1)});return S.length=0,p.h.g+=C,p.C=0,p.h.g}function va(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function _s(p,S){var C=p.C,W=S.indexOf(`
`,C);return W==-1?Hn:(C=Number(S.substring(C,W)),isNaN(C)?kn:(W+=1,W+C>S.length?Hn:(S=S.slice(W,W+C),p.C=W+C,S)))}fr.prototype.cancel=function(){this.K=!0,qr(this)};function Ir(p){p.T=Date.now()+p.H,ea(p,p.H)}function ea(p,S){if(p.D!=null)throw Error("WatchDog timer not null");p.D=an(m(p.aa,p),S)}function Fr(p){p.D&&(c.clearTimeout(p.D),p.D=null)}fr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Ae(this.i,this.B),this.M!=2&&(Pe(),be(17)),qr(this),this.m=2,dr(this)):ea(this,this.T-p)};function dr(p){p.j.I==0||p.K||tt(p.j,p)}function qr(p){Fr(p);var S=p.O;S&&typeof S.dispose=="function"&&S.dispose(),p.O=null,sn(p.V),p.g&&(S=p.g,p.g=null,S.abort(),S.dispose())}function rs(p,S){try{var C=p.j;if(C.I!=0&&(C.g==p||bs(C.h,p))){if(!p.L&&bs(C.h,p)&&C.I==3){try{var W=C.Ba.g.parse(S)}catch{W=null}if(Array.isArray(W)&&W.length==3){var At=W;if(At[0]==0){t:if(!C.v){if(C.g)if(C.g.F+3e3<p.F)P(C),Os(C);else break t;Es(C),be(18)}}else C.xa=At[1],0<C.xa-C.K&&At[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=an(m(C.Va,C),6e3));ss(C.h)<=1&&C.ta&&(C.ta=void 0)}else yt(C,11)}else if((p.L||C.g==p)&&P(C),!L(S))for(At=C.Ba.g.parse(S),S=0;S<At.length;S++){let ln=At[S];const Dn=ln[0];if(!(Dn<=C.K))if(C.K=Dn,ln=ln[1],C.I==2)if(ln[0]=="c"){C.M=ln[1],C.ba=ln[2];const ir=ln[3];ir!=null&&(C.ka=ir,C.j.info("VER="+C.ka));const mr=ln[4];mr!=null&&(C.za=mr,C.j.info("SVER="+C.za));const Gn=ln[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(W=1.5*Gn,C.O=W,C.j.info("backChannelRequestTimeoutMs_="+W)),W=C;const gr=p.g;if(gr){const Ss=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var Lt=W.h;Lt.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&(Fa(Lt,Lt.h),Lt.h=null))}if(W.G){const Sa=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(W.wa=Sa,gn(W.J,W.G,Sa))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-p.F,C.j.info("Handshake RTT: "+C.T+"ms")),W=C;var $t=p;if(W.na=Kt(W,W.L?W.ba:null,W.W),$t.L){bo(W.h,$t);var qe=$t,Zn=W.O;Zn&&(qe.H=Zn),qe.D&&(Fr(qe),Ir(qe)),W.g=$t}else ol(W);C.i.length>0&&os(C)}else ln[0]!="stop"&&ln[0]!="close"||yt(C,7);else C.I==3&&(ln[0]=="stop"||ln[0]=="close"?ln[0]=="stop"?yt(C,7):Ea(C):ln[0]!="noop"&&C.l&&C.l.qa(ln),C.A=0)}}Pe(4)}catch{}}var fi=class{constructor(p,S){this.g=p,this.map=S}};function _o(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ss(p){return p.h?1:p.g?p.g.size:0}function bs(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function Fa(p,S){p.g?p.g.add(S):p.h=S}function bo(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}_o.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function wo(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const C of p.g.values())S=S.concat(C.G);return S}return w(p.i)}var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zr(p,S){if(p){p=p.split("&");for(let C=0;C<p.length;C++){const W=p[C].indexOf("=");let At,Lt=null;W>=0?(At=p[C].substring(0,W),Lt=p[C].substring(W+1)):At=p[C],S(At,Lt?decodeURIComponent(Lt.replace(/\+/g," ")):"")}}}function er(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;p instanceof er?(this.l=p.l,cn(this,p.j),this.o=p.o,this.g=p.g,na(this,p.u),this.h=p.h,as(this,Eo(p.i)),this.m=p.m):p&&(S=String(p).match(el))?(this.l=!1,cn(this,S[1]||"",!0),this.o=Ni(S[2]||""),this.g=Ni(S[3]||"",!0),na(this,S[4]),this.h=Ni(S[5]||"",!0),as(this,S[6]||"",!0),this.m=Ni(S[7]||"")):(this.l=!1,this.i=new ia(null,this.l))}er.prototype.toString=function(){const p=[];var S=this.j;S&&p.push(si(S,qa,!0),":");var C=this.g;return(C||S=="file")&&(p.push("//"),(S=this.o)&&p.push(si(S,qa,!0),"@"),p.push($n(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&p.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(si(C,C.charAt(0)=="/"?nl:Ul,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",si(C,il)),p.join("")},er.prototype.resolve=function(p){const S=_i(this);let C=!!p.j;C?cn(S,p.j):C=!!p.o,C?S.o=p.o:C=!!p.g,C?S.g=p.g:C=p.u!=null;var W=p.h;if(C)na(S,p.u);else if(C=!!p.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var At=S.h.lastIndexOf("/");At!=-1&&(W=S.h.slice(0,At+1)+W)}if(At=W,At==".."||At==".")W="";else if(At.indexOf("./")!=-1||At.indexOf("/.")!=-1){W=At.lastIndexOf("/",0)==0,At=At.split("/");const Lt=[];for(let $t=0;$t<At.length;){const qe=At[$t++];qe=="."?W&&$t==At.length&&Lt.push(""):qe==".."?((Lt.length>1||Lt.length==1&&Lt[0]!="")&&Lt.pop(),W&&$t==At.length&&Lt.push("")):(Lt.push(qe),W=!0)}W=Lt.join("/")}else W=At}return C?S.h=W:C=p.i.toString()!=="",C?as(S,Eo(p.i)):C=!!p.m,C&&(S.m=p.m),S};function _i(p){return new er(p)}function cn(p,S,C){p.j=C?Ni(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function na(p,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);p.u=S}else p.u=null}function as(p,S,C){S instanceof ia?(p.i=S,Rr(p.i,p.l)):(C||(S=si(S,pr)),p.i=new ia(S,p.l))}function gn(p,S,C){p.i.set(S,C)}function _a(p){return gn(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ni(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function si(p,S,C){return typeof p=="string"?(p=encodeURI(p).replace(S,bi),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function bi(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var qa=/[#\/\?@]/g,Ul=/[#\?:]/g,nl=/[#\?]/g,pr=/[#\?@]/g,il=/#/g;function ia(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Gi(p){p.g||(p.g=new Map,p.h=0,p.i&&zr(p.i,function(S,C){p.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}n=ia.prototype,n.add=function(p,S){Gi(this),this.i=null,p=ra(this,p);let C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(S),this.h+=1,this};function ba(p,S){Gi(p),S=ra(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function rl(p,S){return Gi(p),S=ra(p,S),p.g.has(S)}n.forEach=function(p,S){Gi(this),this.g.forEach(function(C,W){C.forEach(function(At){p.call(S,At,W,this)},this)},this)};function sl(p,S){Gi(p);let C=[];if(typeof S=="string")rl(p,S)&&(C=C.concat(p.g.get(ra(p,S))));else for(p=Array.from(p.g.values()),S=0;S<p.length;S++)C=C.concat(p[S]);return C}n.set=function(p,S){return Gi(this),this.i=null,p=ra(this,p),rl(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},n.get=function(p,S){return p?(p=sl(this,p),p.length>0?String(p[0]):S):S};function Ao(p,S,C){ba(p,S),C.length>0&&(p.i=null,p.g.set(ra(p,S),w(C)),p.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(let W=0;W<S.length;W++){var C=S[W];const At=$n(C);C=sl(this,C);for(let Lt=0;Lt<C.length;Lt++){let $t=At;C[Lt]!==""&&($t+="="+$n(C[Lt])),p.push($t)}}return this.i=p.join("&")};function Eo(p){const S=new ia;return S.i=p.i,p.g&&(S.g=new Map(p.g),S.h=p.h),S}function ra(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function Rr(p,S){S&&!p.j&&(Gi(p),p.i=null,p.g.forEach(function(C,W){const At=W.toLowerCase();W!=At&&(ba(this,W),Ao(this,At,C))},p)),p.j=S}function ws(p,S){const C=new hr;if(c.Image){const W=new Image;W.onload=_(Lr,C,"TestLoadImage: loaded",!0,S,W),W.onerror=_(Lr,C,"TestLoadImage: error",!1,S,W),W.onabort=_(Lr,C,"TestLoadImage: abort",!1,S,W),W.ontimeout=_(Lr,C,"TestLoadImage: timeout",!1,S,W),c.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=p}else S(!1)}function sa(p,S){const C=new hr,W=new AbortController,At=setTimeout(()=>{W.abort(),Lr(C,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:W.signal}).then(Lt=>{clearTimeout(At),Lt.ok?Lr(C,"TestPingServer: ok",!0,S):Lr(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(At),Lr(C,"TestPingServer: error",!1,S)})}function Lr(p,S,C,W,At){try{At&&(At.onload=null,At.onerror=null,At.onabort=null,At.ontimeout=null),W(C)}catch{}}function wa(){this.g=new ze}function Ie(p){this.i=p.Sb||null,this.h=p.ab||!1}E(Ie,ge),Ie.prototype.g=function(){return new za(this.i,this.h)};function za(p,S){Ft.call(this),this.H=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(za,Ft),n=za.prototype,n.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=S,this.readyState=1,Yi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(S.body=p),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;So(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function So(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?Aa(this):Yi(this),this.readyState==3&&So(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Aa(this))},n.Na=function(p){this.g&&(this.response=p,Aa(this))},n.ga=function(){this.g&&Aa(this)};function Aa(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Yi(p)}n.setRequestHeader=function(p,S){this.A.append(p,S)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=S.next();return p.join(`\r
`)};function Yi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Pi(p){let S="";return xt(p,function(C,W){S+=W,S+=":",S+=C,S+=`\r
`}),S}function Ha(p,S,C){t:{for(W in C){var W=!1;break t}W=!0}W||(C=Pi(C),typeof p=="string"?C!=null&&$n(C):gn(p,S,C))}function On(p){Ft.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(On,Ft);var Hr=/^https?$/i,Ga=["POST","PUT"];n=On.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,S,C,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nr.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(Lt){As(this,Lt);return}if(p=C||"",C=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var At in W)C.set(At,W[At]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const Lt of W.keys())C.set(Lt,W.get(Lt));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(C.keys()).find(Lt=>Lt.toLowerCase()=="content-type"),At=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Ga,S,void 0)>=0)||W||At||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,$t]of C)this.g.setRequestHeader(Lt,$t);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Lt){As(this,Lt)}};function As(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.o=5,al(p),aa(p)}function al(p){p.A||(p.A=!0,ie(p,"complete"),ie(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,ie(this,"complete"),ie(this,"abort"),aa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),aa(this,!0)),On.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},n.Xa=function(){Gr(this)};function Gr(p){if(p.h&&typeof o<"u"){if(p.v&&Yr(p)==4)setTimeout(p.Ca.bind(p),0);else if(ie(p,"readystatechange"),Yr(p)==4){p.h=!1;try{const Lt=p.ca();t:switch(Lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var C;if(!(C=S)){var W;if(W=Lt===0){let $t=String(p.D).match(el)[1]||null;!$t&&c.self&&c.self.location&&($t=c.self.location.protocol.slice(0,-1)),W=!Hr.test($t?$t.toLowerCase():"")}C=W}if(C)ie(p,"complete"),ie(p,"success");else{p.o=6;try{var At=Yr(p)>2?p.g.statusText:""}catch{At=""}p.l=At+" ["+p.ca()+"]",al(p)}}finally{aa(p)}}}}function aa(p,S){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const C=p.g;p.g=null,S||ie(p,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Yr(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Yr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),me(S)}};function xi(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ls(p){const S={};p=(p.g&&Yr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<p.length;W++){if(L(p[W]))continue;var C=Oi(p[W]);const At=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Lt=S[At]||[];S[At]=Lt,Lt.push(C)}zt(S,function(W){return W.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function nr(p,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||S}function ks(p){this.za=0,this.i=[],this.j=new hr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=nr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=nr("baseRetryDelayMs",5e3,p),this.Za=nr("retryDelaySeedMs",1e4,p),this.Ta=nr("forwardChannelMaxRetries",2,p),this.va=nr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(p&&p.concurrentRequestLimit),this.Ba=new wa,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ks.prototype,n.ka=8,n.I=1,n.connect=function(p,S,C,W){be(0),this.W=p,this.H=S||{},C&&W!==void 0&&(this.H.OSID=C,this.H.OAID=W),this.F=this.X,this.J=Kt(this,null,this.W),os(this)};function Ea(p){if(Ds(p),p.I==3){var S=p.V++,C=_i(p.J);if(gn(C,"SID",p.M),gn(C,"RID",S),gn(C,"TYPE","terminate"),Kr(p,C),S=new fr(p,p.j,S),S.M=2,S.A=_a(_i(C)),C=!1,c.navigator&&c.navigator.sendBeacon)try{C=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!C&&c.Image&&(new Image().src=S.A,C=!0),C||(S.g=ae(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Ir(S)}Ut(p)}function Os(p){p.g&&(No(p),p.g.cancel(),p.g=null)}function Ds(p){Os(p),p.v&&(c.clearTimeout(p.v),p.v=null),P(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function os(p){if(!Cr(p.h)&&!p.m){p.m=!0;var S=p.Ea;wt||D(),Tt||(wt(),Tt=!0),z.add(S,p),p.D=0}}function Ya(p,S){return ss(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=S.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=an(m(p.Ea,p,S),ct(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const At=new fr(this,this.j,p);let Lt=this.o;if(this.U&&(Lt?(Lt=Q(Lt),Y(Lt,this.U)):Lt=this.U),this.u!==null||this.R||(At.J=Lt,Lt=null),this.S)t:{for(var S=0,C=0;C<this.i.length;C++){e:{var W=this.i[C];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break e}W=void 0}if(W===void 0)break;if(S+=W,S>4096){S=C;break t}if(S===4096||C===this.i.length-1){S=C+1;break t}}S=1e3}else S=1e3;S=Ps(this,At,S),C=_i(this.J),gn(C,"RID",p),gn(C,"CVER",22),this.G&&gn(C,"X-HTTP-Session-Id",this.G),Kr(this,C),Lt&&(this.R?S="headers="+$n(Pi(Lt))+"&"+S:this.u&&Ha(C,this.u,Lt)),Fa(this.h,At),this.Ra&&gn(C,"TYPE","init"),this.S?(gn(C,"$req",S),gn(C,"SID","null"),At.U=!0,Di(At,C,null)):Di(At,C,S),this.I=2}}else this.I==3&&(p?To(this,p):this.i.length==0||Cr(this.h)||To(this))};function To(p,S){var C;S?C=S.l:C=p.V++;const W=_i(p.J);gn(W,"SID",p.M),gn(W,"RID",C),gn(W,"AID",p.K),Kr(p,W),p.u&&p.o&&Ha(W,p.u,p.o),C=new fr(p,p.j,C,p.D+1),p.u===null&&(C.J=p.o),S&&(p.i=S.G.concat(p.i)),S=Ps(p,C,1e3),C.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Fa(p.h,C),Di(C,W,S)}function Kr(p,S){p.H&&xt(p.H,function(C,W){gn(S,W,C)}),p.l&&xt({},function(C,W){gn(S,W,C)})}function Ps(p,S,C){C=Math.min(p.i.length,C);const W=p.l?m(p.l.Ka,p.l,p):null;t:{var At=p.i;let qe=-1;for(;;){const Zn=["count="+C];qe==-1?C>0?(qe=At[0].g,Zn.push("ofs="+qe)):qe=0:Zn.push("ofs="+qe);let ln=!0;for(let Dn=0;Dn<C;Dn++){var Lt=At[Dn].g;const ir=At[Dn].map;if(Lt-=qe,Lt<0)qe=Math.max(0,At[Dn].g-100),ln=!1;else try{Lt="req"+Lt+"_"||"";try{var $t=ir instanceof Map?ir:Object.entries(ir);for(const[mr,Gn]of $t){let gr=Gn;h(Gn)&&(gr=Xe(Gn)),Zn.push(Lt+mr+"="+encodeURIComponent(gr))}}catch(mr){throw Zn.push(Lt+"type="+encodeURIComponent("_badmap")),mr}}catch{W&&W(ir)}}if(ln){$t=Zn.join("&");break t}}$t=void 0}return p=p.i.splice(0,C),S.G=p,$t}function ol(p){if(!p.g&&!p.v){p.Y=1;var S=p.Da;wt||D(),Tt||(wt(),Tt=!0),z.add(S,p),p.A=0}}function Es(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=an(m(p.Da,p),ct(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,b(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=an(m(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Os(this),b(this))};function No(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function b(p){p.g=new fr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var S=_i(p.na);gn(S,"RID","rpc"),gn(S,"SID",p.M),gn(S,"AID",p.K),gn(S,"CI",p.F?"0":"1"),!p.F&&p.ia&&gn(S,"TO",p.ia),gn(S,"TYPE","xmlhttp"),Kr(p,S),p.u&&p.o&&Ha(S,p.u,p.o),p.O&&(p.g.H=p.O);var C=p.g;p=p.ba,C.M=1,C.A=_a(_i(S)),C.u=null,C.R=!0,xr(C,p)}n.Va=function(){this.C!=null&&(this.C=null,Os(this),Es(this),be(19))};function P(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function tt(p,S){var C=null;if(p.g==S){P(p),No(p),p.g=null;var W=2}else if(bs(p.h,S))C=S.G,bo(p.h,S),W=1;else return;if(p.I!=0){if(S.o)if(W==1){C=S.u?S.u.length:0,S=Date.now()-S.F;var At=p.D;W=In(),ie(W,new ye(W,C)),os(p)}else ol(p);else if(At=S.m,At==3||At==0&&S.X>0||!(W==1&&Ya(p,S)||W==2&&Es(p)))switch(C&&C.length>0&&(S=p.h,S.i=S.i.concat(C)),At){case 1:yt(p,5);break;case 4:yt(p,10);break;case 3:yt(p,6);break;default:yt(p,2)}}}function ct(p,S){let C=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(C*=2),C*S}function yt(p,S){if(p.j.info("Error code "+S),S==2){var C=m(p.bb,p),W=p.Ua;const At=!W;W=new er(W||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||cn(W,"https"),_a(W),At?ws(W.toString(),C):sa(W.toString(),C)}else be(2);p.I=0,p.l&&p.l.pa(S),Ut(p),Ds(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Ut(p){if(p.I=0,p.ja=[],p.l){const S=wo(p.h);(S.length!=0||p.i.length!=0)&&(j(p.ja,S),j(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Kt(p,S,C){var W=C instanceof er?_i(C):new er(C);if(W.g!="")S&&(W.g=S+"."+W.g),na(W,W.u);else{var At=c.location;W=At.protocol,S=S?S+"."+At.hostname:At.hostname,At=+At.port;const Lt=new er(null);W&&cn(Lt,W),S&&(Lt.g=S),At&&na(Lt,At),C&&(Lt.h=C),W=Lt}return C=p.G,S=p.wa,C&&S&&gn(W,C,S),gn(W,"VER",p.ka),Kr(p,W),W}function ae(p,S,C){if(S&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Aa&&!p.ma?new On(new Ie({ab:C})):new On(p.ma),S.Fa(p.L),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fe(){}n=fe.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Re(){}Re.prototype.g=function(p,S){return new Ee(p,S)};function Ee(p,S){Ft.call(this),this.g=new ks(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(p?p["X-WebChannel-Client-Profile"]=S.sa:p={"X-WebChannel-Client-Profile":S.sa}),this.g.U=p,(p=S&&S.Qb)&&!L(p)&&(this.g.u=p),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!L(S)&&(this.g.G=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new qn(this)}E(Ee,Ft),Ee.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ee.prototype.close=function(){Ea(this.g)},Ee.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.v&&(C={},C.__data__=Xe(p),p=C);S.i.push(new fi(S.Ya++,p)),S.I==3&&os(S)},Ee.prototype.N=function(){this.g.l=null,delete this.j,Ea(this.g),delete this.g,Ee.Z.N.call(this)};function hn(p){Ne.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){t:{for(const C in S){p=C;break t}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}E(hn,Ne);function Jn(){Me.call(this),this.status=1}E(Jn,Me);function qn(p){this.g=p}E(qn,fe),qn.prototype.ra=function(){ie(this.g,"a")},qn.prototype.qa=function(p){ie(this.g,new hn(p))},qn.prototype.pa=function(p){ie(this.g,new Jn)},qn.prototype.oa=function(){ie(this.g,"b")},Re.prototype.createWebChannel=Re.prototype.g,Ee.prototype.send=Ee.prototype.o,Ee.prototype.open=Ee.prototype.m,Ee.prototype.close=Ee.prototype.close,i4=function(){return new Re},n4=function(){return In()},e4=We,Kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,Tp=Br,Tr.COMPLETE="complete",t4=Tr,ci.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",Ft.prototype.listen=Ft.prototype.J,Rf=ci,On.prototype.listenOnce=On.prototype.K,On.prototype.getLastError=On.prototype.Ha,On.prototype.getLastErrorCode=On.prototype.ya,On.prototype.getStatus=On.prototype.ca,On.prototype.getResponseJson=On.prototype.La,On.prototype.getResponseText=On.prototype.la,On.prototype.send=On.prototype.ea,On.prototype.setWithCredentials=On.prototype.Fa,Zw=On}).apply(typeof ap<"u"?ap:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore",Lv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gs.UNAUTHENTICATED=new gs(null),gs.GOOGLE_CREDENTIALS=new gs("google-credentials-uid"),gs.FIRST_PARTY=new gs("first-party-uid"),gs.MOCK_USER=new gs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new pm("@firebase/firestore");function oh(){return hc.logLevel}function oe(n,...t){if(hc.logLevel<=_n.DEBUG){const e=t.map(D0);hc.debug(`Firestore (${Mh}): ${n}`,...e)}}function Pl(n,...t){if(hc.logLevel<=_n.ERROR){const e=t.map(D0);hc.error(`Firestore (${Mh}): ${n}`,...e)}}function Nh(n,...t){if(hc.logLevel<=_n.WARN){const e=t.map(D0);hc.warn(`Firestore (${Mh}): ${n}`,...e)}}function D0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,r4(n,r,e)}function r4(n,t,e){let r=`FIRESTORE (${Mh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Pl(r),new Error(r)}function zn(n,t,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,n||r4(t,a,r)}function nn(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends go{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ux{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(gs.UNAUTHENTICATED)))}shutdown(){}}class cx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class hx{constructor(t){this.t=t,this.currentUser=gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){zn(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new ac;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ac,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ac)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zn(typeof r.accessToken=="string",31837,{l:r}),new s4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return zn(t===null||typeof t=="string",2055,{h:t}),new gs(t)}}class fx{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=gs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dx{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new fx(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(gs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class px{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ua(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){zn(this.o===void 0,3512);const r=o=>{o.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const a=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(zn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new kv(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=mx(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<e&&(r+=t.charAt(a[o]%62))}return r}}function bn(n,t){return n<t?-1:n>t?1:0}function Wg(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const a=n.charAt(r),o=t.charAt(r);if(a!==o)return lg(a)===lg(o)?bn(a,o):lg(a)?1:-1}return bn(n.length,t.length)}const gx=55296,yx=57343;function lg(n){const t=n.charCodeAt(0);return t>=gx&&t<=yx}function xh(n,t,e){return n.length===t.length&&n.every(((r,a)=>e(r,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="__name__";class zo{constructor(t,e,r){e===void 0?e=0:e>t.length&&Fe(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Fe(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return zo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof zo?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const o=zo.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return bn(t.length,e.length)}static compareSegments(t,e){const r=zo.isNumericId(t),a=zo.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?zo.extractNumericId(t).compare(zo.extractNumericId(e)):Wg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Eu.fromString(t.substring(4,t.length-2))}}class hi extends zo{construct(t,e,r){return new hi(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new le(Yt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((a=>a.length>0)))}return new hi(e)}static emptyPath(){return new hi([])}}const vx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class es extends zo{construct(t,e,r){return new es(t,e,r)}static isValidIdentifier(t){return vx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),es.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ov}static keyField(){return new es([Ov])}static fromServerFormat(t){const e=[];let r="",a=0;const o=()=>{if(r.length===0)throw new le(Yt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new le(Yt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(Yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new le(Yt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new es(e)}static emptyPath(){return new es([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.path=t}static fromPath(t){return new Oe(hi.fromString(t))}static fromName(t){return new Oe(hi.fromString(t).popFirst(5))}static empty(){return new Oe(hi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&hi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return hi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Oe(new hi(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(n,t,e){if(!e)throw new le(Yt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function _x(n,t,e,r){if(t===!0&&r===!0)throw new le(Yt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Dv(n){if(!Oe.isDocumentKey(n))throw new le(Yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pv(n){if(Oe.isDocumentKey(n))throw new le(Yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function o4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function Su(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new le(Yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=vm(n);throw new le(Yt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(n,t){const e={typeString:n};return t&&(e.value=t),e}function sd(n,t){if(!o4(n))throw new le(Yt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const a=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){e=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${r}' field to equal '${o.value}'`;break}}if(e)throw new le(Yt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=-62135596800,Uv=1e6;class yi{static now(){return yi.fromMillis(Date.now())}static fromDate(t){return yi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Uv);return new yi(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new le(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new le(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Mv)throw new le(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new le(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(t){return this.seconds===t.seconds?bn(this.nanoseconds,t.nanoseconds):bn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(sd(t,yi._jsonSchema))return new yi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Mv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yi._jsonSchemaVersion="firestore/timestamp/1.0",yi._jsonSchema={type:ur("string",yi._jsonSchemaVersion),seconds:ur("number"),nanoseconds:ur("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(t){return new $e(t)}static min(){return new $e(new yi(0,0))}static max(){return new $e(new yi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=-1;function bx(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=$e.fromTimestamp(r===1e9?new yi(e+1,0):new yi(e,r));return new xu(a,Oe.empty(),t)}function wx(n){return new xu(n.readTime,n.key,Gf)}class xu{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new xu($e.min(),Oe.empty(),Gf)}static max(){return new xu($e.max(),Oe.empty(),Gf)}}function Ax(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Oe.comparator(n.documentKey,t.documentKey),e!==0?e:bn(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(n){if(n.code!==Yt.FAILED_PRECONDITION||n.message!==Ex)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Wt(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Wt?e:Wt.resolve(e)}catch(e){return Wt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Wt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Wt.reject(e)}static resolve(t){return new Wt(((e,r)=>{e(t)}))}static reject(t){return new Wt(((e,r)=>{r(t)}))}static waitFor(t){return new Wt(((e,r)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(f=>r(f)))})),c=!0,o===a&&e()}))}static or(t){let e=Wt.resolve(!1);for(const r of t)e=e.next((a=>a?Wt.resolve(a):r()));return e}static forEach(t,e){const r=[];return t.forEach(((a,o)=>{r.push(e.call(this,a,o))})),this.waitFor(r)}static mapArray(t,e){return new Wt(((r,a)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((_=>{c[m]=_,++h,h===o&&r(c)}),(_=>a(_)))}}))}static doWhile(t,e){return new Wt(((r,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):r()};o()}))}}function Tx(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Vh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_m.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=-1;function bm(n){return n==null}function Yp(n){return n===0&&1/n==-1/0}function Nx(n){return typeof n=="number"&&Number.isInteger(n)&&!Yp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="";function xx(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Vv(t)),t=Ix(n.get(e),t);return Vv(t)}function Ix(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case l4:e+="";break;default:e+=o}}return e}function Vv(n){return n+l4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Mu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function u4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,e){this.comparator=t,this.root=e||ts.EMPTY}insert(t,e){return new ki(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ts.BLACK,null,null))}remove(t){return new ki(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ts.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new op(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new op(this.root,t,this.comparator,!1)}getReverseIterator(){return new op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new op(this.root,t,this.comparator,!0)}}class op{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ts{constructor(t,e,r,a,o){this.key=t,this.value=e,this.color=r??ts.RED,this.left=a??ts.EMPTY,this.right=o??ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,o){return new ts(t??this.key,e??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const o=r(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,r),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ts.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return ts.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Fe(27949);return t+(this.isRed()?0:1)}}ts.EMPTY=null,ts.RED=!0,ts.BLACK=!1;ts.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(t,e,r,a,o){return this}insert(t,e,r){return new ts(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t){this.comparator=t,this.data=new ki(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(t){return new Bv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Sr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Sr(this.comparator);return e.data=t,e}}class Bv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t){this.fields=t,t.sort(es.comparator)}static empty(){return new ma([])}unionWith(t){let e=new Sr(es.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ma(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return xh(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new c4("Invalid base64 string: "+o):o}})(t);return new ns(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new ns(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const Cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iu(n){if(zn(!!n,39018),typeof n=="string"){let t=0;const e=Cx.exec(n);if(zn(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xi(n.seconds),nanos:Xi(n.nanos)}}function Xi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cu(n){return typeof n=="string"?ns.fromBase64String(n):ns.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="server_timestamp",f4="__type__",d4="__previous_value__",p4="__local_write_time__";function U0(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[f4])==null?void 0:r.stringValue)===h4}function wm(n){const t=n.mapValue.fields[d4];return U0(t)?wm(t):t}function Yf(n){const t=Iu(n.mapValue.fields[p4].timestampValue);return new yi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t,e,r,a,o,c,h,f,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=_}}const Kp="(default)";class Kf{constructor(t,e){this.projectId=t,this.database=e||Kp}static empty(){return new Kf("","")}get isDefaultDatabase(){return this.database===Kp}isEqual(t){return t instanceof Kf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="__type__",Lx="__max__",lp={mapValue:{}},g4="__vector__",Wp="value";function Ru(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?U0(n)?4:Ox(n)?9007199254740991:kx(n)?10:11:Fe(28295,{value:n})}function Zo(n,t){if(n===t)return!0;const e=Ru(n);if(e!==Ru(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Yf(n).isEqual(Yf(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Iu(a.timestampValue),h=Iu(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return Cu(a.bytesValue).isEqual(Cu(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Xi(a.geoPointValue.latitude)===Xi(o.geoPointValue.latitude)&&Xi(a.geoPointValue.longitude)===Xi(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Xi(a.integerValue)===Xi(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Xi(a.doubleValue),h=Xi(o.doubleValue);return c===h?Yp(c)===Yp(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return xh(n.arrayValue.values||[],t.arrayValue.values||[],Zo);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(jv(c)!==jv(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Zo(c[f],h[f])))return!1;return!0})(n,t);default:return Fe(52216,{left:n})}}function Wf(n,t){return(n.values||[]).find((e=>Zo(e,t)))!==void 0}function Ih(n,t){if(n===t)return 0;const e=Ru(n),r=Ru(t);if(e!==r)return bn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Xi(o.integerValue||o.doubleValue),f=Xi(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return Fv(n.timestampValue,t.timestampValue);case 4:return Fv(Yf(n),Yf(t));case 5:return Wg(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Cu(o),f=Cu(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const _=bn(h[m],f[m]);if(_!==0)return _}return bn(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=bn(Xi(o.latitude),Xi(c.latitude));return h!==0?h:bn(Xi(o.longitude),Xi(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return qv(n.arrayValue,t.arrayValue);case 10:return(function(o,c){var x,w,j,q;const h=o.fields||{},f=c.fields||{},m=(x=h[Wp])==null?void 0:x.arrayValue,_=(w=f[Wp])==null?void 0:w.arrayValue,E=bn(((j=m==null?void 0:m.values)==null?void 0:j.length)||0,((q=_==null?void 0:_.values)==null?void 0:q.length)||0);return E!==0?E:qv(m,_)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===lp.mapValue&&c===lp.mapValue)return 0;if(o===lp.mapValue)return 1;if(c===lp.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let E=0;E<f.length&&E<_.length;++E){const x=Wg(f[E],_[E]);if(x!==0)return x;const w=Ih(h[f[E]],m[_[E]]);if(w!==0)return w}return bn(f.length,_.length)})(n.mapValue,t.mapValue);default:throw Fe(23264,{he:e})}}function Fv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return bn(n,t);const e=Iu(n),r=Iu(t),a=bn(e.seconds,r.seconds);return a!==0?a:bn(e.nanos,r.nanos)}function qv(n,t){const e=n.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const o=Ih(e[a],r[a]);if(o)return o}return bn(e.length,r.length)}function Ch(n){return Xg(n)}function Xg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Iu(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Cu(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Oe.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",a=!0;for(const o of e.values||[])a?a=!1:r+=",",r+=Xg(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Xg(e.fields[c])}`;return a+"}"})(n.mapValue):Fe(61005,{value:n})}function Np(n){switch(Ru(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wm(n);return t?16+Np(t):16;case 5:return 2*n.stringValue.length;case 6:return Cu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Np(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Mu(r.fields,((o,c)=>{a+=o.length+Np(c)})),a})(n.mapValue);default:throw Fe(13486,{value:n})}}function zv(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Qg(n){return!!n&&"integerValue"in n}function V0(n){return!!n&&"arrayValue"in n}function Hv(n){return!!n&&"nullValue"in n}function Gv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xp(n){return!!n&&"mapValue"in n}function kx(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[m4])==null?void 0:r.stringValue)===g4}function Mf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Mu(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Mf(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Mf(n.arrayValue.values[e]);return t}return{...n}}function Ox(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Lx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t){this.value=t}static empty(){return new Js({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!xp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mf(e)}setAll(t){let e=es.emptyPath(),r={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,r,a),r={},a=[],e=h.popLast()}c?r[h.lastSegment()]=Mf(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,r,a)}delete(t){const e=this.field(t.popLast());xp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Zo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];xp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){Mu(e,((a,o)=>t[a]=o));for(const a of r)delete t[a]}clone(){return new Js(Mf(this.value))}}function y4(n){const t=[];return Mu(n.fields,((e,r)=>{const a=new es([e]);if(xp(r)){const o=y4(r.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new ma(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,e,r,a,o,c,h){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ys(t,0,$e.min(),$e.min(),$e.min(),Js.empty(),0)}static newFoundDocument(t,e,r,a){return new ys(t,1,e,$e.min(),r,a,0)}static newNoDocument(t,e){return new ys(t,2,e,$e.min(),$e.min(),Js.empty(),0)}static newUnknownDocument(t,e){return new ys(t,3,e,$e.min(),$e.min(),Js.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Js.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ys&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,e){this.position=t,this.inclusive=e}}function Yv(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?r=Oe.comparator(Oe.fromName(c.referenceValue),e.key):r=Ih(c,e.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kv(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Zo(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t,e="asc"){this.field=t,this.dir=e}}function Dx(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{}class lr extends v4{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new Mx(t,e,r):e==="array-contains"?new jx(t,r):e==="in"?new Bx(t,r):e==="not-in"?new Fx(t,r):e==="array-contains-any"?new qx(t,r):new lr(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new Ux(t,r):new Vx(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ih(e,this.value)):e!==null&&Ru(this.value)===Ru(e)&&this.matchesComparison(Ih(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends v4{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new po(t,e)}matches(t){return _4(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _4(n){return n.op==="and"}function b4(n){return Px(n)&&_4(n)}function Px(n){for(const t of n.filters)if(t instanceof po)return!1;return!0}function $g(n){if(n instanceof lr)return n.field.canonicalString()+n.op.toString()+Ch(n.value);if(b4(n))return n.filters.map((t=>$g(t))).join(",");{const t=n.filters.map((e=>$g(e))).join(",");return`${n.op}(${t})`}}function w4(n,t){return n instanceof lr?(function(r,a){return a instanceof lr&&r.op===a.op&&r.field.isEqual(a.field)&&Zo(r.value,a.value)})(n,t):n instanceof po?(function(r,a){return a instanceof po&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,h)=>o&&w4(c,a.filters[h])),!0):!1})(n,t):void Fe(19439)}function A4(n){return n instanceof lr?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ch(e.value)}`})(n):n instanceof po?(function(e){return e.op.toString()+" {"+e.getFilters().map(A4).join(" ,")+"}"})(n):"Filter"}class Mx extends lr{constructor(t,e,r){super(t,e,r),this.key=Oe.fromName(r.referenceValue)}matches(t){const e=Oe.comparator(t.key,this.key);return this.matchesComparison(e)}}class Ux extends lr{constructor(t,e){super(t,"in",e),this.keys=E4("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Vx extends lr{constructor(t,e){super(t,"not-in",e),this.keys=E4("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function E4(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((r=>Oe.fromName(r.referenceValue)))}class jx extends lr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return V0(e)&&Wf(e.arrayValue,this.value)}}class Bx extends lr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Wf(this.value.arrayValue,e)}}class Fx extends lr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Wf(this.value.arrayValue,e)}}class qx extends lr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!V0(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Wf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(t,e=null,r=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Wv(n,t=null,e=[],r=[],a=null,o=null,c=null){return new zx(n,t,e,r,a,o,c)}function j0(n){const t=nn(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>$g(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),bm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Ch(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Ch(r))).join(",")),t.Te=e}return t.Te}function B0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Dx(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!w4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Kv(n.startAt,t.startAt)&&Kv(n.endAt,t.endAt)}function Jg(n){return Oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,e=null,r=[],a=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Hx(n,t,e,r,a,o,c,h){return new ad(n,t,e,r,a,o,c,h)}function F0(n){return new ad(n)}function Xv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function S4(n){return n.collectionGroup!==null}function Uf(n){const t=nn(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Sr(es.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Qp(o,r))})),e.has(es.keyField().canonicalString())||t.Ie.push(new Qp(es.keyField(),r))}return t.Ie}function Wo(n){const t=nn(n);return t.Ee||(t.Ee=Gx(t,Uf(n))),t.Ee}function Gx(n,t){if(n.limitType==="F")return Wv(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Qp(a.field,o)}));const e=n.endAt?new Xp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xp(n.startAt.position,n.startAt.inclusive):null;return Wv(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Zg(n,t){const e=n.filters.concat([t]);return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function t0(n,t,e){return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Am(n,t){return B0(Wo(n),Wo(t))&&n.limitType===t.limitType}function T4(n){return`${j0(Wo(n))}|lt:${n.limitType}`}function lh(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((a=>A4(a))).join(", ")}]`),bm(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Ch(a))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Ch(a))).join(",")),`Target(${r})`})(Wo(n))}; limitType=${n.limitType})`}function Em(n,t){return t.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,t)&&(function(r,a){for(const o of Uf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(r,a){return!(r.startAt&&!(function(c,h,f){const m=Yv(c,h,f);return c.inclusive?m<=0:m<0})(r.startAt,Uf(r),a)||r.endAt&&!(function(c,h,f){const m=Yv(c,h,f);return c.inclusive?m>=0:m>0})(r.endAt,Uf(r),a))})(n,t)}function Yx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function N4(n){return(t,e)=>{let r=!1;for(const a of Uf(n)){const o=Kx(a,t,e);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function Kx(n,t,e){const r=n.field.isKeyField()?Oe.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Ih(f,m):Fe(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Mu(this.inner,((e,r)=>{for(const[a,o]of r)t(a,o)}))}isEmpty(){return u4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new ki(Oe.comparator);function Ml(){return Wx}const x4=new ki(Oe.comparator);function Lf(...n){let t=x4;for(const e of n)t=t.insert(e.key,e);return t}function I4(n){let t=x4;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function rc(){return Vf()}function C4(){return Vf()}function Vf(){return new bc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const Xx=new ki(Oe.comparator),Qx=new Sr(Oe.comparator);function wn(...n){let t=Qx;for(const e of n)t=t.add(e);return t}const $x=new Sr(bn);function Jx(){return $x}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yp(t)?"-0":t}}function R4(n){return{integerValue:""+n}}function Zx(n,t){return Nx(t)?R4(t):q0(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this._=void 0}}function tI(n,t,e){return n instanceof $p?(function(a,o){const c={fields:{[f4]:{stringValue:h4},[p4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&U0(o)&&(o=wm(o)),o&&(c.fields[d4]=o),{mapValue:c}})(e,t):n instanceof Xf?k4(n,t):n instanceof Qf?O4(n,t):(function(a,o){const c=L4(a,o),h=Qv(c)+Qv(a.Ae);return Qg(c)&&Qg(a.Ae)?R4(h):q0(a.serializer,h)})(n,t)}function eI(n,t,e){return n instanceof Xf?k4(n,t):n instanceof Qf?O4(n,t):e}function L4(n,t){return n instanceof Jp?(function(r){return Qg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(t)?t:{integerValue:0}:null}class $p extends Sm{}class Xf extends Sm{constructor(t){super(),this.elements=t}}function k4(n,t){const e=D4(t);for(const r of n.elements)e.some((a=>Zo(a,r)))||e.push(r);return{arrayValue:{values:e}}}class Qf extends Sm{constructor(t){super(),this.elements=t}}function O4(n,t){let e=D4(t);for(const r of n.elements)e=e.filter((a=>!Zo(a,r)));return{arrayValue:{values:e}}}class Jp extends Sm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Qv(n){return Xi(n.integerValue||n.doubleValue)}function D4(n){return V0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nI(n,t){return n.field.isEqual(t.field)&&(function(r,a){return r instanceof Xf&&a instanceof Xf||r instanceof Qf&&a instanceof Qf?xh(r.elements,a.elements,Zo):r instanceof Jp&&a instanceof Jp?Zo(r.Ae,a.Ae):r instanceof $p&&a instanceof $p})(n.transform,t.transform)}class iI{constructor(t,e){this.version=t,this.transformResults=e}}class co{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new co}static exists(t){return new co(void 0,t)}static updateTime(t){return new co(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ip(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Tm{}function P4(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new z0(n.key,co.none()):new od(n.key,n.data,co.none());{const e=n.data,r=Js.empty();let a=new Sr(es.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new Uu(n.key,r,new ma(a.toArray()),co.none())}}function rI(n,t,e){n instanceof od?(function(a,o,c){const h=a.value.clone(),f=Jv(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Uu?(function(a,o,c){if(!Ip(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Jv(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(M4(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function jf(n,t,e,r){return n instanceof od?(function(o,c,h,f){if(!Ip(o.precondition,c))return h;const m=o.value.clone(),_=Zv(o.fieldTransforms,f,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,r):n instanceof Uu?(function(o,c,h,f){if(!Ip(o.precondition,c))return h;const m=Zv(o.fieldTransforms,f,c),_=c.data;return _.setAll(M4(o)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((E=>E.field)))})(n,t,e,r):(function(o,c,h){return Ip(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function sI(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),o=L4(r.transform,a||null);o!=null&&(e===null&&(e=Js.empty()),e.set(r.field,o))}return e||null}function $v(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&xh(r,a,((o,c)=>nI(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class od extends Tm{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Uu extends Tm{constructor(t,e,r,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function M4(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function Jv(n,t,e){const r=new Map;zn(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);r.set(o.field,eI(c,h,e[a]))}return r}function Zv(n,t,e){const r=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);r.set(a.field,tI(o,c,t))}return r}class z0 extends Tm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aI extends Tm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&rI(o,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=jf(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=jf(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=C4();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const f=P4(c,h);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument($e.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),wn())}isEqual(t){return this.batchId===t.batchId&&xh(this.mutations,t.mutations,((e,r)=>$v(e,r)))&&xh(this.baseMutations,t.baseMutations,((e,r)=>$v(e,r)))}}class H0{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){zn(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return Xx})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new H0(t,e,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,xn;function cI(n){switch(n){case Yt.OK:return Fe(64938);case Yt.CANCELLED:case Yt.UNKNOWN:case Yt.DEADLINE_EXCEEDED:case Yt.RESOURCE_EXHAUSTED:case Yt.INTERNAL:case Yt.UNAVAILABLE:case Yt.UNAUTHENTICATED:return!1;case Yt.INVALID_ARGUMENT:case Yt.NOT_FOUND:case Yt.ALREADY_EXISTS:case Yt.PERMISSION_DENIED:case Yt.FAILED_PRECONDITION:case Yt.ABORTED:case Yt.OUT_OF_RANGE:case Yt.UNIMPLEMENTED:case Yt.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function U4(n){if(n===void 0)return Pl("GRPC error has no .code"),Yt.UNKNOWN;switch(n){case or.OK:return Yt.OK;case or.CANCELLED:return Yt.CANCELLED;case or.UNKNOWN:return Yt.UNKNOWN;case or.DEADLINE_EXCEEDED:return Yt.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return Yt.RESOURCE_EXHAUSTED;case or.INTERNAL:return Yt.INTERNAL;case or.UNAVAILABLE:return Yt.UNAVAILABLE;case or.UNAUTHENTICATED:return Yt.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return Yt.INVALID_ARGUMENT;case or.NOT_FOUND:return Yt.NOT_FOUND;case or.ALREADY_EXISTS:return Yt.ALREADY_EXISTS;case or.PERMISSION_DENIED:return Yt.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return Yt.FAILED_PRECONDITION;case or.ABORTED:return Yt.ABORTED;case or.OUT_OF_RANGE:return Yt.OUT_OF_RANGE;case or.UNIMPLEMENTED:return Yt.UNIMPLEMENTED;case or.DATA_LOSS:return Yt.DATA_LOSS;default:return Fe(39323,{code:n})}}(xn=or||(or={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Eu([4294967295,4294967295],0);function t_(n){const t=hI().encode(n),e=new Jw;return e.update(t),new Uint8Array(e.digest())}function e_(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Eu([e,r],0),new Eu([a,o],0)]}class G0{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new kf(`Invalid padding: ${e}`);if(r<0)throw new kf(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new kf(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new kf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Eu.fromNumber(this.ge)}ye(t,e,r){let a=t.add(e.multiply(Eu.fromNumber(r)));return a.compare(fI)===1&&(a=new Eu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=t_(t),[r,a]=e_(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new G0(o,a,e);return r.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=t_(t),[r,a]=e_(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,e,r,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,ld.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Nm($e.min(),a,new ki(bn),Ml(),wn())}}class ld{constructor(t,e,r,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new ld(r,e,wn(),wn(),wn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,e,r,a){this.be=t,this.removedTargetIds=e,this.key=r,this.De=a}}class V4{constructor(t,e){this.targetId=t,this.Ce=e}}class j4{constructor(t,e,r=ns.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class n_{constructor(){this.ve=0,this.Fe=i_(),this.Me=ns.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=wn(),e=wn(),r=wn();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:Fe(38017,{changeType:o})}})),new ld(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=i_()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,zn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ml(),this.Je=up(),this.He=up(),this.Ye=new ki(bn)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Fe(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,r=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(Jg(o))if(r===0){const c=new Oe(o.path);this.et(e,c,ys.newNoDocument(c,$e.min()))}else zn(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=Cu(r).toUint8Array()}catch(f){if(f instanceof c4)return Nh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new G0(c,a,o)}catch(f){return Nh(f instanceof kf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Jg(h.target)){const f=new Oe(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ys.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let r=wn();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new Nm(t,e,this.Ye,this.je,r);return this.je=Ml(),this.Je=up(),this.He=up(),this.Ye=new ki(bn),a}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new n_,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Sr(bn),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Sr(bn),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||oe("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new n_),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function up(){return new ki(Oe.comparator)}function i_(){return new ki(Oe.comparator)}const pI={asc:"ASCENDING",desc:"DESCENDING"},mI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gI={and:"AND",or:"OR"};class yI{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function e0(n,t){return n.useProto3Json||bm(t)?t:{value:t}}function Zp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function B4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function vI(n,t){return Zp(n,t.toTimestamp())}function Xo(n){return zn(!!n,49232),$e.fromTimestamp((function(e){const r=Iu(e);return new yi(r.seconds,r.nanos)})(n))}function Y0(n,t){return n0(n,t).canonicalString()}function n0(n,t){const e=(function(a){return new hi(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function F4(n){const t=hi.fromString(n);return zn(Y4(t),10190,{key:t.toString()}),t}function i0(n,t){return Y0(n.databaseId,t.path)}function ug(n,t){const e=F4(t);if(e.get(1)!==n.databaseId.projectId)throw new le(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new le(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Oe(z4(e))}function q4(n,t){return Y0(n.databaseId,t)}function _I(n){const t=F4(n);return t.length===4?hi.emptyPath():z4(t)}function r0(n){return new hi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z4(n){return zn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function r_(n,t,e){return{name:i0(n,t),fields:e.value.mapValue.fields}}function bI(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Fe(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(m,_){return m.useProto3Json?(zn(_===void 0||typeof _=="string",58123),ns.fromBase64String(_||"")):(zn(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ns.fromUint8Array(_||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const _=m.code===void 0?Yt.UNKNOWN:U4(m.code);return new le(_,m.message||"")})(c);e=new j4(r,a,o,h||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=ug(n,r.document.name),o=Xo(r.document.updateTime),c=r.document.createTime?Xo(r.document.createTime):$e.min(),h=new Js({mapValue:{fields:r.document.fields}}),f=ys.newFoundDocument(a,o,c,h),m=r.targetIds||[],_=r.removedTargetIds||[];e=new Cp(m,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=ug(n,r.document),o=r.readTime?Xo(r.readTime):$e.min(),c=ys.newNoDocument(a,o),h=r.removedTargetIds||[];e=new Cp([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=ug(n,r.document),o=r.removedTargetIds||[];e=new Cp([],o,a,null)}else{if(!("filter"in t))return Fe(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new uI(a,o),h=r.targetId;e=new V4(h,c)}}return e}function wI(n,t){let e;if(t instanceof od)e={update:r_(n,t.key,t.value)};else if(t instanceof z0)e={delete:i0(n,t.key)};else if(t instanceof Uu)e={update:r_(n,t.key,t.data),updateMask:RI(t.fieldMask)};else{if(!(t instanceof aI))return Fe(16599,{Vt:t.type});e={verify:i0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof $p)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Xf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Qf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Jp)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Fe(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:vI(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe(27497)})(n,t.precondition)),e}function AI(n,t){return n&&n.length>0?(zn(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?Xo(a.updateTime):Xo(o);return c.isEqual($e.min())&&(c=Xo(o)),new iI(c,a.transformResults||[])})(e,t)))):[]}function EI(n,t){return{documents:[q4(n,t.path)]}}function SI(n,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=q4(n,a);const o=(function(m){if(m.length!==0)return G4(po.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((_=>(function(x){return{field:uh(x.field),direction:xI(x.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=e0(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:a}}function TI(n){let t=_I(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){zn(r===1,65062);const _=e.from[0];_.allDescendants?a=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=(function(E){const x=H4(E);return x instanceof po&&b4(x)?x.getFilters():[x]})(e.where));let c=[];e.orderBy&&(c=(function(E){return E.map((x=>(function(j){return new Qp(ch(j.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(x)))})(e.orderBy));let h=null;e.limit&&(h=(function(E){let x;return x=typeof E=="object"?E.value:E,bm(x)?null:x})(e.limit));let f=null;e.startAt&&(f=(function(E){const x=!!E.before,w=E.values||[];return new Xp(w,x)})(e.startAt));let m=null;return e.endAt&&(m=(function(E){const x=!E.before,w=E.values||[];return new Xp(w,x)})(e.endAt)),Hx(t,a,c,o,h,"F",f,m)}function NI(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function H4(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=ch(e.unaryFilter.field);return lr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=ch(e.unaryFilter.field);return lr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ch(e.unaryFilter.field);return lr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ch(e.unaryFilter.field);return lr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(e){return lr.create(ch(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return po.create(e.compositeFilter.filters.map((r=>H4(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(e.compositeFilter.op))})(n):Fe(30097,{filter:n})}function xI(n){return pI[n]}function II(n){return mI[n]}function CI(n){return gI[n]}function uh(n){return{fieldPath:n.canonicalString()}}function ch(n){return es.fromServerFormat(n.fieldPath)}function G4(n){return n instanceof lr?(function(e){if(e.op==="=="){if(Gv(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NAN"}};if(Hv(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Gv(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NOT_NAN"}};if(Hv(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uh(e.field),op:II(e.op),value:e.value}}})(n):n instanceof po?(function(e){const r=e.getFilters().map((a=>G4(a)));return r.length===1?r[0]:{compositeFilter:{op:CI(e.op),filters:r}}})(n):Fe(54877,{filter:n})}function RI(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Y4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,e,r,a,o=$e.min(),c=$e.min(),h=ns.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new _u(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.yt=t}}function kI(n){const t=TI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?t0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.Cn=new DI}addToCollectionParentIndex(t,e){return this.Cn.add(e),Wt.resolve()}getCollectionParents(t,e){return Wt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Wt.resolve()}deleteFieldIndex(t,e){return Wt.resolve()}deleteAllFieldIndexes(t){return Wt.resolve()}createTargetIndexes(t,e){return Wt.resolve()}getDocumentsMatchingTarget(t,e){return Wt.resolve(null)}getIndexType(t,e){return Wt.resolve(0)}getFieldIndexes(t,e){return Wt.resolve([])}getNextCollectionGroupToUpdate(t){return Wt.resolve(null)}getMinOffset(t,e){return Wt.resolve(xu.min())}getMinOffsetFromCollectionGroup(t,e){return Wt.resolve(xu.min())}updateCollectionGroup(t,e,r){return Wt.resolve()}updateIndexEntries(t,e){return Wt.resolve()}}class DI{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new Sr(hi.comparator),o=!a.has(r);return this.index[e]=a.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Sr(hi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K4=41943040;class $s{static withCacheSize(t){return new $s(t,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(K4,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Rh(0)}static cr(){return new Rh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LruGarbageCollector",PI=1048576;function o_([n,t],[e,r]){const a=bn(n,e);return a===0?bn(t,r):a}class MI{constructor(t){this.Ir=t,this.buffer=new Sr(o_),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();o_(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class UI{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){oe(a_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Vh(e)?oe(a_,"Ignoring IndexedDB error during garbage collection: ",e):await Uh(e)}await this.Vr(3e5)}))}}class VI{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return Wt.resolve(_m.ce);const r=new MI(e);return this.mr.forEachTarget(t,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Wt.resolve(s_)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s_):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,a,o,c,h,f,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a)))).next((E=>(r=E,h=Date.now(),this.removeTargets(t,r,e)))).next((E=>(o=E,f=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(m=Date.now(),oh()<=_n.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),Wt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:E}))))}}function jI(n,t){return new VI(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.changes=new bc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ys.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?Wt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(r!==null&&jf(r.mutation,a,ma.empty(),yi.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,wn()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=wn()){const a=rc();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,r).next((o=>{let c=Lf();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=rc();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,wn())))}populateOverlays(t,e,r){const a=[];return r.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,r,a){let o=Ml();const c=Vf(),h=(function(){return Vf()})();return e.forEach(((f,m)=>{const _=r.get(m.key);a.has(m.key)&&(_===void 0||_.mutation instanceof Uu)?o=o.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),jf(_.mutation,m,_.mutation.getFieldMask(),yi.now())):c.set(m.key,ma.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,_)=>c.set(m,_))),e.forEach(((m,_)=>h.set(m,new FI(_,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const r=Vf();let a=new ki(((c,h)=>c-h)),o=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let _=r.get(f)||ma.empty();_=h.applyToLocalView(m,_),r.set(f,_);const E=(a.get(h.batchId)||wn()).add(f);a=a.insert(h.batchId,E)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,_=f.value,E=C4();_.forEach((x=>{if(!o.has(x)){const w=P4(e.get(x),r.get(x));w!==null&&E.set(x,w),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,E))}return Wt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,a){return(function(c){return Oe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):S4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-o.size):Wt.resolve(rc());let h=Gf,f=o;return c.next((m=>Wt.forEach(m,((_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),o.get(_)?Wt.resolve():this.remoteDocumentCache.getEntry(t,_).next((x=>{f=f.insert(_,x)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,wn()))).next((_=>({batchId:h,changes:I4(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Oe(e)).next((r=>{let a=Lf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const o=e.collectionGroup;let c=Lf();return this.indexManager.getCollectionParents(t,o).next((h=>Wt.forEach(h,(f=>{const m=(function(E,x){return new ad(x,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,r,a).next((_=>{_.forEach(((E,x)=>{c=c.insert(E,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o,a)))).next((c=>{o.forEach(((f,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,ys.newInvalidDocument(_)))}));let h=Lf();return c.forEach(((f,m)=>{const _=o.get(f);_!==void 0&&jf(_.mutation,m,ma.empty(),yi.now()),Em(e,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Wt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Xo(a.createTime)}})(e)),Wt.resolve()}getNamedQuery(t,e){return Wt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:kI(a.bundledQuery),readTime:Xo(a.readTime)}})(e)),Wt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.overlays=new ki(Oe.comparator),this.qr=new Map}getOverlay(t,e){return Wt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=rc();return Wt.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((a,o)=>{this.St(t,e,o)})),Wt.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Wt.resolve()}getOverlaysForCollection(t,e,r){const a=rc(),o=e.length+1,c=new Oe(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return Wt.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let o=new ki(((m,_)=>m-_));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>r){let _=o.get(m.largestBatchId);_===null&&(_=rc(),o=o.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=rc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,_)=>h.set(m,_))),!(h.size()>=a)););return Wt.resolve(h)}St(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new lI(e,r));let o=this.qr.get(e);o===void 0&&(o=wn(),this.qr.set(e,o)),this.qr.set(e,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.sessionToken=ns.EMPTY_BYTE_STRING}getSessionToken(t){return Wt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Wt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.Qr=new Sr(Vr.$r),this.Ur=new Sr(Vr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Vr(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Vr(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new Oe(new hi([])),r=new Vr(e,t),a=new Vr(e,t+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Oe(new hi([])),r=new Vr(e,t),a=new Vr(e,t+1);let o=wn();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Vr(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Vr{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Oe.comparator(t.key,e.key)||bn(t.Yr,e.Yr)}static Kr(t,e){return bn(t.Yr,e.Yr)||Oe.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Sr(Vr.$r)}checkEmpty(t){return Wt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new oI(o,e,r,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Vr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Wt.resolve(c)}lookupMutationBatch(t,e){return Wt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.ei(r),o=a<0?0:a;return Wt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Wt.resolve(this.mutationQueue.length===0?M0:this.tr-1)}getAllMutationBatches(t){return Wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Vr(e,0),a=new Vr(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),Wt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Sr(bn);return e.forEach((a=>{const o=new Vr(a,0),c=new Vr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{r=r.add(h.Yr)}))})),Wt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let o=r;Oe.isDocumentKey(o)||(o=o.child(""));const c=new Vr(new Oe(o),0);let h=new Sr(bn);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Yr)),!0)}),c),Wt.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((r=>{const a=this.Xr(r);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){zn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Wt.forEach(e.mutations,(a=>{const o=new Vr(a.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Vr(e,0),a=this.Zr.firstAfterOrEqual(r);return Wt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Wt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.ri=t,this.docs=(function(){return new ki(Oe.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Wt.resolve(r?r.document.mutableCopy():ys.newInvalidDocument(e))}getEntries(t,e){let r=Ml();return e.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():ys.newInvalidDocument(a))})),Wt.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let o=Ml();const c=e.path,h=new Oe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Ax(wx(_),r)<=0||(a.has(_.key)||Em(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return Wt.resolve(o)}getAllFromCollectionGroup(t,e,r,a){Fe(9500)}ii(t,e){return Wt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new WI(this)}getSize(t){return Wt.resolve(this.size)}}class WI extends BI{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)})),Wt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.persistence=t,this.si=new bc((e=>j0(e)),B0),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new K0,this.targetCount=0,this.ai=Rh.ur()}forEachTarget(t,e){return this.si.forEach(((r,a)=>e(a))),Wt.resolve()}getLastRemoteSnapshotVersion(t){return Wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Wt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Wt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),Wt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Rh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Wt.resolve()}updateTargetData(t,e){return this.Pr(e),Wt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Wt.resolve()}removeTargets(t,e,r){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&r.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),Wt.waitFor(o).next((()=>a))}getTargetCount(t){return Wt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return Wt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),Wt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),Wt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Wt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return Wt.resolve(r)}containsKey(t,e){return Wt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t,e){this.ui={},this.overlays={},this.ci=new _m(0),this.li=!1,this.li=!0,this.hi=new GI,this.referenceDelegate=t(this),this.Pi=new XI(this),this.indexManager=new OI,this.remoteDocumentCache=(function(a){return new KI(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new LI(e),this.Ii=new zI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new HI,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new YI(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){oe("MemoryPersistence","Starting transaction:",t);const a=new QI(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return Wt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class QI extends Sx{constructor(t){super(),this.currentSequenceNumber=t}}class W0{constructor(t){this.persistence=t,this.Ri=new K0,this.Vi=null}static mi(t){return new W0(t)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),Wt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),Wt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Wt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wt.forEach(this.fi,(r=>{const a=Oe.fromPath(r);return this.gi(t,a).next((o=>{o||e.removeEntry(a,$e.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Wt.or([()=>Wt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class tm{constructor(t,e){this.persistence=t,this.pi=new bc((r=>xx(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=jI(this,e)}static mi(t,e){return new tm(t,e)}Ei(){}di(t){return Wt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((a=>r+a))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return Wt.forEach(this.pi,((r,a)=>this.br(t,r,a).next((o=>o?Wt.resolve():e(a)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((h=>{h||(r++,o.removeEntry(c,$e.min()))})))).next((()=>o.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Wt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Wt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Wt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Wt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Np(t.data.value)),e}br(t,e,r){return Wt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return Wt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=a}static As(t,e){let r=wn(),a=wn();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new X0(t,e.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NS()?8:Tx(vs())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,a){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new $I;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,r,a){return r.documentReadCount<this.fs?(oh()<=_n.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",lh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Wt.resolve()):(oh()<=_n.DEBUG&&oe("QueryEngine","Query:",lh(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(oh()<=_n.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",lh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wo(e))):Wt.resolve())}ys(t,e){if(Xv(e))return Wt.resolve(null);let r=Wo(e);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=t0(e,null,"F"),r=Wo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((o=>{const c=wn(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,r).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,t0(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,r,a){return Xv(e)||a.isEqual($e.min())?Wt.resolve(null):this.ps.getDocuments(t,r).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,r,a)?Wt.resolve(null):(oh()<=_n.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),lh(e)),this.vs(t,c,e,bx(a,Gf)).next((h=>h)))}))}Ds(t,e){let r=new Sr(N4(t));return e.forEach(((a,o)=>{Em(t,o)&&(r=r.add(o))})),r}Cs(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,r){return oh()<=_n.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",lh(e)),this.ps.getDocumentsMatchingQuery(t,e,xu.min(),r)}vs(t,e,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="LocalStore",ZI=3e8;class t8{constructor(t,e,r,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new ki(bn),this.xs=new bc((o=>j0(o)),B0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function e8(n,t,e,r){return new t8(n,t,e,r)}async function X4(n,t){const e=nn(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let f=wn();for(const m of a){c.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of o){h.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function n8(n,t){const e=nn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,_){const E=m.batch,x=E.keys();let w=Wt.resolve();return x.forEach((j=>{w=w.next((()=>_.getEntry(f,j))).next((q=>{const U=m.docVersions.get(j);zn(U!==null,48541),q.version.compareTo(U)<0&&(E.applyToRemoteDocument(q,m),q.isValidDocument()&&(q.setReadTime(m.commitVersion),_.addEntry(q)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,E)))})(e,r,t,o).next((()=>o.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=wn();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(r,a)))}))}function Q4(n){const t=nn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function i8(n,t){const e=nn(n),r=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((_,E)=>{const x=a.get(E);if(!x)return;h.push(e.Pi.removeMatchingKeys(o,_.removedDocuments,E).next((()=>e.Pi.addMatchingKeys(o,_.addedDocuments,E))));let w=x.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(E)!==null?w=w.withResumeToken(ns.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):_.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(_.resumeToken,r)),a=a.insert(E,w),(function(q,U,B){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=ZI?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(x,w,_)&&h.push(e.Pi.updateTargetData(o,w))}));let f=Ml(),m=wn();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))})),h.push(r8(o,c,t.documentUpdates).next((_=>{f=_.ks,m=_.qs}))),!r.isEqual($e.min())){const _=e.Pi.getLastRemoteSnapshotVersion(o).next((E=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(_)}return Wt.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function r8(n,t,e){let r=wn(),a=wn();return e.forEach((o=>r=r.add(o))),t.getEntries(n,r).next((o=>{let c=Ml();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual($e.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):oe(Q0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function s8(n,t){const e=nn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=M0),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function a8(n,t){const e=nn(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return e.Pi.getTargetData(r,t).next((o=>o?(a=o,Wt.resolve(a)):e.Pi.allocateTargetId(r).next((c=>(a=new _u(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=e.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function s0(n,t,e){const r=nn(n),a=r.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Vh(c))throw c;oe(Q0,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function l_(n,t,e){const r=nn(n);let a=$e.min(),o=wn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,_){const E=nn(f),x=E.xs.get(_);return x!==void 0?Wt.resolve(E.Ms.get(x)):E.Pi.getTargetData(m,_)})(r,c,Wo(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?a:$e.min(),e?o:wn()))).next((h=>(o8(r,Yx(t),h),{documents:h,Qs:o})))))}function o8(n,t,e){let r=n.Os.get(t)||$e.min();e.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(t,r)}class u_{constructor(){this.activeTargetIds=Jx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class l8{constructor(){this.Mo=new u_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new u_,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="ConnectivityMonitor";class h_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(c_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){oe(c_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp=null;function a0(){return cp===null?cp=(function(){return 268435456+Math.round(2147483648*Math.random())})():cp++,"0x"+cp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="RestConnection",c8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h8{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Kp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,e,r,a,o){const c=a0(),h=this.zo(t,e.toUriEncodedString());oe(cg,`Sending RPC '${t}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:m}=new URL(h),_=Oh(m);return this.Jo(t,h,f,r,_).then((E=>(oe(cg,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw Nh(cg,`RPC '${t}' ${c} failed with error: `,E,"url: ",h,"request:",r),E}))}Ho(t,e,r,a,o,c){return this.Go(t,e,r,a,o)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),r&&r.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const r=c8[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="WebChannelConnection";class d8 extends h8{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,a,o){const c=a0();return new Promise(((h,f)=>{const m=new Zw;m.setWithCredentials(!0),m.listenOnce(t4.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Tp.NO_ERROR:const E=m.getResponseJson();oe(hs,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),h(E);break;case Tp.TIMEOUT:oe(hs,`RPC '${t}' ${c} timed out`),f(new le(Yt.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const x=m.getStatus();if(oe(hs,`RPC '${t}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const j=w==null?void 0:w.error;if(j&&j.status&&j.message){const q=(function(B){const at=B.toLowerCase().replace(/_/g,"-");return Object.values(Yt).indexOf(at)>=0?at:Yt.UNKNOWN})(j.status);f(new le(q,j.message))}else f(new le(Yt.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new le(Yt.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{oe(hs,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(a);oe(hs,`RPC '${t}' ${c} sending request:`,a),m.send(e,"POST",_,r,15)}))}T_(t,e,r){const a=a0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=i4(),h=n4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,r),f.encodeInitMessageHeaders=!0;const _=o.join("");oe(hs,`Creating RPC '${t}' stream ${a}: ${_}`,f);const E=c.createWebChannel(_,f);this.I_(E);let x=!1,w=!1;const j=new f8({Yo:U=>{w?oe(hs,`Not sending because RPC '${t}' stream ${a} is closed:`,U):(x||(oe(hs,`Opening RPC '${t}' stream ${a} transport.`),E.open(),x=!0),oe(hs,`RPC '${t}' stream ${a} sending:`,U),E.send(U))},Zo:()=>E.close()}),q=(U,B,at)=>{U.listen(B,(it=>{try{at(it)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return q(E,Rf.EventType.OPEN,(()=>{w||(oe(hs,`RPC '${t}' stream ${a} transport opened.`),j.o_())})),q(E,Rf.EventType.CLOSE,(()=>{w||(w=!0,oe(hs,`RPC '${t}' stream ${a} transport closed`),j.a_(),this.E_(E))})),q(E,Rf.EventType.ERROR,(U=>{w||(w=!0,Nh(hs,`RPC '${t}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),j.a_(new le(Yt.UNAVAILABLE,"The operation could not be completed")))})),q(E,Rf.EventType.MESSAGE,(U=>{var B;if(!w){const at=U.data[0];zn(!!at,16349);const it=at,nt=(it==null?void 0:it.error)||((B=it[0])==null?void 0:B.error);if(nt){oe(hs,`RPC '${t}' stream ${a} received error:`,nt);const wt=nt.status;let Tt=(function(k){const G=or[k];if(G!==void 0)return U4(G)})(wt),z=nt.message;Tt===void 0&&(Tt=Yt.INTERNAL,z="Unknown error status: "+wt+" with message "+nt.message),w=!0,j.a_(new le(Tt,z)),E.close()}else oe(hs,`RPC '${t}' stream ${a} received:`,at),j.u_(at)}})),q(h,e4.STAT_EVENT,(U=>{U.stat===Kg.PROXY?oe(hs,`RPC '${t}' stream ${a} detected buffering proxy`):U.stat===Kg.NOPROXY&&oe(hs,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(n){return new yI(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t,e,r=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-r);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="PersistentStream";class J4{constructor(t,e,r,a,o,c,h,f){this.Mi=t,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $4(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Yt.RESOURCE_EXHAUSTED?(Pl(e.toString()),Pl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Yt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===e&&this.G_(r,a)}),(r=>{t((()=>{const a=new le(Yt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return oe(f_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(oe(f_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p8 extends J4{constructor(t,e,r,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=bI(this.serializer,t),r=(function(o){if(!("targetChange"in o))return $e.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?$e.min():c.readTime?Xo(c.readTime):$e.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=r0(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=Jg(f)?{documents:EI(o,f)}:{query:SI(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=B4(o,c.resumeToken);const m=e0(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo($e.min())>0){h.readTime=Zp(o,c.snapshotVersion.toTimestamp());const m=e0(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const r=NI(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=r0(this.serializer),e.removeTarget=t,this.q_(e)}}class m8 extends J4{constructor(t,e,r,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return zn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,zn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){zn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=AI(t.writeResults,t.commitTime),r=Xo(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=r0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>wI(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{}class y8 extends g8{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new le(Yt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,n0(e,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Yt.UNKNOWN,o.toString())}))}Ho(t,e,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,n0(e,r),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(Yt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class v8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pl(e),this.aa=!1):oe("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="RemoteStore";class _8{constructor(t,e,r,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{wc(this)&&(oe(fc,"Restarting streams for network reachability change."),await(async function(f){const m=nn(f);m.Ea.add(4),await ud(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Im(m)})(this))}))})),this.Ra=new v8(r,a)}}async function Im(n){if(wc(n))for(const t of n.da)await t(!0)}async function ud(n){for(const t of n.da)await t(!1)}function Z4(n,t){const e=nn(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),t2(e)?Z0(e):jh(e).O_()&&J0(e,t))}function $0(n,t){const e=nn(n),r=jh(e);e.Ia.delete(t),r.O_()&&t3(e,t),e.Ia.size===0&&(r.O_()?r.L_():wc(e)&&e.Ra.set("Unknown"))}function J0(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($e.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}jh(n).Y_(t)}function t3(n,t){n.Va.Ue(t),jh(n).Z_(t)}function Z0(n){n.Va=new dI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),jh(n).start(),n.Ra.ua()}function t2(n){return wc(n)&&!jh(n).x_()&&n.Ia.size>0}function wc(n){return nn(n).Ea.size===0}function e3(n){n.Va=void 0}async function b8(n){n.Ra.set("Online")}async function w8(n){n.Ia.forEach(((t,e)=>{J0(n,t)}))}async function A8(n,t){e3(n),t2(n)?(n.Ra.ha(t),Z0(n)):n.Ra.set("Unknown")}async function E8(n,t,e){if(n.Ra.set("Online"),t instanceof j4&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(r){oe(fc,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await em(n,r)}else if(t instanceof Cp?n.Va.Ze(t):t instanceof V4?n.Va.st(t):n.Va.tt(t),!e.isEqual($e.min()))try{const r=await Q4(n.localStore);e.compareTo(r)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.Ia.get(m);_&&o.Ia.set(m,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const _=o.Ia.get(f);if(!_)return;o.Ia.set(f,_.withResumeToken(ns.EMPTY_BYTE_STRING,_.snapshotVersion)),t3(o,f);const E=new _u(_.target,f,m,_.sequenceNumber);J0(o,E)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(r){oe(fc,"Failed to raise snapshot:",r),await em(n,r)}}async function em(n,t,e){if(!Vh(t))throw t;n.Ea.add(1),await ud(n),n.Ra.set("Offline"),e||(e=()=>Q4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{oe(fc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Im(n)}))}function n3(n,t){return t().catch((e=>em(n,e,t)))}async function Cm(n){const t=nn(n),e=Lu(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:M0;for(;S8(t);)try{const a=await s8(t.localStore,r);if(a===null){t.Ta.length===0&&e.L_();break}r=a.batchId,T8(t,a)}catch(a){await em(t,a)}i3(t)&&r3(t)}function S8(n){return wc(n)&&n.Ta.length<10}function T8(n,t){n.Ta.push(t);const e=Lu(n);e.O_()&&e.X_&&e.ea(t.mutations)}function i3(n){return wc(n)&&!Lu(n).x_()&&n.Ta.length>0}function r3(n){Lu(n).start()}async function N8(n){Lu(n).ra()}async function x8(n){const t=Lu(n);for(const e of n.Ta)t.ea(e.mutations)}async function I8(n,t,e){const r=n.Ta.shift(),a=H0.from(r,t,e);await n3(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Cm(n)}async function C8(n,t){t&&Lu(n).X_&&await(async function(r,a){if((function(c){return cI(c)&&c!==Yt.ABORTED})(a.code)){const o=r.Ta.shift();Lu(r).B_(),await n3(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Cm(r)}})(n,t),i3(n)&&r3(n)}async function d_(n,t){const e=nn(n);e.asyncQueue.verifyOperationInProgress(),oe(fc,"RemoteStore received new credentials");const r=wc(e);e.Ea.add(3),await ud(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Im(e)}async function R8(n,t){const e=nn(n);t?(e.Ea.delete(2),await Im(e)):t||(e.Ea.add(2),await ud(e),e.Ra.set("Unknown"))}function jh(n){return n.ma||(n.ma=(function(e,r,a){const o=nn(e);return o.sa(),new p8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:b8.bind(null,n),t_:w8.bind(null,n),r_:A8.bind(null,n),H_:E8.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),t2(n)?Z0(n):n.Ra.set("Unknown")):(await n.ma.stop(),e3(n))}))),n.ma}function Lu(n){return n.fa||(n.fa=(function(e,r,a){const o=nn(e);return o.sa(),new m8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:N8.bind(null,n),r_:C8.bind(null,n),ta:x8.bind(null,n),na:I8.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Cm(n)):(await n.fa.stop(),n.Ta.length>0&&(oe(fc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,e,r,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ac,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,o){const c=Date.now()+r,h=new e2(t,e,c,a,o);return h.start(r),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Yt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n2(n,t){if(Pl("AsyncQueue",`${t}: ${n}`),Vh(n))return new le(Yt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{static emptySet(t){return new vh(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Oe.comparator(e.key,r.key):(e,r)=>Oe.comparator(e.key,r.key),this.keyedMap=Lf(),this.sortedSet=new ki(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof vh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new vh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.ga=new ki(Oe.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Fe(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Lh{constructor(t,e,r,a,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,r,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new Lh(t,e,vh.emptySet(e),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Am(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class k8{constructor(){this.queries=m_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const a=nn(e),o=a.queries;a.queries=m_(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new le(Yt.ABORTED,"Firestore shutting down"))}}function m_(){return new bc((n=>T4(n)),Am)}async function O8(n,t){const e=nn(n);let r=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(r=2):(o=new L8,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=n2(c,`Initialization of query '${lh(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&i2(e)}async function D8(n,t){const e=nn(n),r=t.query;let a=3;const o=e.queries.get(r);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function P8(n,t){const e=nn(n);let r=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(r=!0);c.wa=a}}r&&i2(e)}function M8(n,t,e){const r=nn(n),a=r.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);r.queries.delete(t)}function i2(n){n.Ca.forEach((t=>{t.next()}))}var o0,g_;(g_=o0||(o0={})).Ma="default",g_.Cache="cache";class U8{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Lh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Lh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==o0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(t){this.key=t}}class a3{constructor(t){this.key=t}}class V8{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wn(),this.mutatedKeys=wn(),this.eu=N4(t),this.tu=new vh(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new p_,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((_,E)=>{const x=a.get(_),w=Em(this.query,E)?E:null,j=!!x&&this.mutatedKeys.has(x.key),q=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let U=!1;x&&w?x.data.isEqual(w.data)?j!==q&&(r.track({type:3,doc:w}),U=!0):this.su(x,w)||(r.track({type:2,doc:w}),U=!0,(f&&this.eu(w,f)>0||m&&this.eu(w,m)<0)&&(h=!0)):!x&&w?(r.track({type:0,doc:w}),U=!0):x&&!w&&(r.track({type:1,doc:x}),U=!0,(f||m)&&(h=!0)),U&&(w?(c=c.add(w),o=q?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,E)=>(function(w,j){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:U})}};return q(w)-q(j)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(r),a=a??!1;const h=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new Lh(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=wn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new a3(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new s3(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=wn();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Lh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const r2="SyncEngine";class j8{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class B8{constructor(t){this.key=t,this.hu=!1}}class F8{constructor(t,e,r,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new bc((h=>T4(h)),Am),this.Iu=new Map,this.Eu=new Set,this.du=new ki(Oe.comparator),this.Au=new Map,this.Ru=new K0,this.Vu={},this.mu=new Map,this.fu=Rh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q8(n,t,e=!0){const r=f3(n);let a;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await o3(r,t,e,!0),a}async function z8(n,t){const e=f3(n);await o3(e,t,!0,!1)}async function o3(n,t,e,r){const a=await a8(n.localStore,Wo(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return r&&(h=await H8(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&Z4(n.remoteStore,a),h}async function H8(n,t,e,r,a){n.pu=(E,x,w)=>(async function(q,U,B,at){let it=U.view.ru(B);it.Cs&&(it=await l_(q.localStore,U.query,!1).then((({documents:z})=>U.view.ru(z,it))));const nt=at&&at.targetChanges.get(U.targetId),wt=at&&at.targetMismatches.get(U.targetId)!=null,Tt=U.view.applyChanges(it,q.isPrimaryClient,nt,wt);return v_(q,U.targetId,Tt.au),Tt.snapshot})(n,E,x,w);const o=await l_(n.localStore,t,!0),c=new V8(t,o.Qs),h=c.ru(o.documents),f=ld.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,f);v_(n,e,m.au);const _=new j8(t,e,c);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function G8(n,t,e){const r=nn(n),a=r.Tu.get(t),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Am(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await s0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),e&&$0(r.remoteStore,a.targetId),l0(r,a.targetId)})).catch(Uh)):(l0(r,a.targetId),await s0(r.localStore,a.targetId,!0))}async function Y8(n,t){const e=nn(n),r=e.Tu.get(t),a=e.Iu.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),$0(e.remoteStore,r.targetId))}async function K8(n,t,e){const r=tC(n);try{const a=await(function(c,h){const f=nn(c),m=yi.now(),_=h.reduce(((w,j)=>w.add(j.key)),wn());let E,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let j=Ml(),q=wn();return f.Ns.getEntries(w,_).next((U=>{j=U,j.forEach(((B,at)=>{at.isValidDocument()||(q=q.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,j))).next((U=>{E=U;const B=[];for(const at of h){const it=sI(at,E.get(at.key).overlayedDocument);it!=null&&B.push(new Uu(at.key,it,y4(it.value.mapValue),co.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,B,h)})).next((U=>{x=U;const B=U.applyToLocalDocumentSet(E,q);return f.documentOverlayCache.saveOverlays(w,U.batchId,B)}))})).then((()=>({batchId:x.batchId,changes:I4(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new ki(bn)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(r,a.batchId,e),await cd(r,a.changes),await Cm(r.remoteStore)}catch(a){const o=n2(a,"Failed to persist write");e.reject(o)}}async function l3(n,t){const e=nn(n);try{const r=await i8(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(zn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?zn(c.hu,14607):a.removedDocuments.size>0&&(zn(c.hu,42227),c.hu=!1))})),await cd(e,r,t)}catch(r){await Uh(r)}}function y_(n,t,e){const r=nn(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=nn(c);f.onlineState=h;let m=!1;f.queries.forEach(((_,E)=>{for(const x of E.Sa)x.va(h)&&(m=!0)})),m&&i2(f)})(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function W8(n,t,e){const r=nn(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Au.get(t),o=a&&a.key;if(o){let c=new ki(Oe.comparator);c=c.insert(o,ys.newNoDocument(o,$e.min()));const h=wn().add(o),f=new Nm($e.min(),new Map,new ki(bn),c,h);await l3(r,f),r.du=r.du.remove(o),r.Au.delete(t),s2(r)}else await s0(r.localStore,t,!1).then((()=>l0(r,t,e))).catch(Uh)}async function X8(n,t){const e=nn(n),r=t.batch.batchId;try{const a=await n8(e.localStore,t);c3(e,r,null),u3(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await cd(e,a)}catch(a){await Uh(a)}}async function Q8(n,t,e){const r=nn(n);try{const a=await(function(c,h){const f=nn(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return f.mutationQueue.lookupMutationBatch(m,h).next((E=>(zn(E!==null,37113),_=E.keys(),f.mutationQueue.removeMutationBatch(m,E)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>f.localDocuments.getDocuments(m,_)))}))})(r.localStore,t);c3(r,t,e),u3(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await cd(r,a)}catch(a){await Uh(a)}}function u3(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function c3(n,t,e){const r=nn(n);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function l0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||h3(n,r)}))}function h3(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&($0(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),s2(n))}function v_(n,t,e){for(const r of e)r instanceof s3?(n.Ru.addReference(r.key,t),$8(n,r)):r instanceof a3?(oe(r2,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||h3(n,r.key)):Fe(19791,{wu:r})}function $8(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(oe(r2,"New document in limbo: "+e),n.Eu.add(r),s2(n))}function s2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Oe(hi.fromString(t)),r=n.fu.next();n.Au.set(r,new B8(e)),n.du=n.du.insert(e,r),Z4(n.remoteStore,new _u(Wo(F0(e.path)),r,"TargetPurposeLimboResolution",_m.ce))}}async function cd(n,t,e){const r=nn(n),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,t,e).then((m=>{var _;if((m||e)&&r.isPrimaryClient){const E=m?!m.fromCache:(_=e==null?void 0:e.targetChanges.get(f.targetId))==null?void 0:_.current;r.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){a.push(m);const E=X0.As(f.targetId,m);o.push(E)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(f,m){const _=nn(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Wt.forEach(m,(x=>Wt.forEach(x.Es,(w=>_.persistence.referenceDelegate.addReference(E,x.targetId,w))).next((()=>Wt.forEach(x.ds,(w=>_.persistence.referenceDelegate.removeReference(E,x.targetId,w)))))))))}catch(E){if(!Vh(E))throw E;oe(Q0,"Failed to update sequence numbers: "+E)}for(const E of m){const x=E.targetId;if(!E.fromCache){const w=_.Ms.get(x),j=w.snapshotVersion,q=w.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(x,q)}}})(r.localStore,o))}async function J8(n,t){const e=nn(n);if(!e.currentUser.isEqual(t)){oe(r2,"User change. New user:",t.toKey());const r=await X4(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new le(Yt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await cd(e,r.Ls)}}function Z8(n,t){const e=nn(n),r=e.Au.get(t);if(r&&r.hu)return wn().add(r.key);{let a=wn();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function f3(n){const t=nn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=l3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=W8.bind(null,t),t.Pu.H_=P8.bind(null,t.eventManager),t.Pu.yu=M8.bind(null,t.eventManager),t}function tC(n){const t=nn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=X8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Q8.bind(null,t),t}class nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return e8(this.persistence,new JI,t.initialUser,this.serializer)}Cu(t){return new W4(W0.mi,this.serializer)}Du(t){return new l8}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nm.provider={build:()=>new nm};class eC extends nm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){zn(this.persistence.referenceDelegate instanceof tm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UI(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new W4((r=>tm.mi(r,e)),this.serializer)}}class u0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J8.bind(null,this.syncEngine),await R8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new k8})()}createDatastore(t){const e=xm(t.databaseInfo.databaseId),r=(function(o){return new d8(o)})(t.databaseInfo);return(function(o,c,h,f){return new y8(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,a,o,c,h){return new _8(r,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>y_(this.syncEngine,e,0)),(function(){return h_.v()?new h_:new u8})())}createSyncEngine(t,e){return(function(a,o,c,h,f,m,_){const E=new F8(a,o,c,h,f,m);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(a){const o=nn(a);oe(fc,"RemoteStore shutting down."),o.Ea.add(5),await ud(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}u0.provider={build:()=>new u0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Pl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="FirestoreClient";class iC{constructor(t,e,r,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=gs.UNAUTHENTICATED,this.clientId=P0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{oe(ku,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(oe(ku,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ac;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=n2(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function fg(n,t){n.asyncQueue.verifyOperationInProgress(),oe(ku,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await X4(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function __(n,t){n.asyncQueue.verifyOperationInProgress();const e=await rC(n);oe(ku,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>d_(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>d_(t.remoteStore,a))),n._onlineComponents=t}async function rC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe(ku,"Using user provided OfflineComponentProvider");try{await fg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Yt.FAILED_PRECONDITION||a.code===Yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Nh("Error using user provided cache. Falling back to memory cache: "+e),await fg(n,new nm)}}else oe(ku,"Using default OfflineComponentProvider"),await fg(n,new eC(void 0));return n._offlineComponents}async function d3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe(ku,"Using user provided OnlineComponentProvider"),await __(n,n._uninitializedComponentsProvider._online)):(oe(ku,"Using default OnlineComponentProvider"),await __(n,new u0))),n._onlineComponents}function sC(n){return d3(n).then((t=>t.syncEngine))}async function b_(n){const t=await d3(n),e=t.eventManager;return e.onListen=q8.bind(null,t.syncEngine),e.onUnlisten=G8.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=z8.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Y8.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="firestore.googleapis.com",A_=!0;class E_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new le(Yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m3,this.ssl=A_}else this.host=t.host,this.ssl=t.ssl??A_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=K4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PI)throw new le(Yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_x("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p3(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rm{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new le(Yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ux;switch(r.type){case"firstParty":return new dx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=w_.get(e);r&&(oe("ComponentProvider","Removing Datastore"),w_.delete(e),r.terminate())})(this),Promise.resolve()}}function aC(n,t,e,r={}){var m;n=Su(n,Rm);const a=Oh(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(ow(`https://${h}`),lw("Firestore",!0)),o.host!==m3&&o.host!==h&&Nh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:r};if(!Nu(f,c)&&(n._setSettings(f),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=gs.MOCK_USER;else{_=vS(r.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new le(Yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new gs(x)}n._authCredentials=new cx(new s4(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Bh(this.firestore,t,this._query)}}class cr{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new cr(this.firestore,t,this._key)}toJSON(){return{type:cr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(sd(e,cr._jsonSchema))return new cr(t,r||null,new Oe(hi.fromString(e.referencePath)))}}cr._jsonSchemaVersion="firestore/documentReference/1.0",cr._jsonSchema={type:ur("string",cr._jsonSchemaVersion),referencePath:ur("string")};class Tu extends Bh{constructor(t,e,r){super(t,e,F0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new cr(this.firestore,null,new Oe(t))}withConverter(t){return new Tu(this.firestore,t,this._path)}}function _h(n,t,...e){if(n=zi(n),a4("collection","path",t),n instanceof Rm){const r=hi.fromString(t,...e);return Pv(r),new Tu(n,null,r)}{if(!(n instanceof cr||n instanceof Tu))throw new le(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hi.fromString(t,...e));return Pv(r),new Tu(n.firestore,null,r)}}function $f(n,t,...e){if(n=zi(n),arguments.length===1&&(t=P0.newId()),a4("doc","path",t),n instanceof Rm){const r=hi.fromString(t,...e);return Dv(r),new cr(n,null,new Oe(r))}{if(!(n instanceof cr||n instanceof Tu))throw new le(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hi.fromString(t,...e));return Dv(r),new cr(n.firestore,n instanceof Tu?n.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="AsyncQueue";class T_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $4(this,"async_queue_retry"),this._c=()=>{const r=hg();r&&oe(S_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=hg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=hg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ac;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Vh(t))throw t;oe(S_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Pl("INTERNAL UNHANDLED ERROR: ",N_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=e2.createAndSchedule(this,t,e,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Fe(47125,{Pc:N_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function N_(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class kh extends Rm{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new T_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new T_(t),this._firestoreClient=void 0,await t}}}function oC(n,t){const e=typeof n=="object"?n:T0(),r=typeof n=="string"?n:Kp,a=vc(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=gS("firestore");o&&aC(a,...o)}return a}function g3(n){if(n._terminated)throw new le(Yt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lC(n),n._firestoreClient}function lC(n){var r,a,o;const t=n._freezeSettings(),e=(function(h,f,m,_){return new Rx(h,f,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,p3(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((o=t.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new iC(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Va(ns.fromBase64String(t))}catch(e){throw new le(Yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Va(ns.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Va._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(sd(t,Va._jsonSchema))return Va.fromBase64String(t.bytes)}}Va._jsonSchemaVersion="firestore/bytes/1.0",Va._jsonSchema={type:ur("string",Va._jsonSchemaVersion),bytes:ur("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new le(Yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new es(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new le(Yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new le(Yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return bn(this._lat,t._lat)||bn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qo._jsonSchemaVersion}}static fromJSON(t){if(sd(t,Qo._jsonSchema))return new Qo(t.latitude,t.longitude)}}Qo._jsonSchemaVersion="firestore/geoPoint/1.0",Qo._jsonSchema={type:ur("string",Qo._jsonSchemaVersion),latitude:ur("number"),longitude:ur("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$o._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(sd(t,$o._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new $o(t.vectorValues);throw new le(Yt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$o._jsonSchemaVersion="firestore/vectorValue/1.0",$o._jsonSchema={type:ur("string",$o._jsonSchemaVersion),vectorValues:ur("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=/^__.*__$/;class cC{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Uu(t,this.data,this.fieldMask,e,this.fieldTransforms):new od(t,this.data,e,this.fieldTransforms)}}class y3{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Uu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function v3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:n})}}class o2{constructor(t,e,r,a,o,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new o2({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const e=(a=this.path)==null?void 0:a.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){var a;const e=(a=this.path)==null?void 0:a.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return im(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(v3(this.Ac)&&uC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class hC{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||xm(t)}Cc(t,e,r,a=!1){return new o2({Ac:t,methodName:e,Dc:r,path:es.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l2(n){const t=n._freezeSettings(),e=xm(n._databaseId);return new hC(n._databaseId,!!t.ignoreUndefinedProperties,e)}function fC(n,t,e,r,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);u2("Data must be an object, but it was:",c,r);const h=_3(r,c);let f,m;if(o.merge)f=new ma(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const E of o.mergeFields){const x=c0(t,E,e);if(!c.contains(x))throw new le(Yt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);w3(_,x)||_.push(x)}f=new ma(_),m=c.fieldTransforms.filter((E=>f.covers(E.field)))}else f=null,m=c.fieldTransforms;return new cC(new Js(h),f,m)}class km extends a2{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof km}}function dC(n,t,e,r){const a=n.Cc(1,t,e);u2("Data must be an object, but it was:",a,r);const o=[],c=Js.empty();Mu(r,((f,m)=>{const _=c2(t,f,e);m=zi(m);const E=a.yc(_);if(m instanceof km)o.push(_);else{const x=hd(m,E);x!=null&&(o.push(_),c.set(_,x))}}));const h=new ma(o);return new y3(c,h,a.fieldTransforms)}function pC(n,t,e,r,a,o){const c=n.Cc(1,t,e),h=[c0(t,r,e)],f=[a];if(o.length%2!=0)throw new le(Yt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)h.push(c0(t,o[x])),f.push(o[x+1]);const m=[],_=Js.empty();for(let x=h.length-1;x>=0;--x)if(!w3(m,h[x])){const w=h[x];let j=f[x];j=zi(j);const q=c.yc(w);if(j instanceof km)m.push(w);else{const U=hd(j,q);U!=null&&(m.push(w),_.set(w,U))}}const E=new ma(m);return new y3(_,E,c.fieldTransforms)}function mC(n,t,e,r=!1){return hd(e,n.Cc(r?4:3,t))}function hd(n,t){if(b3(n=zi(n)))return u2("Unsupported field value:",t,n),_3(n,t);if(n instanceof a2)return(function(r,a){if(!v3(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const h of r){let f=hd(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(r,a){if((r=zi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Zx(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yi.fromDate(r);return{timestampValue:Zp(a.serializer,o)}}if(r instanceof yi){const o=new yi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zp(a.serializer,o)}}if(r instanceof Qo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Va)return{bytesValue:B4(a.serializer,r._byteString)};if(r instanceof cr){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Y0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof $o)return(function(c,h){return{mapValue:{fields:{[m4]:{stringValue:g4},[Wp]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return q0(h.serializer,m)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${vm(r)}`)})(n,t)}function _3(n,t){const e={};return u4(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mu(n,((r,a)=>{const o=hd(a,t.mc(r));o!=null&&(e[r]=o)})),{mapValue:{fields:e}}}function b3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yi||n instanceof Qo||n instanceof Va||n instanceof cr||n instanceof a2||n instanceof $o)}function u2(n,t,e){if(!b3(e)||!o4(e)){const r=vm(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function c0(n,t,e){if((t=zi(t))instanceof Lm)return t._internalPath;if(typeof t=="string")return c2(n,t);throw im("Field path arguments must be of type string or ",n,!1,void 0,e)}const gC=new RegExp("[~\\*/\\[\\]]");function c2(n,t,e){if(t.search(gC)>=0)throw im(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Lm(...t.split("."))._internalPath}catch{throw im(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function im(n,t,e,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new le(Yt.INVALID_ARGUMENT,h+n+f)}function w3(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(t,e,r,a,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(h2("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class yC extends A3{data(){return super.data()}}function h2(n,t){return typeof t=="string"?c2(n,t):t instanceof Lm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(Yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f2{}class _C extends f2{}function rm(n,t,...e){let r=[];t instanceof f2&&r.push(t),r=r.concat(e),(function(o){const c=o.filter((f=>f instanceof d2)).length,h=o.filter((f=>f instanceof Om)).length;if(c>1||c>0&&h>0)throw new le(Yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Om extends _C{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Om(t,e,r)}_apply(t){const e=this._parse(t);return E3(t._query,e),new Bh(t.firestore,t.converter,Zg(t._query,e))}_parse(t){const e=l2(t.firestore);return(function(o,c,h,f,m,_,E){let x;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(Yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){C_(E,_);const j=[];for(const q of E)j.push(I_(f,o,q));x={arrayValue:{values:j}}}else x=I_(f,o,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||C_(E,_),x=mC(h,c,E,_==="in"||_==="not-in");return lr.create(m,_,x)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function sm(n,t,e){const r=t,a=h2("where",n);return Om._create(a,r,e)}class d2 extends f2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new d2(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:po.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)E3(c,f),c=Zg(c,f)})(t._query,e),new Bh(t.firestore,t.converter,Zg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function I_(n,t,e){if(typeof(e=zi(e))=="string"){if(e==="")throw new le(Yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S4(t)&&e.indexOf("/")!==-1)throw new le(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(hi.fromString(e));if(!Oe.isDocumentKey(r))throw new le(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zv(n,new Oe(r))}if(e instanceof cr)return zv(n,e._key);throw new le(Yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(e)}.`)}function C_(n,t){if(!Array.isArray(n)||n.length===0)throw new le(Yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function E3(n,t){const e=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new le(Yt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new le(Yt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class bC{convertValue(t,e="none"){switch(Ru(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Cu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Fe(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Mu(t,((a,o)=>{r[a]=this.convertValue(o,e)})),r}convertVectorValue(t){var r,a,o;const e=(o=(a=(r=t.fields)==null?void 0:r[Wp].arrayValue)==null?void 0:a.values)==null?void 0:o.map((c=>Xi(c.doubleValue)));return new $o(e)}convertGeoPoint(t){return new Qo(Xi(t.latitude),Xi(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=wm(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Yf(t));default:return null}}convertTimestamp(t){const e=Iu(t);return new yi(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=hi.fromString(t);zn(Y4(r),9688,{name:t});const a=new Kf(r.get(1),r.get(3)),o=new Oe(r.popFirst(5));return a.isEqual(e)||Pl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class Of{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oc extends A3{constructor(t,e,r,a,o,c){super(t,e,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(h2("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Yt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=oc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}oc._jsonSchemaVersion="firestore/documentSnapshot/1.0",oc._jsonSchema={type:ur("string",oc._jsonSchemaVersion),bundleSource:ur("string","DocumentSnapshot"),bundleName:ur("string"),bundle:ur("string")};class Rp extends oc{data(t={}){return super.data(t)}}class bh{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Of(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Rp(this._firestore,this._userDataWriter,r.key,r,new Of(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new le(Yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new Rp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Of(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Rp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Of(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,_=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:AC(h.type),doc:f,oldIndex:m,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Yt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=bh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=P0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function AC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}bh._jsonSchemaVersion="firestore/querySnapshot/1.0",bh._jsonSchema={type:ur("string",bh._jsonSchemaVersion),bundleSource:ur("string","QuerySnapshot"),bundleName:ur("string"),bundle:ur("string")};class S3 extends bC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Va(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new cr(this.firestore,null,e)}}function T3(n,t,e,...r){n=Su(n,cr);const a=Su(n.firestore,kh),o=l2(a);let c;return c=typeof(t=zi(t))=="string"||t instanceof Lm?pC(o,"updateDoc",n._key,t,e,r):dC(o,"updateDoc",n._key,t),p2(a,[c.toMutation(n._key,co.exists(!0))])}function N3(n){return p2(Su(n.firestore,kh),[new z0(n._key,co.none())])}function x3(n,t){const e=Su(n.firestore,kh),r=$f(n),a=wC(n.converter,t);return p2(e,[fC(l2(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,co.exists(!1))]).then((()=>r))}function am(n,...t){var f,m,_;n=zi(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||x_(t[r])||(e=t[r++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(x_(t[r])){const E=t[r];t[r]=(f=E.next)==null?void 0:f.bind(E),t[r+1]=(m=E.error)==null?void 0:m.bind(E),t[r+2]=(_=E.complete)==null?void 0:_.bind(E)}let o,c,h;if(n instanceof cr)c=Su(n.firestore,kh),h=F0(n._key.path),o={next:E=>{t[r]&&t[r](EC(c,n,E))},error:t[r+1],complete:t[r+2]};else{const E=Su(n,Bh);c=Su(E.firestore,kh),h=E._query;const x=new S3(c);o={next:w=>{t[r]&&t[r](new bh(c,x,E,w))},error:t[r+1],complete:t[r+2]},vC(n._query)}return(function(x,w,j,q){const U=new nC(q),B=new U8(w,U,j);return x.asyncQueue.enqueueAndForget((async()=>O8(await b_(x),B))),()=>{U.Nu(),x.asyncQueue.enqueueAndForget((async()=>D8(await b_(x),B)))}})(g3(c),h,a,o)}function p2(n,t){return(function(r,a){const o=new ac;return r.asyncQueue.enqueueAndForget((async()=>K8(await sC(r),a,o))),o.promise})(g3(n),t)}function EC(n,t,e){const r=e.docs.get(t._key),a=new S3(n);return new oc(n,a,t._key,r,new Of(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){Mh=a})(Dh),Jo(new ho("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new kh(new hx(r.getProvider("auth-internal")),new px(c,r.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new le(Yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kf(m.options.projectId,_)})(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),ja(Rv,Lv,t),ja(Rv,Lv,"esm2020")})();const I3="@firebase/installations",m2="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=1e4,R3=`w:${m2}`,L3="FIS_v2",SC="https://firebaseinstallations.googleapis.com/v1",TC=3600*1e3,NC="installations",xC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dc=new yc(NC,xC,IC);function k3(n){return n instanceof go&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3({projectId:n}){return`${SC}/projects/${n}/installations`}function D3(n){return{token:n.token,requestStatus:2,expiresIn:RC(n.expiresIn),creationTime:Date.now()}}async function P3(n,t){const r=(await t.json()).error;return dc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function M3({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function CC(n,{refreshToken:t}){const e=M3(n);return e.append("Authorization",LC(t)),e}async function U3(n){const t=await n();return t.status>=500&&t.status<600?n():t}function RC(n){return Number(n.replace("s","000"))}function LC(n){return`${L3} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const r=O3(n),a=M3(n),o=t.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={fid:e,authVersion:L3,appId:n.appId,sdkVersion:R3},h={method:"POST",headers:a,body:JSON.stringify(c)},f=await U3(()=>fetch(r,h));if(f.ok){const m=await f.json();return{fid:m.fid||e,registrationStatus:2,refreshToken:m.refreshToken,authToken:D3(m.authToken)}}else throw await P3("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^[cdef][\w-]{21}$/,h0="";function PC(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=MC(n);return DC.test(e)?e:h0}catch{return h0}}function MC(n){return OC(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Map;function B3(n,t){const e=Dm(n);F3(e,t),UC(e,t)}function F3(n,t){const e=j3.get(n);if(e)for(const r of e)r(t)}function UC(n,t){const e=VC();e&&e.postMessage({key:n,fid:t}),jC()}let sc=null;function VC(){return!sc&&"BroadcastChannel"in self&&(sc=new BroadcastChannel("[Firebase] FID Change"),sc.onmessage=n=>{F3(n.data.key,n.data.fid)}),sc}function jC(){j3.size===0&&sc&&(sc.close(),sc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebase-installations-database",FC=1,pc="firebase-installations-store";let dg=null;function g2(){return dg||(dg=pw(BC,FC,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(pc)}}})),dg}async function om(n,t){const e=Dm(n),a=(await g2()).transaction(pc,"readwrite"),o=a.objectStore(pc),c=await o.get(e);return await o.put(t,e),await a.done,(!c||c.fid!==t.fid)&&B3(n,t.fid),t}async function q3(n){const t=Dm(n),r=(await g2()).transaction(pc,"readwrite");await r.objectStore(pc).delete(t),await r.done}async function Pm(n,t){const e=Dm(n),a=(await g2()).transaction(pc,"readwrite"),o=a.objectStore(pc),c=await o.get(e),h=t(c);return h===void 0?await o.delete(e):await o.put(h,e),await a.done,h&&(!c||c.fid!==h.fid)&&B3(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(n){let t;const e=await Pm(n.appConfig,r=>{const a=qC(r),o=zC(n,a);return t=o.registrationPromise,o.installationEntry});return e.fid===h0?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function qC(n){const t=n||{fid:PC(),registrationStatus:0};return z3(t)}function zC(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(dc.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=HC(n,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:GC(n)}:{installationEntry:t}}async function HC(n,t){try{const e=await kC(n,t);return om(n.appConfig,e)}catch(e){throw k3(e)&&e.customData.serverCode===409?await q3(n.appConfig):await om(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function GC(n){let t=await R_(n.appConfig);for(;t.registrationStatus===1;)await V3(100),t=await R_(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await y2(n);return r||e}return t}function R_(n){return Pm(n,t=>{if(!t)throw dc.create("installation-not-found");return z3(t)})}function z3(n){return YC(n)?{fid:n.fid,registrationStatus:0}:n}function YC(n){return n.registrationStatus===1&&n.registrationTime+C3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC({appConfig:n,heartbeatServiceProvider:t},e){const r=WC(n,e),a=CC(n,e),o=t.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={installation:{sdkVersion:R3,appId:n.appId}},h={method:"POST",headers:a,body:JSON.stringify(c)},f=await U3(()=>fetch(r,h));if(f.ok){const m=await f.json();return D3(m)}else throw await P3("Generate Auth Token",f)}function WC(n,{fid:t}){return`${O3(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(n,t=!1){let e;const r=await Pm(n.appConfig,o=>{if(!H3(o))throw dc.create("not-registered");const c=o.authToken;if(!t&&$C(c))return o;if(c.requestStatus===1)return e=XC(n,t),o;{if(!navigator.onLine)throw dc.create("app-offline");const h=ZC(o);return e=QC(n,h),h}});return e?await e:r.authToken}async function XC(n,t){let e=await L_(n.appConfig);for(;e.authToken.requestStatus===1;)await V3(100),e=await L_(n.appConfig);const r=e.authToken;return r.requestStatus===0?v2(n,t):r}function L_(n){return Pm(n,t=>{if(!H3(t))throw dc.create("not-registered");const e=t.authToken;return tR(e)?{...t,authToken:{requestStatus:0}}:t})}async function QC(n,t){try{const e=await KC(n,t),r={...t,authToken:e};return await om(n.appConfig,r),e}catch(e){if(k3(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await q3(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await om(n.appConfig,r)}throw e}}function H3(n){return n!==void 0&&n.registrationStatus===2}function $C(n){return n.requestStatus===2&&!JC(n)}function JC(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+TC}function ZC(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function tR(n){return n.requestStatus===1&&n.requestTime+C3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(n){const t=n,{installationEntry:e,registrationPromise:r}=await y2(t);return r?r.catch(console.error):v2(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(n,t=!1){const e=n;return await iR(e),(await v2(e,t)).token}async function iR(n){const{registrationPromise:t}=await y2(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n){if(!n||!n.options)throw pg("App Configuration");if(!n.name)throw pg("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw pg(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function pg(n){return dc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="installations",sR="installations-internal",aR=n=>{const t=n.getProvider("app").getImmediate(),e=rR(t),r=vc(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},oR=n=>{const t=n.getProvider("app").getImmediate(),e=vc(t,G3).getImmediate();return{getId:()=>eR(e),getToken:a=>nR(e,a)}};function lR(){Jo(new ho(G3,aR,"PUBLIC")),Jo(new ho(sR,oR,"PRIVATE"))}lR();ja(I3,m2);ja(I3,m2,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="analytics",uR="firebase_id",cR="origin",hR=60*1e3,fR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_2="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new pm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ya=new yc("analytics","Analytics",dR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n){if(!n.startsWith(_2)){const t=ya.create("invalid-gtag-resource",{gtagURL:n});return Cs.warn(t.message),""}return n}function Y3(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function mR(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function gR(n,t){const e=mR("firebase-js-sdk-policy",{createScriptURL:pR}),r=document.createElement("script"),a=`${_2}?l=${n}&id=${t}`;r.src=e?e==null?void 0:e.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function yR(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function vR(n,t,e,r,a,o){const c=r[a];try{if(c)await t[c];else{const f=(await Y3(e)).find(m=>m.measurementId===a);f&&await t[f.appId]}}catch(h){Cs.error(h)}n("config",a,o)}async function _R(n,t,e,r,a){try{let o=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const h=await Y3(e);for(const f of c){const m=h.find(E=>E.measurementId===f),_=m&&t[m.appId];if(_)o.push(_);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),n("event",r,a||{})}catch(o){Cs.error(o)}}function bR(n,t,e,r){async function a(o,...c){try{if(o==="event"){const[h,f]=c;await _R(n,t,e,h,f)}else if(o==="config"){const[h,f]=c;await vR(n,t,e,r,h,f)}else if(o==="consent"){const[h,f]=c;n("consent",h,f)}else if(o==="get"){const[h,f,m]=c;n("get",h,f,m)}else if(o==="set"){const[h]=c;n("set",h)}else n(o,...c)}catch(h){Cs.error(h)}}return a}function wR(n,t,e,r,a){let o=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=bR(o,n,t,e),{gtagCore:o,wrappedGtag:window[a]}}function AR(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(_2)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=30,SR=1e3;class TR{constructor(t={},e=SR){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const K3=new TR;function NR(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function xR(n){var c;const{appId:t,apiKey:e}=n,r={method:"GET",headers:NR(e)},a=fR.replace("{app-id}",t),o=await fetch(a,r);if(o.status!==200&&o.status!==304){let h="";try{const f=await o.json();(c=f.error)!=null&&c.message&&(h=f.error.message)}catch{}throw ya.create("config-fetch-failed",{httpStatus:o.status,responseMessage:h})}return o.json()}async function IR(n,t=K3,e){const{appId:r,apiKey:a,measurementId:o}=n.options;if(!r)throw ya.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:r};throw ya.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new LR;return setTimeout(async()=>{h.abort()},hR),W3({appId:r,apiKey:a,measurementId:o},c,h,t)}async function W3(n,{throttleEndTimeMillis:t,backoffCount:e},r,a=K3){var h;const{appId:o,measurementId:c}=n;try{await CR(r,t)}catch(f){if(c)return Cs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:c};throw f}try{const f=await xR(n);return a.deleteThrottleMetadata(o),f}catch(f){const m=f;if(!RR(m)){if(a.deleteThrottleMetadata(o),c)return Cs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:o,measurementId:c};throw f}const _=Number((h=m==null?void 0:m.customData)==null?void 0:h.httpStatus)===503?ev(e,a.intervalMillis,ER):ev(e,a.intervalMillis),E={throttleEndTimeMillis:Date.now()+_,backoffCount:e+1};return a.setThrottleMetadata(o,E),Cs.debug(`Calling attemptFetch again in ${_} millis`),W3(n,E,r,a)}}function CR(n,t){return new Promise((e,r)=>{const a=Math.max(t-Date.now(),0),o=setTimeout(e,a);n.addEventListener(()=>{clearTimeout(o),r(ya.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function RR(n){if(!(n instanceof go)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class LR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function kR(n,t,e,r,a){if(a&&a.global){n("event",e,r);return}else{const o=await t,c={...r,send_to:o};n("event",e,c)}}async function OR(n,t,e,r){if(r&&r.global){const a={};for(const o of Object.keys(e))a[`user_properties.${o}`]=e[o];return n("set",a),Promise.resolve()}else{const a=await t;n("config",a,{update:!0,user_properties:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(){if(cw())try{await hw()}catch(n){return Cs.warn(ya.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Cs.warn(ya.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PR(n,t,e,r,a,o,c){const h=IR(n);h.then(x=>{e[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&Cs.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Cs.error(x)),t.push(h);const f=DR().then(x=>{if(x)return r.getId()}),[m,_]=await Promise.all([h,f]);AR(o)||gR(o,m.measurementId),a("js",new Date);const E=(c==null?void 0:c.config)??{};return E[cR]="firebase",E.update=!0,_!=null&&(E[uR]=_),a("config",m.measurementId,E),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t){this.app=t}_delete(){return delete wh[this.app.options.appId],Promise.resolve()}}let wh={},k_=[];const O_={};let mg="dataLayer",UR="gtag",D_,b2,P_=!1;function VR(){const n=[];if(uw()&&n.push("This is a browser extension environment."),xS()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,a)=>`(${a+1}) ${r}`).join(" "),e=ya.create("invalid-analytics-context",{errorInfo:t});Cs.warn(e.message)}}function jR(n,t,e){VR();const r=n.options.appId;if(!r)throw ya.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Cs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ya.create("no-api-key");if(wh[r]!=null)throw ya.create("already-exists",{id:r});if(!P_){yR(mg);const{wrappedGtag:o,gtagCore:c}=wR(wh,k_,O_,mg,UR);b2=o,D_=c,P_=!0}return wh[r]=PR(n,k_,O_,t,D_,mg,e),new MR(n)}function BR(n=T0()){n=zi(n);const t=vc(n,lm);return t.isInitialized()?t.getImmediate():FR(n)}function FR(n,t={}){const e=vc(n,lm);if(e.isInitialized()){const a=e.getImmediate();if(Nu(t,e.getOptions()))return a;throw ya.create("already-initialized")}return e.initialize({options:t})}function qR(n,t,e){n=zi(n),OR(b2,wh[n.app.options.appId],t,e).catch(r=>Cs.error(r))}function zR(n,t,e,r){n=zi(n),kR(b2,wh[n.app.options.appId],t,e,r).catch(a=>Cs.error(a))}const M_="@firebase/analytics",U_="0.10.19";function HR(){Jo(new ho(lm,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return jR(r,a,e)},"PUBLIC")),Jo(new ho("analytics-internal",n,"PRIVATE")),ja(M_,U_),ja(M_,U_,"esm2020");function n(t){try{const e=t.getProvider(lm).getImmediate();return{logEvent:(r,a,o)=>zR(e,r,a,o),setUserProperties:(r,a)=>qR(e,r,a)}}catch(e){throw ya.create("interop-component-reg-failed",{reason:e})}}}HR();const GR={apiKey:"AIzaSyD8bIUJRuVCE10Uvap1z_aCVpc1mstcMoc",authDomain:"calculadora-keto-1eb5e.firebaseapp.com",projectId:"calculadora-keto-1eb5e",storageBucket:"calculadora-keto-1eb5e.firebasestorage.app",messagingSenderId:"503210674682",appId:"1:503210674682:web:fa80952a2590c683b6fc43",measurementId:"G-71LLSKPZSX"},w2=mw(GR),hp=ox(w2),Ho=oC(w2);BR(w2);var Lp=(n=>(n.KG="Kg",n.GR="Gr",n.LT="Lt",n.UN="Un",n))(Lp||{});const V_=n=>{switch(n){case"Kg":return 1e3;case"Lt":return 1e3;case"Gr":return 1;case"Un":return 1;default:return 1}},YR=({userId:n})=>{const[t,e]=Un.useState([]),[r,a]=Un.useState(""),[o,c]=Un.useState(Lp.KG),[h,f]=Un.useState("1"),[m,_]=Un.useState(""),[E,x]=Un.useState(null),[w,j]=Un.useState("");Un.useEffect(()=>{const it=rm(_h(Ho,"ingredients"),sm("userId","==",n)),nt=am(it,wt=>{const Tt=wt.docs.map(z=>({id:z.id,...z.data()}));Tt.sort((z,D)=>z.name.localeCompare(D.name)),e(Tt)},wt=>{console.error("Firestore Error:",wt),j("Error de permisos: No se pueden cargar los ingredientes. Verifica las reglas de seguridad en Firebase Console.")});return()=>nt()},[n]);const q=async it=>{it.preventDefault(),j("");const nt=r.trim();if(!nt||!m)return;if(t.some(Tt=>Tt.name.toLowerCase()===nt.toLowerCase()&&Tt.id!==E)){j("Ya existe un ingrediente con ese nombre.");return}try{const Tt=parseFloat(h)||1,z=parseFloat(m),D={name:nt,unit:o,quantity:Tt,pricePerUnit:z/Tt,userId:n};E?(await T3($f(Ho,"ingredients",E),D),x(null)):await x3(_h(Ho,"ingredients"),D),at()}catch(Tt){console.error(Tt),Tt.code==="permission-denied"?j("Permiso denegado al guardar. Verifica las reglas de Firestore."):j("Error al guardar.")}},U=it=>{a(it.name),c(it.unit);const nt=it.quantity||1;f(nt.toString()),_((it.pricePerUnit*nt).toString()),x(it.id)},B=async it=>{if(window.confirm("Eliminar este ingrediente?"))try{await N3($f(Ho,"ingredients",it))}catch(nt){console.error(nt),j("No se pudo eliminar. Permisos insuficientes.")}},at=()=>{a(""),c(Lp.KG),f("1"),_(""),x(null),j("")};return vt.jsxs("div",{className:"space-y-6 animate-fade-in",children:[vt.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-rose-100",children:[vt.jsx("h2",{className:"text-xl font-bold text-rose-500 mb-4",children:E?"Editar Ingrediente":"Nuevo Ingrediente"}),vt.jsxs("form",{onSubmit:q,className:"space-y-4",children:[vt.jsxs("div",{children:[vt.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nombre"}),vt.jsx("input",{type:"text",value:r,onChange:it=>a(it.target.value),className:"w-full p-3 rounded-xl border border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-400 text-black bg-gray-50 placeholder-gray-400",placeholder:"Ej. Harina de Almendras",required:!0})]}),vt.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vt.jsxs("div",{children:[vt.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Unidad de Compra"}),vt.jsxs("div",{className:"flex gap-2",children:[vt.jsx("input",{type:"number",step:"any",value:h,onChange:it=>f(it.target.value),className:"w-24 p-3 rounded-xl border border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-400 text-black bg-gray-50 placeholder-gray-400",placeholder:"Cant.",required:!0}),vt.jsx("select",{value:o,onChange:it=>c(it.target.value),className:"flex-1 p-3 rounded-xl border border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-400 bg-gray-50 text-black",children:Object.values(Lp).map(it=>vt.jsx("option",{value:it,children:it},it))})]})]}),vt.jsxs("div",{children:[vt.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Precio"}),vt.jsx("input",{type:"number",step:"0.01",value:m,onChange:it=>_(it.target.value),className:"w-full p-3 rounded-xl border border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-400 text-black bg-gray-50 placeholder-gray-400",placeholder:"0.00",required:!0})]})]}),w&&vt.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm border border-red-100",children:w}),vt.jsxs("div",{className:"flex gap-2 pt-2",children:[vt.jsx("button",{type:"submit",className:"flex-1 bg-rose-500 text-white py-3 rounded-xl font-bold hover:bg-rose-600 transition shadow-md",children:E?"Actualizar":"Guardar"}),E&&vt.jsx("button",{type:"button",onClick:at,className:"px-4 py-3 bg-slate-200 text-slate-600 rounded-xl font-bold",children:"Cancelar"})]})]})]}),vt.jsxs("div",{className:"space-y-3",children:[vt.jsxs("h3",{className:"text-lg font-semibold text-slate-700 pl-1",children:["Inventario (",t.length,")"]}),t.length===0?vt.jsx("p",{className:"text-slate-400 text-center py-8",children:w?"No se pudieron cargar datos.":"No hay ingredientes registrados."}):t.map(it=>vt.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border-l-4 border-rose-300 flex justify-between items-center",children:[vt.jsxs("div",{children:[vt.jsx("h4",{className:"font-bold text-slate-800",children:it.name}),vt.jsxs("p",{className:"text-sm text-slate-500",children:["$",it.pricePerUnit.toLocaleString()," / ",it.unit]})]}),vt.jsxs("div",{className:"flex gap-2",children:[vt.jsx("button",{onClick:()=>U(it),className:"p-2 text-rose-500 bg-rose-50 rounded-lg hover:bg-rose-100",children:vt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:vt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),vt.jsx("button",{onClick:()=>B(it.id),className:"p-2 text-red-500 bg-red-50 rounded-lg hover:bg-red-100",children:vt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:vt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},it.id))]})]})},KR=({userId:n})=>{const[t,e]=Un.useState([]),[r,a]=Un.useState([]),[o,c]=Un.useState(""),[h,f]=Un.useState([]),[m,_]=Un.useState(""),[E,x]=Un.useState(null),[w,j]=Un.useState(""),[q,U]=Un.useState("");Un.useEffect(()=>{const T=rm(_h(Ho,"ingredients"),sm("userId","==",n)),R=am(T,L=>{const st=L.docs.map(bt=>({id:bt.id,...bt.data()}));st.sort((bt,rt)=>bt.name.localeCompare(rt.name)),e(st)},L=>console.error("Error loading ingredients:",L));return()=>R()},[n]),Un.useEffect(()=>{const T=rm(_h(Ho,"recipes"),sm("userId","==",n)),R=am(T,L=>{const st=L.docs.map(bt=>({id:bt.id,...bt.data()}));st.sort((bt,rt)=>bt.name.localeCompare(rt.name)),a(st)},L=>console.error("Error loading recipes:",L));return()=>R()},[n]);const B=()=>{f([...h,{ingredientId:"",quantityUsed:""}])},at=T=>{const R=[...h];R.splice(T,1),f(R)},it=(T,R,L)=>{const st=[...h];st[T]={...st[T],[R]:L},f(st)},nt=()=>{let T=0;return h.forEach(R=>{const L=t.find(bt=>bt.id===R.ingredientId),st=parseFloat(R.quantityUsed);if(L&&!isNaN(st)){const bt=V_(L.unit);T+=L.pricePerUnit/bt*st}}),T},wt=async T=>{T.preventDefault(),j(""),U("");const R=parseFloat(m);if(!o||h.length===0||isNaN(R)||R<=0){alert("Por favor complete todos los campos correctamente.");return}const L=nt(),st=L/R,bt=h.map(ft=>{const ht=t.find(Q=>Q.id===ft.ingredientId),xt=parseFloat(ft.quantityUsed),zt=V_(ht.unit);return{ingredientId:ft.ingredientId,quantityUsed:xt,calculatedCost:ht.pricePerUnit/zt*xt}}),rt={userId:n,name:o,ingredients:bt,totalYieldWeight:R,totalCost:L,costPerGram:st};try{E?(await T3($f(Ho,"recipes",E),rt),j("Receta actualizada correctamente!")):(await x3(_h(Ho,"recipes"),rt),j("Receta creada exitosamente!")),D(),setTimeout(()=>j(""),3e3),window.scrollTo({top:0,behavior:"smooth"})}catch(ft){console.error(ft),U("Error al guardar. Verifica tu conexin.")}},Tt=T=>{c(T.name),_(T.totalYieldWeight.toString());const R=T.ingredients.map(L=>({ingredientId:L.ingredientId,quantityUsed:L.quantityUsed.toString()}));f(R),x(T.id),window.scrollTo({top:0,behavior:"smooth"})},z=async(T,R)=>{if(T.stopPropagation(),!!R&&window.confirm("Ests seguro de eliminar esta receta? Esta accin no se puede deshacer."))try{await N3($f(Ho,"recipes",R)),E===R&&D(),j("Receta eliminada correctamente."),setTimeout(()=>j(""),3e3)}catch(L){console.error("Error al eliminar:",L),alert("Error al eliminar la receta. Verifica tus permisos o conexin.")}},D=()=>{c(""),f([]),_(""),x(null),U("")},k=T=>{const R=t.find(L=>L.id===T);if(!R)return"cant";switch(R.unit){case"Kg":return"gramos";case"Lt":return"ml";default:return"unidades"}},G=nt();return vt.jsxs("div",{className:"space-y-8 animate-fade-in pb-20",children:[vt.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-rose-100",children:[vt.jsx("h2",{className:"text-xl font-bold text-rose-500 mb-4",children:E?"Editar Receta":"Nueva Receta"}),q&&vt.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-3 rounded-lg mb-4 text-sm",children:q}),vt.jsxs("form",{onSubmit:wt,className:"space-y-6",children:[vt.jsxs("div",{children:[vt.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nombre de la Receta"}),vt.jsx("input",{type:"text",value:o,onChange:T=>c(T.target.value),className:"w-full p-3 rounded-xl border border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-400 text-black bg-gray-50 placeholder-gray-400",placeholder:"Ej. Torta de Chocolate Keto",required:!0})]}),vt.jsxs("div",{className:"space-y-3",children:[vt.jsxs("div",{className:"flex justify-between items-center",children:[vt.jsx("label",{className:"block text-sm font-medium text-slate-600",children:"Ingredientes"}),vt.jsx("button",{type:"button",onClick:B,className:"text-xs bg-rose-100 text-rose-600 px-3 py-1 rounded-full font-bold hover:bg-rose-200",children:"+ Agregar"})]}),h.map((T,R)=>vt.jsxs("div",{className:"flex gap-2 items-start",children:[vt.jsxs("div",{className:"flex-grow space-y-2",children:[vt.jsxs("select",{value:T.ingredientId,onChange:L=>it(R,"ingredientId",L.target.value),className:"w-full p-2.5 rounded-xl border border-rose-300 bg-gray-50 text-sm text-black",required:!0,children:[vt.jsx("option",{value:"",children:"Seleccionar ingrediente..."}),t.map(L=>vt.jsx("option",{value:L.id,children:L.name},L.id))]}),vt.jsxs("div",{className:"relative",children:[vt.jsx("input",{type:"number",value:T.quantityUsed,onChange:L=>it(R,"quantityUsed",L.target.value),className:"w-full p-2.5 rounded-xl border border-rose-300 text-sm text-black bg-gray-50 placeholder-gray-400",placeholder:"Cantidad usada",required:!0}),vt.jsx("span",{className:"absolute right-3 top-2.5 text-xs text-slate-400",children:T.ingredientId?k(T.ingredientId):"-"})]})]}),vt.jsx("button",{type:"button",onClick:()=>at(R),className:"mt-1 p-2 text-red-400 hover:text-red-600",children:vt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:vt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},R)),h.length===0&&vt.jsx("p",{className:"text-sm text-slate-400 italic text-center py-2 bg-slate-50 rounded-lg",children:"Agrega ingredientes a la lista"})]}),vt.jsxs("div",{className:"bg-rose-50 p-4 rounded-xl",children:[vt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[vt.jsx("span",{className:"text-sm font-semibold text-rose-600",children:"Costo Ingredientes:"}),vt.jsxs("span",{className:"font-bold text-lg",children:["$",G.toFixed(2)]})]}),vt.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Peso Final de la Preparacin (Yield)"}),vt.jsxs("div",{className:"relative",children:[vt.jsx("input",{type:"number",value:m,onChange:T=>_(T.target.value),className:"w-full p-3 rounded-xl border border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-400 text-black bg-white placeholder-gray-400",placeholder:"Total en gramos o unidades",required:!0}),vt.jsx("span",{className:"absolute right-3 top-3.5 text-sm text-slate-400",children:"gr/un"})]})]}),vt.jsxs("div",{className:"flex gap-2",children:[vt.jsx("button",{type:"submit",className:"flex-1 bg-rose-500 text-white py-4 rounded-xl font-bold hover:bg-rose-600 transition shadow-lg text-lg",children:E?"Actualizar Receta":"Guardar Receta"}),E&&vt.jsx("button",{type:"button",onClick:D,className:"px-6 py-4 bg-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-300 transition",children:"Cancelar"})]})]})]}),vt.jsxs("div",{className:"space-y-4",children:[vt.jsxs("h3",{className:"text-lg font-bold text-slate-700 pl-2 border-l-4 border-rose-400",children:["Mis Recetas (",r.length,")"]}),r.length===0?vt.jsx("p",{className:"text-center text-slate-400 py-8 italic",children:"No tienes recetas guardadas an."}):vt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(T=>vt.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between hover:shadow-md transition",children:[vt.jsxs("div",{children:[vt.jsxs("div",{className:"flex justify-between items-start mb-2",children:[vt.jsx("h4",{className:"font-bold text-lg text-slate-800 leading-tight",children:T.name}),vt.jsxs("span",{className:"bg-rose-100 text-rose-600 text-xs font-bold px-2 py-1 rounded-lg",children:[T.ingredients.length," Ingred."]})]}),vt.jsxs("div",{className:"space-y-1 text-sm text-slate-600 mb-4",children:[vt.jsxs("p",{className:"flex justify-between",children:[vt.jsx("span",{children:"Rendimiento (Yield):"}),vt.jsxs("span",{className:"font-medium",children:[T.totalYieldWeight," gr/un"]})]}),vt.jsxs("p",{className:"flex justify-between",children:[vt.jsx("span",{children:"Costo Total:"}),vt.jsxs("span",{className:"font-medium",children:["$",T.totalCost.toFixed(2)]})]}),vt.jsxs("div",{className:"pt-2 mt-2 border-t border-slate-100 flex justify-between text-rose-600 font-bold",children:[vt.jsx("span",{children:"Costo Base:"}),vt.jsxs("span",{children:["$",T.costPerGram.toFixed(4)," / gr"]})]})]})]}),vt.jsxs("div",{className:"flex gap-2 mt-2 pt-3 border-t border-slate-50",children:[vt.jsxs("button",{type:"button",onClick:()=>Tt(T),className:"flex-1 py-2 text-sm font-semibold text-rose-500 bg-rose-50 rounded-lg hover:bg-rose-100 transition flex justify-center items-center gap-2",children:[vt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:vt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),vt.jsxs("button",{type:"button",onClick:R=>z(R,T.id),className:"flex-1 py-2 text-sm font-semibold text-red-500 bg-red-50 rounded-lg hover:bg-red-100 transition flex justify-center items-center gap-2",children:[vt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:vt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})]},T.id))})]}),w&&vt.jsx("div",{className:"fixed bottom-20 md:bottom-10 left-4 right-4 bg-green-500 text-white p-4 rounded-xl text-center shadow-lg animate-bounce z-50",children:w})]})},WR="modulepreload",XR=function(n){return"/calculadora-keto/"+n},j_={},gg=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let c=function(m){return Promise.all(m.map(_=>Promise.resolve(_).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(e.map(m=>{if(m=XR(m),m in j_)return;j_[m]=!0;const _=m.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${E}`))return;const x=document.createElement("link");if(x.rel=_?"stylesheet":WR,_||(x.as="script"),x.crossOrigin="",x.href=m,f&&x.setAttribute("nonce",f),document.head.appendChild(x),_)return new Promise((w,j)=>{x.addEventListener("load",w),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function Qn(n){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(n)}var mo=Uint8Array,ga=Uint16Array,A2=Int32Array,E2=new mo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),S2=new mo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),B_=new mo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X3=function(n,t){for(var e=new ga(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var a=new A2(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)a[o]=o-e[r]<<5|r;return{b:e,r:a}},Q3=X3(E2,2),QR=Q3.b,f0=Q3.r;QR[28]=258,f0[258]=28;var $R=X3(S2,0),F_=$R.r,d0=new ga(32768);for(var vi=0;vi<32768;++vi){var du=(vi&43690)>>1|(vi&21845)<<1;du=(du&52428)>>2|(du&13107)<<2,du=(du&61680)>>4|(du&3855)<<4,d0[vi]=((du&65280)>>8|(du&255)<<8)>>1}var Bf=(function(n,t,e){for(var r=n.length,a=0,o=new ga(t);a<r;++a)n[a]&&++o[n[a]-1];var c=new ga(t);for(a=1;a<t;++a)c[a]=c[a-1]+o[a-1]<<1;var h;if(e){h=new ga(1<<t);var f=15-t;for(a=0;a<r;++a)if(n[a])for(var m=a<<4|n[a],_=t-n[a],E=c[n[a]-1]++<<_,x=E|(1<<_)-1;E<=x;++E)h[d0[E]>>f]=m}else for(h=new ga(r),a=0;a<r;++a)n[a]&&(h[a]=d0[c[n[a]-1]++]>>15-n[a]);return h}),mc=new mo(288);for(var vi=0;vi<144;++vi)mc[vi]=8;for(var vi=144;vi<256;++vi)mc[vi]=9;for(var vi=256;vi<280;++vi)mc[vi]=7;for(var vi=280;vi<288;++vi)mc[vi]=8;var um=new mo(32);for(var vi=0;vi<32;++vi)um[vi]=5;var JR=Bf(mc,9,0),ZR=Bf(um,5,0),$3=function(n){return(n+7)/8|0},t7=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new mo(n.subarray(t,e))},xl=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},Nf=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},yg=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var a=e.length,o=e.slice();if(!a)return{t:Z3,l:0};if(a==1){var c=new mo(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(wt,Tt){return wt.f-Tt.f}),e.push({s:-1,f:25001});var h=e[0],f=e[1],m=0,_=1,E=2;for(e[0]={s:-1,f:h.f+f.f,l:h,r:f};_!=a-1;)h=e[e[m].f<e[E].f?m++:E++],f=e[m!=_&&e[m].f<e[E].f?m++:E++],e[_++]={s:-1,f:h.f+f.f,l:h,r:f};for(var x=o[0].s,r=1;r<a;++r)o[r].s>x&&(x=o[r].s);var w=new ga(x+1),j=p0(e[_-1],w,0);if(j>t){var r=0,q=0,U=j-t,B=1<<U;for(o.sort(function(Tt,z){return w[z.s]-w[Tt.s]||Tt.f-z.f});r<a;++r){var at=o[r].s;if(w[at]>t)q+=B-(1<<j-w[at]),w[at]=t;else break}for(q>>=U;q>0;){var it=o[r].s;w[it]<t?q-=1<<t-w[it]++-1:++r}for(;r>=0&&q;--r){var nt=o[r].s;w[nt]==t&&(--w[nt],++q)}j=t}return{t:new mo(w),l:j}},p0=function(n,t,e){return n.s==-1?Math.max(p0(n.l,t,e+1),p0(n.r,t,e+1)):t[n.s]=e},q_=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ga(++t),r=0,a=n[0],o=1,c=function(f){e[r++]=f},h=1;h<=t;++h)if(n[h]==a&&h!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[h]}return{c:e.subarray(0,r),n:t}},xf=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},J3=function(n,t,e){var r=e.length,a=$3(t+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=e[o];return(a+4+r)*8},z_=function(n,t,e,r,a,o,c,h,f,m,_){xl(t,_++,e),++a[256];for(var E=yg(a,15),x=E.t,w=E.l,j=yg(o,15),q=j.t,U=j.l,B=q_(x),at=B.c,it=B.n,nt=q_(q),wt=nt.c,Tt=nt.n,z=new ga(19),D=0;D<at.length;++D)++z[at[D]&31];for(var D=0;D<wt.length;++D)++z[wt[D]&31];for(var k=yg(z,7),G=k.t,T=k.l,R=19;R>4&&!G[B_[R-1]];--R);var L=m+5<<3,st=xf(a,mc)+xf(o,um)+c,bt=xf(a,x)+xf(o,q)+c+14+3*R+xf(z,G)+2*z[16]+3*z[17]+7*z[18];if(f>=0&&L<=st&&L<=bt)return J3(t,_,n.subarray(f,f+m));var rt,ft,ht,xt;if(xl(t,_,1+(bt<st)),_+=2,bt<st){rt=Bf(x,w,0),ft=x,ht=Bf(q,U,0),xt=q;var zt=Bf(G,T,0);xl(t,_,it-257),xl(t,_+5,Tt-1),xl(t,_+10,R-4),_+=14;for(var D=0;D<R;++D)xl(t,_+3*D,G[B_[D]]);_+=3*R;for(var Q=[at,wt],O=0;O<2;++O)for(var Y=Q[O],D=0;D<Y.length;++D){var $=Y[D]&31;xl(t,_,zt[$]),_+=G[$],$>15&&(xl(t,_,Y[D]>>5&127),_+=Y[D]>>12)}}else rt=JR,ft=mc,ht=ZR,xt=um;for(var D=0;D<h;++D){var ot=r[D];if(ot>255){var $=ot>>18&31;Nf(t,_,rt[$+257]),_+=ft[$+257],$>7&&(xl(t,_,ot>>23&31),_+=E2[$]);var ut=ot&31;Nf(t,_,ht[ut]),_+=xt[ut],ut>3&&(Nf(t,_,ot>>5&8191),_+=S2[ut])}else Nf(t,_,rt[ot]),_+=ft[ot]}return Nf(t,_,rt[256]),_+ft[256]},e7=new A2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Z3=new mo(0),n7=function(n,t,e,r,a,o){var c=o.z||n.length,h=new mo(r+c+5*(1+Math.ceil(c/7e3))+a),f=h.subarray(r,h.length-a),m=o.l,_=(o.r||0)&7;if(t){_&&(f[0]=o.r>>3);for(var E=e7[t-1],x=E>>13,w=E&8191,j=(1<<e)-1,q=o.p||new ga(32768),U=o.h||new ga(j+1),B=Math.ceil(e/3),at=2*B,it=function(ue){return(n[ue]^n[ue+1]<<B^n[ue+2]<<at)&j},nt=new A2(25e3),wt=new ga(288),Tt=new ga(32),z=0,D=0,k=o.i||0,G=0,T=o.w||0,R=0;k+2<c;++k){var L=it(k),st=k&32767,bt=U[L];if(q[st]=bt,U[L]=st,T<=k){var rt=c-k;if((z>7e3||G>24576)&&(rt>423||!m)){_=z_(n,f,0,nt,wt,Tt,D,G,R,k-R,_),G=z=D=0,R=k;for(var ft=0;ft<286;++ft)wt[ft]=0;for(var ft=0;ft<30;++ft)Tt[ft]=0}var ht=2,xt=0,zt=w,Q=st-bt&32767;if(rt>2&&L==it(k-Q))for(var O=Math.min(x,rt)-1,Y=Math.min(32767,k),$=Math.min(258,rt);Q<=Y&&--zt&&st!=bt;){if(n[k+ht]==n[k+ht-Q]){for(var ot=0;ot<$&&n[k+ot]==n[k+ot-Q];++ot);if(ot>ht){if(ht=ot,xt=Q,ot>O)break;for(var ut=Math.min(Q,ot-2),mt=0,ft=0;ft<ut;++ft){var kt=k-Q+ft&32767,Rt=q[kt],jt=kt-Rt&32767;jt>mt&&(mt=jt,bt=kt)}}}st=bt,bt=q[st],Q+=st-bt&32767}if(xt){nt[G++]=268435456|f0[ht]<<18|F_[xt];var Qt=f0[ht]&31,ee=F_[xt]&31;D+=E2[Qt]+S2[ee],++wt[257+Qt],++Tt[ee],T=k+ht,++z}else nt[G++]=n[k],++wt[n[k]]}}for(k=Math.max(k,T);k<c;++k)nt[G++]=n[k],++wt[n[k]];_=z_(n,f,m,nt,wt,Tt,D,G,R,k-R,_),m||(o.r=_&7|f[_/8|0]<<3,_-=7,o.h=U,o.p=q,o.i=k,o.w=T)}else{for(var k=o.w||0;k<c+m;k+=65535){var te=k+65535;te>=c&&(f[_/8|0]=m,te=c),_=J3(f,_+1,n.subarray(k,te))}o.i=c}return t7(h,0,r+$3(_)+a)},tA=function(){var n=1,t=0;return{p:function(e){for(var r=n,a=t,o=e.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)a+=r+=e[c];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,t=a},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},i7=function(n,t,e,r,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),c=new mo(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return n7(n,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,a)},eA=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},r7=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var a=tA();a.p(t.dictionary),eA(n,2,a.d())}};function m0(n,t){t||(t={});var e=tA();e.p(n);var r=i7(n,t,t.dictionary?6:2,4);return r7(r,t),eA(r,r.length-4,e.d()),r}var s7=typeof TextDecoder<"u"&&new TextDecoder,a7=0;try{s7.decode(Z3,{stream:!0}),a7=1}catch{}function o7(n){if(Array.isArray(n))return n}function l7(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,a,o,c,h=[],f=!0,m=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(f=(r=o.call(e)).done)&&(h.push(r.value),h.length!==t);f=!0);}catch(_){m=!0,a=_}finally{try{if(!f&&e.return!=null&&(c=e.return(),Object(c)!==c))return}finally{if(m)throw a}}return h}}function H_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function u7(n,t){if(n){if(typeof n=="string")return H_(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?H_(n,t):void 0}}function c7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G_(n,t){return o7(n)||l7(n,t)||u7(n,t)||c7()}function Y_(n,t="utf8"){return new TextDecoder(t).decode(n)}const h7=new TextEncoder;function f7(n){return h7.encode(n)}const d7=1024*8,p7=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),vg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class T2{constructor(t=d7,e={}){Xn(this,"buffer");Xn(this,"byteLength");Xn(this,"byteOffset");Xn(this,"length");Xn(this,"offset");Xn(this,"lastWrittenByte");Xn(this,"littleEndian");Xn(this,"_data");Xn(this,"_mark");Xn(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const a=e.offset?e.offset>>>0:0,o=t.byteLength-a;let c=a;(ArrayBuffer.isView(t)||t instanceof T2)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+a),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=vg[e].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===p7&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+r));h.reverse();const f=new vg[e](h.buffer);return this.offset+=r,f.reverse(),f}const c=new vg[e](o);return this.offset+=r,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return Y_(this.readBytes(t))}decodeText(t=1,e="utf8"){return Y_(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(f7(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Fh(n){let t=n.length;for(;--t>=0;)n[t]=0}const m7=3,g7=258,nA=29,y7=256,v7=y7+1+nA,iA=30,_7=512,b7=new Array((v7+2)*2);Fh(b7);const w7=new Array(iA*2);Fh(w7);const A7=new Array(_7);Fh(A7);const E7=new Array(g7-m7+1);Fh(E7);const S7=new Array(nA);Fh(S7);const T7=new Array(iA);Fh(T7);const N7=(n,t,e,r)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;e!==0;){c=e>2e3?2e3:e,e-=c;do a=a+t[r++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var g0=N7;const x7=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},I7=new Uint32Array(x7()),C7=(n,t,e,r)=>{const a=I7,o=r+e;n^=-1;for(let c=r;c<o;c++)n=n>>>8^a[(n^t[c])&255];return n^-1};var Fo=C7,y0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rA={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const R7=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var L7=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)R7(e,r)&&(n[r]=e[r])}}return n},k7=n=>{let t=0;for(let r=0,a=n.length;r<a;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,a=0,o=n.length;r<o;r++){let c=n[r];e.set(c,a),a+=c.length}return e},sA={assign:L7,flattenChunks:k7};let aA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{aA=!1}const Jf=new Uint8Array(256);for(let n=0;n<256;n++)Jf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Jf[254]=Jf[254]=1;var O7=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,a,o,c=n.length,h=0;for(a=0;a<c;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,a=0;o<h;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const D7=(n,t)=>{if(t<65534&&n.subarray&&aA)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var P7=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,a;const o=new Array(e*2);for(a=0,r=0;r<e;){let c=n[r++];if(c<128){o[a++]=c;continue}let h=Jf[c];if(h>4){o[a++]=65533,r+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&r<e;)c=c<<6|n[r++]&63,h--;if(h>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return D7(o,a)},M7=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+Jf[n[e]]>t?e:t},v0={string2buf:O7,buf2string:P7,utf8border:M7};function U7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var V7=U7;const fp=16209,j7=16191;var B7=function(t,e){let r,a,o,c,h,f,m,_,E,x,w,j,q,U,B,at,it,nt,wt,Tt,z,D,k,G;const T=t.state;r=t.next_in,k=t.input,a=r+(t.avail_in-5),o=t.next_out,G=t.output,c=o-(e-t.avail_out),h=o+(t.avail_out-257),f=T.dmax,m=T.wsize,_=T.whave,E=T.wnext,x=T.window,w=T.hold,j=T.bits,q=T.lencode,U=T.distcode,B=(1<<T.lenbits)-1,at=(1<<T.distbits)-1;t:do{j<15&&(w+=k[r++]<<j,j+=8,w+=k[r++]<<j,j+=8),it=q[w&B];e:for(;;){if(nt=it>>>24,w>>>=nt,j-=nt,nt=it>>>16&255,nt===0)G[o++]=it&65535;else if(nt&16){wt=it&65535,nt&=15,nt&&(j<nt&&(w+=k[r++]<<j,j+=8),wt+=w&(1<<nt)-1,w>>>=nt,j-=nt),j<15&&(w+=k[r++]<<j,j+=8,w+=k[r++]<<j,j+=8),it=U[w&at];n:for(;;){if(nt=it>>>24,w>>>=nt,j-=nt,nt=it>>>16&255,nt&16){if(Tt=it&65535,nt&=15,j<nt&&(w+=k[r++]<<j,j+=8,j<nt&&(w+=k[r++]<<j,j+=8)),Tt+=w&(1<<nt)-1,Tt>f){t.msg="invalid distance too far back",T.mode=fp;break t}if(w>>>=nt,j-=nt,nt=o-c,Tt>nt){if(nt=Tt-nt,nt>_&&T.sane){t.msg="invalid distance too far back",T.mode=fp;break t}if(z=0,D=x,E===0){if(z+=m-nt,nt<wt){wt-=nt;do G[o++]=x[z++];while(--nt);z=o-Tt,D=G}}else if(E<nt){if(z+=m+E-nt,nt-=E,nt<wt){wt-=nt;do G[o++]=x[z++];while(--nt);if(z=0,E<wt){nt=E,wt-=nt;do G[o++]=x[z++];while(--nt);z=o-Tt,D=G}}}else if(z+=E-nt,nt<wt){wt-=nt;do G[o++]=x[z++];while(--nt);z=o-Tt,D=G}for(;wt>2;)G[o++]=D[z++],G[o++]=D[z++],G[o++]=D[z++],wt-=3;wt&&(G[o++]=D[z++],wt>1&&(G[o++]=D[z++]))}else{z=o-Tt;do G[o++]=G[z++],G[o++]=G[z++],G[o++]=G[z++],wt-=3;while(wt>2);wt&&(G[o++]=G[z++],wt>1&&(G[o++]=G[z++]))}}else if((nt&64)===0){it=U[(it&65535)+(w&(1<<nt)-1)];continue n}else{t.msg="invalid distance code",T.mode=fp;break t}break}}else if((nt&64)===0){it=q[(it&65535)+(w&(1<<nt)-1)];continue e}else if(nt&32){T.mode=j7;break t}else{t.msg="invalid literal/length code",T.mode=fp;break t}break}}while(r<a&&o<h);wt=j>>3,r-=wt,j-=wt<<3,w&=(1<<j)-1,t.next_in=r,t.next_out=o,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=o<h?257+(h-o):257-(o-h),T.hold=w,T.bits=j};const rh=15,K_=852,W_=592,X_=0,_g=1,Q_=2,F7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),q7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),z7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),H7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),G7=(n,t,e,r,a,o,c,h)=>{const f=h.bits;let m=0,_=0,E=0,x=0,w=0,j=0,q=0,U=0,B=0,at=0,it,nt,wt,Tt,z,D=null,k;const G=new Uint16Array(rh+1),T=new Uint16Array(rh+1);let R=null,L,st,bt;for(m=0;m<=rh;m++)G[m]=0;for(_=0;_<r;_++)G[t[e+_]]++;for(w=f,x=rh;x>=1&&G[x]===0;x--);if(w>x&&(w=x),x===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(E=1;E<x&&G[E]===0;E++);for(w<E&&(w=E),U=1,m=1;m<=rh;m++)if(U<<=1,U-=G[m],U<0)return-1;if(U>0&&(n===X_||x!==1))return-1;for(T[1]=0,m=1;m<rh;m++)T[m+1]=T[m]+G[m];for(_=0;_<r;_++)t[e+_]!==0&&(c[T[t[e+_]]++]=_);if(n===X_?(D=R=c,k=20):n===_g?(D=F7,R=q7,k=257):(D=z7,R=H7,k=0),at=0,_=0,m=E,z=o,j=w,q=0,wt=-1,B=1<<w,Tt=B-1,n===_g&&B>K_||n===Q_&&B>W_)return 1;for(;;){L=m-q,c[_]+1<k?(st=0,bt=c[_]):c[_]>=k?(st=R[c[_]-k],bt=D[c[_]-k]):(st=96,bt=0),it=1<<m-q,nt=1<<j,E=nt;do nt-=it,a[z+(at>>q)+nt]=L<<24|st<<16|bt|0;while(nt!==0);for(it=1<<m-1;at&it;)it>>=1;if(it!==0?(at&=it-1,at+=it):at=0,_++,--G[m]===0){if(m===x)break;m=t[e+c[_]]}if(m>w&&(at&Tt)!==wt){for(q===0&&(q=w),z+=E,j=m-q,U=1<<j;j+q<x&&(U-=G[j+q],!(U<=0));)j++,U<<=1;if(B+=1<<j,n===_g&&B>K_||n===Q_&&B>W_)return 1;wt=at&Tt,a[wt]=w<<24|j<<16|z-o|0}}return at!==0&&(a[z+at]=m-q<<24|64<<16|0),h.bits=w,0};var Ff=G7;const Y7=0,oA=1,lA=2,{Z_FINISH:$_,Z_BLOCK:K7,Z_TREES:dp,Z_OK:gc,Z_STREAM_END:W7,Z_NEED_DICT:X7,Z_STREAM_ERROR:Ba,Z_DATA_ERROR:uA,Z_MEM_ERROR:cA,Z_BUF_ERROR:Q7,Z_DEFLATED:J_}=rA,Mm=16180,Z_=16181,tb=16182,eb=16183,nb=16184,ib=16185,rb=16186,sb=16187,ab=16188,ob=16189,cm=16190,Il=16191,bg=16192,lb=16193,wg=16194,ub=16195,cb=16196,hb=16197,fb=16198,pp=16199,mp=16200,db=16201,pb=16202,mb=16203,gb=16204,yb=16205,Ag=16206,vb=16207,_b=16208,Ti=16209,hA=16210,fA=16211,$7=852,J7=592,Z7=15,tL=Z7,bb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function eL(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ac=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<Mm||t.mode>fA?1:0},dA=n=>{if(Ac(n))return Ba;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=Mm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array($7),t.distcode=t.distdyn=new Int32Array(J7),t.sane=1,t.back=-1,gc},pA=n=>{if(Ac(n))return Ba;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,dA(n)},mA=(n,t)=>{let e;if(Ac(n))return Ba;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ba:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,pA(n))},gA=(n,t)=>{if(!n)return Ba;const e=new eL;n.state=e,e.strm=n,e.window=null,e.mode=Mm;const r=mA(n,t);return r!==gc&&(n.state=null),r},nL=n=>gA(n,tL);let wb=!0,Eg,Sg;const iL=n=>{if(wb){Eg=new Int32Array(512),Sg=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Ff(oA,n.lens,0,288,Eg,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Ff(lA,n.lens,0,32,Sg,0,n.work,{bits:5}),wb=!1}n.lencode=Eg,n.lenbits=9,n.distcode=Sg,n.distbits=5},yA=(n,t,e,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(t.subarray(e-r,e-r+a),o.wnext),r-=a,r?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},rL=(n,t)=>{let e,r,a,o,c,h,f,m,_,E,x,w,j,q,U=0,B,at,it,nt,wt,Tt,z,D;const k=new Uint8Array(4);let G,T;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ac(n)||!n.output||!n.input&&n.avail_in!==0)return Ba;e=n.state,e.mode===Il&&(e.mode=bg),c=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=e.hold,_=e.bits,E=h,x=f,D=gc;t:for(;;)switch(e.mode){case Mm:if(e.wrap===0){e.mode=bg;break}for(;_<16;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}if(e.wrap&2&&m===35615){e.wbits===0&&(e.wbits=15),e.check=0,k[0]=m&255,k[1]=m>>>8&255,e.check=Fo(e.check,k,2,0),m=0,_=0,e.mode=Z_;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((m&255)<<8)+(m>>8))%31){n.msg="incorrect header check",e.mode=Ti;break}if((m&15)!==J_){n.msg="unknown compression method",e.mode=Ti;break}if(m>>>=4,_-=4,z=(m&15)+8,e.wbits===0&&(e.wbits=z),z>15||z>e.wbits){n.msg="invalid window size",e.mode=Ti;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=m&512?ob:Il,m=0,_=0;break;case Z_:for(;_<16;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}if(e.flags=m,(e.flags&255)!==J_){n.msg="unknown compression method",e.mode=Ti;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Ti;break}e.head&&(e.head.text=m>>8&1),e.flags&512&&e.wrap&4&&(k[0]=m&255,k[1]=m>>>8&255,e.check=Fo(e.check,k,2,0)),m=0,_=0,e.mode=tb;case tb:for(;_<32;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}e.head&&(e.head.time=m),e.flags&512&&e.wrap&4&&(k[0]=m&255,k[1]=m>>>8&255,k[2]=m>>>16&255,k[3]=m>>>24&255,e.check=Fo(e.check,k,4,0)),m=0,_=0,e.mode=eb;case eb:for(;_<16;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}e.head&&(e.head.xflags=m&255,e.head.os=m>>8),e.flags&512&&e.wrap&4&&(k[0]=m&255,k[1]=m>>>8&255,e.check=Fo(e.check,k,2,0)),m=0,_=0,e.mode=nb;case nb:if(e.flags&1024){for(;_<16;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}e.length=m,e.head&&(e.head.extra_len=m),e.flags&512&&e.wrap&4&&(k[0]=m&255,k[1]=m>>>8&255,e.check=Fo(e.check,k,2,0)),m=0,_=0}else e.head&&(e.head.extra=null);e.mode=ib;case ib:if(e.flags&1024&&(w=e.length,w>h&&(w=h),w&&(e.head&&(z=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+w),z)),e.flags&512&&e.wrap&4&&(e.check=Fo(e.check,r,w,o)),h-=w,o+=w,e.length-=w),e.length))break t;e.length=0,e.mode=rb;case rb:if(e.flags&2048){if(h===0)break t;w=0;do z=r[o+w++],e.head&&z&&e.length<65536&&(e.head.name+=String.fromCharCode(z));while(z&&w<h);if(e.flags&512&&e.wrap&4&&(e.check=Fo(e.check,r,w,o)),h-=w,o+=w,z)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=sb;case sb:if(e.flags&4096){if(h===0)break t;w=0;do z=r[o+w++],e.head&&z&&e.length<65536&&(e.head.comment+=String.fromCharCode(z));while(z&&w<h);if(e.flags&512&&e.wrap&4&&(e.check=Fo(e.check,r,w,o)),h-=w,o+=w,z)break t}else e.head&&(e.head.comment=null);e.mode=ab;case ab:if(e.flags&512){for(;_<16;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}if(e.wrap&4&&m!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Ti;break}m=0,_=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Il;break;case ob:for(;_<32;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}n.adler=e.check=bb(m),m=0,_=0,e.mode=cm;case cm:if(e.havedict===0)return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=_,X7;n.adler=e.check=1,e.mode=Il;case Il:if(t===K7||t===dp)break t;case bg:if(e.last){m>>>=_&7,_-=_&7,e.mode=Ag;break}for(;_<3;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}switch(e.last=m&1,m>>>=1,_-=1,m&3){case 0:e.mode=lb;break;case 1:if(iL(e),e.mode=pp,t===dp){m>>>=2,_-=2;break t}break;case 2:e.mode=cb;break;case 3:n.msg="invalid block type",e.mode=Ti}m>>>=2,_-=2;break;case lb:for(m>>>=_&7,_-=_&7;_<32;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}if((m&65535)!==(m>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Ti;break}if(e.length=m&65535,m=0,_=0,e.mode=wg,t===dp)break t;case wg:e.mode=ub;case ub:if(w=e.length,w){if(w>h&&(w=h),w>f&&(w=f),w===0)break t;a.set(r.subarray(o,o+w),c),h-=w,o+=w,f-=w,c+=w,e.length-=w;break}e.mode=Il;break;case cb:for(;_<14;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}if(e.nlen=(m&31)+257,m>>>=5,_-=5,e.ndist=(m&31)+1,m>>>=5,_-=5,e.ncode=(m&15)+4,m>>>=4,_-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Ti;break}e.have=0,e.mode=hb;case hb:for(;e.have<e.ncode;){for(;_<3;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}e.lens[R[e.have++]]=m&7,m>>>=3,_-=3}for(;e.have<19;)e.lens[R[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,G={bits:e.lenbits},D=Ff(Y7,e.lens,0,19,e.lencode,0,e.work,G),e.lenbits=G.bits,D){n.msg="invalid code lengths set",e.mode=Ti;break}e.have=0,e.mode=fb;case fb:for(;e.have<e.nlen+e.ndist;){for(;U=e.lencode[m&(1<<e.lenbits)-1],B=U>>>24,at=U>>>16&255,it=U&65535,!(B<=_);){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}if(it<16)m>>>=B,_-=B,e.lens[e.have++]=it;else{if(it===16){for(T=B+2;_<T;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}if(m>>>=B,_-=B,e.have===0){n.msg="invalid bit length repeat",e.mode=Ti;break}z=e.lens[e.have-1],w=3+(m&3),m>>>=2,_-=2}else if(it===17){for(T=B+3;_<T;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}m>>>=B,_-=B,z=0,w=3+(m&7),m>>>=3,_-=3}else{for(T=B+7;_<T;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}m>>>=B,_-=B,z=0,w=11+(m&127),m>>>=7,_-=7}if(e.have+w>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Ti;break}for(;w--;)e.lens[e.have++]=z}}if(e.mode===Ti)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Ti;break}if(e.lenbits=9,G={bits:e.lenbits},D=Ff(oA,e.lens,0,e.nlen,e.lencode,0,e.work,G),e.lenbits=G.bits,D){n.msg="invalid literal/lengths set",e.mode=Ti;break}if(e.distbits=6,e.distcode=e.distdyn,G={bits:e.distbits},D=Ff(lA,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,G),e.distbits=G.bits,D){n.msg="invalid distances set",e.mode=Ti;break}if(e.mode=pp,t===dp)break t;case pp:e.mode=mp;case mp:if(h>=6&&f>=258){n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=_,B7(n,x),c=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=e.hold,_=e.bits,e.mode===Il&&(e.back=-1);break}for(e.back=0;U=e.lencode[m&(1<<e.lenbits)-1],B=U>>>24,at=U>>>16&255,it=U&65535,!(B<=_);){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}if(at&&(at&240)===0){for(nt=B,wt=at,Tt=it;U=e.lencode[Tt+((m&(1<<nt+wt)-1)>>nt)],B=U>>>24,at=U>>>16&255,it=U&65535,!(nt+B<=_);){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}m>>>=nt,_-=nt,e.back+=nt}if(m>>>=B,_-=B,e.back+=B,e.length=it,at===0){e.mode=yb;break}if(at&32){e.back=-1,e.mode=Il;break}if(at&64){n.msg="invalid literal/length code",e.mode=Ti;break}e.extra=at&15,e.mode=db;case db:if(e.extra){for(T=e.extra;_<T;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}e.length+=m&(1<<e.extra)-1,m>>>=e.extra,_-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=pb;case pb:for(;U=e.distcode[m&(1<<e.distbits)-1],B=U>>>24,at=U>>>16&255,it=U&65535,!(B<=_);){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}if((at&240)===0){for(nt=B,wt=at,Tt=it;U=e.distcode[Tt+((m&(1<<nt+wt)-1)>>nt)],B=U>>>24,at=U>>>16&255,it=U&65535,!(nt+B<=_);){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}m>>>=nt,_-=nt,e.back+=nt}if(m>>>=B,_-=B,e.back+=B,at&64){n.msg="invalid distance code",e.mode=Ti;break}e.offset=it,e.extra=at&15,e.mode=mb;case mb:if(e.extra){for(T=e.extra;_<T;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}e.offset+=m&(1<<e.extra)-1,m>>>=e.extra,_-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Ti;break}e.mode=gb;case gb:if(f===0)break t;if(w=x-f,e.offset>w){if(w=e.offset-w,w>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Ti;break}w>e.wnext?(w-=e.wnext,j=e.wsize-w):j=e.wnext-w,w>e.length&&(w=e.length),q=e.window}else q=a,j=c-e.offset,w=e.length;w>f&&(w=f),f-=w,e.length-=w;do a[c++]=q[j++];while(--w);e.length===0&&(e.mode=mp);break;case yb:if(f===0)break t;a[c++]=e.length,f--,e.mode=mp;break;case Ag:if(e.wrap){for(;_<32;){if(h===0)break t;h--,m|=r[o++]<<_,_+=8}if(x-=f,n.total_out+=x,e.total+=x,e.wrap&4&&x&&(n.adler=e.check=e.flags?Fo(e.check,a,x,c-x):g0(e.check,a,x,c-x)),x=f,e.wrap&4&&(e.flags?m:bb(m))!==e.check){n.msg="incorrect data check",e.mode=Ti;break}m=0,_=0}e.mode=vb;case vb:if(e.wrap&&e.flags){for(;_<32;){if(h===0)break t;h--,m+=r[o++]<<_,_+=8}if(e.wrap&4&&m!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Ti;break}m=0,_=0}e.mode=_b;case _b:D=W7;break t;case Ti:D=uA;break t;case hA:return cA;case fA:default:return Ba}return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=_,(e.wsize||x!==n.avail_out&&e.mode<Ti&&(e.mode<Ag||t!==$_))&&yA(n,n.output,n.next_out,x-n.avail_out),E-=n.avail_in,x-=n.avail_out,n.total_in+=E,n.total_out+=x,e.total+=x,e.wrap&4&&x&&(n.adler=e.check=e.flags?Fo(e.check,a,x,n.next_out-x):g0(e.check,a,x,n.next_out-x)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Il?128:0)+(e.mode===pp||e.mode===wg?256:0),(E===0&&x===0||t===$_)&&D===gc&&(D=Q7),D},sL=n=>{if(Ac(n))return Ba;let t=n.state;return t.window&&(t.window=null),n.state=null,gc},aL=(n,t)=>{if(Ac(n))return Ba;const e=n.state;return(e.wrap&2)===0?Ba:(e.head=t,t.done=!1,gc)},oL=(n,t)=>{const e=t.length;let r,a,o;return Ac(n)||(r=n.state,r.wrap!==0&&r.mode!==cm)?Ba:r.mode===cm&&(a=1,a=g0(a,t,e,0),a!==r.check)?uA:(o=yA(n,t,e,e),o?(r.mode=hA,cA):(r.havedict=1,gc))};var lL=pA,uL=mA,cL=dA,hL=nL,fL=gA,dL=rL,pL=sL,mL=aL,gL=oL,yL="pako inflate (from Nodeca project)",Cl={inflateReset:lL,inflateReset2:uL,inflateResetKeep:cL,inflateInit:hL,inflateInit2:fL,inflate:dL,inflateEnd:pL,inflateGetHeader:mL,inflateSetDictionary:gL,inflateInfo:yL};function vL(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _L=vL;const vA=Object.prototype.toString,{Z_NO_FLUSH:bL,Z_FINISH:wL,Z_OK:Zf,Z_STREAM_END:Tg,Z_NEED_DICT:Ng,Z_STREAM_ERROR:AL,Z_DATA_ERROR:Ab,Z_MEM_ERROR:EL}=rA;function fd(n){this.options=sA.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new V7,this.strm.avail_out=0;let e=Cl.inflateInit2(this.strm,t.windowBits);if(e!==Zf)throw new Error(y0[e]);if(this.header=new _L,Cl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=v0.string2buf(t.dictionary):vA.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Cl.inflateSetDictionary(this.strm,t.dictionary),e!==Zf)))throw new Error(y0[e])}fd.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?wL:bL,vA.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=Cl.inflate(e,c),o===Ng&&a&&(o=Cl.inflateSetDictionary(e,a),o===Zf?o=Cl.inflate(e,c):o===Ab&&(o=Ng));e.avail_in>0&&o===Tg&&e.state.wrap>0&&n[e.next_in]!==0;)Cl.inflateReset(e),o=Cl.inflate(e,c);switch(o){case AL:case Ab:case Ng:case EL:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===Tg))if(this.options.to==="string"){let f=v0.utf8border(e.output,e.next_out),m=e.next_out-f,_=v0.buf2string(e.output,f);e.next_out=m,e.avail_out=r-m,m&&e.output.set(e.output.subarray(f,f+m),0),this.onData(_)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Zf&&h===0)){if(o===Tg)return o=Cl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};fd.prototype.onData=function(n){this.chunks.push(n)};fd.prototype.onEnd=function(n){n===Zf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function SL(n,t){const e=new fd(t);if(e.push(n),e.err)throw e.msg||y0[e.err];return e.result}var TL=fd,NL=SL,xL={Inflate:TL,inflate:NL};const{Inflate:IL,inflate:CL}=xL;var Eb=IL,RL=CL;const _A=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;_A[n]=t}const Sb=4294967295;function LL(n,t,e){let r=n;for(let a=0;a<e;a++)r=_A[(r^t[a])&255]^r>>>8;return r}function kL(n,t){return(LL(Sb,n,t)^Sb)>>>0}function Tb(n,t,e){const r=n.readUint32(),a=kL(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(a!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${a}`)}function bA(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function wA(n,t,e,r){let a=0;for(;a<r;a++)t[a]=n[a];for(;a<e;a++)t[a]=n[a]+t[a-r]&255}function AA(n,t,e,r){let a=0;if(e.length===0)for(;a<r;a++)t[a]=n[a];else for(;a<r;a++)t[a]=n[a]+e[a]&255}function EA(n,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+(t[o-a]>>1)&255}else{for(;o<a;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<r;o++)t[o]=n[o]+(t[o-a]+e[o]>>1)&255}}function SA(n,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+t[o-a]&255}else{for(;o<a;o++)t[o]=n[o]+e[o]&255;for(;o<r;o++)t[o]=n[o]+OL(t[o-a],e[o],e[o-a])&255}}function OL(n,t,e){const r=n+t-e,a=Math.abs(r-n),o=Math.abs(r-t),c=Math.abs(r-e);return a<=o&&a<=c?n:o<=c?t:e}function DL(n,t,e,r,a,o){switch(n){case 0:bA(t,e,a);break;case 1:wA(t,e,a,o);break;case 2:AA(t,e,r,a);break;case 3:EA(t,e,r,a,o);break;case 4:SA(t,e,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const PL=new Uint16Array([255]),ML=new Uint8Array(PL.buffer),UL=ML[0]===255;function VL(n){const{data:t,width:e,height:r,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,f=new Uint8Array(r*e*h);let m=0;for(let _=0;_<7;_++){const E=c[_],x=Math.ceil((e-E.x)/E.xStep),w=Math.ceil((r-E.y)/E.yStep);if(x<=0||w<=0)continue;const j=x*h,q=new Uint8Array(j);for(let U=0;U<w;U++){const B=t[m++],at=t.subarray(m,m+j);m+=j;const it=new Uint8Array(j);DL(B,at,it,q,j,h),q.set(it);for(let nt=0;nt<x;nt++){const wt=E.x+nt*E.xStep,Tt=E.y+U*E.yStep;if(!(wt>=e||Tt>=r))for(let z=0;z<h;z++)f[(Tt*e+wt)*h+z]=it[nt*h+z]}}}if(o===16){const _=new Uint16Array(f.buffer);if(UL)for(let E=0;E<_.length;E++)_[E]=jL(_[E]);return _}else return f}function jL(n){return(n&255)<<8|n>>8&255}const BL=new Uint16Array([255]),FL=new Uint8Array(BL.buffer),qL=FL[0]===255,zL=new Uint8Array(0);function Nb(n){const{data:t,width:e,height:r,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*e),f=new Uint8Array(r*h);let m=zL,_=0,E,x;for(let w=0;w<r;w++){switch(E=t.subarray(_+1,_+1+h),x=f.subarray(w*h,(w+1)*h),t[_]){case 0:bA(E,x,h);break;case 1:wA(E,x,h,c);break;case 2:AA(E,x,m,h);break;case 3:EA(E,x,m,h,c);break;case 4:SA(E,x,m,h,c);break;default:throw new Error(`Unsupported filter: ${t[_]}`)}m=x,_+=h+1}if(o===16){const w=new Uint16Array(f.buffer);if(qL)for(let j=0;j<w.length;j++)w[j]=HL(w[j]);return w}else return f}function HL(n){return(n&255)<<8|n>>8&255}const kp=Uint8Array.of(137,80,78,71,13,10,26,10);function xb(n){if(!GL(n.readBytes(kp.length)))throw new Error("wrong PNG signature")}function GL(n){if(n.length<kp.length)return!1;for(let t=0;t<kp.length;t++)if(n[t]!==kp[t])return!1;return!0}const YL="tEXt",KL=0,TA=new TextDecoder("latin1");function WL(n){if(QL(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const XL=/^[\u0000-\u00FF]*$/;function QL(n){if(!XL.test(n))throw new Error("invalid latin1 text")}function $L(n,t,e){const r=NA(t);n[r]=JL(t,e-r.length-1)}function NA(n){for(n.mark();n.readByte()!==KL;);const t=n.offset;n.reset();const e=TA.decode(n.readBytes(t-n.offset-1));return n.skip(1),WL(e),e}function JL(n,t){return TA.decode(n.readBytes(t))}const pa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xg={UNKNOWN:-1,DEFLATE:0},Ib={UNKNOWN:-1,ADAPTIVE:0},Ig={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},gp={NONE:0,BACKGROUND:1,PREVIOUS:2},Cg={SOURCE:0,OVER:1};class ZL extends T2{constructor(e,r={}){super(e);Xn(this,"_checkCrc");Xn(this,"_inflator");Xn(this,"_png");Xn(this,"_apng");Xn(this,"_end");Xn(this,"_hasPalette");Xn(this,"_palette");Xn(this,"_hasTransparency");Xn(this,"_transparency");Xn(this,"_compressionMethod");Xn(this,"_filterMethod");Xn(this,"_interlaceMethod");Xn(this,"_colorType");Xn(this,"_isAnimated");Xn(this,"_numberOfFrames");Xn(this,"_numberOfPlays");Xn(this,"_frames");Xn(this,"_writingDataChunks");const{checkCrc:a=!1}=r;this._checkCrc=a,this._inflator=new Eb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xg.UNKNOWN,this._filterMethod=Ib.UNKNOWN,this._interlaceMethod=Ig.UNKNOWN,this._colorType=pa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xb(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(xb(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const a=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case YL:$L(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Tb(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const a=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Tb(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=tk(this.readUint8());const r=this.readUint8();this._colorType=r;let a;switch(r){case pa.GREYSCALE:a=1;break;case pa.TRUECOLOUR:a=3;break;case pa.INDEXED_COLOUR:a=1;break;case pa.GREYSCALE_ALPHA:a=2;break;case pa.TRUECOLOUR_ALPHA:a=4;break;case pa.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==xg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<r;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,a=this.offset+this.byteOffset;if(a+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case pa.GREYSCALE:case pa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case pa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const a=this.readByte();this._palette[r].push(a)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case pa.UNKNOWN:case pa.GREYSCALE_ALPHA:case pa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=NA(this),a=this.readUint8();if(a!==xg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:RL(o)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:r,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=Nb({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)r.data=a.data;else{const o=this._apng.frames.at(e-1);this.disposeFrame(a,o,r),this.addFrameDataToCanvas(r,a)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,a){switch(e.disposeOp){case gp.NONE:break;case gp.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const h=(o*e.width+c)*this._png.channels;for(let f=0;f<this._png.channels;f++)a.data[h+f]=0}break;case gp.PREVIOUS:a.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const a=1<<this._png.depth,o=(c,h)=>{const f=((c+r.yOffset)*this._png.width+r.xOffset+h)*this._png.channels,m=(c*r.width+h)*this._png.channels;return{index:f,frameIndex:m}};switch(r.blendOp){case Cg.SOURCE:for(let c=0;c<r.height;c++)for(let h=0;h<r.width;h++){const{index:f,frameIndex:m}=o(c,h);for(let _=0;_<this._png.channels;_++)e.data[f+_]=r.data[m+_]}break;case Cg.OVER:for(let c=0;c<r.height;c++)for(let h=0;h<r.width;h++){const{index:f,frameIndex:m}=o(c,h);for(let _=0;_<this._png.channels;_++){const E=r.data[m+this._png.channels-1]/a,x=_%(this._png.channels-1)===0?1:r.data[m+_],w=Math.floor(E*x+(1-E)*e.data[f+_]);e.data[f+_]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Ib.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ig.NO_INTERLACE)this._png.data=Nb({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ig.ADAM7)this._png.data=VL({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:gp.NONE,blendOp:Cg.SOURCE,data:e}),this._inflator=new Eb,this._writingDataChunks=!1}}function tk(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Cb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Cb||(Cb={}));function ek(n,t){return new ZL(n,t).decode()}var Ge=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Rg(){Ge.console&&typeof Ge.console.log=="function"&&Ge.console.log.apply(Ge.console,arguments)}var ui={log:Rg,warn:function(n){Ge.console&&(typeof Ge.console.warn=="function"?Ge.console.warn.apply(Ge.console,arguments):Rg.call(null,arguments))},error:function(n){Ge.console&&(typeof Ge.console.error=="function"?Ge.console.error.apply(Ge.console,arguments):Rg(n))}};function Lg(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){nc(r.response,t,e)},r.onerror=function(){ui.error("could not download file")},r.send()}function Rb(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function yp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var nc=Ge.saveAs||((typeof window>"u"?"undefined":Qn(window))!=="object"||window!==Ge?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=Ge.URL||Ge.webkitURL,a=document.createElement("a");t=t||n.name||"download",a.download=t,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Rb(a.href)?Lg(n,t,e):yp(a,a.target="_blank"):yp(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){yp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(Rb(n))Lg(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){yp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Qn(o)!=="object"&&(ui.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Lg(n,t,e);var a=n.type==="application/octet-stream",o=/constructor/i.test(Ge.HTMLElement)||Ge.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Qn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var _=h.result;_=c?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=_:location=_,r=null},h.readAsDataURL(n)}else{var f=Ge.URL||Ge.webkitURL,m=f.createObjectURL(n);r?r.location=m:location.href=m,r=null,setTimeout(function(){f.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function xA(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<e.length;r++){var a=e[r].re,o=e[r].process,c=a.exec(n);c&&(t=o(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),"#"+h+f+m}}var Op=Ge.atob.bind(Ge),Lb=Ge.btoa.bind(Ge);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kg(n,t){var e=n[0],r=n[1],a=n[2],o=n[3];e=fs(e,r,a,o,t[0],7,-680876936),o=fs(o,e,r,a,t[1],12,-389564586),a=fs(a,o,e,r,t[2],17,606105819),r=fs(r,a,o,e,t[3],22,-1044525330),e=fs(e,r,a,o,t[4],7,-176418897),o=fs(o,e,r,a,t[5],12,1200080426),a=fs(a,o,e,r,t[6],17,-1473231341),r=fs(r,a,o,e,t[7],22,-45705983),e=fs(e,r,a,o,t[8],7,1770035416),o=fs(o,e,r,a,t[9],12,-1958414417),a=fs(a,o,e,r,t[10],17,-42063),r=fs(r,a,o,e,t[11],22,-1990404162),e=fs(e,r,a,o,t[12],7,1804603682),o=fs(o,e,r,a,t[13],12,-40341101),a=fs(a,o,e,r,t[14],17,-1502002290),e=ds(e,r=fs(r,a,o,e,t[15],22,1236535329),a,o,t[1],5,-165796510),o=ds(o,e,r,a,t[6],9,-1069501632),a=ds(a,o,e,r,t[11],14,643717713),r=ds(r,a,o,e,t[0],20,-373897302),e=ds(e,r,a,o,t[5],5,-701558691),o=ds(o,e,r,a,t[10],9,38016083),a=ds(a,o,e,r,t[15],14,-660478335),r=ds(r,a,o,e,t[4],20,-405537848),e=ds(e,r,a,o,t[9],5,568446438),o=ds(o,e,r,a,t[14],9,-1019803690),a=ds(a,o,e,r,t[3],14,-187363961),r=ds(r,a,o,e,t[8],20,1163531501),e=ds(e,r,a,o,t[13],5,-1444681467),o=ds(o,e,r,a,t[2],9,-51403784),a=ds(a,o,e,r,t[7],14,1735328473),e=ps(e,r=ds(r,a,o,e,t[12],20,-1926607734),a,o,t[5],4,-378558),o=ps(o,e,r,a,t[8],11,-2022574463),a=ps(a,o,e,r,t[11],16,1839030562),r=ps(r,a,o,e,t[14],23,-35309556),e=ps(e,r,a,o,t[1],4,-1530992060),o=ps(o,e,r,a,t[4],11,1272893353),a=ps(a,o,e,r,t[7],16,-155497632),r=ps(r,a,o,e,t[10],23,-1094730640),e=ps(e,r,a,o,t[13],4,681279174),o=ps(o,e,r,a,t[0],11,-358537222),a=ps(a,o,e,r,t[3],16,-722521979),r=ps(r,a,o,e,t[6],23,76029189),e=ps(e,r,a,o,t[9],4,-640364487),o=ps(o,e,r,a,t[12],11,-421815835),a=ps(a,o,e,r,t[15],16,530742520),e=ms(e,r=ps(r,a,o,e,t[2],23,-995338651),a,o,t[0],6,-198630844),o=ms(o,e,r,a,t[7],10,1126891415),a=ms(a,o,e,r,t[14],15,-1416354905),r=ms(r,a,o,e,t[5],21,-57434055),e=ms(e,r,a,o,t[12],6,1700485571),o=ms(o,e,r,a,t[3],10,-1894986606),a=ms(a,o,e,r,t[10],15,-1051523),r=ms(r,a,o,e,t[1],21,-2054922799),e=ms(e,r,a,o,t[8],6,1873313359),o=ms(o,e,r,a,t[15],10,-30611744),a=ms(a,o,e,r,t[6],15,-1560198380),r=ms(r,a,o,e,t[13],21,1309151649),e=ms(e,r,a,o,t[4],6,-145523070),o=ms(o,e,r,a,t[11],10,-1120210379),a=ms(a,o,e,r,t[2],15,718787259),r=ms(r,a,o,e,t[9],21,-343485551),n[0]=bu(e,n[0]),n[1]=bu(r,n[1]),n[2]=bu(a,n[2]),n[3]=bu(o,n[3])}function Um(n,t,e,r,a,o){return t=bu(bu(t,n),bu(r,o)),bu(t<<a|t>>>32-a,e)}function fs(n,t,e,r,a,o,c){return Um(t&e|~t&r,n,t,a,o,c)}function ds(n,t,e,r,a,o,c){return Um(t&r|e&~r,n,t,a,o,c)}function ps(n,t,e,r,a,o,c){return Um(t^e^r,n,t,a,o,c)}function ms(n,t,e,r,a,o,c){return Um(e^(t|~r),n,t,a,o,c)}function IA(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)kg(r,nk(n.substring(t-64,t)));n=n.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(kg(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,kg(r,a),r}function nk(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var kb="0123456789abcdef".split("");function ik(n){for(var t="",e=0;e<4;e++)t+=kb[n>>8*e+4&15]+kb[n>>8*e&15];return t}function rk(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function _0(n){return IA(n).map(rk).join("")}var sk=(function(n){for(var t=0;t<n.length;t++)n[t]=ik(n[t]);return n.join("")})(IA("hello"))!="5d41402abc4b2a76b9719d911017c592";function bu(n,t){if(sk){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function b0(n,t){var e,r,a,o;if(n!==e){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],f=0;f<256;f++)h[f]=f;var m=0;for(f=0;f<256;f++){var _=h[f];m=(m+_+c.charCodeAt(f))%256,h[f]=h[m],h[m]=_}e=n,r=h}else h=r;var E=t.length,x=0,w=0,j="";for(f=0;f<E;f++)w=(w+(_=h[x=(x+1)%256]))%256,h[x]=h[w],h[w]=_,c=h[(h[x]+h[w])%256],j+=String.fromCharCode(t.charCodeAt(f)^c);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ob={print:4,modify:8,copy:16,"annot-forms":32};function hh(n,t,e,r){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(Ob.perm!==void 0)throw new Error("Invalid permission: "+h);a+=Ob[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=_0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=b0(this.encryptionKey,this.padding)}function fh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var a=n.charCodeAt(r);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return t}function Db(n){if(Qn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,a){if(a=a||!1,typeof e!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!a],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[e]){var c=t[e][o];try{c[0].apply(n,r)}catch(h){Ge.console&&ui.error("jsPDF PubSub Error",h.message,h)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function hm(n){if(!(this instanceof hm))return new hm(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function CA(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function ic(n,t,e,r,a){if(!(this instanceof ic))return new ic(n,t,e,r,a);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,CA.call(this,r,a)}function ph(n,t,e,r,a){if(!(this instanceof ph))return new ph(n,t,e,r,a);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,CA.call(this,r,a)}function Se(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],c=[],h=1,f=16,m="S",_=null;Qn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(_=n.encryption||null)!==null&&(_.userPassword=_.userPassword||"",_.ownerPassword=_.ownerPassword||"",_.userPermissions=_.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),m=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",e=(""+(e||"P")).toLowerCase();var E=n.putOnlyUsedFonts||!1,x={},w={internal:{},__private__:{}};w.__private__.PubSub=Db;var j="1.3",q=w.__private__.getPdfVersion=function(){return j};w.__private__.setPdfVersion=function(b){j=b};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return U};var B=w.__private__.getPageFormat=function(b){return U[b]};a=a||"a4";var at="compat",it="advanced",nt=at;function wt(){this.saveGraphicsState(),J(new Ae(ze,0,0,-ze,0,Es()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),m="n",nt=it}function Tt(){this.restoreGraphicsState(),m="S",nt=at}var z=w.__private__.combineFontStyleAndFontWeight=function(b,P){if(b=="bold"&&P=="normal"||b=="bold"&&P==400||b=="normal"&&P=="italic"||b=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(b=P==400||P==="normal"?b==="italic"?"italic":"normal":P!=700&&P!=="bold"||b!=="normal"?(P==700?"bold":P)+""+b:"bold"),b};w.advancedAPI=function(b){var P=nt===at;return P&&wt.call(this),typeof b!="function"||(b(this),P&&Tt.call(this)),this},w.compatAPI=function(b){var P=nt===it;return P&&Tt.call(this),typeof b!="function"||(b(this),P&&wt.call(this)),this},w.isAdvancedAPI=function(){return nt===it};var D,k=function(b){if(nt!==it)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=w.roundToPrecision=w.__private__.roundToPrecision=function(b,P){var tt=t||P;if(isNaN(b)||isNaN(tt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(tt).replace(/0+$/,"")};D=w.hpf=w.__private__.hpf=typeof f=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return G(b,f)}:f==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return G(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return G(b,16)};var T=w.f2=w.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return G(b,2)},R=w.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return G(b,3)},L=w.scale=w.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return nt===at?b*ze:nt===it?b:void 0},st=function(b){return L((function(P){return nt===at?Es()-P:nt===it?P:void 0})(b))};w.__private__.setPrecision=w.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(t=parseInt(b,10))};var bt,rt="00000000000000000000000000000000",ft=w.__private__.getFileId=function(){return rt},ht=w.__private__.setFileId=function(b){return rt=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():rt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),_!==null&&(si=new hh(_.userPermissions,_.userPassword,_.ownerPassword,rt)),rt};w.setFileId=function(b){return ht(b),this},w.getFileId=function(){return ft()};var xt=w.__private__.convertDateToPDFDate=function(b){var P=b.getTimezoneOffset(),tt=P<0?"+":"-",ct=Math.floor(Math.abs(P/60)),yt=Math.abs(P%60),Ut=[tt,$(ct),"'",$(yt),"'"].join("");return["D:",b.getFullYear(),$(b.getMonth()+1),$(b.getDate()),$(b.getHours()),$(b.getMinutes()),$(b.getSeconds()),Ut].join("")},zt=w.__private__.convertPDFDateToDate=function(b){var P=parseInt(b.substr(2,4),10),tt=parseInt(b.substr(6,2),10)-1,ct=parseInt(b.substr(8,2),10),yt=parseInt(b.substr(10,2),10),Ut=parseInt(b.substr(12,2),10),Kt=parseInt(b.substr(14,2),10);return new Date(P,tt,ct,yt,Ut,Kt,0)},Q=w.__private__.setCreationDate=function(b){var P;if(b===void 0&&(b=new Date),b instanceof Date)P=xt(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=b}return bt=P},O=w.__private__.getCreationDate=function(b){var P=bt;return b==="jsDate"&&(P=zt(bt)),P};w.setCreationDate=function(b){return Q(b),this},w.getCreationDate=function(b){return O(b)};var Y,$=w.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},ot=w.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},ut=0,mt=[],kt=[],Rt=0,jt=[],Qt=[],ee=!1,te=kt;w.__private__.setCustomOutputDestination=function(b){ee=!0,te=b};var ue=function(b){ee||(te=b)};w.__private__.resetCustomOutputDestination=function(){ee=!1,te=kt};var J=w.__private__.out=function(b){return b=b.toString(),Rt+=b.length+1,te.push(b),te},Zt=w.__private__.write=function(b){return J(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},Ye=w.__private__.getArrayBuffer=function(b){for(var P=b.length,tt=new ArrayBuffer(P),ct=new Uint8Array(tt);P--;)ct[P]=b.charCodeAt(P);return tt},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Te};var Ft=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(b){return Ft=nt===it?b/ze:b,this};var ie,ne=w.__private__.getFontSize=w.getFontSize=function(){return nt===at?Ft:Ft*ze},xe=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(b){return xe=b,this},w.__private__.getR2L=w.getR2L=function(){return xe};var _e,Ke=w.__private__.setZoomMode=function(b){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))ie=b;else if(isNaN(b)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');ie=b}else ie=parseInt(b,10)};w.__private__.getZoomMode=function(){return ie};var Je,je=w.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');_e=b};w.__private__.getPageMode=function(){return _e};var sn=w.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');Je=b};w.__private__.getLayoutMode=function(){return Je},w.__private__.setDisplayMode=w.setDisplayMode=function(b,P,tt){return Ke(b),sn(P),je(tt),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(b){if(Object.keys(Xe).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[b]},w.__private__.getDocumentProperties=function(){return Xe},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(b){for(var P in Xe)Xe.hasOwnProperty(P)&&b[P]&&(Xe[P]=b[P]);return this},w.__private__.setDocumentProperty=function(b,P){if(Object.keys(Xe).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[b]=P};var me,ze,ge,ci,Qe,Ne={},Me={},We=[],we={},In={},De={},Pe={},Ln=null,be=0,ye=[],an=new Db(w),hr=n.hotfixes||[],Zi={},Rs={},Hi=[],Ae=function b(P,tt,ct,yt,Ut,Kt){if(!(this instanceof b))return new b(P,tt,ct,yt,Ut,Kt);isNaN(P)&&(P=1),isNaN(tt)&&(tt=0),isNaN(ct)&&(ct=0),isNaN(yt)&&(yt=1),isNaN(Ut)&&(Ut=0),isNaN(Kt)&&(Kt=0),this._matrix=[P,tt,ct,yt,Ut,Kt]};Object.defineProperty(Ae.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ae.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ae.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ae.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ae.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ae.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ae.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ae.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ae.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ae.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ae.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ae.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ae.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ae.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ae.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ae.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ae.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(b)},Ae.prototype.multiply=function(b){var P=b.sx*this.sx+b.shy*this.shx,tt=b.sx*this.shy+b.shy*this.sy,ct=b.shx*this.sx+b.sy*this.shx,yt=b.shx*this.shy+b.sy*this.sy,Ut=b.tx*this.sx+b.ty*this.shx+this.tx,Kt=b.tx*this.shy+b.ty*this.sy+this.ty;return new Ae(P,tt,ct,yt,Ut,Kt)},Ae.prototype.decompose=function(){var b=this.sx,P=this.shy,tt=this.shx,ct=this.sy,yt=this.tx,Ut=this.ty,Kt=Math.sqrt(b*b+P*P),ae=(b/=Kt)*tt+(P/=Kt)*ct;tt-=b*ae,ct-=P*ae;var fe=Math.sqrt(tt*tt+ct*ct);return ae/=fe,b*(ct/=fe)<P*(tt/=fe)&&(b=-b,P=-P,ae=-ae,Kt=-Kt),{scale:new Ae(Kt,0,0,fe,0,0),translate:new Ae(1,0,0,1,yt,Ut),rotate:new Ae(b,P,-P,b,0,0),skew:new Ae(1,0,ae,1,0,0)}},Ae.prototype.toString=function(b){return this.join(" ")},Ae.prototype.inversed=function(){var b=this.sx,P=this.shy,tt=this.shx,ct=this.sy,yt=this.tx,Ut=this.ty,Kt=1/(b*ct-P*tt),ae=ct*Kt,fe=-P*Kt,Re=-tt*Kt,Ee=b*Kt;return new Ae(ae,fe,Re,Ee,-ae*yt-Re*Ut,-fe*yt-Ee*Ut)},Ae.prototype.applyToPoint=function(b){var P=b.x*this.sx+b.y*this.shx+this.tx,tt=b.x*this.shy+b.y*this.sy+this.ty;return new nr(P,tt)},Ae.prototype.applyToRectangle=function(b){var P=this.applyToPoint(b),tt=this.applyToPoint(new nr(b.x+b.w,b.y+b.h));return new ks(P.x,P.y,tt.x-P.x,tt.y-P.y)},Ae.prototype.clone=function(){var b=this.sx,P=this.shy,tt=this.shx,ct=this.sy,yt=this.tx,Ut=this.ty;return new Ae(b,P,tt,ct,yt,Ut)},w.Matrix=Ae;var ta=w.matrixMult=function(b,P){return P.multiply(b)},Br=new Ae(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Br;var Tr=function(b,P){if(!In[b]){var tt=(P instanceof ic?"Sh":"P")+(Object.keys(we).length+1).toString(10);P.id=tt,In[b]=tt,we[tt]=P,an.publish("addPattern",P)}};w.ShadingPattern=ic,w.TilingPattern=ph,w.addShadingPattern=function(b,P){return k("addShadingPattern()"),Tr(b,P),this},w.beginTilingPattern=function(b){k("beginTilingPattern()"),Os(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},w.endTilingPattern=function(b,P){k("endTilingPattern()"),P.stream=Qt[Y].join(`
`),Tr(b,P),an.publish("endTilingPattern",P),Hi.pop().restore()};var Nr,Fn=w.__private__.newObject=function(){var b=$n();return Oi(b,!0),b},$n=w.__private__.newObjectDeferred=function(){return ut++,mt[ut]=function(){return Rt},ut},Oi=function(b,P){return P=typeof P=="boolean"&&P,mt[b]=Rt,P&&J(b+" 0 obj"),b},fr=w.__private__.newAdditionalObject=function(){var b={objId:$n(),content:""};return jt.push(b),b},tr=$n(),kn=$n(),Hn=w.__private__.decodeColorString=function(b){var P=b.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var tt=parseFloat(P[0]);P=[tt,tt,tt,"r"]}for(var ct="#",yt=0;yt<3;yt++)ct+=("0"+Math.floor(255*parseFloat(P[yt])).toString(16)).slice(-2);return ct},Di=w.__private__.encodeColorString=function(b){var P;typeof b=="string"&&(b={ch1:b});var tt=b.ch1,ct=b.ch2,yt=b.ch3,Ut=b.ch4,Kt=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof tt=="string"&&tt.charAt(0)!=="#"){var ae=new xA(tt);if(ae.ok)tt=ae.toHex();else if(!/^\d*\.?\d*$/.test(tt))throw new Error('Invalid color "'+tt+'" passed to jsPDF.encodeColorString.')}if(typeof tt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(tt)&&(tt="#"+tt[1]+tt[1]+tt[2]+tt[2]+tt[3]+tt[3]),typeof tt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(tt)){var fe=parseInt(tt.substr(1),16);tt=fe>>16&255,ct=fe>>8&255,yt=255&fe}if(ct===void 0||Ut===void 0&&tt===ct&&ct===yt)P=typeof tt=="string"?tt+" "+Kt[0]:b.precision===2?T(tt/255)+" "+Kt[0]:R(tt/255)+" "+Kt[0];else if(Ut===void 0||Qn(Ut)==="object"){if(Ut&&!isNaN(Ut.a)&&Ut.a===0)return["1.","1.","1.",Kt[1]].join(" ");P=typeof tt=="string"?[tt,ct,yt,Kt[1]].join(" "):b.precision===2?[T(tt/255),T(ct/255),T(yt/255),Kt[1]].join(" "):[R(tt/255),R(ct/255),R(yt/255),Kt[1]].join(" ")}else P=typeof tt=="string"?[tt,ct,yt,Ut,Kt[2]].join(" "):b.precision===2?[T(tt),T(ct),T(yt),T(Ut),Kt[2]].join(" "):[R(tt),R(ct),R(yt),R(Ut),Kt[2]].join(" ");return P},xr=w.__private__.getFilters=function(){return c},is=w.__private__.putStream=function(b){var P=(b=b||{}).data||"",tt=b.filters||xr(),ct=b.alreadyAppliedFilters||[],yt=b.addLength1||!1,Ut=P.length,Kt=b.objectId,ae=function(S){return S};if(_!==null&&Kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");_!==null&&(ae=si.encryptor(Kt,0));var fe={};tt===!0&&(tt=["FlateEncode"]);var Re=b.additionalKeyValues||[],Ee=(fe=Se.API.processDataByFilters!==void 0?Se.API.processDataByFilters(P,tt):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ct)?ct.join(" "):ct.toString());if(fe.data.length!==0&&(Re.push({key:"Length",value:fe.data.length}),yt===!0&&Re.push({key:"Length1",value:Ut})),Ee.length!=0)if(Ee.split("/").length-1==1)Re.push({key:"Filter",value:Ee});else{Re.push({key:"Filter",value:"["+Ee+"]"});for(var hn=0;hn<Re.length;hn+=1)if(Re[hn].key==="DecodeParms"){for(var Jn=[],qn=0;qn<fe.reverseChain.split("/").length-1;qn+=1)Jn.push("null");Jn.push(Re[hn].value),Re[hn].value="["+Jn.join(" ")+"]"}}J("<<");for(var p=0;p<Re.length;p++)J("/"+Re[p].key+" "+Re[p].value);J(">>"),fe.data.length!==0&&(J("stream"),J(ae(fe.data)),J("endstream"))},va=w.__private__.putPage=function(b){var P=b.number,tt=b.data,ct=b.objId,yt=b.contentsObjId;Oi(ct,!0),J("<</Type /Page"),J("/Parent "+b.rootDictionaryObjId+" 0 R"),J("/Resources "+b.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(D(b.mediaBox.bottomLeftX))+" "+parseFloat(D(b.mediaBox.bottomLeftY))+" "+D(b.mediaBox.topRightX)+" "+D(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&J("/CropBox ["+D(b.cropBox.bottomLeftX)+" "+D(b.cropBox.bottomLeftY)+" "+D(b.cropBox.topRightX)+" "+D(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&J("/BleedBox ["+D(b.bleedBox.bottomLeftX)+" "+D(b.bleedBox.bottomLeftY)+" "+D(b.bleedBox.topRightX)+" "+D(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&J("/TrimBox ["+D(b.trimBox.bottomLeftX)+" "+D(b.trimBox.bottomLeftY)+" "+D(b.trimBox.topRightX)+" "+D(b.trimBox.topRightY)+"]"),b.artBox!==null&&J("/ArtBox ["+D(b.artBox.bottomLeftX)+" "+D(b.artBox.bottomLeftY)+" "+D(b.artBox.topRightX)+" "+D(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&J("/UserUnit "+b.userUnit),an.publish("putPage",{objId:ct,pageContext:ye[P],pageNumber:P,page:tt}),J("/Contents "+yt+" 0 R"),J(">>"),J("endobj");var Ut=tt.join(`
`);return nt===it&&(Ut+=`
Q`),Oi(yt,!0),is({data:Ut,filters:xr(),objectId:yt}),J("endobj"),ct},_s=w.__private__.putPages=function(){var b,P,tt=[];for(b=1;b<=be;b++)ye[b].objId=$n(),ye[b].contentsObjId=$n();for(b=1;b<=be;b++)tt.push(va({number:b,data:Qt[b],objId:ye[b].objId,contentsObjId:ye[b].contentsObjId,mediaBox:ye[b].mediaBox,cropBox:ye[b].cropBox,bleedBox:ye[b].bleedBox,trimBox:ye[b].trimBox,artBox:ye[b].artBox,userUnit:ye[b].userUnit,rootDictionaryObjId:tr,resourceDictionaryObjId:kn}));Oi(tr,!0),J("<</Type /Pages");var ct="/Kids [";for(P=0;P<be;P++)ct+=tt[P]+" 0 R ";J(ct+"]"),J("/Count "+be),J(">>"),J("endobj"),an.publish("postPutPages")},Ir=function(b){an.publish("putFont",{font:b,out:J,newObject:Fn,putStream:is}),b.isAlreadyPutted!==!0&&(b.objectNumber=Fn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+fh(b.postScriptName)),J("/Subtype /Type1"),typeof b.encoding=="string"&&J("/Encoding /"+b.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},ea=function(b){b.objectNumber=Fn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[D(b.x),D(b.y),D(b.x+b.width),D(b.y+b.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var tt=b.pages[1].join(`
`);is({data:tt,additionalKeyValues:P,objectId:b.objectNumber}),J("endobj")},Fr=function(b,P){P||(P=21);var tt=Fn(),ct=(function(Kt,ae){var fe,Re=[],Ee=1/(ae-1);for(fe=0;fe<1;fe+=Ee)Re.push(fe);if(Re.push(1),Kt[0].offset!=0){var hn={offset:0,color:Kt[0].color};Kt.unshift(hn)}if(Kt[Kt.length-1].offset!=1){var Jn={offset:1,color:Kt[Kt.length-1].color};Kt.push(Jn)}for(var qn="",p=0,S=0;S<Re.length;S++){for(fe=Re[S];fe>Kt[p+1].offset;)p++;var C=Kt[p].offset,W=(fe-C)/(Kt[p+1].offset-C),At=Kt[p].color,Lt=Kt[p+1].color;qn+=ot(Math.round((1-W)*At[0]+W*Lt[0]).toString(16))+ot(Math.round((1-W)*At[1]+W*Lt[1]).toString(16))+ot(Math.round((1-W)*At[2]+W*Lt[2]).toString(16))}return qn.trim()})(b.colors,P),yt=[];yt.push({key:"FunctionType",value:"0"}),yt.push({key:"Domain",value:"[0.0 1.0]"}),yt.push({key:"Size",value:"["+P+"]"}),yt.push({key:"BitsPerSample",value:"8"}),yt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),is({data:ct,additionalKeyValues:yt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:tt}),J("endobj"),b.objectNumber=Fn(),J("<< /ShadingType "+b.type),J("/ColorSpace /DeviceRGB");var Ut="/Coords ["+D(parseFloat(b.coords[0]))+" "+D(parseFloat(b.coords[1]))+" ";b.type===2?Ut+=D(parseFloat(b.coords[2]))+" "+D(parseFloat(b.coords[3])):Ut+=D(parseFloat(b.coords[2]))+" "+D(parseFloat(b.coords[3]))+" "+D(parseFloat(b.coords[4]))+" "+D(parseFloat(b.coords[5])),J(Ut+="]"),b.matrix&&J("/Matrix ["+b.matrix.toString()+"]"),J("/Function "+tt+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},dr=function(b,P){var tt=$n(),ct=Fn();P.push({resourcesOid:tt,objectOid:ct}),b.objectNumber=ct;var yt=[];yt.push({key:"Type",value:"/Pattern"}),yt.push({key:"PatternType",value:"1"}),yt.push({key:"PaintType",value:"1"}),yt.push({key:"TilingType",value:"1"}),yt.push({key:"BBox",value:"["+b.boundingBox.map(D).join(" ")+"]"}),yt.push({key:"XStep",value:D(b.xStep)}),yt.push({key:"YStep",value:D(b.yStep)}),yt.push({key:"Resources",value:tt+" 0 R"}),b.matrix&&yt.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),is({data:b.stream,additionalKeyValues:yt,objectId:b.objectNumber}),J("endobj")},qr=function(b){for(var P in b.objectNumber=Fn(),J("<<"),b)switch(P){case"opacity":J("/ca "+T(b[P]));break;case"stroke-opacity":J("/CA "+T(b[P]))}J(">>"),J("endobj")},rs=function(b){Oi(b.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in J("/Font <<"),Ne)Ne.hasOwnProperty(P)&&(E===!1||E===!0&&x.hasOwnProperty(P))&&J("/"+P+" "+Ne[P].objectNumber+" 0 R");J(">>")})(),(function(){if(Object.keys(we).length>0){for(var P in J("/Shading <<"),we)we.hasOwnProperty(P)&&we[P]instanceof ic&&we[P].objectNumber>=0&&J("/"+P+" "+we[P].objectNumber+" 0 R");an.publish("putShadingPatternDict"),J(">>")}})(),(function(P){if(Object.keys(we).length>0){for(var tt in J("/Pattern <<"),we)we.hasOwnProperty(tt)&&we[tt]instanceof w.TilingPattern&&we[tt].objectNumber>=0&&we[tt].objectNumber<P&&J("/"+tt+" "+we[tt].objectNumber+" 0 R");an.publish("putTilingPatternDict"),J(">>")}})(b.objectOid),(function(){if(Object.keys(De).length>0){var P;for(P in J("/ExtGState <<"),De)De.hasOwnProperty(P)&&De[P].objectNumber>=0&&J("/"+P+" "+De[P].objectNumber+" 0 R");an.publish("putGStateDict"),J(">>")}})(),(function(){for(var P in J("/XObject <<"),Zi)Zi.hasOwnProperty(P)&&Zi[P].objectNumber>=0&&J("/"+P+" "+Zi[P].objectNumber+" 0 R");an.publish("putXobjectDict"),J(">>")})(),J(">>"),J("endobj")},fi=function(b){Me[b.fontName]=Me[b.fontName]||{},Me[b.fontName][b.fontStyle]=b.id},_o=function(b,P,tt,ct,yt){var Ut={id:"F"+(Object.keys(Ne).length+1).toString(10),postScriptName:b,fontName:P,fontStyle:tt,encoding:ct,isStandardFont:yt||!1,metadata:{}};return an.publish("addFont",{font:Ut,instance:this}),Ne[Ut.id]=Ut,fi(Ut),Ut.id},Cr=w.__private__.pdfEscape=w.pdfEscape=function(b,P){return(function(tt,ct){var yt,Ut,Kt,ae,fe,Re,Ee,hn,Jn;if(Kt=(ct=ct||{}).sourceEncoding||"Unicode",fe=ct.outputEncoding,(ct.autoencode||fe)&&Ne[me].metadata&&Ne[me].metadata[Kt]&&Ne[me].metadata[Kt].encoding&&(ae=Ne[me].metadata[Kt].encoding,!fe&&Ne[me].encoding&&(fe=Ne[me].encoding),!fe&&ae.codePages&&(fe=ae.codePages[0]),typeof fe=="string"&&(fe=ae[fe]),fe)){for(Ee=!1,Re=[],yt=0,Ut=tt.length;yt<Ut;yt++)(hn=fe[tt.charCodeAt(yt)])?Re.push(String.fromCharCode(hn)):Re.push(tt[yt]),Re[yt].charCodeAt(0)>>8&&(Ee=!0);tt=Re.join("")}for(yt=tt.length;Ee===void 0&&yt!==0;)tt.charCodeAt(yt-1)>>8&&(Ee=!0),yt--;if(!Ee)return tt;for(Re=ct.noBOM?[]:[254,255],yt=0,Ut=tt.length;yt<Ut;yt++){if((Jn=(hn=tt.charCodeAt(yt))>>8)>>8)throw new Error("Character at position "+yt+" of string '"+tt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Re.push(Jn),Re.push(hn-(Jn<<8))}return String.fromCharCode.apply(void 0,Re)})(b,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ss=w.__private__.beginPage=function(b){Qt[++be]=[],ye[be]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},bo(be),ue(Qt[Y])},bs=function(b,P){var tt,ct,yt;switch(e=P||e,typeof b=="string"&&(tt=B(b.toLowerCase()),Array.isArray(tt)&&(ct=tt[0],yt=tt[1])),Array.isArray(b)&&(ct=b[0]*ze,yt=b[1]*ze),isNaN(ct)&&(ct=a[0],yt=a[1]),(ct>14400||yt>14400)&&(ui.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ct=Math.min(14400,ct),yt=Math.min(14400,yt)),a=[ct,yt],e.substr(0,1)){case"l":yt>ct&&(a=[yt,ct]);break;case"p":ct>yt&&(a=[yt,ct])}ss(a),Ie(Lr),J(Hr),Yr!==0&&J(Yr+" J"),xi!==0&&J(xi+" j"),an.publish("addPage",{pageNumber:be})},Fa=function(b){b>0&&b<=be&&(Qt.splice(b,1),ye.splice(b,1),be--,Y>be&&(Y=be),this.setPage(Y))},bo=function(b){b>0&&b<=be&&(Y=b)},wo=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Qt.length-1},el=function(b,P,tt){var ct,yt=void 0;return tt=tt||{},b=b!==void 0?b:Ne[me].fontName,P=P!==void 0?P:Ne[me].fontStyle,ct=b.toLowerCase(),Me[ct]!==void 0&&Me[ct][P]!==void 0?yt=Me[ct][P]:Me[b]!==void 0&&Me[b][P]!==void 0?yt=Me[b][P]:tt.disableWarning===!1&&ui.warn("Unable to look up font label for font '"+b+"', '"+P+"'. Refer to getFontList() for available fonts."),yt||tt.noFallback||(yt=Me.times[P])==null&&(yt=Me.times.normal),yt},zr=w.__private__.putInfo=function(){var b=Fn(),P=function(ct){return ct};for(var tt in _!==null&&(P=si.encryptor(b,0)),J("<<"),J("/Producer ("+Cr(P("jsPDF "+Se.version))+")"),Xe)Xe.hasOwnProperty(tt)&&Xe[tt]&&J("/"+tt.substr(0,1).toUpperCase()+tt.substr(1)+" ("+Cr(P(Xe[tt]))+")");J("/CreationDate ("+Cr(P(bt))+")"),J(">>"),J("endobj")},er=w.__private__.putCatalog=function(b){var P=(b=b||{}).rootDictionaryObjId||tr;switch(Fn(),J("<<"),J("/Type /Catalog"),J("/Pages "+P+" 0 R"),ie||(ie="fullwidth"),ie){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var tt=""+ie;tt.substr(tt.length-1)==="%"&&(ie=parseInt(ie)/100),typeof ie=="number"&&J("/OpenAction [3 0 R /XYZ null null "+T(ie)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}_e&&J("/PageMode /"+_e),an.publish("putCatalog"),J(">>"),J("endobj")},_i=w.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ut+1)),J("/Root "+ut+" 0 R"),J("/Info "+(ut-1)+" 0 R"),_!==null&&J("/Encrypt "+si.oid+" 0 R"),J("/ID [ <"+rt+"> <"+rt+"> ]"),J(">>")},cn=w.__private__.putHeader=function(){J("%PDF-"+j),J("%")},na=w.__private__.putXRef=function(){var b="0000000000";J("xref"),J("0 "+(ut+1)),J("0000000000 65535 f ");for(var P=1;P<=ut;P++)typeof mt[P]=="function"?J((b+mt[P]()).slice(-10)+" 00000 n "):mt[P]!==void 0?J((b+mt[P]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},as=w.__private__.buildDocument=function(){var b;ut=0,Rt=0,kt=[],mt=[],jt=[],tr=$n(),kn=$n(),ue(kt),an.publish("buildDocument"),cn(),_s(),(function(){an.publish("putAdditionalObjects");for(var tt=0;tt<jt.length;tt++){var ct=jt[tt];Oi(ct.objId,!0),J(ct.content),J("endobj")}an.publish("postPutAdditionalObjects")})(),b=[],(function(){for(var tt in Ne)Ne.hasOwnProperty(tt)&&(E===!1||E===!0&&x.hasOwnProperty(tt))&&Ir(Ne[tt])})(),(function(){var tt;for(tt in De)De.hasOwnProperty(tt)&&qr(De[tt])})(),(function(){for(var tt in Zi)Zi.hasOwnProperty(tt)&&ea(Zi[tt])})(),(function(tt){var ct;for(ct in we)we.hasOwnProperty(ct)&&(we[ct]instanceof ic?Fr(we[ct]):we[ct]instanceof ph&&dr(we[ct],tt))})(b),an.publish("putResources"),b.forEach(rs),rs({resourcesOid:kn,objectOid:Number.MAX_SAFE_INTEGER}),an.publish("postPutResources"),_!==null&&(si.oid=Fn(),J("<<"),J("/Filter /Standard"),J("/V "+si.v),J("/R "+si.r),J("/U <"+si.toHexString(si.U)+">"),J("/O <"+si.toHexString(si.O)+">"),J("/P "+si.P),J(">>"),J("endobj")),zr(),er();var P=Rt;return na(),_i(),J("startxref"),J(""+P),J("%%EOF"),ue(Qt[Y]),kt.join(`
`)},gn=w.__private__.getBlob=function(b){return new Blob([Ye(b)],{type:"application/pdf"})},_a=w.output=w.__private__.output=(Nr=function(b,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",b){case void 0:return as();case"save":w.save(P.filename);break;case"arraybuffer":return Ye(as());case"blob":return gn(as());case"bloburi":case"bloburl":if(Ge.URL!==void 0&&typeof Ge.URL.createObjectURL=="function")return Ge.URL&&Ge.URL.createObjectURL(gn(as()))||void 0;ui.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var tt="",ct=as();try{tt=Lb(ct)}catch{tt=Lb(unescape(encodeURIComponent(ct)))}return"data:application/pdf;filename="+P.filename+";base64,"+tt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var yt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(yt=P.pdfObjectUrl,Ut="");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+yt+'"'+Ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",ae=Ge.open();return ae!==null&&ae.document.write(Kt),ae}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Re=Ge.open();if(Re!==null){Re.document.write(fe);var Ee=this;Re.document.documentElement.querySelector("#pdfViewer").onload=function(){Re.document.title=P.filename,Re.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ee.output("bloburl"))}}return Re}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ge)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Jn=Ge.open();if(Jn!==null&&(Jn.document.write(hn),Jn.document.title=P.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return Ge.document.location.href=this.output("datauristring",P);default:return null}},Nr.foo=function(){try{return Nr.apply(this,arguments)}catch(tt){var b=tt.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var P="Error in function "+b.split(`
`)[0].split("<")[0]+": "+tt.message;if(!Ge.console)throw new Error(P);Ge.console.error(P,tt),Ge.alert&&alert(P)}},Nr.foo.bar=Nr,Nr.foo),Ni=function(b){return Array.isArray(hr)===!0&&hr.indexOf(b)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var si=null;Q(),ht();var bi=w.__private__.getPageInfo=w.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ye[b].objId,pageNumber:b,pageContext:ye[b]}},qa=w.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in ye)if(ye[P].objId===b)break;return bi(P)},Ul=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:ye[Y].objId,pageNumber:Y,pageContext:ye[Y]}};w.addPage=function(){return bs.apply(this,arguments),this},w.setPage=function(){return bo.apply(this,arguments),ue.call(this,Qt[Y]),this},w.insertPage=function(b){return this.addPage(),this.movePage(Y,b),this},w.movePage=function(b,P){var tt,ct;if(b>P){tt=Qt[b],ct=ye[b];for(var yt=b;yt>P;yt--)Qt[yt]=Qt[yt-1],ye[yt]=ye[yt-1];Qt[P]=tt,ye[P]=ct,this.setPage(P)}else if(b<P){tt=Qt[b],ct=ye[b];for(var Ut=b;Ut<P;Ut++)Qt[Ut]=Qt[Ut+1],ye[Ut]=ye[Ut+1];Qt[P]=tt,ye[P]=ct,this.setPage(P)}return this},w.deletePage=function(){return Fa.apply(this,arguments),this},w.__private__.text=w.text=function(b,P,tt,ct,yt){var Ut,Kt,ae,fe,Re,Ee,hn,Jn,qn,p=(ct=ct||{}).scope||this;if(typeof b=="number"&&typeof P=="number"&&(typeof tt=="string"||Array.isArray(tt))){var S=tt;tt=P,P=b,b=S}if(arguments[3]instanceof Ae==0?(ae=arguments[4],fe=arguments[5],Qn(hn=arguments[3])==="object"&&hn!==null||(typeof ae=="string"&&(fe=ae,ae=null),typeof hn=="string"&&(fe=hn,hn=null),typeof hn=="number"&&(ae=hn,hn=null),ct={flags:hn,angle:ae,align:fe})):(k("The transform parameter of text() with a Matrix value"),qn=yt),isNaN(P)||isNaN(tt)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return p;var C,W="",At=typeof ct.lineHeightFactor=="number"?ct.lineHeightFactor:sa,Lt=p.internal.scaleFactor;function $t(Cn){return Cn=Cn.split("	").join(Array(ct.TabLen||9).join(" ")),Cr(Cn,hn)}function qe(Cn){for(var An,ti=Cn.concat(),Ci=[],La=ti.length;La--;)typeof(An=ti.shift())=="string"?Ci.push(An):Array.isArray(Cn)&&(An.length===1||An[1]===void 0&&An[2]===void 0)?Ci.push(An[0]):Ci.push([An[0],An[1],An[2]]);return Ci}function Zn(Cn,An){var ti;if(typeof Cn=="string")ti=An(Cn)[0];else if(Array.isArray(Cn)){for(var Ci,La,ua=Cn.concat(),ul=[],Bu=ua.length;Bu--;)typeof(Ci=ua.shift())=="string"?ul.push(An(Ci)[0]):Array.isArray(Ci)&&typeof Ci[0]=="string"&&(La=An(Ci[0],Ci[1],Ci[2]),ul.push([La[0],La[1],La[2]]));ti=ul}return ti}var ln=!1,Dn=!0;if(typeof b=="string")ln=!0;else if(Array.isArray(b)){var ir=b.concat();Kt=[];for(var mr,Gn=ir.length;Gn--;)(typeof(mr=ir.shift())!="string"||Array.isArray(mr)&&typeof mr[0]!="string")&&(Dn=!1);ln=Dn}if(ln===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var gr=Ft/p.internal.scaleFactor,Ss=gr*(At-1);switch(ct.baseline){case"bottom":tt-=Ss;break;case"top":tt+=gr-Ss;break;case"hanging":tt+=gr-2*Ss;break;case"middle":tt+=gr/2-Ss}if((Ee=ct.maxWidth||0)>0&&(typeof b=="string"?b=p.splitTextToSize(b,Ee):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(Cn,An){return Cn.concat(p.splitTextToSize(An,Ee))},[]))),Ut={text:b,x:P,y:tt,options:ct,mutex:{pdfEscape:Cr,activeFontKey:me,fonts:Ne,activeFontSize:Ft}},an.publish("preProcessText",Ut),b=Ut.text,ae=(ct=Ut.options).angle,qn instanceof Ae==0&&ae&&typeof ae=="number"){ae*=Math.PI/180,ct.rotationDirection===0&&(ae=-ae),nt===it&&(ae=-ae);var Sa=Math.cos(ae),Ta=Math.sin(ae);qn=new Ae(Sa,Ta,-Ta,Sa,0,0)}else ae&&ae instanceof Ae&&(qn=ae);nt!==it||qn||(qn=Br),(Re=ct.charSpace||Gr)!==void 0&&(W+=D(L(Re))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=ct.horizontalScale)!==void 0&&(W+=D(100*Jn)+` Tz
`),ct.lang;var Wr=-1,Ka=ct.renderingMode!==void 0?ct.renderingMode:ct.stroke,Vl=p.internal.getCurrentPageInfo().pageContext;switch(Ka){case 0:case!1:case"fill":Wr=0;break;case 1:case!0:case"stroke":Wr=1;break;case 2:case"fillThenStroke":Wr=2;break;case 3:case"invisible":Wr=3;break;case 4:case"fillAndAddForClipping":Wr=4;break;case 5:case"strokeAndAddPathForClipping":Wr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wr=6;break;case 7:case"addToPathForClipping":Wr=7}var Vu=Vl.usedRenderingMode!==void 0?Vl.usedRenderingMode:-1;Wr!==-1?W+=Wr+` Tr
`:Vu!==-1&&(W+=`0 Tr
`),Wr!==-1&&(Vl.usedRenderingMode=Wr),fe=ct.align||"left";var Ts,oa=Ft*At,Wa=p.internal.pageSize.getWidth(),ju=Ne[me];Re=ct.charSpace||Gr,Ee=ct.maxWidth||0,hn=Object.assign({autoencode:!0,noBOM:!0},ct.flags);var la=[],xo=function(Cn){return p.getStringUnitWidth(Cn,{font:ju,charSpace:Re,fontSize:Ft,doKerning:!1})*Ft/Lt};if(Object.prototype.toString.call(b)==="[object Array]"){var ls;Kt=qe(b),fe!=="left"&&(Ts=Kt.map(xo));var Xr,Na=0;if(fe==="right"){P-=Ts[0],b=[],Gn=Kt.length;for(var xa=0;xa<Gn;xa++)xa===0?(Xr=Yi(P),ls=Pi(tt)):(Xr=L(Na-Ts[xa]),ls=-oa),b.push([Kt[xa],Xr,ls]),Na=Ts[xa]}else if(fe==="center"){P-=Ts[0]/2,b=[],Gn=Kt.length;for(var Xa=0;Xa<Gn;Xa++)Xa===0?(Xr=Yi(P),ls=Pi(tt)):(Xr=L((Na-Ts[Xa])/2),ls=-oa),b.push([Kt[Xa],Xr,ls]),Na=Ts[Xa]}else if(fe==="left"){b=[],Gn=Kt.length;for(var jl=0;jl<Gn;jl++)b.push(Kt[jl])}else if(fe==="justify"&&ju.encoding==="Identity-H"){b=[],Gn=Kt.length,Ee=Ee!==0?Ee:Wa;for(var Bl=0,Ii=0;Ii<Gn;Ii++)if(ls=Ii===0?Pi(tt):-oa,Xr=Ii===0?Yi(P):Bl,Ii<Gn-1){var Sc=L((Ee-Ts[Ii])/(Kt[Ii].split(" ").length-1)),Ia=Kt[Ii].split(" ");b.push([Ia[0]+" ",Xr,ls]),Bl=0;for(var Ca=1;Ca<Ia.length;Ca++){var yr=(xo(Ia[Ca-1]+" "+Ia[Ca])-xo(Ia[Ca]))*Lt+Sc;Ca==Ia.length-1?b.push([Ia[Ca],yr,0]):b.push([Ia[Ca]+" ",yr,0]),Bl-=yr}}else b.push([Kt[Ii],Xr,ls]);b.push(["",Bl,0])}else{if(fe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Gn=Kt.length,Ee=Ee!==0?Ee:Wa,Ii=0;Ii<Gn;Ii++){ls=Ii===0?Pi(tt):-oa,Xr=Ii===0?Yi(P):0;var Qa=Kt[Ii].split(" ").length-1,Fl=Qa>0?(Ee-Ts[Ii])/Qa:0;Ii<Gn-1?la.push(D(L(Fl))):la.push(0),b.push([Kt[Ii],Xr,ls])}}}(typeof ct.R2L=="boolean"?ct.R2L:xe)===!0&&(b=Zn(b,function(Cn,An,ti){return[Cn.split("").reverse().join(""),An,ti]})),Ut={text:b,x:P,y:tt,options:ct,mutex:{pdfEscape:Cr,activeFontKey:me,fonts:Ne,activeFontSize:Ft}},an.publish("postProcessText",Ut),b=Ut.text,C=Ut.mutex.isHex||!1;var ql=Ne[me].encoding;ql!=="WinAnsiEncoding"&&ql!=="StandardEncoding"||(b=Zn(b,function(Cn,An,ti){return[$t(Cn),An,ti]})),Kt=qe(b),b=[];for(var $a,Ja,Ra,ll=Array.isArray(Kt[0])?1:0,Ns="",Za=function(Cn,An,ti){var Ci="";return ti instanceof Ae?(ti=typeof ct.angle=="number"?ta(ti,new Ae(1,0,0,1,Cn,An)):ta(new Ae(1,0,0,1,Cn,An),ti),nt===it&&(ti=ta(new Ae(1,0,0,-1,0,0),ti)),Ci=ti.join(" ")+` Tm
`):Ci=D(Cn)+" "+D(An)+` Td
`,Ci},kr=0;kr<Kt.length;kr++){switch(Ns="",ll){case 1:Ra=(C?"<":"(")+Kt[kr][0]+(C?">":")"),$a=parseFloat(Kt[kr][1]),Ja=parseFloat(Kt[kr][2]);break;case 0:Ra=(C?"<":"(")+Kt[kr]+(C?">":")"),$a=Yi(P),Ja=Pi(tt)}la!==void 0&&la[kr]!==void 0&&(Ns=la[kr]+` Tw
`),kr===0?b.push(Ns+Za($a,Ja,qn)+Ra):ll===0?b.push(Ns+Ra):ll===1&&b.push(Ns+Za($a,Ja,qn)+Ra)}b=ll===0?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var Ms=`BT
/`;return Ms+=me+" "+Ft+` Tf
`,Ms+=D(Ft*At)+` TL
`,Ms+=As+`
`,Ms+=W,Ms+=b,J(Ms+="ET"),x[me]=!0,p};var nl=w.__private__.clip=w.clip=function(b){return J(b==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return nl("evenodd")},w.__private__.discardPath=w.discardPath=function(){return J("n"),this};var pr=w.__private__.isValidStyle=function(b){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(P=!0),P};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(b){return pr(b)&&(m=b),this};var il=w.__private__.getStyle=w.getStyle=function(b){var P=m;switch(b){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=b}return P},ia=w.close=function(){return J("h"),this};w.stroke=function(){return J("S"),this},w.fill=function(b){return Gi("f",b),this},w.fillEvenOdd=function(b){return Gi("f*",b),this},w.fillStroke=function(b){return Gi("B",b),this},w.fillStrokeEvenOdd=function(b){return Gi("B*",b),this};var Gi=function(b,P){Qn(P)==="object"?sl(P,b):J(b)},ba=function(b){b===null||nt===it&&b===void 0||(b=il(b),J(b))};function rl(b,P,tt,ct,yt){var Ut=new ph(P||this.boundingBox,tt||this.xStep,ct||this.yStep,this.gState,yt||this.matrix);Ut.stream=this.stream;var Kt=b+"$$"+this.cloneIndex+++"$$";return Tr(Kt,Ut),Ut}var sl=function(b,P){var tt=In[b.key],ct=we[tt];if(ct instanceof ic)J("q"),J(Ao(P)),ct.gState&&w.setGState(ct.gState),J(b.matrix.toString()+" cm"),J("/"+tt+" sh"),J("Q");else if(ct instanceof ph){var yt=new Ae(1,0,0,-1,0,Es());b.matrix&&(yt=yt.multiply(b.matrix||Br),tt=rl.call(ct,b.key,b.boundingBox,b.xStep,b.yStep,yt).id),J("q"),J("/Pattern cs"),J("/"+tt+" scn"),ct.gState&&w.setGState(ct.gState),J(P),J("Q")}},Ao=function(b){switch(b){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Eo=w.moveTo=function(b,P){return J(D(L(b))+" "+D(st(P))+" m"),this},ra=w.lineTo=function(b,P){return J(D(L(b))+" "+D(st(P))+" l"),this},Rr=w.curveTo=function(b,P,tt,ct,yt,Ut){return J([D(L(b)),D(st(P)),D(L(tt)),D(st(ct)),D(L(yt)),D(st(Ut)),"c"].join(" ")),this};w.__private__.line=w.line=function(b,P,tt,ct,yt){if(isNaN(b)||isNaN(P)||isNaN(tt)||isNaN(ct)||!pr(yt))throw new Error("Invalid arguments passed to jsPDF.line");return nt===at?this.lines([[tt-b,ct-P]],b,P,[1,1],yt||"S"):this.lines([[tt-b,ct-P]],b,P,[1,1]).stroke()},w.__private__.lines=w.lines=function(b,P,tt,ct,yt,Ut){var Kt,ae,fe,Re,Ee,hn,Jn,qn,p,S,C,W;if(typeof b=="number"&&(W=tt,tt=P,P=b,b=W),ct=ct||[1,1],Ut=Ut||!1,isNaN(P)||isNaN(tt)||!Array.isArray(b)||!Array.isArray(ct)||!pr(yt)||typeof Ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Eo(P,tt),Kt=ct[0],ae=ct[1],Re=b.length,S=P,C=tt,fe=0;fe<Re;fe++)(Ee=b[fe]).length===2?(S=Ee[0]*Kt+S,C=Ee[1]*ae+C,ra(S,C)):(hn=Ee[0]*Kt+S,Jn=Ee[1]*ae+C,qn=Ee[2]*Kt+S,p=Ee[3]*ae+C,S=Ee[4]*Kt+S,C=Ee[5]*ae+C,Rr(hn,Jn,qn,p,S,C));return Ut&&ia(),ba(yt),this},w.path=function(b){for(var P=0;P<b.length;P++){var tt=b[P],ct=tt.c;switch(tt.op){case"m":Eo(ct[0],ct[1]);break;case"l":ra(ct[0],ct[1]);break;case"c":Rr.apply(this,ct);break;case"h":ia()}}return this},w.__private__.rect=w.rect=function(b,P,tt,ct,yt){if(isNaN(b)||isNaN(P)||isNaN(tt)||isNaN(ct)||!pr(yt))throw new Error("Invalid arguments passed to jsPDF.rect");return nt===at&&(ct=-ct),J([D(L(b)),D(st(P)),D(L(tt)),D(L(ct)),"re"].join(" ")),ba(yt),this},w.__private__.triangle=w.triangle=function(b,P,tt,ct,yt,Ut,Kt){if(isNaN(b)||isNaN(P)||isNaN(tt)||isNaN(ct)||isNaN(yt)||isNaN(Ut)||!pr(Kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[tt-b,ct-P],[yt-tt,Ut-ct],[b-yt,P-Ut]],b,P,[1,1],Kt,!0),this},w.__private__.roundedRect=w.roundedRect=function(b,P,tt,ct,yt,Ut,Kt){if(isNaN(b)||isNaN(P)||isNaN(tt)||isNaN(ct)||isNaN(yt)||isNaN(Ut)||!pr(Kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ae=4/3*(Math.SQRT2-1);return yt=Math.min(yt,.5*tt),Ut=Math.min(Ut,.5*ct),this.lines([[tt-2*yt,0],[yt*ae,0,yt,Ut-Ut*ae,yt,Ut],[0,ct-2*Ut],[0,Ut*ae,-yt*ae,Ut,-yt,Ut],[2*yt-tt,0],[-yt*ae,0,-yt,-Ut*ae,-yt,-Ut],[0,2*Ut-ct],[0,-Ut*ae,yt*ae,-Ut,yt,-Ut]],b+yt,P,[1,1],Kt,!0),this},w.__private__.ellipse=w.ellipse=function(b,P,tt,ct,yt){if(isNaN(b)||isNaN(P)||isNaN(tt)||isNaN(ct)||!pr(yt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ut=4/3*(Math.SQRT2-1)*tt,Kt=4/3*(Math.SQRT2-1)*ct;return Eo(b+tt,P),Rr(b+tt,P-Kt,b+Ut,P-ct,b,P-ct),Rr(b-Ut,P-ct,b-tt,P-Kt,b-tt,P),Rr(b-tt,P+Kt,b-Ut,P+ct,b,P+ct),Rr(b+Ut,P+ct,b+tt,P+Kt,b+tt,P),ba(yt),this},w.__private__.circle=w.circle=function(b,P,tt,ct){if(isNaN(b)||isNaN(P)||isNaN(tt)||!pr(ct))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,P,tt,tt,ct)},w.setFont=function(b,P,tt){return tt&&(P=z(P,tt)),me=el(b,P,{disableWarning:!1}),this};var ws=w.__private__.getFont=w.getFont=function(){return Ne[el.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var b,P,tt={};for(b in Me)if(Me.hasOwnProperty(b))for(P in tt[b]=[],Me[b])Me[b].hasOwnProperty(P)&&tt[b].push(P);return tt},w.addFont=function(b,P,tt,ct,yt){var Ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ut.indexOf(arguments[3])!==-1?yt=arguments[3]:arguments[3]&&Ut.indexOf(arguments[3])==-1&&(tt=z(tt,ct)),_o.call(this,b,P,tt,yt=yt||"Identity-H")};var sa,Lr=n.lineWidth||.200025,wa=w.__private__.getLineWidth=w.getLineWidth=function(){return Lr},Ie=w.__private__.setLineWidth=w.setLineWidth=function(b){return Lr=b,J(D(L(b))+" w"),this};w.__private__.setLineDash=Se.API.setLineDash=Se.API.setLineDashPattern=function(b,P){if(b=b||[],P=P||0,isNaN(P)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(tt){return D(L(tt))}).join(" "),P=D(L(P)),J("["+b+"] "+P+" d"),this};var za=w.__private__.getLineHeight=w.getLineHeight=function(){return Ft*sa};w.__private__.getLineHeight=w.getLineHeight=function(){return Ft*sa};var So=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(sa=b),this},Aa=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return sa};So(n.lineHeight);var Yi=w.__private__.getHorizontalCoordinate=function(b){return L(b)},Pi=w.__private__.getVerticalCoordinate=function(b){return nt===it?b:ye[Y].mediaBox.topRightY-ye[Y].mediaBox.bottomLeftY-L(b)},Ha=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(b){return D(Yi(b))},On=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(b){return D(Pi(b))},Hr=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Hn(Hr)},w.__private__.setStrokeColor=w.setDrawColor=function(b,P,tt,ct){return Hr=Di({ch1:b,ch2:P,ch3:tt,ch4:ct,pdfColorType:"draw",precision:2}),J(Hr),this};var Ga=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Hn(Ga)},w.__private__.setFillColor=w.setFillColor=function(b,P,tt,ct){return Ga=Di({ch1:b,ch2:P,ch3:tt,ch4:ct,pdfColorType:"fill",precision:2}),J(Ga),this};var As=n.textColor||"0 g",al=w.__private__.getTextColor=w.getTextColor=function(){return Hn(As)};w.__private__.setTextColor=w.setTextColor=function(b,P,tt,ct){return As=Di({ch1:b,ch2:P,ch3:tt,ch4:ct,pdfColorType:"text",precision:3}),this};var Gr=n.charSpace,aa=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Gr||0)};w.__private__.setCharSpace=w.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Gr=b,this};var Yr=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(b){var P=w.CapJoinStyles[b];if(P===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yr=P,J(P+" J"),this};var xi=0;w.__private__.setLineJoin=w.setLineJoin=function(b){var P=w.CapJoinStyles[b];if(P===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xi=P,J(P+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(D(L(b))+" M"),this},w.GState=hm,w.setGState=function(b){(b=typeof b=="string"?De[Pe[b]]:Ls(null,b)).equals(Ln)||(J("/"+b.id+" gs"),Ln=b)};var Ls=function(b,P){if(!b||!Pe[b]){var tt=!1;for(var ct in De)if(De.hasOwnProperty(ct)&&De[ct].equals(P)){tt=!0;break}if(tt)P=De[ct];else{var yt="GS"+(Object.keys(De).length+1).toString(10);De[yt]=P,P.id=yt}return b&&(Pe[b]=P.id),an.publish("addGState",P),P}};w.addGState=function(b,P){return Ls(b,P),this},w.saveGraphicsState=function(){return J("q"),We.push({key:me,size:Ft,color:As}),this},w.restoreGraphicsState=function(){J("Q");var b=We.pop();return me=b.key,Ft=b.size,As=b.color,Ln=null,this},w.setCurrentTransformationMatrix=function(b){return J(b.toString()+" cm"),this},w.comment=function(b){return J("#"+b),this};var nr=function(b,P){var tt=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return tt},set:function(Ut){isNaN(Ut)||(tt=parseFloat(Ut))}});var ct=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ct},set:function(Ut){isNaN(Ut)||(ct=parseFloat(Ut))}});var yt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return yt},set:function(Ut){yt=Ut.toString()}}),this},ks=function(b,P,tt,ct){nr.call(this,b,P),this.type="rect";var yt=tt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return yt},set:function(Kt){isNaN(Kt)||(yt=parseFloat(Kt))}});var Ut=ct||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ut},set:function(Kt){isNaN(Kt)||(Ut=parseFloat(Kt))}}),this},Ea=function(){this.page=be,this.currentPage=Y,this.pages=Qt.slice(0),this.pagesContext=ye.slice(0),this.x=ge,this.y=ci,this.matrix=Qe,this.width=os(Y),this.height=To(Y),this.outputDestination=te,this.id="",this.objectNumber=-1};Ea.prototype.restore=function(){be=this.page,Y=this.currentPage,ye=this.pagesContext,Qt=this.pages,ge=this.x,ci=this.y,Qe=this.matrix,Ya(Y,this.width),Kr(Y,this.height),te=this.outputDestination};var Os=function(b,P,tt,ct,yt){Hi.push(new Ea),be=Y=0,Qt=[],ge=b,ci=P,Qe=yt,ss([tt,ct])};for(var Ds in w.beginFormObject=function(b,P,tt,ct,yt){return Os(b,P,tt,ct,yt),this},w.endFormObject=function(b){return(function(P){if(Rs[P])Hi.pop().restore();else{var tt=new Ea,ct="Xo"+(Object.keys(Zi).length+1).toString(10);tt.id=ct,Rs[P]=ct,Zi[ct]=tt,an.publish("addFormObject",tt),Hi.pop().restore()}})(b),this},w.doFormObject=function(b,P){var tt=Zi[Rs[b]];return J("q"),J(P.toString()+" cm"),J("/"+tt.id+" Do"),J("Q"),this},w.getFormObject=function(b){var P=Zi[Rs[b]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},w.save=function(b,P){return b=b||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(nc(gn(as()),b),typeof nc.unload=="function"&&Ge.setTimeout&&setTimeout(nc.unload,911),this):new Promise(function(tt,ct){try{var yt=nc(gn(as()),b);typeof nc.unload=="function"&&Ge.setTimeout&&setTimeout(nc.unload,911),tt(yt)}catch(Ut){ct(Ut.message)}})},Se.API)Se.API.hasOwnProperty(Ds)&&(Ds==="events"&&Se.API.events.length?(function(b,P){var tt,ct,yt;for(yt=P.length-1;yt!==-1;yt--)tt=P[yt][0],ct=P[yt][1],b.subscribe.apply(b,[tt].concat(typeof ct=="function"?[ct]:ct))})(an,Se.API.events):w[Ds]=Se.API[Ds]);function os(b){return ye[b].mediaBox.topRightX-ye[b].mediaBox.bottomLeftX}function Ya(b,P){ye[b].mediaBox.topRightX=P+ye[b].mediaBox.bottomLeftX}function To(b){return ye[b].mediaBox.topRightY-ye[b].mediaBox.bottomLeftY}function Kr(b,P){ye[b].mediaBox.topRightY=P+ye[b].mediaBox.bottomLeftY}var Ps=w.getPageWidth=function(b){return os(b=b||Y)/ze},ol=w.setPageWidth=function(b,P){Ya(b,P*ze)},Es=w.getPageHeight=function(b){return To(b=b||Y)/ze},No=w.setPageHeight=function(b,P){Kr(b,P*ze)};return w.internal={pdfEscape:Cr,getStyle:il,getFont:ws,getFontSize:ne,getCharSpace:aa,getTextColor:al,getLineHeight:za,getLineHeightFactor:Aa,getLineWidth:wa,write:Zt,getHorizontalCoordinate:Yi,getVerticalCoordinate:Pi,getCoordinateString:Ha,getVerticalCoordinateString:On,collections:{},newObject:Fn,newAdditionalObject:fr,newObjectDeferred:$n,newObjectDeferredBegin:Oi,getFilters:xr,putStream:is,events:an,scaleFactor:ze,pageSize:{getWidth:function(){return Ps(Y)},setWidth:function(b){ol(Y,b)},getHeight:function(){return Es(Y)},setHeight:function(b){No(Y,b)}},encryptionOptions:_,encryption:si,getEncryptor:function(b){return _!==null?si.encryptor(b,0):function(P){return P}},output:_a,getNumberOfPages:wo,get pages(){return Qt},out:J,f2:T,f3:R,getPageInfo:bi,getPageInfoByObjId:qa,getCurrentPageInfo:Ul,getPDFVersion:q,Point:nr,Rectangle:ks,Matrix:Ae,hasHotfix:Ni},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Ps(Y)},set:function(b){ol(Y,b)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Es(Y)},set:function(b){No(Y,b)},enumerable:!0,configurable:!0}),(function(b){for(var P=0,tt=Te.length;P<tt;P++){var ct=_o.call(this,b[P][0],b[P][1],b[P][2],Te[P][3],!0);E===!1&&(x[ct]=!0);var yt=b[P][0].split("-");fi({id:ct,fontName:yt[0],fontStyle:yt[1]||""})}an.publish("addFonts",{fonts:Ne,dictionary:Me})}).call(w,Te),me="F1",bs(a,e),an.publish("initialized"),w}hh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},hh.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hh.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},hh.prototype.processOwnerPassword=function(n,t){return b0(_0(t).substr(0,5),n)},hh.prototype.encryptor=function(n,t){var e=_0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return b0(e,r)}},hm.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Qn(n)!==Qn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Se.API={events:[]},Se.version="3.0.4";var qi=Se.API,N2=1,Ec=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(n){return n.toFixed(2)},pu=function(n){return n.toFixed(5)};qi.__acroform__={};var Zs=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Pb=function(n){return n*N2},qo=function(n){var t=new LA,e=pe.internal.getHeight(n)||0,r=pe.internal.getWidth(n)||0;return t.BBox=[0,0,Number(en(r)),Number(en(e))],t},ak=qi.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},ok=qi.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},lk=qi.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Qi=qi.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lk(n,t-1)},$i=qi.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ak(n,t-1)},Ji=qi.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ok(n,t-1)},uk=qi.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],h=n[3],f={};return f.lowerLeft_X=e(a)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=e(a+c)||0,f.upperRight_Y=r(o)||0,[Number(en(f.lowerLeft_X)),Number(en(f.lowerLeft_Y)),Number(en(f.upperRight_X)),Number(en(f.upperRight_Y))]},ck=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=w0(n,e),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+a+" "+en(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=qo(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},w0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=n.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var o=e,c=pe.internal.getHeight(n)||0;c=c<0?-c:c;var h=pe.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(T,R,L){if(T+1<a.length){var st=R+" "+a[T+1][0];return vp(st,n,L).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var m,_,E=vp("3",n,o).height,x=n.multiline?c-o:(c-E)/2,w=x+=2,j=0,q=0,U=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+vp(t,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var B="",at=0,it=0;it<a.length;it++)if(a.hasOwnProperty(it)){var nt=!1;if(a[it].length!==1&&U!==a[it].length-1){if((E+2)*(at+2)+2>c)continue t;B+=a[it][U],nt=!0,q=it,it--}else{B=(B+=a[it][U]+" ").substr(B.length-1)==" "?B.substr(0,B.length-1):B;var wt=parseInt(it),Tt=f(wt,B,o),z=it>=a.length-1;if(Tt&&!z){B+=" ",U=0;continue}if(Tt||z){if(z)q=wt;else if(n.multiline&&(E+2)*(at+2)+2>c)continue t}else{if(!n.multiline||(E+2)*(at+2)+2>c)continue t;q=wt}}for(var D="",k=j;k<=q;k++){var G=a[k];if(n.multiline){if(k===q){D+=G[U]+" ",U=(U+1)%G.length;continue}if(k===j){D+=G[G.length-1]+" ";continue}}D+=G[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,_=vp(D,n,o).width,n.textAlign){case"right":m=h-_-2;break;case"center":m=(h-_)/2;break;default:m=2}t+=en(m)+" "+en(w)+` Td
`,t+="("+Ec(D)+`) Tj
`,t+=-en(m)+` 0 Td
`,w=-(o+2),_=0,j=nt?q:q+1,at++,B=""}break}return r.text=t,r.fontSize=o,r},vp=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},hk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fk=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},dk=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(yo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(hk)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");N2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new kA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&fk(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,a){var o=!r;for(var c in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var h=r[c],f=[],m=h.Rect;if(h.Rect&&(h.Rect=uk(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=pe.createDefaultAppearanceStream(h),Qn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var _=ck(h);f.push({key:"AP",value:"<</N "+_+">>"}),a.internal.acroformPlugin.xForms.push(_)}if(h.appearanceStreamContent){var E="";for(var x in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(x)){var w=h.appearanceStreamContent[x];if(E+="/"+x+" ",E+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var c in w)if(w.hasOwnProperty(c)){var j=w[c];typeof j=="function"&&(j=j.call(a,h)),E+="/"+c+" "+j+" ",a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j)}}else typeof(j=w)=="function"&&(j=j.call(a,h)),E+="/"+c+" "+j,a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j);E+=">>"}f.push({key:"AP",value:`<<
`+E+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:h.objId}),a.internal.out("endobj")}o&&(function(q,U){for(var B in q)if(q.hasOwnProperty(B)){var at=B,it=q[B];U.internal.newObjectDeferredBegin(it.objId,!0),Qn(it)==="object"&&typeof it.putStream=="function"&&it.putStream(),delete q[at]}})(a.internal.acroformPlugin.xForms,a)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},RA=qi.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Qn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),a+="("+Ec(r(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Og=function(n,t,e){var r=function(a){return a};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+Ec(r(n))+")"},Go=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Go.prototype.toString=function(){return this.objId+" 0 R"},Go.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Go.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:RA(a,this.objId,this.scope)}):a instanceof Go?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var LA=function(){Go.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Zs(LA,Go);var kA=function(){Go.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Ec(e(n))+")"}},set:function(e){n=e}})};Zs(kA,Go);var yo=function n(){Go.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute F supplied.');t=B}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qi(t,3)},set:function(B){B?this.F=$i(t,3):this.F=Ji(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute Ff supplied.');e=B}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(B){r=B!==void 0?B:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(B){r[0]=B}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(B){r[1]=B}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(B){r[2]=B}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(B){r[3]=B}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(B){switch(B){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=B;break;default:throw new Error('Invalid value "'+B+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof fm)return;o="FieldObject"+n.FieldNum++}var B=function(at){return at};return this.scope&&(B=this.scope.internal.getEncryptor(this.objId)),"("+Ec(B(o))+")"},set:function(B){o=B.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(B){o=B}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(B){c=B}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(B){h=B}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(B){f=B}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/N2:m},set:function(B){m=B}});var _="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return _},set:function(B){_=B}});var E="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!E||this instanceof fm||this instanceof lc))return Og(E,this.objId,this.scope)},set:function(B){B=B.toString(),E=B}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof jr==0?Og(x,this.objId,this.scope):x},set:function(B){B=B.toString(),x=this instanceof jr==0?B.substr(0,1)==="("?sh(B.substr(1,B.length-2)):sh(B):B}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr==1?sh(x.substr(1,x.length-1)):x},set:function(B){B=B.toString(),x=this instanceof jr==1?"/"+B:B}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(B){this.V=B}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof jr==0?Og(w,this.objId,this.scope):w},set:function(B){B=B.toString(),w=this instanceof jr==0?B.substr(0,1)==="("?sh(B.substr(1,B.length-2)):sh(B):B}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr==1?sh(w.substr(1,w.length-1)):w},set:function(B){B=B.toString(),w=this instanceof jr==1?"/"+B:B}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,q=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return q},set:function(B){B=!!B,q=B}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(B){j=B}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,1)},set:function(B){B?this.Ff=$i(this.Ff,1):this.Ff=Ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,2)},set:function(B){B?this.Ff=$i(this.Ff,2):this.Ff=Ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,3)},set:function(B){B?this.Ff=$i(this.Ff,3):this.Ff=Ji(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(B){if([0,1,2].indexOf(B)===-1)throw new Error('Invalid value "'+B+'" for attribute Q supplied.');U=B}}),Object.defineProperty(this,"textAlign",{get:function(){var B;switch(U){case 0:default:B="left";break;case 1:B="center";break;case 2:B="right"}return B},configurable:!0,enumerable:!0,set:function(B){switch(B){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};Zs(yo,Go);var Ah=function(){yo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return RA(t,this.objId,this.scope)},set:function(e){var r,a;a=[],typeof(r=e)=="string"&&(a=(function(o,c,h){h||(h=1);for(var f,m=[];f=c.exec(o);)m.push(f[h]);return m})(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,18)},set:function(e){e?this.Ff=$i(this.Ff,18):this.Ff=Ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=$i(this.Ff,19):this.Ff=Ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,20)},set:function(e){e?(this.Ff=$i(this.Ff,20),t.sort()):this.Ff=Ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,22)},set:function(e){e?this.Ff=$i(this.Ff,22):this.Ff=Ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(e){e?this.Ff=$i(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,27)},set:function(e){e?this.Ff=$i(this.Ff,27):this.Ff=Ji(this.Ff,27)}}),this.hasAppearanceStream=!1};Zs(Ah,yo);var Eh=function(){Ah.call(this),this.fontName="helvetica",this.combo=!1};Zs(Eh,Ah);var Sh=function(){Eh.call(this),this.combo=!0};Zs(Sh,Eh);var Dp=function(){Sh.call(this),this.edit=!0};Zs(Dp,Sh);var jr=function(){yo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,15)},set:function(e){e?this.Ff=$i(this.Ff,15):this.Ff=Ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,16)},set:function(e){e?this.Ff=$i(this.Ff,16):this.Ff=Ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,17)},set:function(e){e?this.Ff=$i(this.Ff,17):this.Ff=Ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(e){e?this.Ff=$i(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+Ec(e(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Qn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Zs(jr,yo);var Pp=function(){jr.call(this),this.pushButton=!0};Zs(Pp,jr);var Th=function(){jr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Zs(Th,jr);var fm=function(){var n,t;yo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+Ec(a(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Qn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zs(fm,yo),Th.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Th.prototype.createOption=function(n){var t=new fm;return t.Parent=this,t.optionName=n,this.Kids.push(t),pk.call(this.scope,t),t};var Mp=function(){jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pe.CheckBox.createAppearanceStream()};Zs(Mp,jr);var lc=function(){yo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,13)},set:function(t){t?this.Ff=$i(this.Ff,13):this.Ff=Ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,21)},set:function(t){t?this.Ff=$i(this.Ff,21):this.Ff=Ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(t){t?this.Ff=$i(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,24)},set:function(t){t?this.Ff=$i(this.Ff,24):this.Ff=Ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,25)},set:function(t){t?this.Ff=$i(this.Ff,25):this.Ff=Ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(t){t?this.Ff=$i(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zs(lc,yo);var Up=function(){lc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,14)},set:function(n){n?this.Ff=$i(this.Ff,14):this.Ff=Ji(this.Ff,14)}}),this.password=!0};Zs(Up,lc);var pe={CheckBox:{createAppearanceStream:function(){return{N:{On:pe.CheckBox.YesNormal},D:{On:pe.CheckBox.YesPushDown,Off:pe.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=qo(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=w0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+en(pe.internal.getWidth(n))+" "+en(pe.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+en(o.fontSize)+" Tf "+a),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=qo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=pe.internal.getHeight(n),c=pe.internal.getWidth(n),h=w0(n,n.caption);return a.push("1 g"),a.push("0 0 "+en(c)+" "+en(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+en(c-1)+" "+en(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+en(h.fontSize)+" Tf "+r),a.push(h.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(n){var t=qo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+en(pe.internal.getWidth(n))+" "+en(pe.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:pe.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=pe.RadioButton.Circle.YesNormal,t.D[n]=pe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=qo(n);t.scope=n.scope;var e=[],r=pe.internal.getWidth(n)<=pe.internal.getHeight(n)?pe.internal.getWidth(n)/4:pe.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=pe.internal.Bezier_C,o=Number((r*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+pu(pe.internal.getWidth(n)/2)+" "+pu(pe.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=qo(n);t.scope=n.scope;var e=[],r=pe.internal.getWidth(n)<=pe.internal.getHeight(n)?pe.internal.getWidth(n)/4:pe.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*pe.internal.Bezier_C).toFixed(5)),c=Number((r*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+pu(pe.internal.getWidth(n)/2)+" "+pu(pe.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+pu(pe.internal.getWidth(n)/2)+" "+pu(pe.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),e.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),e.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),e.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=qo(n);t.scope=n.scope;var e=[],r=pe.internal.getWidth(n)<=pe.internal.getHeight(n)?pe.internal.getWidth(n)/4:pe.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+pu(pe.internal.getWidth(n)/2)+" "+pu(pe.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:pe.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=pe.RadioButton.Cross.YesNormal,t.D[n]=pe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=qo(n);t.scope=n.scope;var e=[],r=pe.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+en(pe.internal.getWidth(n)-2)+" "+en(pe.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(en(r.x1.x)+" "+en(r.x1.y)+" m"),e.push(en(r.x2.x)+" "+en(r.x2.y)+" l"),e.push(en(r.x4.x)+" "+en(r.x4.y)+" m"),e.push(en(r.x3.x)+" "+en(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=qo(n);t.scope=n.scope;var e=pe.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+en(pe.internal.getWidth(n))+" "+en(pe.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+en(pe.internal.getWidth(n)-2)+" "+en(pe.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(en(e.x1.x)+" "+en(e.x1.y)+" m"),r.push(en(e.x2.x)+" "+en(e.x2.y)+" l"),r.push(en(e.x4.x)+" "+en(e.x4.y)+" m"),r.push(en(e.x3.x)+" "+en(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=qo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+en(pe.internal.getWidth(n))+" "+en(pe.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};pe.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=pe.internal.getWidth(n),e=pe.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},pe.internal.getWidth=function(n){var t=0;return Qn(n)==="object"&&(t=Pb(n.Rect[2])),t},pe.internal.getHeight=function(n){var t=0;return Qn(n)==="object"&&(t=Pb(n.Rect[3])),t};var pk=qi.addField=function(n){if(dk(this,n),!(n instanceof yo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};qi.AcroFormChoiceField=Ah,qi.AcroFormListBox=Eh,qi.AcroFormComboBox=Sh,qi.AcroFormEditBox=Dp,qi.AcroFormButton=jr,qi.AcroFormPushButton=Pp,qi.AcroFormRadioButton=Th,qi.AcroFormCheckBox=Mp,qi.AcroFormTextField=lc,qi.AcroFormPasswordField=Up,qi.AcroFormAppearance=pe,qi.AcroForm={ChoiceField:Ah,ListBox:Eh,ComboBox:Sh,EditBox:Dp,Button:jr,PushButton:Pp,RadioButton:Th,CheckBox:Mp,TextField:lc,PasswordField:Up,Appearance:pe},Se.AcroForm={ChoiceField:Ah,ListBox:Eh,ComboBox:Sh,EditBox:Dp,Button:jr,PushButton:Pp,RadioButton:Th,CheckBox:Mp,TextField:lc,PasswordField:Up,Appearance:pe};Se.AcroForm;function OA(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(T,R){var L,st,bt,rt,ft,ht=e;if((R=R||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(Tt(T))for(ft in r)for(bt=r[ft],L=0;L<bt.length;L+=1){for(rt=!0,st=0;st<bt[L].length;st+=1)if(bt[L][st]!==void 0&&bt[L][st]!==T[st]){rt=!1;break}if(rt===!0){ht=ft;break}}else for(ft in r)for(bt=r[ft],L=0;L<bt.length;L+=1){for(rt=!0,st=0;st<bt[L].length;st+=1)if(bt[L][st]!==void 0&&bt[L][st]!==T.charCodeAt(st)){rt=!1;break}if(rt===!0){ht=ft;break}}return ht===e&&R!==e&&(ht=R),ht},o=function T(R){for(var L=this.internal.write,st=this.internal.putStream,bt=(0,this.internal.getFilters)();bt.indexOf("FlateEncode")!==-1;)bt.splice(bt.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var rt=[];if(rt.push({key:"Type",value:"/XObject"}),rt.push({key:"Subtype",value:"/Image"}),rt.push({key:"Width",value:R.width}),rt.push({key:"Height",value:R.height}),R.colorSpace===B.INDEXED?rt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(rt.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===B.DEVICE_CMYK&&rt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),rt.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&rt.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var ft="",ht=0,xt=R.transparency.length;ht<xt;ht++)ft+=R.transparency[ht]+" "+R.transparency[ht]+" ";rt.push({key:"Mask",value:"["+ft+"]"})}R.sMask!==void 0&&rt.push({key:"SMask",value:R.objectId+1+" 0 R"});var zt=R.filter!==void 0?["/"+R.filter]:void 0;if(st({data:R.data,additionalKeyValues:rt,alreadyAppliedFilters:zt,objectId:R.objectId}),L("endobj"),"sMask"in R&&R.sMask!==void 0){var Q,O=(Q=R.sMaskBitsPerComponent)!==null&&Q!==void 0?Q:R.bitsPerComponent,Y={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:R.sMask};"filter"in R&&(Y.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(R.width),Y.filter=R.filter),T.call(this,Y)}if(R.colorSpace===B.INDEXED){var $=this.internal.newObject();st({data:D(new Uint8Array(R.palette)),objectId:$}),L("endobj")}},c=function(){var T=this.internal.collections[t+"images"];for(var R in T)o.call(this,T[R])},h=function(){var T,R=this.internal.collections[t+"images"],L=this.internal.write;for(var st in R)L("/I"+(T=R[st]).index,T.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},m=function(){var T=this.internal.collections[t+"images"];return f.call(this),T},_=function(){return Object.keys(this.internal.collections[t+"images"]).length},E=function(T){return typeof n["process"+T.toUpperCase()]=="function"},x=function(T){return Qn(T)==="object"&&T.nodeType===1},w=function(T,R){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var L=""+T.getAttribute("src");if(L.indexOf("data:image/")===0)return Op(unescape(L).split("base64,").pop());var st=n.loadFile(L,!0);if(st!==void 0)return st}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var bt;switch(R){case"PNG":bt="image/png";break;case"WEBP":bt="image/webp";break;default:bt="image/jpeg"}return Op(T.toDataURL(bt,1).split("base64,").pop())}},j=function(T){var R=this.internal.collections[t+"images"];if(R){for(var L in R)if(T===R[L].alias)return R[L]}},q=function(T,R,L){return T||R||(T=-96,R=-96),T<0&&(T=-1*L.width*72/T/this.internal.scaleFactor),R<0&&(R=-1*L.height*72/R/this.internal.scaleFactor),T===0&&(T=R*L.width/L.height),R===0&&(R=T*L.height/L.width),[T,R]},U=function(T,R,L,st,bt,rt){var ft=q.call(this,L,st,bt),ht=this.internal.getCoordinateString,xt=this.internal.getVerticalCoordinateString,zt=m.call(this);if(L=ft[0],st=ft[1],zt[bt.index]=bt,rt){rt*=Math.PI/180;var Q=Math.cos(rt),O=Math.sin(rt),Y=function(ot){return ot.toFixed(4)},$=[Y(Q),Y(O),Y(-1*O),Y(Q),0,0,"cm"]}this.internal.write("q"),rt?(this.internal.write([1,"0","0",1,ht(T),xt(R+st),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([ht(L),"0","0",ht(st),"0","0","cm"].join(" "))):this.internal.write([ht(L),"0","0",ht(st),ht(T),xt(R+st),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+bt.index+" Do"),this.internal.write("Q")},B=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var at=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},it=n.__addimage__.sHashCode=function(T){var R,L,st=0;if(typeof T=="string")for(L=T.length,R=0;R<L;R++)st=(st<<5)-st+T.charCodeAt(R),st|=0;else if(Tt(T))for(L=T.byteLength/2,R=0;R<L;R++)st=(st<<5)-st+T[R],st|=0;return st},nt=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var R=!0;return T.length===0&&(R=!1),T.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(R=!1),R},wt=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var R=T.indexOf(",");return R<0?null:T.substring(0,R).trim().endsWith("base64")?T.substring(R+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var Tt=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},z=n.__addimage__.binaryStringToUint8Array=function(T){for(var R=T.length,L=new Uint8Array(R),st=0;st<R;st++)L[st]=T.charCodeAt(st);return L},D=n.__addimage__.arrayBufferToBinaryString=function(T){for(var R="",L=Tt(T)?T:new Uint8Array(T),st=0;st<L.length;st+=8192)R+=String.fromCharCode.apply(null,L.subarray(st,st+8192));return R};n.addImage=function(){var T,R,L,st,bt,rt,ft,ht,xt;if(typeof arguments[1]=="number"?(R=e,L=arguments[1],st=arguments[2],bt=arguments[3],rt=arguments[4],ft=arguments[5],ht=arguments[6],xt=arguments[7]):(R=arguments[1],L=arguments[2],st=arguments[3],bt=arguments[4],rt=arguments[5],ft=arguments[6],ht=arguments[7],xt=arguments[8]),Qn(T=arguments[0])==="object"&&!x(T)&&"imageData"in T){var zt=T;T=zt.imageData,R=zt.format||R||e,L=zt.x||L||0,st=zt.y||st||0,bt=zt.w||zt.width||bt,rt=zt.h||zt.height||rt,ft=zt.alias||ft,ht=zt.compression||ht,xt=zt.rotation||zt.angle||xt}var Q=this.internal.getFilters();if(ht===void 0&&Q.indexOf("FlateEncode")!==-1&&(ht="SLOW"),isNaN(L)||isNaN(st))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var O=k.call(this,T,R,ft,ht);return U.call(this,L,st,bt,rt,O,xt),this};var k=function(T,R,L,st){var bt,rt,ft;if(typeof T=="string"&&a(T)===e){T=unescape(T);var ht=G(T,!1);(ht!==""||(ht=n.loadFile(T,!0))!==void 0)&&(T=ht)}if(x(T)&&(T=w(T,R)),R=a(T,R),!E(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((ft=L)==null||ft.length===0)&&(L=(function(xt){return typeof xt=="string"||Tt(xt)?it(xt):Tt(xt.data)?it(xt.data):null})(T)),(bt=j.call(this,L))||(T instanceof Uint8Array||R==="RGBA"||(rt=T,T=z(T)),bt=this["process"+R.toUpperCase()](T,_.call(this),L,(function(xt){return xt&&typeof xt=="string"&&(xt=xt.toUpperCase()),xt in n.image_compression?xt:at.NONE})(st),rt)),!bt)throw new Error("An unknown error occurred whilst processing the image.");return bt},G=n.__addimage__.convertBase64ToBinaryString=function(T,R){R=typeof R!="boolean"||R;var L,st="";if(typeof T=="string"){var bt;L=(bt=wt(T))!==null&&bt!==void 0?bt:T;try{st=Op(L)}catch(rt){if(R)throw nt(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+rt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return st};n.getImageProperties=function(T){var R,L,st="";if(x(T)&&(T=w(T)),typeof T=="string"&&a(T)===e&&((st=G(T,!1))===""&&(st=n.loadFile(T)||""),T=st),L=a(T),!E(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(T instanceof Uint8Array||(T=z(T)),!(R=this["process"+L.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=L,R}})(Se.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Se.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,a,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),m=e.pageContext.annotations,_=!1,E=0;E<m.length&&!_;E++)switch((r=m[E]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(_=!0);break;case"reference":case"text":case"freetext":_=!0}if(_!=0){this.internal.write("/Annots [");for(var x=0;x<m.length;x++){r=m[x];var w=this.internal.pdfEscape,j=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var q=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),B=this.internal.getEncryptor(q.objId),at=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+w(B(r.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+w(B(at))+") >>",q.content=o;var it=q.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+it,r.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(q.objId,"0 R",U.objId,"0 R");break;case"freetext":a="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var nt=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(j(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+nt+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var wt=this.annotations._nameMap[r.options.name];r.options.pageNumber=wt.page,r.options.top=wt.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(j(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Tt=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Tt+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,a,o,c){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(e),y:m(r),w:f(e+a),h:m(r+o)},options:c,type:"link"})},n.textWithLink=function(e,r,a,o){var c,h,f=this.getTextWidth(e),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var _=this.splitTextToSize(e,h).length;c=Math.ceil(m*_)}else h=f,c=m;return this.text(e,r,a,o),a+=.2*m,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-m,h,c,o),f},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(Se.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(q){return t[q.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(q){return typeof q=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(q)},h=n.__arabicParser__.isArabicEndLetter=function(q){return c(q)&&o(q)&&t[q.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(q){return c(q)&&a.indexOf(q.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(q){return c(q)&&o(q)&&t[q.charCodeAt(0)].length>=1};var m=n.__arabicParser__.arabicLetterHasFinalForm=function(q){return c(q)&&o(q)&&t[q.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(q){return c(q)&&o(q)&&t[q.charCodeAt(0)].length>=3};var _=n.__arabicParser__.arabicLetterHasMedialForm=function(q){return c(q)&&o(q)&&t[q.charCodeAt(0)].length==4},E=n.__arabicParser__.resolveLigatures=function(q){var U=0,B=e,at="",it=0;for(U=0;U<q.length;U+=1)B[q.charCodeAt(U)]!==void 0?(it++,typeof(B=B[q.charCodeAt(U)])=="number"&&(at+=String.fromCharCode(B),B=e,it=0),U===q.length-1&&(B=e,at+=q.charAt(U-(it-1)),U-=it-1,it=0)):(B=e,at+=q.charAt(U-it),U-=it,it=0);return at};n.__arabicParser__.isArabicDiacritic=function(q){return q!==void 0&&r[q.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(q,U,B){return c(q)?o(q)===!1?-1:!m(q)||!c(U)&&!c(B)||!c(B)&&h(U)||h(q)&&!c(U)||h(q)&&f(U)||h(q)&&h(U)?0:_(q)&&c(U)&&!h(U)&&c(B)&&m(B)?3:h(q)||!c(B)?1:2:-1},w=function(q){var U=0,B=0,at=0,it="",nt="",wt="",Tt=(q=q||"").split("\\s+"),z=[];for(U=0;U<Tt.length;U+=1){for(z.push(""),B=0;B<Tt[U].length;B+=1)it=Tt[U][B],nt=Tt[U][B-1],wt=Tt[U][B+1],c(it)?(at=x(it,nt,wt),z[U]+=at!==-1?String.fromCharCode(t[it.charCodeAt(0)][at]):it):z[U]+=it;z[U]=E(z[U])}return z.join(" ")},j=n.__arabicParser__.processArabic=n.processArabic=function(){var q,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,B=[];if(Array.isArray(U)){var at=0;for(B=[],at=0;at<U.length;at+=1)Array.isArray(U[at])?B.push([w(U[at][0]),U[at][1],U[at][2]]):B.push([w(U[at])]);q=B}else q=w(U);return typeof arguments[0]=="string"?q:(arguments[0].text=q,arguments[0])};n.events.push(["preProcessText",j])})(Se.API),Se.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var a;if((e=e||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Se.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(q){f=q}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(q){m=q}});var _=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return _},set:function(q){_=q}});var E=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return E},set:function(q){E=q}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(q){x=q}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(q){w=q}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(q){j=q}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,m){r.call(this);var _=(m=m||{}).fontSize||this.getFontSize(),E=m.font||this.getFont(),x=m.scaleFactor||this.internal.scaleFactor,w=0,j=0,q=0,U=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var B=m.maxWidth;B>0?typeof f=="string"?f=this.splitTextToSize(f,B):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(it,nt){return it.concat(U.splitTextToSize(nt,B))},[])):f=Array.isArray(f)?f:[f];for(var at=0;at<f.length;at++)w<(q=this.getStringUnitWidth(f[at],{font:E})*_)&&(w=q);return w!==0&&(j=f.length),{w:w/=x,h:Math.max((j*_*this.getLineHeightFactor()-_*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var m=this.internal.__cell__.lastCell,_=this.internal.__cell__.padding,E=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===f.lineNumber?(f.x=(m.x||0)+(m.width||0),f.y=m.y||0):m.y+m.height+f.height+E.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=E.top,w&&x&&(this.printHeaderRow(f.lineNumber,!0),f.y+=x[0].height)):f.y=m.y+m.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-_,f.y+_,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+_,{align:"center",baseline:"top",maxWidth:f.width-_-_}):this.text(f.text,f.x+_,f.y+_,{align:"left",baseline:"top",maxWidth:f.width-_-_})),this.internal.__cell__.lastCell=f,this};n.table=function(f,m,_,E,x){if(r.call(this),!_)throw new Error("No data for PDF table.");var w,j,q,U,B=[],at=[],it=[],nt={},wt={},Tt=[],z=[],D=(x=x||{}).autoSize||!1,k=x.printHeaders!==!1,G=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,T=x.margins||Object.assign({width:this.getPageWidth()},t),R=typeof x.padding=="number"?x.padding:3,L=x.headerBackgroundColor||"#c8c8c8",st=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=st,this.setFontSize(G),E==null)at=B=Object.keys(_[0]),it=B.map(function(){return"left"});else if(Array.isArray(E)&&Qn(E[0])==="object")for(B=E.map(function(zt){return zt.name}),at=E.map(function(zt){return zt.prompt||zt.name||""}),it=E.map(function(zt){return zt.align||"left"}),w=0;w<E.length;w+=1)wt[E[w].name]=.7499990551181103*E[w].width;else Array.isArray(E)&&typeof E[0]=="string"&&(at=B=E,it=B.map(function(){return"left"}));if(D||Array.isArray(E)&&typeof E[0]=="string")for(w=0;w<B.length;w+=1){for(nt[U=B[w]]=_.map(function(zt){return zt[U]}),this.setFont(void 0,"bold"),Tt.push(this.getTextDimensions(at[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=nt[U],this.setFont(void 0,"normal"),q=0;q<j.length;q+=1)Tt.push(this.getTextDimensions(j[q],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);wt[U]=Math.max.apply(null,Tt)+R+R,Tt=[]}if(k){var bt={};for(w=0;w<B.length;w+=1)bt[B[w]]={},bt[B[w]].text=at[w],bt[B[w]].align=it[w];var rt=h.call(this,bt,wt);z=B.map(function(zt){return new o(f,m,wt[zt],rt,bt[zt].text,void 0,bt[zt].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var ft=E.reduce(function(zt,Q){return zt[Q.name]=Q.align,zt},{});for(w=0;w<_.length;w+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:w,data:_[w]},this);var ht=h.call(this,_[w],wt);for(q=0;q<B.length;q+=1){var xt=_[w][B[q]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:w,col:q,data:xt},this),c.call(this,new o(f,m,wt[B[q]],ht,xt,w+2,ft[B[q]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=m,this};var h=function(f,m){var _=this.internal.__cell__.padding,E=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(f).map(function(w){var j=f[w];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,m[w]-_-_)},this).map(function(w){return this.getLineHeightFactor()*w.length*E/x+_+_},this).reduce(function(w,j){return Math.max(w,j)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,m){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var _;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var E=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(E[0],E[1],E[2],E[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){_=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(_.y=this.internal.__cell__.margins.top||0,x.push(_)),_.lineNumber=f;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,_),this.setTextColor(j)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),e=!1}})(Se.API);var DA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},PA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],A0=OA(PA),MA=[100,200,300,400,500,600,700,800,900],mk=OA(MA);function Dg(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return DA[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof A0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:t,style:[a,e,r].join(" ")}}}function Mb(n,t,e,r){var a;for(a=e;a>=0&&a<t.length;a+=r)if(n[t[a]])return n[t[a]];for(a=e;a>=0&&a<t.length;a-=r)if(n[t[a]])return n[t[a]]}var gk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ub={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Vb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function jb(n){return n.trimLeft()}function yk(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function vk(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var _p,Bb,Fb,ah,bp,qb,zb,Hb,Pg=["times"];function Gb(n,t,e,r,a){var o=4,c=Kb;switch(a){case Se.API.image_compression.FAST:o=1,c=Yb;break;case Se.API.image_compression.MEDIUM:o=6,c=Wb;break;case Se.API.image_compression.SLOW:o=9,c=Xb}n=(function(f,m,_,E){for(var x,w=f.length/m,j=new Uint8Array(f.length+w),q=[_k,Yb,Kb,Wb,Xb],U=0;U<w;U+=1){var B=U*m,at=f.subarray(B,B+m);if(E)j.set(E(at,_,x),B+U);else{for(var it=q.length,nt=[],wt=0;wt<it;wt+=1)nt[wt]=q[wt](at,_,x);var Tt=wk(nt.concat());j.set(nt[Tt],B+U)}x=at}return j})(n,t,Math.ceil(e*r/8),c);var h=m0(n,{level:o});return Se.API.__addimage__.arrayBufferToBinaryString(h)}function _k(n){var t=Array.apply([],n);return t.unshift(0),t}function Yb(n,t){var e=n.length,r=[];r[0]=1;for(var a=0;a<e;a+=1){var o=n[a-t]||0;r[a+1]=n[a]-o+256&255}return r}function Kb(n,t,e){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var c=e&&e[o]||0;a[o+1]=n[o]-c+256&255}return a}function Wb(n,t,e){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var c=n[o-t]||0,h=e&&e[o]||0;a[o+1]=n[o]+256-(c+h>>>1)&255}return a}function Xb(n,t,e){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var c=bk(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);a[o+1]=n[o]-c+256&255}return a}function bk(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),a=Math.abs(n-e),o=Math.abs(n+t-e-e);return r<=a&&r<=o?n:a<=o?t:e}function wk(n){var t=n.map(function(e){return e.reduce(function(r,a){return r+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function Mg(n,t,e){var r=t*e,a=Math.floor(r/8),o=16-(r-8*a+e),c=(1<<e)-1;return UA(n,a)>>o&c}function Qb(n,t,e,r){var a=e*r,o=Math.floor(a/8),c=16-(a-8*o+r),h=(1<<r)-1,f=(t&h)<<c;(function(m,_,E){if(_+1<m.byteLength)m.setUint16(_,E,!1);else{var x=E>>8&255;m.setUint8(_,x)}})(n,o,UA(n,o)&~(h<<c)&65535|f)}function UA(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function Ak(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,a=n[t++],o=a>>7,c=1<<1+(7&a);n[t++],n[t++];var h=null,f=null;o&&(h=t,f=c,t+=3*c);var m=!0,_=[],E=0,x=null,w=0,j=null;for(this.width=e,this.height=r;m&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,j=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((T=n[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var q=n[t++];E=n[t++]|n[t++]<<8,x=n[t++],1&q||(x=null),w=q>>2&7,t++;break;case 254:for(;;){if(!((T=n[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var U=n[t++]|n[t++]<<8,B=n[t++]|n[t++]<<8,at=n[t++]|n[t++]<<8,it=n[t++]|n[t++]<<8,nt=n[t++],wt=nt>>6&1,Tt=1<<1+(7&nt),z=h,D=f,k=!1;nt>>7&&(k=!0,z=t,D=Tt,t+=3*Tt);var G=t;for(t++;;){var T;if(!((T=n[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}_.push({x:U,y:B,width:at,height:it,has_local_palette:k,palette_offset:z,palette_size:D,data_offset:G,data_length:t-G,transparent_index:x,interlaced:!!wt,delay:E,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return _.length},this.loopCount=function(){return j},this.frameInfo=function(R){if(R<0||R>=_.length)throw new Error("Frame index out of range.");return _[R]},this.decodeAndBlitFrameBGRA=function(R,L){var st=this.frameInfo(R),bt=st.width*st.height,rt=new Uint8Array(bt);$b(n,st.data_offset,rt,bt);var ft=st.palette_offset,ht=st.transparent_index;ht===null&&(ht=256);var xt=st.width,zt=e-xt,Q=xt,O=4*(st.y*e+st.x),Y=4*((st.y+st.height)*e+st.x),$=O,ot=4*zt;st.interlaced===!0&&(ot+=4*e*7);for(var ut=8,mt=0,kt=rt.length;mt<kt;++mt){var Rt=rt[mt];if(Q===0&&(Q=xt,($+=ot)>=Y&&(ot=4*zt+4*e*(ut-1),$=O+(xt+zt)*(ut<<1),ut>>=1)),Rt===ht)$+=4;else{var jt=n[ft+3*Rt],Qt=n[ft+3*Rt+1],ee=n[ft+3*Rt+2];L[$++]=ee,L[$++]=Qt,L[$++]=jt,L[$++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(R,L){var st=this.frameInfo(R),bt=st.width*st.height,rt=new Uint8Array(bt);$b(n,st.data_offset,rt,bt);var ft=st.palette_offset,ht=st.transparent_index;ht===null&&(ht=256);var xt=st.width,zt=e-xt,Q=xt,O=4*(st.y*e+st.x),Y=4*((st.y+st.height)*e+st.x),$=O,ot=4*zt;st.interlaced===!0&&(ot+=4*e*7);for(var ut=8,mt=0,kt=rt.length;mt<kt;++mt){var Rt=rt[mt];if(Q===0&&(Q=xt,($+=ot)>=Y&&(ot=4*zt+4*e*(ut-1),$=O+(xt+zt)*(ut<<1),ut>>=1)),Rt===ht)$+=4;else{var jt=n[ft+3*Rt],Qt=n[ft+3*Rt+1],ee=n[ft+3*Rt+2];L[$++]=jt,L[$++]=Qt,L[$++]=ee,L[$++]=255}--Q}}}function $b(n,t,e,r){for(var a=n[t++],o=1<<a,c=o+1,h=c+1,f=a+1,m=(1<<f)-1,_=0,E=0,x=0,w=n[t++],j=new Int32Array(4096),q=null;;){for(;_<16&&w!==0;)E|=n[t++]<<_,_+=8,w===1?w=n[t++]:--w;if(_<f)break;var U=E&m;if(E>>=f,_-=f,U!==o){if(U===c)break;for(var B=U<h?U:q,at=0,it=B;it>o;)it=j[it]>>8,++at;var nt=it;if(x+at+(B!==U?1:0)>r)return void ui.log("Warning, gif stream longer than expected.");e[x++]=nt;var wt=x+=at;for(B!==U&&(e[x++]=nt),it=B;at--;)it=j[it],e[--wt]=255&it,it>>=8;q!==null&&h<4096&&(j[h++]=q<<8|nt,h>=m+1&&f<12&&(++f,m=m<<1|1)),q=U}else h=c+1,m=(1<<(f=a+1))-1,q=null}return x!==r&&ui.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ug(n){var t,e,r,a,o,c=Math.floor,h=new Array(64),f=new Array(64),m=new Array(64),_=new Array(64),E=new Array(65535),x=new Array(65535),w=new Array(64),j=new Array(64),q=[],U=0,B=7,at=new Array(64),it=new Array(64),nt=new Array(64),wt=new Array(256),Tt=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],st=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],bt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function rt(O,Y){for(var $=0,ot=0,ut=new Array,mt=1;mt<=16;mt++){for(var kt=1;kt<=O[mt];kt++)ut[Y[ot]]=[],ut[Y[ot]][0]=$,ut[Y[ot]][1]=mt,ot++,$++;$*=2}return ut}function ft(O){for(var Y=O[0],$=O[1]-1;$>=0;)Y&1<<$&&(U|=1<<B),$--,--B<0&&(U==255?(ht(255),ht(0)):ht(U),B=7,U=0)}function ht(O){q.push(O)}function xt(O){ht(O>>8&255),ht(255&O)}function zt(O,Y,$,ot,ut){for(var mt,kt=ut[0],Rt=ut[240],jt=(function(Ft,ie){var ne,xe,_e,Ke,Je,je,sn,Xe,me,ze,ge=0;for(me=0;me<8;++me){ne=Ft[ge],xe=Ft[ge+1],_e=Ft[ge+2],Ke=Ft[ge+3],Je=Ft[ge+4],je=Ft[ge+5],sn=Ft[ge+6];var ci=ne+(Xe=Ft[ge+7]),Qe=ne-Xe,Ne=xe+sn,Me=xe-sn,We=_e+je,we=_e-je,In=Ke+Je,De=Ke-Je,Pe=ci+In,Ln=ci-In,be=Ne+We,ye=Ne-We;Ft[ge]=Pe+be,Ft[ge+4]=Pe-be;var an=.707106781*(ye+Ln);Ft[ge+2]=Ln+an,Ft[ge+6]=Ln-an;var hr=.382683433*((Pe=De+we)-(ye=Me+Qe)),Zi=.5411961*Pe+hr,Rs=1.306562965*ye+hr,Hi=.707106781*(be=we+Me),Ae=Qe+Hi,ta=Qe-Hi;Ft[ge+5]=ta+Zi,Ft[ge+3]=ta-Zi,Ft[ge+1]=Ae+Rs,Ft[ge+7]=Ae-Rs,ge+=8}for(ge=0,me=0;me<8;++me){ne=Ft[ge],xe=Ft[ge+8],_e=Ft[ge+16],Ke=Ft[ge+24],Je=Ft[ge+32],je=Ft[ge+40],sn=Ft[ge+48];var Br=ne+(Xe=Ft[ge+56]),Tr=ne-Xe,Nr=xe+sn,Fn=xe-sn,$n=_e+je,Oi=_e-je,fr=Ke+Je,tr=Ke-Je,kn=Br+fr,Hn=Br-fr,Di=Nr+$n,xr=Nr-$n;Ft[ge]=kn+Di,Ft[ge+32]=kn-Di;var is=.707106781*(xr+Hn);Ft[ge+16]=Hn+is,Ft[ge+48]=Hn-is;var va=.382683433*((kn=tr+Oi)-(xr=Fn+Tr)),_s=.5411961*kn+va,Ir=1.306562965*xr+va,ea=.707106781*(Di=Oi+Fn),Fr=Tr+ea,dr=Tr-ea;Ft[ge+40]=dr+_s,Ft[ge+24]=dr-_s,Ft[ge+8]=Fr+Ir,Ft[ge+56]=Fr-Ir,ge++}for(me=0;me<64;++me)ze=Ft[me]*ie[me],w[me]=ze>0?ze+.5|0:ze-.5|0;return w})(O,Y),Qt=0;Qt<64;++Qt)j[z[Qt]]=jt[Qt];var ee=j[0]-$;$=j[0],ee==0?ft(ot[0]):(ft(ot[x[mt=32767+ee]]),ft(E[mt]));for(var te=63;te>0&&j[te]==0;)te--;if(te==0)return ft(kt),$;for(var ue,J=1;J<=te;){for(var Zt=J;j[J]==0&&J<=te;)++J;var Ye=J-Zt;if(Ye>=16){ue=Ye>>4;for(var Te=1;Te<=ue;++Te)ft(Rt);Ye&=15}mt=32767+j[J],ft(ut[(Ye<<4)+x[mt]]),ft(E[mt]),J++}return te!=63&&ft(kt),$}function Q(O){O=Math.min(Math.max(O,1),100),o!=O&&((function(Y){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ot=0;ot<64;ot++){var ut=c(($[ot]*Y+50)/100);ut=Math.min(Math.max(ut,1),255),h[z[ot]]=ut}for(var mt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],kt=0;kt<64;kt++){var Rt=c((mt[kt]*Y+50)/100);Rt=Math.min(Math.max(Rt,1),255),f[z[kt]]=Rt}for(var jt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qt=0,ee=0;ee<8;ee++)for(var te=0;te<8;te++)m[Qt]=1/(h[z[Qt]]*jt[ee]*jt[te]*8),_[Qt]=1/(f[z[Qt]]*jt[ee]*jt[te]*8),Qt++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,Y){Y&&Q(Y),q=new Array,U=0,B=7,xt(65496),xt(65504),xt(16),ht(74),ht(70),ht(73),ht(70),ht(0),ht(1),ht(1),ht(0),xt(1),xt(1),ht(0),ht(0),(function(){xt(65499),xt(132),ht(0);for(var xe=0;xe<64;xe++)ht(h[xe]);ht(1);for(var _e=0;_e<64;_e++)ht(f[_e])})(),(function(xe,_e){xt(65472),xt(17),ht(8),xt(_e),xt(xe),ht(3),ht(1),ht(17),ht(0),ht(2),ht(17),ht(1),ht(3),ht(17),ht(1)})(O.width,O.height),(function(){xt(65476),xt(418),ht(0);for(var xe=0;xe<16;xe++)ht(D[xe+1]);for(var _e=0;_e<=11;_e++)ht(k[_e]);ht(16);for(var Ke=0;Ke<16;Ke++)ht(G[Ke+1]);for(var Je=0;Je<=161;Je++)ht(T[Je]);ht(1);for(var je=0;je<16;je++)ht(R[je+1]);for(var sn=0;sn<=11;sn++)ht(L[sn]);ht(17);for(var Xe=0;Xe<16;Xe++)ht(st[Xe+1]);for(var me=0;me<=161;me++)ht(bt[me])})(),xt(65498),xt(12),ht(3),ht(1),ht(0),ht(2),ht(17),ht(3),ht(17),ht(0),ht(63),ht(0);var $=0,ot=0,ut=0;U=0,B=7,this.encode.displayName="_encode_";for(var mt,kt,Rt,jt,Qt,ee,te,ue,J,Zt=O.data,Ye=O.width,Te=O.height,Ft=4*Ye,ie=0;ie<Te;){for(mt=0;mt<Ft;){for(Qt=Ft*ie+mt,te=-1,ue=0,J=0;J<64;J++)ee=Qt+(ue=J>>3)*Ft+(te=4*(7&J)),ie+ue>=Te&&(ee-=Ft*(ie+1+ue-Te)),mt+te>=Ft&&(ee-=mt+te-Ft+4),kt=Zt[ee++],Rt=Zt[ee++],jt=Zt[ee++],at[J]=(Tt[kt]+Tt[Rt+256|0]+Tt[jt+512|0]>>16)-128,it[J]=(Tt[kt+768|0]+Tt[Rt+1024|0]+Tt[jt+1280|0]>>16)-128,nt[J]=(Tt[kt+1280|0]+Tt[Rt+1536|0]+Tt[jt+1792|0]>>16)-128;$=zt(at,m,$,t,r),ot=zt(it,_,ot,e,a),ut=zt(nt,_,ut,e,a),mt+=32}ie+=8}if(B>=0){var ne=[];ne[1]=B+1,ne[0]=(1<<B+1)-1,ft(ne)}return xt(65497),new Uint8Array(q)},n=n||50,(function(){for(var O=String.fromCharCode,Y=0;Y<256;Y++)wt[Y]=O(Y)})(),t=rt(D,k),e=rt(R,L),r=rt(G,T),a=rt(st,bt),(function(){for(var O=1,Y=2,$=1;$<=15;$++){for(var ot=O;ot<Y;ot++)x[32767+ot]=$,E[32767+ot]=[],E[32767+ot][1]=$,E[32767+ot][0]=ot;for(var ut=-(Y-1);ut<=-O;ut++)x[32767+ut]=$,E[32767+ut]=[],E[32767+ut][1]=$,E[32767+ut][0]=Y-1+ut;O<<=1,Y<<=1}})(),(function(){for(var O=0;O<256;O++)Tt[O]=19595*O,Tt[O+256|0]=38470*O,Tt[O+512|0]=7471*O+32768,Tt[O+768|0]=-11059*O,Tt[O+1024|0]=-21709*O,Tt[O+1280|0]=32768*O+8421375,Tt[O+1536|0]=-27439*O,Tt[O+1792|0]=-5329*O})(),Q(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function lo(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jb(n){function t(k){if(!k)throw Error("assert :P")}function e(k,G,T){for(var R=0;4>R;R++)if(k[G+R]!=T.charCodeAt(R))return!0;return!1}function r(k,G,T,R,L){for(var st=0;st<L;st++)k[G+st]=T[R+st]}function a(k,G,T,R){for(var L=0;L<R;L++)k[G+L]=T}function o(k){return new Int32Array(k)}function c(k,G){for(var T=[],R=0;R<k;R++)T.push(new G);return T}function h(k,G){var T=[];return(function R(L,st,bt){for(var rt=bt[st],ft=0;ft<rt&&(L.push(bt.length>st+1?[]:new G),!(bt.length<st+1));ft++)R(L[ft],st+1,bt)})(T,0,k),T}var f=function(){var k=this;function G(d,y){for(var A=1<<y-1>>>0;d&A;)A>>>=1;return A?(d&A-1)+A:d}function T(d,y,A,N,M){t(!(N%A));do d[y+(N-=A)]=M;while(0<N)}function R(d,y,A,N,M){if(t(2328>=M),512>=M)var V=o(512);else if((V=o(M))==null)return 0;return(function(F,K,X,et,dt,Nt){var Z,gt,Et=K,Mt=1<<X,St=o(16),Pt=o(16);for(t(dt!=0),t(et!=null),t(F!=null),t(0<X),gt=0;gt<dt;++gt){if(15<et[gt])return 0;++St[et[gt]]}if(St[0]==dt)return 0;for(Pt[1]=0,Z=1;15>Z;++Z){if(St[Z]>1<<Z)return 0;Pt[Z+1]=Pt[Z]+St[Z]}for(gt=0;gt<dt;++gt)Z=et[gt],0<et[gt]&&(Nt[Pt[Z]++]=gt);if(Pt[15]==1)return(et=new L).g=0,et.value=Nt[0],T(F,Et,1,Mt,et),Mt;var Bt,Xt=-1,Gt=Mt-1,de=0,re=1,He=1,ce=1<<X;for(gt=0,Z=1,dt=2;Z<=X;++Z,dt<<=1){if(re+=He<<=1,0>(He-=St[Z]))return 0;for(;0<St[Z];--St[Z])(et=new L).g=Z,et.value=Nt[gt++],T(F,Et+de,dt,ce,et),de=G(de,Z)}for(Z=X+1,dt=2;15>=Z;++Z,dt<<=1){if(re+=He<<=1,0>(He-=St[Z]))return 0;for(;0<St[Z];--St[Z]){if(et=new L,(de&Gt)!=Xt){for(Et+=ce,Bt=1<<(Xt=Z)-X;15>Xt&&!(0>=(Bt-=St[Xt]));)++Xt,Bt<<=1;Mt+=ce=1<<(Bt=Xt-X),F[K+(Xt=de&Gt)].g=Bt+X,F[K+Xt].value=Et-K-Xt}et.g=Z-X,et.value=Nt[gt++],T(F,Et+(de>>X),dt,ce,et),de=G(de,Z)}}return re!=2*Pt[15]-1?0:Mt})(d,y,A,N,M,V)}function L(){this.value=this.g=0}function st(){this.value=this.g=0}function bt(){this.G=c(5,L),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(xo,st)}function rt(d,y,A,N){t(d!=null),t(y!=null),t(2147483648>N),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=y,d.pa=A,d.Jd=y,d.Yc=A+N,d.Zc=4<=N?A+N-4+1:A,kt(d)}function ft(d,y){for(var A=0;0<y--;)A|=jt(d,128)<<y;return A}function ht(d,y){var A=ft(d,y);return Rt(d)?-A:A}function xt(d,y,A,N){var M,V=0;for(t(d!=null),t(y!=null),t(4294967288>N),d.Sb=N,d.Ra=0,d.u=0,d.h=0,4<N&&(N=4),M=0;M<N;++M)V+=y[A+M]<<8*M;d.Ra=V,d.bb=N,d.oa=y,d.pa=A}function zt(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Na-8>>>0,++d.bb,d.u-=8;ot(d)&&(d.h=1,d.u=0)}function Q(d,y){if(t(0<=y),!d.h&&y<=Xr){var A=$(d)&ls[y];return d.u+=y,zt(d),A}return d.h=1,d.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(d){return d.Ra>>>(d.u&Na-1)>>>0}function ot(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Na}function ut(d,y){d.u=y,d.h=ot(d)}function mt(d){d.u>=xa&&(t(d.u>=xa),zt(d))}function kt(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Rt(d){return ft(d,1)}function jt(d,y){var A=d.Ca;0>d.b&&kt(d);var N=d.b,M=A*y>>>8,V=(d.I>>>N>M)+0;for(V?(A-=M,d.I-=M+1<<N>>>0):A=M+1,N=A,M=0;256<=N;)M+=8,N>>=8;return N=7^M+Xa[N],d.b-=N,d.Ca=(A<<N)-1,V}function Qt(d,y,A){d[y+0]=A>>24&255,d[y+1]=A>>16&255,d[y+2]=A>>8&255,d[y+3]=255&A}function ee(d,y){return d[y+0]|d[y+1]<<8}function te(d,y){return ee(d,y)|d[y+2]<<16}function ue(d,y){return ee(d,y)|ee(d,y+2)<<16}function J(d,y){var A=1<<y;return t(d!=null),t(0<y),d.X=o(A),d.X==null?0:(d.Mb=32-y,d.Xa=y,1)}function Zt(d,y){t(d!=null),t(y!=null),t(d.Xa==y.Xa),r(y.X,0,d.X,0,1<<y.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function Te(d,y,A,N){t(A!=null),t(N!=null);var M=A[0],V=N[0];return M==0&&(M=(d*V+y/2)/y),V==0&&(V=(y*M+d/2)/d),0>=M||0>=V?0:(A[0]=M,N[0]=V,1)}function Ft(d,y){return d+(1<<y)-1>>>y}function ie(d,y){return((4278255360&d)+(4278255360&y)>>>0&4278255360)+((16711935&d)+(16711935&y)>>>0&16711935)>>>0}function ne(d,y){k[y]=function(A,N,M,V,F,K,X){var et;for(et=0;et<F;++et){var dt=k[d](K[X+et-1],M,V+et);K[X+et]=ie(A[N+et],dt)}}}function xe(){this.ud=this.hd=this.jd=0}function _e(d,y){return((4278124286&(d^y))>>>1)+(d&y)>>>0}function Ke(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Je(d,y){return Ke(d+(d-y+.5>>1))}function je(d,y,A){return Math.abs(y-A)-Math.abs(d-A)}function sn(d,y,A,N,M,V,F){for(N=V[F-1],A=0;A<M;++A)V[F+A]=N=ie(d[y+A],N)}function Xe(d,y,A,N,M){var V;for(V=0;V<A;++V){var F=d[y+V],K=F>>8&255,X=16711935&(X=(X=16711935&F)+((K<<16)+K));N[M+V]=(4278255360&F)+X>>>0}}function me(d,y){y.jd=255&d,y.hd=d>>8&255,y.ud=d>>16&255}function ze(d,y,A,N,M,V){var F;for(F=0;F<N;++F){var K=y[A+F],X=K>>>8,et=K,dt=255&(dt=(dt=K>>>16)+((d.jd<<24>>24)*(X<<24>>24)>>>5));et=255&(et=(et+=(d.hd<<24>>24)*(X<<24>>24)>>>5)+((d.ud<<24>>24)*(dt<<24>>24)>>>5)),M[V+F]=(4278255360&K)+(dt<<16)+et}}function ge(d,y,A,N,M){k[y]=function(V,F,K,X,et,dt,Nt,Z,gt){for(X=Nt;X<Z;++X)for(Nt=0;Nt<gt;++Nt)et[dt++]=M(K[N(V[F++])])},k[d]=function(V,F,K,X,et,dt,Nt){var Z=8>>V.b,gt=V.Ea,Et=V.K[0],Mt=V.w;if(8>Z)for(V=(1<<V.b)-1,Mt=(1<<Z)-1;F<K;++F){var St,Pt=0;for(St=0;St<gt;++St)St&V||(Pt=N(X[et++])),dt[Nt++]=M(Et[Pt&Mt]),Pt>>=Z}else k["VP8LMapColor"+A](X,et,Et,Mt,dt,Nt,F,K,gt)}}function ci(d,y,A,N,M){for(A=y+A;y<A;){var V=d[y++];N[M++]=V>>16&255,N[M++]=V>>8&255,N[M++]=255&V}}function Qe(d,y,A,N,M){for(A=y+A;y<A;){var V=d[y++];N[M++]=V>>16&255,N[M++]=V>>8&255,N[M++]=255&V,N[M++]=V>>24&255}}function Ne(d,y,A,N,M){for(A=y+A;y<A;){var V=(F=d[y++])>>16&240|F>>12&15,F=240&F|F>>28&15;N[M++]=V,N[M++]=F}}function Me(d,y,A,N,M){for(A=y+A;y<A;){var V=(F=d[y++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;N[M++]=V,N[M++]=F}}function We(d,y,A,N,M){for(A=y+A;y<A;){var V=d[y++];N[M++]=255&V,N[M++]=V>>8&255,N[M++]=V>>16&255}}function we(d,y,A,N,M,V){if(V==0)for(A=y+A;y<A;)Qt(N,((V=d[y++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),M+=32;else r(N,M,d,y,A)}function In(d,y){k[y][0]=k[d+"0"],k[y][1]=k[d+"1"],k[y][2]=k[d+"2"],k[y][3]=k[d+"3"],k[y][4]=k[d+"4"],k[y][5]=k[d+"5"],k[y][6]=k[d+"6"],k[y][7]=k[d+"7"],k[y][8]=k[d+"8"],k[y][9]=k[d+"9"],k[y][10]=k[d+"10"],k[y][11]=k[d+"11"],k[y][12]=k[d+"12"],k[y][13]=k[d+"13"],k[y][14]=k[d+"0"],k[y][15]=k[d+"0"]}function De(d){return d==Yu||d==Cc||d==Hl||d==Rc}function Pe(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function be(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pe,this.f.kb=new Ln,this.sd=null}function ye(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function an(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hr(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Zi(d,y){var A=d.T,N=y.ba.f.RGBA,M=N.eb,V=N.fb+d.ka*N.A,F=br[y.ba.S],K=d.y,X=d.O,et=d.f,dt=d.N,Nt=d.ea,Z=d.W,gt=y.cc,Et=y.dc,Mt=y.Mc,St=y.Nc,Pt=d.ka,Bt=d.ka+d.T,Xt=d.U,Gt=Xt+1>>1;for(Pt==0?F(K,X,null,null,et,dt,Nt,Z,et,dt,Nt,Z,M,V,null,null,Xt):(F(y.ec,y.fc,K,X,gt,Et,Mt,St,et,dt,Nt,Z,M,V-N.A,M,V,Xt),++A);Pt+2<Bt;Pt+=2)gt=et,Et=dt,Mt=Nt,St=Z,dt+=d.Rc,Z+=d.Rc,V+=2*N.A,F(K,(X+=2*d.fa)-d.fa,K,X,gt,Et,Mt,St,et,dt,Nt,Z,M,V-N.A,M,V,Xt);return X+=d.fa,d.j+Bt<d.o?(r(y.ec,y.fc,K,X,Xt),r(y.cc,y.dc,et,dt,Gt),r(y.Mc,y.Nc,Nt,Z,Gt),A--):1&Bt||F(K,X,null,null,et,dt,Nt,Z,et,dt,Nt,Z,M,V+N.A,null,null,Xt),A}function Rs(d,y,A){var N=d.F,M=[d.J];if(N!=null){var V=d.U,F=y.ba.S,K=F==Gu||F==Hl;y=y.ba.f.RGBA;var X=[0],et=d.ka;X[0]=d.T,d.Kb&&(et==0?--X[0]:(--et,M[0]-=d.width),d.j+d.ka+d.T==d.o&&(X[0]=d.o-d.j-et));var dt=y.eb;et=y.fb+et*y.A,d=Fu(N,M[0],d.width,V,X,dt,et+(K?0:3),y.A),t(A==X),d&&De(F)&&cl(dt,et,K,V,X,y.A)}return 0}function Hi(d){var y=d.ma,A=y.ba.S,N=11>A,M=A==Dr||A==Vs||A==Gu||A==zl||A==12||De(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Wa(y.Oa,d,M?11:12))return 0;if(M&&De(A)&&qe(),d.da)alert("todo:use_scaling");else{if(N){if(y.Ib=hr,d.Kb){if(A=d.U+1>>1,y.memory=o(d.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+d.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=Zi,qe()}}else alert("todo:EmitYUV");M&&(y.Jb=Rs,N&&Lt())}if(N&&!Do){for(d=0;256>d;++d)wr[d]=89858*(d-128)+Kl>>Hs,Vm[d]=-22014*(d-128)+Kl,vd[d]=-45773*(d-128),Pc[d]=113618*(d-128)+Kl>>Hs;for(d=pl;d<Oo;++d)y=76283*(d-16)+Kl>>Hs,jm[d-pl]=zr(y,255),Bm[d-pl]=zr(y+8>>4,15);Do=1}return 1}function Ae(d){var y=d.ma,A=d.U,N=d.T;return t(!(1&d.ka)),0>=A||0>=N?0:(A=y.Ib(d,y),y.Jb!=null&&y.Jb(d,y,A),y.Dc+=A,1)}function ta(d){d.ma.memory=null}function Br(d,y,A,N){return Q(d,8)!=47?0:(y[0]=Q(d,14)+1,A[0]=Q(d,14)+1,N[0]=Q(d,1),Q(d,3)!=0?0:!d.h)}function Tr(d,y){if(4>d)return d+1;var A=d-2>>1;return(2+(1&d)<<A)+Q(y,A)+1}function Nr(d,y){return 120<y?y-120:1<=(A=((A=Bs[y-1])>>4)*d+(8-(15&A)))?A:1;var A}function Fn(d,y,A){var N=$(A),M=d[y+=255&N].g-8;return 0<M&&(ut(A,A.u+8),N=$(A),y+=d[y].value,y+=N&(1<<M)-1),ut(A,A.u+d[y].g),d[y].value}function $n(d,y,A){return A.g+=d.g,A.value+=d.value<<y>>>0,t(8>=A.g),d.g}function Oi(d,y,A){var N=d.xc;return t((y=N==0?0:d.vc[d.md*(A>>N)+(y>>N)])<d.Wb),d.Ya[y]}function fr(d,y,A,N){var M=d.ab,V=d.c*y,F=d.C;y=F+y;var K=A,X=N;for(N=d.Ta,A=d.Ua;0<M--;){var et=d.gc[M],dt=F,Nt=y,Z=K,gt=X,Et=(X=N,K=A,et.Ea);switch(t(dt<Nt),t(Nt<=et.nc),et.hc){case 2:Ii(Z,gt,(Nt-dt)*Et,X,K);break;case 0:var Mt=dt,St=Nt,Pt=X,Bt=K,Xt=(ce=et).Ea;Mt==0&&(jl(Z,gt,null,null,1,Pt,Bt),sn(Z,gt+1,0,0,Xt-1,Pt,Bt+1),gt+=Xt,Bt+=Xt,++Mt);for(var Gt=1<<ce.b,de=Gt-1,re=Ft(Xt,ce.b),He=ce.K,ce=ce.w+(Mt>>ce.b)*re;Mt<St;){var fn=He,oi=ce,Ze=1;for(Bl(Z,gt,Pt,Bt-Xt,1,Pt,Bt);Ze<Xt;){var se=(Ze&~de)+Gt;se>Xt&&(se=Xt),(0,Qa[fn[oi++]>>8&15])(Z,gt+ +Ze,Pt,Bt+Ze-Xt,se-Ze,Pt,Bt+Ze),Ze=se}gt+=Xt,Bt+=Xt,++Mt&de||(ce+=re)}Nt!=et.nc&&r(X,K-Et,X,K+(Nt-dt-1)*Et,Et);break;case 1:for(Et=Z,St=gt,Xt=(Z=et.Ea)-(Bt=Z&~(Pt=(gt=1<<et.b)-1)),Mt=Ft(Z,et.b),Gt=et.K,et=et.w+(dt>>et.b)*Mt;dt<Nt;){for(de=Gt,re=et,He=new xe,ce=St+Bt,fn=St+Z;St<ce;)me(de[re++],He),Fl(He,Et,St,gt,X,K),St+=gt,K+=gt;St<fn&&(me(de[re++],He),Fl(He,Et,St,Xt,X,K),St+=Xt,K+=Xt),++dt&Pt||(et+=Mt)}break;case 3:if(Z==X&&gt==K&&0<et.b){for(St=X,Z=Et=K+(Nt-dt)*Et-(Bt=(Nt-dt)*Ft(et.Ea,et.b)),gt=X,Pt=K,Mt=[],Bt=(Xt=Bt)-1;0<=Bt;--Bt)Mt[Bt]=gt[Pt+Bt];for(Bt=Xt-1;0<=Bt;--Bt)St[Z+Bt]=Mt[Bt];Sc(et,dt,Nt,X,Et,X,K)}else Sc(et,dt,Nt,Z,gt,X,K)}K=N,X=A}X!=A&&r(N,A,K,X,V)}function tr(d,y){var A=d.V,N=d.Ba+d.c*d.C,M=y-d.C;if(t(y<=d.l.o),t(16>=M),0<M){var V=d.l,F=d.Ta,K=d.Ua,X=V.width;if(fr(d,M,A,N),M=K=[K],t((A=d.C)<(N=y)),t(V.v<V.va),N>V.o&&(N=V.o),A<V.j){var et=V.j-A;A=V.j,M[0]+=et*X}if(A>=N?A=0:(M[0]+=4*V.v,V.ka=A-V.j,V.U=V.va-V.v,V.T=N-A,A=1),A){if(K=K[0],11>(A=d.ca).S){var dt=A.f.RGBA,Nt=(N=A.S,M=V.U,V=V.T,et=dt.eb,dt.A),Z=V;for(dt=dt.fb+d.Ma*dt.A;0<Z--;){var gt=F,Et=K,Mt=M,St=et,Pt=dt;switch(N){case xc:ql(gt,Et,Mt,St,Pt);break;case Dr:$a(gt,Et,Mt,St,Pt);break;case Yu:$a(gt,Et,Mt,St,Pt),cl(St,Pt,0,Mt,1,0);break;case Ic:ll(gt,Et,Mt,St,Pt);break;case Vs:we(gt,Et,Mt,St,Pt,1);break;case Cc:we(gt,Et,Mt,St,Pt,1),cl(St,Pt,0,Mt,1,0);break;case Gu:we(gt,Et,Mt,St,Pt,0);break;case Hl:we(gt,Et,Mt,St,Pt,0),cl(St,Pt,1,Mt,1,0);break;case zl:Ja(gt,Et,Mt,St,Pt);break;case Rc:Ja(gt,Et,Mt,St,Pt),Us(St,Pt,Mt,1,0);break;case Io:Ra(gt,Et,Mt,St,Pt);break;default:t(0)}K+=X,dt+=Nt}d.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=A.height)}}d.C=y,t(d.C<=d.i)}function kn(d){var y;if(0<d.ua)return 0;for(y=0;y<d.Wb;++y){var A=d.Ya[y].G,N=d.Ya[y].H;if(0<A[1][N[1]+0].g||0<A[2][N[2]+0].g||0<A[3][N[3]+0].g)return 0}return 1}function Hn(d,y,A,N,M,V){if(d.Z!=0){var F=d.qd,K=d.rd;for(t(eo[d.Z]!=null);y<A;++y)eo[d.Z](F,K,N,M,N,M,V),F=N,K=M,M+=V;d.qd=F,d.rd=K}}function Di(d,y){var A=d.l.ma,N=A.Z==0||A.Z==1?d.l.j:d.C;if(N=d.C<N?N:d.C,t(y<=d.l.o),y>N){var M=d.l.width,V=A.ca,F=A.tb+M*N,K=d.V,X=d.Ba+d.c*N,et=d.gc;t(d.ab==1),t(et[0].hc==3),Ca(et[0],N,y,K,X,V,F),Hn(A,N,y,V,F,M)}d.C=d.Ma=y}function xr(d,y,A,N,M,V,F){var K=d.$/N,X=d.$%N,et=d.m,dt=d.s,Nt=A+d.$,Z=Nt;M=A+N*M;var gt=A+N*V,Et=280+dt.ua,Mt=d.Pb?K:16777216,St=0<dt.ua?dt.Wa:null,Pt=dt.wc,Bt=Nt<gt?Oi(dt,X,K):null;t(d.C<V),t(gt<=M);var Xt=!1;t:for(;;){for(;Xt||Nt<gt;){var Gt=0;if(K>=Mt){var de=Nt-A;t((Mt=d).Pb),Mt.wd=Mt.m,Mt.xd=de,0<Mt.s.ua&&Zt(Mt.s.Wa,Mt.s.vb),Mt=K+Co}if(X&Pt||(Bt=Oi(dt,X,K)),t(Bt!=null),Bt.Qb&&(y[Nt]=Bt.qb,Xt=!0),!Xt)if(mt(et),Bt.jc){Gt=et,de=y;var re=Nt,He=Bt.pd[$(Gt)&xo-1];t(Bt.jc),256>He.g?(ut(Gt,Gt.u+He.g),de[re]=He.value,Gt=0):(ut(Gt,Gt.u+He.g-256),t(256<=He.value),Gt=He.value),Gt==0&&(Xt=!0)}else Gt=Fn(Bt.G[0],Bt.H[0],et);if(et.h)break;if(Xt||256>Gt){if(!Xt)if(Bt.nd)y[Nt]=(Bt.qb|Gt<<8)>>>0;else{if(mt(et),Xt=Fn(Bt.G[1],Bt.H[1],et),mt(et),de=Fn(Bt.G[2],Bt.H[2],et),re=Fn(Bt.G[3],Bt.H[3],et),et.h)break;y[Nt]=(re<<24|Xt<<16|Gt<<8|de)>>>0}if(Xt=!1,++Nt,++X>=N&&(X=0,++K,F!=null&&K<=V&&!(K%16)&&F(d,K),St!=null))for(;Z<Nt;)Gt=y[Z++],St.X[(506832829*Gt&4294967295)>>>St.Mb]=Gt}else if(280>Gt){if(Gt=Tr(Gt-256,et),de=Fn(Bt.G[4],Bt.H[4],et),mt(et),de=Nr(N,de=Tr(de,et)),et.h)break;if(Nt-A<de||M-Nt<Gt)break t;for(re=0;re<Gt;++re)y[Nt+re]=y[Nt+re-de];for(Nt+=Gt,X+=Gt;X>=N;)X-=N,++K,F!=null&&K<=V&&!(K%16)&&F(d,K);if(t(Nt<=M),X&Pt&&(Bt=Oi(dt,X,K)),St!=null)for(;Z<Nt;)Gt=y[Z++],St.X[(506832829*Gt&4294967295)>>>St.Mb]=Gt}else{if(!(Gt<Et))break t;for(Xt=Gt-280,t(St!=null);Z<Nt;)Gt=y[Z++],St.X[(506832829*Gt&4294967295)>>>St.Mb]=Gt;Gt=Nt,t(!(Xt>>>(de=St).Xa)),y[Gt]=de.X[Xt],Xt=!0}Xt||t(et.h==ot(et))}if(d.Pb&&et.h&&Nt<M)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Zt(d.s.vb,d.s.Wa);else{if(et.h)break t;F!=null&&F(d,K>V?V:K),d.a=0,d.$=Nt-A}return 1}return d.a=3,0}function is(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var y=d.Wa;y!=null&&(y.X=null),d.vb=null,t(d!=null)}function va(){var d=new Re;return d==null?null:(d.a=0,d.xb=Yh,In("Predictor","VP8LPredictors"),In("Predictor","VP8LPredictors_C"),In("PredictorAdd","VP8LPredictorsAdd"),In("PredictorAdd","VP8LPredictorsAdd_C"),Ii=Xe,Fl=ze,ql=ci,$a=Qe,Ja=Ne,Ra=Me,ll=We,k.VP8LMapColor32b=Ia,k.VP8LMapColor8b=yr,d)}function _s(d,y,A,N,M){var V=1,F=[d],K=[y],X=N.m,et=N.s,dt=null,Nt=0;t:for(;;){if(A)for(;V&&Q(X,1);){var Z=F,gt=K,Et=N,Mt=1,St=Et.m,Pt=Et.gc[Et.ab],Bt=Q(St,2);if(Et.Oc&1<<Bt)V=0;else{switch(Et.Oc|=1<<Bt,Pt.hc=Bt,Pt.Ea=Z[0],Pt.nc=gt[0],Pt.K=[null],++Et.ab,t(4>=Et.ab),Bt){case 0:case 1:Pt.b=Q(St,3)+2,Mt=_s(Ft(Pt.Ea,Pt.b),Ft(Pt.nc,Pt.b),0,Et,Pt.K),Pt.K=Pt.K[0];break;case 3:var Xt,Gt=Q(St,8)+1,de=16<Gt?0:4<Gt?1:2<Gt?2:3;if(Z[0]=Ft(Pt.Ea,de),Pt.b=de,Xt=Mt=_s(Gt,1,0,Et,Pt.K)){var re,He=Gt,ce=Pt,fn=1<<(8>>ce.b),oi=o(fn);if(oi==null)Xt=0;else{var Ze=ce.K[0],se=ce.w;for(oi[0]=ce.K[0][0],re=1;re<1*He;++re)oi[re]=ie(Ze[se+re],oi[re-1]);for(;re<4*fn;++re)oi[re]=0;ce.K[0]=null,ce.K[0]=oi,Xt=1}}Mt=Xt;break;case 2:break;default:t(0)}V=Mt}}if(F=F[0],K=K[0],V&&Q(X,1)&&!(V=1<=(Nt=Q(X,4))&&11>=Nt)){N.a=3;break t}var Jt;if(Jt=V)e:{var di,Ue,rn,Vn=N,Ki=F,Ar=K,ei=Nt,Mi=A,Pr=Vn.m,Ui=Vn.s,un=[null],Sn=1,pi=0,Rn=Fs[ei];n:for(;;){if(Mi&&Q(Pr,1)){var Wi=Q(Pr,3)+2,mi=Ft(Ki,Wi),Tn=Ft(Ar,Wi),Li=mi*Tn;if(!_s(mi,Tn,0,Vn,un))break n;for(un=un[0],Ui.xc=Wi,di=0;di<Li;++di){var jn=un[di]>>8&65535;un[di]=jn,jn>=Sn&&(Sn=jn+1)}}if(Pr.h)break n;for(Ue=0;5>Ue;++Ue){var Vi=fl[Ue];!Ue&&0<ei&&(Vi+=1<<ei),pi<Vi&&(pi=Vi)}var ji=c(Sn*Rn,L),Yn=Sn,En=c(Yn,bt);if(En==null)var Mr=null;else t(65536>=Yn),Mr=En;var Ai=o(pi);if(Mr==null||Ai==null||ji==null){Vn.a=1;break n}var Ce=ji;for(di=rn=0;di<Sn;++di){var Le=Mr[di],Nn=Le.G,us=Le.H,Gs=0,$r=1,Bi=0;for(Ue=0;5>Ue;++Ue){Vi=fl[Ue],Nn[Ue]=Ce,us[Ue]=rn,!Ue&&0<ei&&(Vi+=1<<ei);r:{var Po,Mo=Vi,Uc=Vn,ni=Ai,Wh=Ce,Xh=rn,Vc=0,no=Uc.m,Fm=Q(no,1);if(a(ni,0,0,Mo),Fm){var Qh=Q(no,1)+1,$h=Q(no,1),jc=Q(no,$h==0?1:8);ni[jc]=1,Qh==2&&(ni[jc=Q(no,8)]=1);var rr=1}else{var Ei=o(19),Qu=Q(no,4)+4;if(19<Qu){Uc.a=3;var Uo=0;break r}for(Po=0;Po<Qu;++Po)Ei[Ku[Po]]=Q(no,3);var Xl=void 0,ml=void 0,Oa=Uc,Bc=Ei,Ql=Mo,Fc=ni,qc=0,io=Oa.m,Jh=8,Zh=c(128,L);i:for(;R(Zh,0,7,Bc,19);){if(Q(io,1)){var _d=2+2*Q(io,3);if((Xl=2+Q(io,_d))>Ql)break i}else Xl=Ql;for(ml=0;ml<Ql&&Xl--;){mt(io);var tf=Zh[0+(127&$(io))];ut(io,io.u+tf.g);var Vo=tf.value;if(16>Vo)Fc[ml++]=Vo,Vo!=0&&(Jh=Vo);else{var bd=Vo==16,wd=Vo-16,Ad=Gl[wd],ef=Q(io,js[wd])+Ad;if(ml+ef>Ql)break i;for(var Ed=bd?Jh:0;0<ef--;)Fc[ml++]=Ed}}qc=1;break i}qc||(Oa.a=3),rr=qc}(rr=rr&&!no.h)&&(Vc=R(Wh,Xh,8,ni,Mo)),rr&&Vc!=0?Uo=Vc:(Uc.a=3,Uo=0)}if(Uo==0)break n;if($r&&Lc[Ue]==1&&($r=Ce[rn].g==0),Gs+=Ce[rn].g,rn+=Uo,3>=Ue){var gl,zc=Ai[0];for(gl=1;gl<Vi;++gl)Ai[gl]>zc&&(zc=Ai[gl]);Bi+=zc}}if(Le.nd=$r,Le.Qb=0,$r&&(Le.qb=(Nn[3][us[3]+0].value<<24|Nn[1][us[1]+0].value<<16|Nn[2][us[2]+0].value)>>>0,Gs==0&&256>Nn[0][us[0]+0].value&&(Le.Qb=1,Le.qb+=Nn[0][us[0]+0].value<<8)),Le.jc=!Le.Qb&&6>Bi,Le.jc){var $u,Da=Le;for($u=0;$u<xo;++$u){var ro=$u,so=Da.pd[ro],Hc=Da.G[0][Da.H[0]+ro];256<=Hc.value?(so.g=Hc.g+256,so.value=Hc.value):(so.g=0,so.value=0,ro>>=$n(Hc,8,so),ro>>=$n(Da.G[1][Da.H[1]+ro],16,so),ro>>=$n(Da.G[2][Da.H[2]+ro],0,so),$n(Da.G[3][Da.H[3]+ro],24,so))}}}Ui.vc=un,Ui.Wb=Sn,Ui.Ya=Mr,Ui.yc=ji,Jt=1;break e}Jt=0}if(!(V=Jt)){N.a=3;break t}if(0<Nt){if(et.ua=1<<Nt,!J(et.Wa,Nt)){N.a=1,V=0;break t}}else et.ua=0;var Gc=N,yl=F,Sd=K,$l=Gc.s,Jl=$l.xc;if(Gc.c=yl,Gc.i=Sd,$l.md=Ft(yl,Jl),$l.wc=Jl==0?-1:(1<<Jl)-1,A){N.xb=Ro;break t}if((dt=o(F*K))==null){N.a=1,V=0;break t}V=(V=xr(N,dt,0,F,K,K,null))&&!X.h;break t}return V?(M!=null?M[0]=dt:(t(dt==null),t(A)),N.$=0,A||is(et)):is(et),V}function Ir(d,y){var A=d.c*d.i,N=A+y+16*y;return t(d.c<=y),d.V=o(N),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+A+y,1)}function ea(d,y){var A=d.C,N=y-A,M=d.V,V=d.Ba+d.c*A;for(t(y<=d.l.o);0<N;){var F=16<N?16:N,K=d.l.ma,X=d.l.width,et=X*F,dt=K.ca,Nt=K.tb+X*A,Z=d.Ta,gt=d.Ua;fr(d,F,M,V),xs(Z,gt,dt,Nt,et),Hn(K,A,A+F,dt,Nt,X),N-=F,M+=F*d.c,A+=F}t(A==y),d.C=d.Ma=y}function Fr(){this.ub=this.yd=this.td=this.Rb=0}function dr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function rs(){this.Yb=(function(){var d=[];return(function y(A,N,M){for(var V=M[N],F=0;F<V&&(A.push(M.length>N+1?[]:0),!(M.length<N+1));F++)y(A[F],N+1,M)})(d,0,[3,11]),d})()}function fi(){this.jb=o(3),this.Wc=h([4,8],rs),this.Xc=h([4,17],rs)}function _o(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Cr(){this.ld=this.La=this.dd=this.tc=0}function ss(){this.Na=this.la=0}function bs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fa(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cr),this.Y=0,this.ya=Array(new Fa),this.aa=0,this.l=new er}function wo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function el(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Fr,this.Kc=new dr,this.ed=new _o,this.Qa=new qr,this.Ic=this.$c=this.Aa=0,this.D=new bo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,O),this.ia=0,this.pb=c(4,bs),this.Pa=new fi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wo),this.Hd=0,this.rb=Array(new ss),this.sb=0,this.wa=Array(new Cr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fa),this.L=this.aa=0,this.gd=h([4,2],Cr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zr(d,y){return 0>d?0:d>y?y:d}function er(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _i(){var d=new el;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Is||(Is=gn)),d}function cn(d,y,A){return d.a==0&&(d.a=y,d.sc=A,d.cb=0),0}function na(d,y,A){return 3<=A&&d[y+0]==157&&d[y+1]==1&&d[y+2]==42}function as(d,y){if(d==null)return 0;if(d.a=0,d.sc="OK",y==null)return cn(d,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,N=y.w,M=y.ha;if(4>M)return cn(d,7,"Truncated header.");var V=A[N+0]|A[N+1]<<8|A[N+2]<<16,F=d.Od;if(F.Rb=!(1&V),F.td=V>>1&7,F.yd=V>>4&1,F.ub=V>>5,3<F.td)return cn(d,3,"Incorrect keyframe parameters.");if(!F.yd)return cn(d,4,"Frame not displayable.");N+=3,M-=3;var K=d.Kc;if(F.Rb){if(7>M)return cn(d,7,"cannot parse picture header");if(!na(A,N,M))return cn(d,3,"Bad code word");K.c=16383&(A[N+4]<<8|A[N+3]),K.Td=A[N+4]>>6,K.i=16383&(A[N+6]<<8|A[N+5]),K.Ud=A[N+6]>>6,N+=7,M-=7,d.za=K.c+15>>4,d.Ub=K.i+15>>4,y.width=K.c,y.height=K.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((V=d.Pa).jb,0,255,V.jb.length),t((V=d.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,a(V.Zb,0,0,V.Zb.length),a(V.Lb,0,0,V.Lb)}if(F.ub>M)return cn(d,7,"bad partition length");rt(V=d.m,A,N,F.ub),N+=F.ub,M-=F.ub,F.Rb&&(K.Ld=Rt(V),K.Kd=Rt(V)),K=d.Qa;var X,et=d.Pa;if(t(V!=null),t(K!=null),K.Cb=Rt(V),K.Cb){if(K.Bb=Rt(V),Rt(V)){for(K.Fb=Rt(V),X=0;4>X;++X)K.Zb[X]=Rt(V)?ht(V,7):0;for(X=0;4>X;++X)K.Lb[X]=Rt(V)?ht(V,6):0}if(K.Bb)for(X=0;3>X;++X)et.jb[X]=Rt(V)?ft(V,8):255}else K.Bb=0;if(V.Ka)return cn(d,3,"cannot parse segment header");if((K=d.ed).zd=Rt(V),K.Tb=ft(V,6),K.wb=ft(V,3),K.Pc=Rt(V),K.Pc&&Rt(V)){for(et=0;4>et;++et)Rt(V)&&(K.vd[et]=ht(V,6));for(et=0;4>et;++et)Rt(V)&&(K.od[et]=ht(V,6))}if(d.L=K.Tb==0?0:K.zd?1:2,V.Ka)return cn(d,3,"cannot parse filter header");var dt=M;if(M=X=N,N=X+dt,K=dt,d.Xb=(1<<ft(d.m,2))-1,dt<3*(et=d.Xb))A=7;else{for(X+=3*et,K-=3*et,dt=0;dt<et;++dt){var Nt=A[M+0]|A[M+1]<<8|A[M+2]<<16;Nt>K&&(Nt=K),rt(d.Jc[+dt],A,X,Nt),X+=Nt,K-=Nt,M+=3}rt(d.Jc[+et],A,X,K),A=X<N?0:5}if(A!=0)return cn(d,A,"cannot parse partitions");for(A=ft(X=d.m,7),M=Rt(X)?ht(X,4):0,N=Rt(X)?ht(X,4):0,K=Rt(X)?ht(X,4):0,et=Rt(X)?ht(X,4):0,X=Rt(X)?ht(X,4):0,dt=d.Qa,Nt=0;4>Nt;++Nt){if(dt.Cb){var Z=dt.Zb[Nt];dt.Fb||(Z+=A)}else{if(0<Nt){d.pb[Nt]=d.pb[0];continue}Z=A}var gt=d.pb[Nt];gt.Sc[0]=qs[zr(Z+M,127)],gt.Sc[1]=zs[zr(Z+0,127)],gt.Eb[0]=2*qs[zr(Z+N,127)],gt.Eb[1]=101581*zs[zr(Z+K,127)]>>16,8>gt.Eb[1]&&(gt.Eb[1]=8),gt.Qc[0]=qs[zr(Z+et,117)],gt.Qc[1]=zs[zr(Z+X,127)],gt.lc=Z+X}if(!F.Rb)return cn(d,4,"Not a key frame.");for(Rt(V),F=d.Pa,A=0;4>A;++A){for(M=0;8>M;++M)for(N=0;3>N;++N)for(K=0;11>K;++K)et=jt(V,ai[A][M][N][K])?ft(V,8):yd[A][M][N][K],F.Wc[A][M].Yb[N][K]=et;for(M=0;17>M;++M)F.Xc[A][M]=F.Wc[A][dn[M]]}return d.kc=Rt(V),d.kc&&(d.Bd=ft(V,8)),d.cb=1}function gn(d,y,A,N,M,V,F){var K=y[M].Yb[A];for(A=0;16>M;++M){if(!jt(d,K[A+0]))return M;for(;!jt(d,K[A+1]);)if(K=y[++M].Yb[0],A=0,M==16)return 16;var X=y[M+1].Yb;if(jt(d,K[A+2])){var et=d,dt=0;if(jt(et,(Z=K)[(Nt=A)+3]))if(jt(et,Z[Nt+6])){for(K=0,Nt=2*(dt=jt(et,Z[Nt+8]))+(Z=jt(et,Z[Nt+9+dt])),dt=0,Z=gd[Nt];Z[K];++K)dt+=dt+jt(et,Z[K]);dt+=3+(8<<Nt)}else jt(et,Z[Nt+7])?(dt=7+2*jt(et,165),dt+=jt(et,145)):dt=5+jt(et,159);else dt=jt(et,Z[Nt+4])?3+jt(et,Z[Nt+5]):2;K=X[2]}else dt=1,K=X[1];X=F+Gh[M],0>(et=d).b&&kt(et);var Nt,Z=et.b,gt=(Nt=et.Ca>>1)-(et.I>>Z)>>31;--et.b,et.Ca+=gt,et.Ca|=1,et.I-=(Nt+1&gt)<<Z,V[X]=((dt^gt)-gt)*N[(0<M)+0]}return 16}function _a(d){var y=d.rb[d.sb-1];y.la=0,y.Na=0,a(d.zc,0,0,d.zc.length),d.ja=0}function Ni(d,y,A,N,M){M=d[y+A+32*N]+(M>>3),d[y+A+32*N]=-256&M?0>M?0:255:M}function si(d,y,A,N,M,V){Ni(d,y,0,A,N+M),Ni(d,y,1,A,N+V),Ni(d,y,2,A,N-V),Ni(d,y,3,A,N-M)}function bi(d){return(20091*d>>16)+d}function qa(d,y,A,N){var M,V=0,F=o(16);for(M=0;4>M;++M){var K=d[y+0]+d[y+8],X=d[y+0]-d[y+8],et=(35468*d[y+4]>>16)-bi(d[y+12]),dt=bi(d[y+4])+(35468*d[y+12]>>16);F[V+0]=K+dt,F[V+1]=X+et,F[V+2]=X-et,F[V+3]=K-dt,V+=4,y++}for(M=V=0;4>M;++M)K=(d=F[V+0]+4)+F[V+8],X=d-F[V+8],et=(35468*F[V+4]>>16)-bi(F[V+12]),Ni(A,N,0,0,K+(dt=bi(F[V+4])+(35468*F[V+12]>>16))),Ni(A,N,1,0,X+et),Ni(A,N,2,0,X-et),Ni(A,N,3,0,K-dt),V++,N+=32}function Ul(d,y,A,N){var M=d[y+0]+4,V=35468*d[y+4]>>16,F=bi(d[y+4]),K=35468*d[y+1]>>16;si(A,N,0,M+F,d=bi(d[y+1]),K),si(A,N,1,M+V,d,K),si(A,N,2,M-V,d,K),si(A,N,3,M-F,d,K)}function nl(d,y,A,N,M){qa(d,y,A,N),M&&qa(d,y+16,A,N+4)}function pr(d,y,A,N){Za(d,y+0,A,N,1),Za(d,y+32,A,N+128,1)}function il(d,y,A,N){var M;for(d=d[y+0]+4,M=0;4>M;++M)for(y=0;4>y;++y)Ni(A,N,y,M,d)}function ia(d,y,A,N){d[y+0]&&Cn(d,y+0,A,N),d[y+16]&&Cn(d,y+16,A,N+4),d[y+32]&&Cn(d,y+32,A,N+128),d[y+48]&&Cn(d,y+48,A,N+128+4)}function Gi(d,y,A,N){var M,V=o(16);for(M=0;4>M;++M){var F=d[y+0+M]+d[y+12+M],K=d[y+4+M]+d[y+8+M],X=d[y+4+M]-d[y+8+M],et=d[y+0+M]-d[y+12+M];V[0+M]=F+K,V[8+M]=F-K,V[4+M]=et+X,V[12+M]=et-X}for(M=0;4>M;++M)F=(d=V[0+4*M]+3)+V[3+4*M],K=V[1+4*M]+V[2+4*M],X=V[1+4*M]-V[2+4*M],et=d-V[3+4*M],A[N+0]=F+K>>3,A[N+16]=et+X>>3,A[N+32]=F-K>>3,A[N+48]=et-X>>3,N+=64}function ba(d,y,A){var N,M=y-32,V=Or,F=255-d[M-1];for(N=0;N<A;++N){var K,X=V,et=F+d[y-1];for(K=0;K<A;++K)d[y+K]=X[et+d[M+K]];y+=32}}function rl(d,y){ba(d,y,4)}function sl(d,y){ba(d,y,8)}function Ao(d,y){ba(d,y,16)}function Eo(d,y){var A;for(A=0;16>A;++A)r(d,y+32*A,d,y-32,16)}function ra(d,y){var A;for(A=16;0<A;--A)a(d,y,d[y-1],16),y+=32}function Rr(d,y,A){var N;for(N=0;16>N;++N)a(y,A+32*N,d,16)}function ws(d,y){var A,N=16;for(A=0;16>A;++A)N+=d[y-1+32*A]+d[y+A-32];Rr(N>>5,d,y)}function sa(d,y){var A,N=8;for(A=0;16>A;++A)N+=d[y-1+32*A];Rr(N>>4,d,y)}function Lr(d,y){var A,N=8;for(A=0;16>A;++A)N+=d[y+A-32];Rr(N>>4,d,y)}function wa(d,y){Rr(128,d,y)}function Ie(d,y,A){return d+2*y+A+2>>2}function za(d,y){var A,N=y-32;for(N=new Uint8Array([Ie(d[N-1],d[N+0],d[N+1]),Ie(d[N+0],d[N+1],d[N+2]),Ie(d[N+1],d[N+2],d[N+3]),Ie(d[N+2],d[N+3],d[N+4])]),A=0;4>A;++A)r(d,y+32*A,N,0,N.length)}function So(d,y){var A=d[y-1],N=d[y-1+32],M=d[y-1+64],V=d[y-1+96];Qt(d,y+0,16843009*Ie(d[y-1-32],A,N)),Qt(d,y+32,16843009*Ie(A,N,M)),Qt(d,y+64,16843009*Ie(N,M,V)),Qt(d,y+96,16843009*Ie(M,V,V))}function Aa(d,y){var A,N=4;for(A=0;4>A;++A)N+=d[y+A-32]+d[y-1+32*A];for(N>>=3,A=0;4>A;++A)a(d,y+32*A,N,4)}function Yi(d,y){var A=d[y-1+0],N=d[y-1+32],M=d[y-1+64],V=d[y-1-32],F=d[y+0-32],K=d[y+1-32],X=d[y+2-32],et=d[y+3-32];d[y+0+96]=Ie(N,M,d[y-1+96]),d[y+1+96]=d[y+0+64]=Ie(A,N,M),d[y+2+96]=d[y+1+64]=d[y+0+32]=Ie(V,A,N),d[y+3+96]=d[y+2+64]=d[y+1+32]=d[y+0+0]=Ie(F,V,A),d[y+3+64]=d[y+2+32]=d[y+1+0]=Ie(K,F,V),d[y+3+32]=d[y+2+0]=Ie(X,K,F),d[y+3+0]=Ie(et,X,K)}function Pi(d,y){var A=d[y+1-32],N=d[y+2-32],M=d[y+3-32],V=d[y+4-32],F=d[y+5-32],K=d[y+6-32],X=d[y+7-32];d[y+0+0]=Ie(d[y+0-32],A,N),d[y+1+0]=d[y+0+32]=Ie(A,N,M),d[y+2+0]=d[y+1+32]=d[y+0+64]=Ie(N,M,V),d[y+3+0]=d[y+2+32]=d[y+1+64]=d[y+0+96]=Ie(M,V,F),d[y+3+32]=d[y+2+64]=d[y+1+96]=Ie(V,F,K),d[y+3+64]=d[y+2+96]=Ie(F,K,X),d[y+3+96]=Ie(K,X,X)}function Ha(d,y){var A=d[y-1+0],N=d[y-1+32],M=d[y-1+64],V=d[y-1-32],F=d[y+0-32],K=d[y+1-32],X=d[y+2-32],et=d[y+3-32];d[y+0+0]=d[y+1+64]=V+F+1>>1,d[y+1+0]=d[y+2+64]=F+K+1>>1,d[y+2+0]=d[y+3+64]=K+X+1>>1,d[y+3+0]=X+et+1>>1,d[y+0+96]=Ie(M,N,A),d[y+0+64]=Ie(N,A,V),d[y+0+32]=d[y+1+96]=Ie(A,V,F),d[y+1+32]=d[y+2+96]=Ie(V,F,K),d[y+2+32]=d[y+3+96]=Ie(F,K,X),d[y+3+32]=Ie(K,X,et)}function On(d,y){var A=d[y+0-32],N=d[y+1-32],M=d[y+2-32],V=d[y+3-32],F=d[y+4-32],K=d[y+5-32],X=d[y+6-32],et=d[y+7-32];d[y+0+0]=A+N+1>>1,d[y+1+0]=d[y+0+64]=N+M+1>>1,d[y+2+0]=d[y+1+64]=M+V+1>>1,d[y+3+0]=d[y+2+64]=V+F+1>>1,d[y+0+32]=Ie(A,N,M),d[y+1+32]=d[y+0+96]=Ie(N,M,V),d[y+2+32]=d[y+1+96]=Ie(M,V,F),d[y+3+32]=d[y+2+96]=Ie(V,F,K),d[y+3+64]=Ie(F,K,X),d[y+3+96]=Ie(K,X,et)}function Hr(d,y){var A=d[y-1+0],N=d[y-1+32],M=d[y-1+64],V=d[y-1+96];d[y+0+0]=A+N+1>>1,d[y+2+0]=d[y+0+32]=N+M+1>>1,d[y+2+32]=d[y+0+64]=M+V+1>>1,d[y+1+0]=Ie(A,N,M),d[y+3+0]=d[y+1+32]=Ie(N,M,V),d[y+3+32]=d[y+1+64]=Ie(M,V,V),d[y+3+64]=d[y+2+64]=d[y+0+96]=d[y+1+96]=d[y+2+96]=d[y+3+96]=V}function Ga(d,y){var A=d[y-1+0],N=d[y-1+32],M=d[y-1+64],V=d[y-1+96],F=d[y-1-32],K=d[y+0-32],X=d[y+1-32],et=d[y+2-32];d[y+0+0]=d[y+2+32]=A+F+1>>1,d[y+0+32]=d[y+2+64]=N+A+1>>1,d[y+0+64]=d[y+2+96]=M+N+1>>1,d[y+0+96]=V+M+1>>1,d[y+3+0]=Ie(K,X,et),d[y+2+0]=Ie(F,K,X),d[y+1+0]=d[y+3+32]=Ie(A,F,K),d[y+1+32]=d[y+3+64]=Ie(N,A,F),d[y+1+64]=d[y+3+96]=Ie(M,N,A),d[y+1+96]=Ie(V,M,N)}function As(d,y){var A;for(A=0;8>A;++A)r(d,y+32*A,d,y-32,8)}function al(d,y){var A;for(A=0;8>A;++A)a(d,y,d[y-1],8),y+=32}function Gr(d,y,A){var N;for(N=0;8>N;++N)a(y,A+32*N,d,8)}function aa(d,y){var A,N=8;for(A=0;8>A;++A)N+=d[y+A-32]+d[y-1+32*A];Gr(N>>4,d,y)}function Yr(d,y){var A,N=4;for(A=0;8>A;++A)N+=d[y+A-32];Gr(N>>3,d,y)}function xi(d,y){var A,N=4;for(A=0;8>A;++A)N+=d[y-1+32*A];Gr(N>>3,d,y)}function Ls(d,y){Gr(128,d,y)}function nr(d,y,A){var N=d[y-A],M=d[y+0],V=3*(M-N)+to[1020+d[y-2*A]-d[y+A]],F=Hu[112+(V+4>>3)];d[y-A]=Or[255+N+Hu[112+(V+3>>3)]],d[y+0]=Or[255+M-F]}function ks(d,y,A,N){var M=d[y+0],V=d[y+A];return vr[255+d[y-2*A]-d[y-A]]>N||vr[255+V-M]>N}function Ea(d,y,A,N){return 4*vr[255+d[y-A]-d[y+0]]+vr[255+d[y-2*A]-d[y+A]]<=N}function Os(d,y,A,N,M){var V=d[y-3*A],F=d[y-2*A],K=d[y-A],X=d[y+0],et=d[y+A],dt=d[y+2*A],Nt=d[y+3*A];return 4*vr[255+K-X]+vr[255+F-et]>N?0:vr[255+d[y-4*A]-V]<=M&&vr[255+V-F]<=M&&vr[255+F-K]<=M&&vr[255+Nt-dt]<=M&&vr[255+dt-et]<=M&&vr[255+et-X]<=M}function Ds(d,y,A,N){var M=2*N+1;for(N=0;16>N;++N)Ea(d,y+N,A,M)&&nr(d,y+N,A)}function os(d,y,A,N){var M=2*N+1;for(N=0;16>N;++N)Ea(d,y+N*A,1,M)&&nr(d,y+N*A,1)}function Ya(d,y,A,N){var M;for(M=3;0<M;--M)Ds(d,y+=4*A,A,N)}function To(d,y,A,N){var M;for(M=3;0<M;--M)os(d,y+=4,A,N)}function Kr(d,y,A,N,M,V,F,K){for(V=2*V+1;0<M--;){if(Os(d,y,A,V,F))if(ks(d,y,A,K))nr(d,y,A);else{var X=d,et=y,dt=A,Nt=X[et-2*dt],Z=X[et-dt],gt=X[et+0],Et=X[et+dt],Mt=X[et+2*dt],St=27*(Bt=to[1020+3*(gt-Z)+to[1020+Nt-Et]])+63>>7,Pt=18*Bt+63>>7,Bt=9*Bt+63>>7;X[et-3*dt]=Or[255+X[et-3*dt]+Bt],X[et-2*dt]=Or[255+Nt+Pt],X[et-dt]=Or[255+Z+St],X[et+0]=Or[255+gt-St],X[et+dt]=Or[255+Et-Pt],X[et+2*dt]=Or[255+Mt-Bt]}y+=N}}function Ps(d,y,A,N,M,V,F,K){for(V=2*V+1;0<M--;){if(Os(d,y,A,V,F))if(ks(d,y,A,K))nr(d,y,A);else{var X=d,et=y,dt=A,Nt=X[et-dt],Z=X[et+0],gt=X[et+dt],Et=Hu[112+(4+(Mt=3*(Z-Nt))>>3)],Mt=Hu[112+(Mt+3>>3)],St=Et+1>>1;X[et-2*dt]=Or[255+X[et-2*dt]+St],X[et-dt]=Or[255+Nt+Mt],X[et+0]=Or[255+Z-Et],X[et+dt]=Or[255+gt-St]}y+=N}}function ol(d,y,A,N,M,V){Kr(d,y,A,1,16,N,M,V)}function Es(d,y,A,N,M,V){Kr(d,y,1,A,16,N,M,V)}function No(d,y,A,N,M,V){var F;for(F=3;0<F;--F)Ps(d,y+=4*A,A,1,16,N,M,V)}function b(d,y,A,N,M,V){var F;for(F=3;0<F;--F)Ps(d,y+=4,1,A,16,N,M,V)}function P(d,y,A,N,M,V,F,K){Kr(d,y,M,1,8,V,F,K),Kr(A,N,M,1,8,V,F,K)}function tt(d,y,A,N,M,V,F,K){Kr(d,y,1,M,8,V,F,K),Kr(A,N,1,M,8,V,F,K)}function ct(d,y,A,N,M,V,F,K){Ps(d,y+4*M,M,1,8,V,F,K),Ps(A,N+4*M,M,1,8,V,F,K)}function yt(d,y,A,N,M,V,F,K){Ps(d,y+4,1,M,8,V,F,K),Ps(A,N+4,1,M,8,V,F,K)}function Ut(){this.ba=new be,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new an,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ae(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fe(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new bt,this.yc=new L}function Re(){this.xb=this.a=0,this.l=new er,this.ca=new be,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fe,this.ab=0,this.gc=c(4,ae),this.Oc=0}function Ee(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new er,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hn(d,y,A,N,M,V,F){for(d=d==null?0:d[y+0],y=0;y<F;++y)M[V+y]=d+A[N+y]&255,d=M[V+y]}function Jn(d,y,A,N,M,V,F){var K;if(d==null)hn(null,null,A,N,M,V,F);else for(K=0;K<F;++K)M[V+K]=d[y+K]+A[N+K]&255}function qn(d,y,A,N,M,V,F){if(d==null)hn(null,null,A,N,M,V,F);else{var K,X=d[y+0],et=X,dt=X;for(K=0;K<F;++K)et=dt+(X=d[y+K])-et,dt=A[N+K]+(-256&et?0>et?0:255:et)&255,et=X,M[V+K]=dt}}function p(d,y,A,N){var M=y.width,V=y.o;if(t(d!=null&&y!=null),0>A||0>=N||A+N>V)return null;if(!d.Cc){if(d.ga==null){var F;if(d.ga=new Ee,(F=d.ga==null)||(F=y.width*y.o,t(d.Gb.length==0),d.Gb=o(F),d.Uc=0,d.Gb==null?F=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,F=1),F=!F),!F){F=d.ga;var K=d.Fa,X=d.P,et=d.qc,dt=d.mb,Nt=d.nb,Z=X+1,gt=et-1,Et=F.l;if(t(K!=null&&dt!=null&&y!=null),eo[0]=null,eo[1]=hn,eo[2]=Jn,eo[3]=qn,F.ca=dt,F.tb=Nt,F.c=y.width,F.i=y.height,t(0<F.c&&0<F.i),1>=et)y=0;else if(F.$a=3&K[X+0],F.Z=K[X+0]>>2&3,F.Lc=K[X+0]>>4&3,X=K[X+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||X)y=0;else if(Et.put=Ae,Et.ac=Hi,Et.bc=ta,Et.ma=F,Et.width=y.width,Et.height=y.height,Et.Da=y.Da,Et.v=y.v,Et.va=y.va,Et.j=y.j,Et.o=y.o,F.$a)t:{t(F.$a==1),y=va();e:for(;;){if(y==null){y=0;break t}if(t(F!=null),F.mc=y,y.c=F.c,y.i=F.i,y.l=F.l,y.l.ma=F,y.l.width=F.c,y.l.height=F.i,y.a=0,xt(y.m,K,Z,gt),!_s(F.c,F.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&kn(y.s)?(F.ic=1,K=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(K),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(F.ic=0,y=Ir(y,F.c)),!y))break e;y=1;break t}F.mc=null,y=0}else y=gt>=F.c*F.i;F=!y}if(F)return null;d.ga.Lc!=1?d.Ga=0:N=V-A}t(d.ga!=null),t(A+N<=V);t:{if(y=(K=d.ga).c,V=K.l.o,K.$a==0){if(Z=d.rc,gt=d.Vc,Et=d.Fa,X=d.P+1+A*y,et=d.mb,dt=d.nb+A*y,t(X<=d.P+d.qc),K.Z!=0)for(t(eo[K.Z]!=null),F=0;F<N;++F)eo[K.Z](Z,gt,Et,X,et,dt,y),Z=et,gt=dt,dt+=y,X+=y;else for(F=0;F<N;++F)r(et,dt,Et,X,y),Z=et,gt=dt,dt+=y,X+=y;d.rc=Z,d.Vc=gt}else{if(t(K.mc!=null),y=A+N,t((F=K.mc)!=null),t(y<=F.i),F.C>=y)y=1;else if(K.ic||Lt(),K.ic){K=F.V,Z=F.Ba,gt=F.c;var Mt=F.i,St=(Et=1,X=F.$/gt,et=F.$%gt,dt=F.m,Nt=F.s,F.$),Pt=gt*Mt,Bt=gt*y,Xt=Nt.wc,Gt=St<Bt?Oi(Nt,et,X):null;t(St<=Pt),t(y<=Mt),t(kn(Nt));e:for(;;){for(;!dt.h&&St<Bt;){if(et&Xt||(Gt=Oi(Nt,et,X)),t(Gt!=null),mt(dt),256>(Mt=Fn(Gt.G[0],Gt.H[0],dt)))K[Z+St]=Mt,++St,++et>=gt&&(et=0,++X<=y&&!(X%16)&&Di(F,X));else{if(!(280>Mt)){Et=0;break e}Mt=Tr(Mt-256,dt);var de,re=Fn(Gt.G[4],Gt.H[4],dt);if(mt(dt),!(St>=(re=Nr(gt,re=Tr(re,dt)))&&Pt-St>=Mt)){Et=0;break e}for(de=0;de<Mt;++de)K[Z+St+de]=K[Z+St+de-re];for(St+=Mt,et+=Mt;et>=gt;)et-=gt,++X<=y&&!(X%16)&&Di(F,X);St<Bt&&et&Xt&&(Gt=Oi(Nt,et,X))}t(dt.h==ot(dt))}Di(F,X>y?y:X);break e}!Et||dt.h&&St<Pt?(Et=0,F.a=dt.h?5:3):F.$=St,y=Et}else y=xr(F,F.V,F.Ba,F.c,F.i,y,ea);if(!y){N=0;break t}}A+N>=V&&(d.Cc=1),N=1}if(!N)return null;if(d.Cc&&((N=d.ga)!=null&&(N.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+A*M}function S(d,y,A,N,M,V){for(;0<M--;){var F,K=d,X=y+(A?1:0),et=d,dt=y+(A?0:3);for(F=0;F<N;++F){var Nt=et[dt+4*F];Nt!=255&&(Nt*=32897,K[X+4*F+0]=K[X+4*F+0]*Nt>>23,K[X+4*F+1]=K[X+4*F+1]*Nt>>23,K[X+4*F+2]=K[X+4*F+2]*Nt>>23)}y+=V}}function C(d,y,A,N,M){for(;0<N--;){var V;for(V=0;V<A;++V){var F=d[y+2*V+0],K=15&(et=d[y+2*V+1]),X=4369*K,et=(240&et|et>>4)*X>>16;d[y+2*V+0]=(240&F|F>>4)*X>>16&240|(15&F|F<<4)*X>>16>>4&15,d[y+2*V+1]=240&et|K}y+=M}}function W(d,y,A,N,M,V,F,K){var X,et,dt=255;for(et=0;et<M;++et){for(X=0;X<N;++X){var Nt=d[y+X];V[F+4*X]=Nt,dt&=Nt}y+=A,F+=K}return dt!=255}function At(d,y,A,N,M){var V;for(V=0;V<M;++V)A[N+V]=d[y+V]>>8}function Lt(){cl=S,Us=C,Fu=W,xs=At}function $t(d,y,A){k[d]=function(N,M,V,F,K,X,et,dt,Nt,Z,gt,Et,Mt,St,Pt,Bt,Xt){var Gt,de=Xt-1>>1,re=K[X+0]|et[dt+0]<<16,He=Nt[Z+0]|gt[Et+0]<<16;t(N!=null);var ce=3*re+He+131074>>2;for(y(N[M+0],255&ce,ce>>16,Mt,St),V!=null&&(ce=3*He+re+131074>>2,y(V[F+0],255&ce,ce>>16,Pt,Bt)),Gt=1;Gt<=de;++Gt){var fn=K[X+Gt]|et[dt+Gt]<<16,oi=Nt[Z+Gt]|gt[Et+Gt]<<16,Ze=re+fn+He+oi+524296,se=Ze+2*(fn+He)>>3;ce=se+re>>1,re=(Ze=Ze+2*(re+oi)>>3)+fn>>1,y(N[M+2*Gt-1],255&ce,ce>>16,Mt,St+(2*Gt-1)*A),y(N[M+2*Gt-0],255&re,re>>16,Mt,St+(2*Gt-0)*A),V!=null&&(ce=Ze+He>>1,re=se+oi>>1,y(V[F+2*Gt-1],255&ce,ce>>16,Pt,Bt+(2*Gt-1)*A),y(V[F+2*Gt+0],255&re,re>>16,Pt,Bt+(2*Gt+0)*A)),re=fn,He=oi}1&Xt||(ce=3*re+He+131074>>2,y(N[M+Xt-1],255&ce,ce>>16,Mt,St+(Xt-1)*A),V!=null&&(ce=3*He+re+131074>>2,y(V[F+Xt-1],255&ce,ce>>16,Pt,Bt+(Xt-1)*A)))}}function qe(){br[xc]=dl,br[Dr]=Yl,br[Ic]=Kh,br[Vs]=Oc,br[Gu]=Lo,br[zl]=ka,br[Io]=ko,br[Yu]=Yl,br[Cc]=Oc,br[Hl]=Lo,br[Rc]=ka}function Zn(d){return d&-16384?0>d?0:255:d>>Dc}function ln(d,y){return Zn((19077*d>>8)+(26149*y>>8)-14234)}function Dn(d,y,A){return Zn((19077*d>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function ir(d,y){return Zn((19077*d>>8)+(33050*y>>8)-17685)}function mr(d,y,A,N,M){N[M+0]=ln(d,A),N[M+1]=Dn(d,y,A),N[M+2]=ir(d,y)}function Gn(d,y,A,N,M){N[M+0]=ir(d,y),N[M+1]=Dn(d,y,A),N[M+2]=ln(d,A)}function gr(d,y,A,N,M){var V=Dn(d,y,A);y=V<<3&224|ir(d,y)>>3,N[M+0]=248&ln(d,A)|V>>5,N[M+1]=y}function Ss(d,y,A,N,M){var V=240&ir(d,y)|15;N[M+0]=240&ln(d,A)|Dn(d,y,A)>>4,N[M+1]=V}function Sa(d,y,A,N,M){N[M+0]=255,mr(d,y,A,N,M+1)}function Ta(d,y,A,N,M){Gn(d,y,A,N,M),N[M+3]=255}function Wr(d,y,A,N,M){mr(d,y,A,N,M),N[M+3]=255}function Ka(d,y,A){k[d]=function(N,M,V,F,K,X,et,dt,Nt){for(var Z=dt+(-2&Nt)*A;dt!=Z;)y(N[M+0],V[F+0],K[X+0],et,dt),y(N[M+1],V[F+0],K[X+0],et,dt+A),M+=2,++F,++X,dt+=2*A;1&Nt&&y(N[M+0],V[F+0],K[X+0],et,dt)}}function Vl(d,y,A){return A==0?d==0?y==0?6:5:y==0?4:0:A}function Vu(d,y,A,N,M){switch(d>>>30){case 3:Za(y,A,N,M,0);break;case 2:kr(y,A,N,M);break;case 1:Cn(y,A,N,M)}}function Ts(d,y){var A,N,M=y.M,V=y.Nb,F=d.oc,K=d.pc+40,X=d.oc,et=d.pc+584,dt=d.oc,Nt=d.pc+600;for(A=0;16>A;++A)F[K+32*A-1]=129;for(A=0;8>A;++A)X[et+32*A-1]=129,dt[Nt+32*A-1]=129;for(0<M?F[K-1-32]=X[et-1-32]=dt[Nt-1-32]=129:(a(F,K-32-1,127,21),a(X,et-32-1,127,9),a(dt,Nt-32-1,127,9)),N=0;N<d.za;++N){var Z=y.ya[y.aa+N];if(0<N){for(A=-1;16>A;++A)r(F,K+32*A-4,F,K+32*A+12,4);for(A=-1;8>A;++A)r(X,et+32*A-4,X,et+32*A+4,4),r(dt,Nt+32*A-4,dt,Nt+32*A+4,4)}var gt=d.Gd,Et=d.Hd+N,Mt=Z.ad,St=Z.Hc;if(0<M&&(r(F,K-32,gt[Et].y,0,16),r(X,et-32,gt[Et].f,0,8),r(dt,Nt-32,gt[Et].ea,0,8)),Z.Za){var Pt=F,Bt=K-32+16;for(0<M&&(N>=d.za-1?a(Pt,Bt,gt[Et].y[15],4):r(Pt,Bt,gt[Et+1].y,0,4)),A=0;4>A;A++)Pt[Bt+128+A]=Pt[Bt+256+A]=Pt[Bt+384+A]=Pt[Bt+0+A];for(A=0;16>A;++A,St<<=2)Pt=F,Bt=K+Ri[A],wi[Z.Ob[A]](Pt,Bt),Vu(St,Mt,16*+A,Pt,Bt)}else if(Pt=Vl(N,M,Z.Ob[0]),Qr[Pt](F,K),St!=0)for(A=0;16>A;++A,St<<=2)Vu(St,Mt,16*+A,F,K+Ri[A]);for(A=Z.Gc,Pt=Vl(N,M,Z.Dd),ca[Pt](X,et),ca[Pt](dt,Nt),St=Mt,Pt=X,Bt=et,255&(Z=0|A)&&(170&Z?Ms(St,256,Pt,Bt):An(St,256,Pt,Bt)),Z=dt,St=Nt,255&(A>>=8)&&(170&A?Ms(Mt,320,Z,St):An(Mt,320,Z,St)),M<d.Ub-1&&(r(gt[Et].y,0,F,K+480,16),r(gt[Et].f,0,X,et+224,8),r(gt[Et].ea,0,dt,Nt+224,8)),A=8*V*d.B,gt=d.sa,Et=d.ta+16*N+16*V*d.R,Mt=d.qa,Z=d.ra+8*N+A,St=d.Ha,Pt=d.Ia+8*N+A,A=0;16>A;++A)r(gt,Et+A*d.R,F,K+32*A,16);for(A=0;8>A;++A)r(Mt,Z+A*d.B,X,et+32*A,8),r(St,Pt+A*d.B,dt,Nt+32*A,8)}}function oa(d,y,A,N,M,V,F,K,X){var et=[0],dt=[0],Nt=0,Z=X!=null?X.kd:0,gt=X??new Kt;if(d==null||12>A)return 7;gt.data=d,gt.w=y,gt.ha=A,y=[y],A=[A],gt.gb=[gt.gb];t:{var Et=y,Mt=A,St=gt.gb;if(t(d!=null),t(Mt!=null),t(St!=null),St[0]=0,12<=Mt[0]&&!e(d,Et[0],"RIFF")){if(e(d,Et[0]+8,"WEBP")){St=3;break t}var Pt=ue(d,Et[0]+4);if(12>Pt||4294967286<Pt){St=3;break t}if(Z&&Pt>Mt[0]-8){St=7;break t}St[0]=Pt,Et[0]+=12,Mt[0]-=12}St=0}if(St!=0)return St;for(Pt=0<gt.gb[0],A=A[0];;){t:{var Bt=d;Mt=y,St=A;var Xt=et,Gt=dt,de=Et=[0];if((ce=Nt=[Nt])[0]=0,8>St[0])St=7;else{if(!e(Bt,Mt[0],"VP8X")){if(ue(Bt,Mt[0]+4)!=10){St=3;break t}if(18>St[0]){St=7;break t}var re=ue(Bt,Mt[0]+8),He=1+te(Bt,Mt[0]+12);if(2147483648<=He*(Bt=1+te(Bt,Mt[0]+15))){St=3;break t}de!=null&&(de[0]=re),Xt!=null&&(Xt[0]=He),Gt!=null&&(Gt[0]=Bt),Mt[0]+=18,St[0]-=18,ce[0]=1}St=0}}if(Nt=Nt[0],Et=Et[0],St!=0)return St;if(Mt=!!(2&Et),!Pt&&Nt)return 3;if(V!=null&&(V[0]=!!(16&Et)),F!=null&&(F[0]=Mt),K!=null&&(K[0]=0),F=et[0],Et=dt[0],Nt&&Mt&&X==null){St=0;break}if(4>A){St=7;break}if(Pt&&Nt||!Pt&&!Nt&&!e(d,y[0],"ALPH")){A=[A],gt.na=[gt.na],gt.P=[gt.P],gt.Sa=[gt.Sa];t:{re=d,St=y,Pt=A;var ce=gt.gb;Xt=gt.na,Gt=gt.P,de=gt.Sa,He=22,t(re!=null),t(Pt!=null),Bt=St[0];var fn=Pt[0];for(t(Xt!=null),t(de!=null),Xt[0]=null,Gt[0]=null,de[0]=0;;){if(St[0]=Bt,Pt[0]=fn,8>fn){St=7;break t}var oi=ue(re,Bt+4);if(4294967286<oi){St=3;break t}var Ze=8+oi+1&-2;if(He+=Ze,0<ce&&He>ce){St=3;break t}if(!e(re,Bt,"VP8 ")||!e(re,Bt,"VP8L")){St=0;break t}if(fn[0]<Ze){St=7;break t}e(re,Bt,"ALPH")||(Xt[0]=re,Gt[0]=Bt+8,de[0]=oi),Bt+=Ze,fn-=Ze}}if(A=A[0],gt.na=gt.na[0],gt.P=gt.P[0],gt.Sa=gt.Sa[0],St!=0)break}A=[A],gt.Ja=[gt.Ja],gt.xa=[gt.xa];t:if(ce=d,St=y,Pt=A,Xt=gt.gb[0],Gt=gt.Ja,de=gt.xa,re=St[0],Bt=!e(ce,re,"VP8 "),He=!e(ce,re,"VP8L"),t(ce!=null),t(Pt!=null),t(Gt!=null),t(de!=null),8>Pt[0])St=7;else{if(Bt||He){if(ce=ue(ce,re+4),12<=Xt&&ce>Xt-12){St=3;break t}if(Z&&ce>Pt[0]-8){St=7;break t}Gt[0]=ce,St[0]+=8,Pt[0]-=8,de[0]=He}else de[0]=5<=Pt[0]&&ce[re+0]==47&&!(ce[re+4]>>5),Gt[0]=Pt[0];St=0}if(A=A[0],gt.Ja=gt.Ja[0],gt.xa=gt.xa[0],y=y[0],St!=0)break;if(4294967286<gt.Ja)return 3;if(K==null||Mt||(K[0]=gt.xa?2:1),F=[F],Et=[Et],gt.xa){if(5>A){St=7;break}K=F,Z=Et,Mt=V,d==null||5>A?d=0:5<=A&&d[y+0]==47&&!(d[y+4]>>5)?(Pt=[0],ce=[0],Xt=[0],xt(Gt=new Y,d,y,A),Br(Gt,Pt,ce,Xt)?(K!=null&&(K[0]=Pt[0]),Z!=null&&(Z[0]=ce[0]),Mt!=null&&(Mt[0]=Xt[0]),d=1):d=0):d=0}else{if(10>A){St=7;break}K=Et,d==null||10>A||!na(d,y+3,A-3)?d=0:(Z=d[y+0]|d[y+1]<<8|d[y+2]<<16,Mt=16383&(d[y+7]<<8|d[y+6]),d=16383&(d[y+9]<<8|d[y+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=gt.Ja||!Mt||!d?d=0:(F&&(F[0]=Mt),K&&(K[0]=d),d=1))}if(!d||(F=F[0],Et=Et[0],Nt&&(et[0]!=F||dt[0]!=Et)))return 3;X!=null&&(X[0]=gt,X.offset=y-X.w,t(4294967286>y-X.w),t(X.offset==X.ha-A));break}return St==0||St==7&&Nt&&X==null?(V!=null&&(V[0]|=gt.na!=null&&0<gt.na.length),N!=null&&(N[0]=F),M!=null&&(M[0]=Et),0):St}function Wa(d,y,A){var N=y.width,M=y.height,V=0,F=0,K=N,X=M;if(y.Da=d!=null&&0<d.Da,y.Da&&(K=d.cd,X=d.bd,V=d.v,F=d.j,11>A||(V&=-2,F&=-2),0>V||0>F||0>=K||0>=X||V+K>N||F+X>M))return 0;if(y.v=V,y.j=F,y.va=V+K,y.o=F+X,y.U=K,y.T=X,y.da=d!=null&&0<d.da,y.da){if(!Te(K,X,A=[d.ib],V=[d.hb]))return 0;y.ib=A[0],y.hb=V[0]}return y.ob=d!=null&&d.ob,y.Kb=d==null||!d.Sd,y.da&&(y.ob=y.ib<3*N/4&&y.hb<3*M/4,y.Kb=0),1}function ju(d){if(d==null)return 2;if(11>d.S){var y=d.f.RGBA;y.fb+=(d.height-1)*y.A,y.A=-y.A}else y=d.f.kb,d=d.height,y.O+=(d-1)*y.fa,y.fa=-y.fa,y.N+=(d-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(d-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(d-1)*y.lb,y.lb=-y.lb);return 0}function la(d,y,A,N){if(N==null||0>=d||0>=y)return 2;if(A!=null){if(A.Da){var M=A.cd,V=A.bd,F=-2&A.v,K=-2&A.j;if(0>F||0>K||0>=M||0>=V||F+M>d||K+V>y)return 2;d=M,y=V}if(A.da){if(!Te(d,y,M=[A.ib],V=[A.hb]))return 2;d=M[0],y=V[0]}}N.width=d,N.height=y;t:{var X=N.width,et=N.height;if(d=N.S,0>=X||0>=et||!(d>=xc&&13>d))d=2;else{if(0>=N.Rd&&N.sd==null){F=V=M=y=0;var dt=(K=X*Mc[d])*et;if(11>d||(V=(et+1)/2*(y=(X+1)/2),d==12&&(F=(M=X)*et)),(et=o(dt+2*V+F))==null){d=1;break t}N.sd=et,11>d?((X=N.f.RGBA).eb=et,X.fb=0,X.A=K,X.size=dt):((X=N.f.kb).y=et,X.O=0,X.fa=K,X.Fd=dt,X.f=et,X.N=0+dt,X.Ab=y,X.Cd=V,X.ea=et,X.W=0+dt+V,X.Db=y,X.Ed=V,d==12&&(X.F=et,X.J=0+dt+2*V),X.Tc=F,X.lb=M)}if(y=1,M=N.S,V=N.width,F=N.height,M>=xc&&13>M)if(11>M)d=N.f.RGBA,y&=(K=Math.abs(d.A))*(F-1)+V<=d.size,y&=K>=V*Mc[M],y&=d.eb!=null;else{d=N.f.kb,K=(V+1)/2,dt=(F+1)/2,X=Math.abs(d.fa),et=Math.abs(d.Ab);var Nt=Math.abs(d.Db),Z=Math.abs(d.lb),gt=Z*(F-1)+V;y&=X*(F-1)+V<=d.Fd,y&=et*(dt-1)+K<=d.Cd,y=(y&=Nt*(dt-1)+K<=d.Ed)&X>=V&et>=K&Nt>=K,y&=d.y!=null,y&=d.f!=null,y&=d.ea!=null,M==12&&(y&=Z>=V,y&=gt<=d.Tc,y&=d.F!=null)}else y=0;d=y?0:2}}return d!=0||A!=null&&A.fd&&(d=ju(N)),d}var xo=64,ls=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xr=24,Na=32,xa=8,Xa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ne("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(d){return d},k.Predictor2=function(d,y,A){return y[A+0]},k.Predictor3=function(d,y,A){return y[A+1]},k.Predictor4=function(d,y,A){return y[A-1]},k.Predictor5=function(d,y,A){return _e(_e(d,y[A+1]),y[A+0])},k.Predictor6=function(d,y,A){return _e(d,y[A-1])},k.Predictor7=function(d,y,A){return _e(d,y[A+0])},k.Predictor8=function(d,y,A){return _e(y[A-1],y[A+0])},k.Predictor9=function(d,y,A){return _e(y[A+0],y[A+1])},k.Predictor10=function(d,y,A){return _e(_e(d,y[A-1]),_e(y[A+0],y[A+1]))},k.Predictor11=function(d,y,A){var N=y[A+0];return 0>=je(N>>24&255,d>>24&255,(y=y[A-1])>>24&255)+je(N>>16&255,d>>16&255,y>>16&255)+je(N>>8&255,d>>8&255,y>>8&255)+je(255&N,255&d,255&y)?N:d},k.Predictor12=function(d,y,A){var N=y[A+0];return(Ke((d>>24&255)+(N>>24&255)-((y=y[A-1])>>24&255))<<24|Ke((d>>16&255)+(N>>16&255)-(y>>16&255))<<16|Ke((d>>8&255)+(N>>8&255)-(y>>8&255))<<8|Ke((255&d)+(255&N)-(255&y)))>>>0},k.Predictor13=function(d,y,A){var N=y[A-1];return(Je((d=_e(d,y[A+0]))>>24&255,N>>24&255)<<24|Je(d>>16&255,N>>16&255)<<16|Je(d>>8&255,N>>8&255)<<8|Je(255&d,255&N))>>>0};var jl=k.PredictorAdd0;k.PredictorAdd1=sn,ne("Predictor2","PredictorAdd2"),ne("Predictor3","PredictorAdd3"),ne("Predictor4","PredictorAdd4"),ne("Predictor5","PredictorAdd5"),ne("Predictor6","PredictorAdd6"),ne("Predictor7","PredictorAdd7"),ne("Predictor8","PredictorAdd8"),ne("Predictor9","PredictorAdd9"),ne("Predictor10","PredictorAdd10"),ne("Predictor11","PredictorAdd11"),ne("Predictor12","PredictorAdd12"),ne("Predictor13","PredictorAdd13");var Bl=k.PredictorAdd2;ge("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Ii,Sc=k.ColorIndexInverseTransform,Ia=k.MapARGB,Ca=k.VP8LColorIndexInverseTransformAlpha,yr=k.MapAlpha,Qa=k.VP8LPredictorsAdd=[];Qa.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Fl,ql,$a,Ja,Ra,ll,Ns,Za,kr,Ms,Cn,An,ti,Ci,La,ua,ul,Bu,qh,dd,pd,md,zh,Hh,cl,Us,Fu,xs,hl=o(511),Tc=o(2041),qu=o(225),zu=o(767),Nc=0,to=Tc,Hu=qu,Or=zu,vr=hl,xc=0,Dr=1,Ic=2,Vs=3,Gu=4,zl=5,Io=6,Yu=7,Cc=8,Hl=9,Rc=10,js=[2,3,7],Gl=[3,3,11],fl=[280,256,256,256,40],Lc=[0,1,1,1,0],Ku=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Bs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Co=8,qs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],zs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Is=null,gd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_r=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ai=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qr=[],wi=[],ca=[],Ro=1,Yh=2,eo=[],br=[];$t("UpsampleRgbLinePair",mr,3),$t("UpsampleBgrLinePair",Gn,3),$t("UpsampleRgbaLinePair",Wr,4),$t("UpsampleBgraLinePair",Ta,4),$t("UpsampleArgbLinePair",Sa,4),$t("UpsampleRgba4444LinePair",Ss,2),$t("UpsampleRgb565LinePair",gr,2);var dl=k.UpsampleRgbLinePair,Kh=k.UpsampleBgrLinePair,Yl=k.UpsampleRgbaLinePair,Oc=k.UpsampleBgraLinePair,Lo=k.UpsampleArgbLinePair,ka=k.UpsampleRgba4444LinePair,ko=k.UpsampleRgb565LinePair,Hs=16,Kl=1<<Hs-1,pl=-227,Oo=482,Dc=6,Do=0,wr=o(256),Pc=o(256),vd=o(256),Vm=o(256),jm=o(Oo-pl),Bm=o(Oo-pl);Ka("YuvToRgbRow",mr,3),Ka("YuvToBgrRow",Gn,3),Ka("YuvToRgbaRow",Wr,4),Ka("YuvToBgraRow",Ta,4),Ka("YuvToArgbRow",Sa,4),Ka("YuvToRgba4444Row",Ss,2),Ka("YuvToRgb565Row",gr,2);var Ri=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wl=[0,2,8],Wu=[8,7,6,4,4,2,2,2,1,1,1,1],Xu=1;this.WebPDecodeRGBA=function(d,y,A,N,M){var V=Dr,F=new Ut,K=new be;F.ba=K,K.S=V,K.width=[K.width],K.height=[K.height];var X=K.width,et=K.height,dt=new ye;if(dt==null||d==null)var Nt=2;else t(dt!=null),Nt=oa(d,y,A,dt.width,dt.height,dt.Pd,dt.Qd,dt.format,null);if(Nt!=0?X=0:(X!=null&&(X[0]=dt.width[0]),et!=null&&(et[0]=dt.height[0]),X=1),X){K.width=K.width[0],K.height=K.height[0],N!=null&&(N[0]=K.width),M!=null&&(M[0]=K.height);t:{if(N=new er,(M=new Kt).data=d,M.w=y,M.ha=A,M.kd=1,y=[0],t(M!=null),((d=oa(M.data,M.w,M.ha,null,null,null,y,null,M))==0||d==7)&&y[0]&&(d=4),(y=d)==0){if(t(F!=null),N.data=M.data,N.w=M.w+M.offset,N.ha=M.ha-M.offset,N.put=Ae,N.ac=Hi,N.bc=ta,N.ma=F,M.xa){if((d=va())==null){F=1;break t}if((function(Z,gt){var Et=[0],Mt=[0],St=[0];e:for(;;){if(Z==null)return 0;if(gt==null)return Z.a=2,0;if(Z.l=gt,Z.a=0,xt(Z.m,gt.data,gt.w,gt.ha),!Br(Z.m,Et,Mt,St)){Z.a=3;break e}if(Z.xb=Yh,gt.width=Et[0],gt.height=Mt[0],!_s(Et[0],Mt[0],1,Z,null))break e;return 1}return t(Z.a!=0),0})(d,N)){if(N=(y=la(N.width,N.height,F.Oa,F.ba))==0){e:{N=d;n:for(;;){if(N==null){N=0;break e}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((A=N.l)!=null),t((M=A.ma)!=null),N.xb!=0){if(N.ca=M.ba,N.tb=M.tb,t(N.ca!=null),!Wa(M.Oa,A,Vs)){N.a=2;break n}if(!Ir(N,A.width)||A.da)break n;if((A.da||De(N.ca.S))&&Lt(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&Lt()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!J(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!xr(N,N.V,N.Ba,N.c,N.i,A.o,tr))break n;M.Dc=N.Ma,N=1;break e}t(N.a!=0),N=0}N=!N}N&&(y=d.a)}else y=d.a}else{if((d=new _i)==null){F=1;break t}if(d.Fa=M.na,d.P=M.P,d.qc=M.Sa,as(d,N)){if((y=la(N.width,N.height,F.Oa,F.ba))==0){if(d.Aa=0,A=F.Oa,t((M=d)!=null),A!=null){if(0<(X=0>(X=A.Md)?0:100<X?255:255*X/100)){for(et=dt=0;4>et;++et)12>(Nt=M.pb[et]).lc&&(Nt.ia=X*Wu[0>Nt.lc?0:Nt.lc]>>3),dt|=Nt.ia;dt&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=A.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(Z,gt){if(Z==null)return 0;if(gt==null)return cn(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!as(Z,gt))return 0;if(t(Z.cb),gt.ac==null||gt.ac(gt)){gt.ob&&(Z.L=0);var Et=Wl[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=gt.v-Et>>4,Z.zb=gt.j-Et>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=gt.o+15+Et>>4,Z.Hb=gt.va+15+Et>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Mt=Z.ed;for(Et=0;4>Et;++Et){var St;if(Z.Qa.Cb){var Pt=Z.Qa.Lb[Et];Z.Qa.Fb||(Pt+=Mt.Tb)}else Pt=Mt.Tb;for(St=0;1>=St;++St){var Bt=Z.gd[Et][St],Xt=Pt;if(Mt.Pc&&(Xt+=Mt.vd[0],St&&(Xt+=Mt.od[0])),0<(Xt=0>Xt?0:63<Xt?63:Xt)){var Gt=Xt;0<Mt.wb&&(Gt=4<Mt.wb?Gt>>2:Gt>>1)>9-Mt.wb&&(Gt=9-Mt.wb),1>Gt&&(Gt=1),Bt.dd=Gt,Bt.tc=2*Xt+Gt,Bt.ld=40<=Xt?2:15<=Xt?1:0}else Bt.tc=0;Bt.La=St}}}Et=0}else cn(Z,6,"Frame setup failed"),Et=Z.a;if(Et=Et==0){if(Et){Z.$c=0,0<Z.Aa||(Z.Ic=Xu);e:{Et=Z.Ic,Mt=4*(Gt=Z.za);var de=32*Gt,re=Gt+1,He=0<Z.L?Gt*(0<Z.Aa?2:1):0,ce=(Z.Aa==2?2:1)*Gt;if((Bt=Mt+832+(St=3*(16*Et+Wl[Z.L])/2*de)+(Pt=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Bt)Et=0;else{if(Bt>Z.Vb){if(Z.Vb=0,Z.Ec=o(Bt),Z.Fc=0,Z.Ec==null){Et=cn(Z,1,"no memory during frame initialization.");break e}Z.Vb=Bt}Bt=Z.Ec,Xt=Z.Fc,Z.Ac=Bt,Z.Bc=Xt,Xt+=Mt,Z.Gd=c(de,wo),Z.Hd=0,Z.rb=c(re+1,ss),Z.sb=1,Z.wa=He?c(He,Cr):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Gt),t(!0),Z.oc=Bt,Z.pc=Xt,Xt+=832,Z.ya=c(ce,Fa),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=Gt),Z.R=16*Gt,Z.B=8*Gt,Gt=(de=Wl[Z.L])*Z.R,de=de/2*Z.B,Z.sa=Bt,Z.ta=Xt+Gt,Z.qa=Z.sa,Z.ra=Z.ta+16*Et*Z.R+de,Z.Ha=Z.qa,Z.Ia=Z.ra+8*Et*Z.B+de,Z.$c=0,Xt+=St,Z.mb=Pt?Bt:null,Z.nb=Pt?Xt:null,t(Xt+Pt<=Z.Fc+Z.Vb),_a(Z),a(Z.Ac,Z.Bc,0,Mt),Et=1}}if(Et){if(gt.ka=0,gt.y=Z.sa,gt.O=Z.ta,gt.f=Z.qa,gt.N=Z.ra,gt.ea=Z.Ha,gt.Vd=Z.Ia,gt.fa=Z.R,gt.Rc=Z.B,gt.F=null,gt.J=0,!Nc){for(Et=-255;255>=Et;++Et)hl[255+Et]=0>Et?-Et:Et;for(Et=-1020;1020>=Et;++Et)Tc[1020+Et]=-128>Et?-128:127<Et?127:Et;for(Et=-112;112>=Et;++Et)qu[112+Et]=-16>Et?-16:15<Et?15:Et;for(Et=-255;510>=Et;++Et)zu[255+Et]=0>Et?0:255<Et?255:Et;Nc=1}Ns=Gi,Za=nl,Ms=pr,Cn=il,An=ia,kr=Ul,ti=ol,Ci=Es,La=P,ua=tt,ul=No,Bu=b,qh=ct,dd=yt,pd=Ds,md=os,zh=Ya,Hh=To,wi[0]=Aa,wi[1]=rl,wi[2]=za,wi[3]=So,wi[4]=Yi,wi[5]=Ha,wi[6]=Pi,wi[7]=On,wi[8]=Ga,wi[9]=Hr,Qr[0]=ws,Qr[1]=Ao,Qr[2]=Eo,Qr[3]=ra,Qr[4]=sa,Qr[5]=Lr,Qr[6]=wa,ca[0]=aa,ca[1]=sl,ca[2]=As,ca[3]=al,ca[4]=xi,ca[5]=Yr,ca[6]=Ls,Et=1}else Et=0}Et&&(Et=(function(fn,oi){for(fn.M=0;fn.M<fn.Va;++fn.M){var Ze,se=fn.Jc[fn.M&fn.Xb],Jt=fn.m,di=fn;for(Ze=0;Ze<di.za;++Ze){var Ue=Jt,rn=di,Vn=rn.Ac,Ki=rn.Bc+4*Ze,Ar=rn.zc,ei=rn.ya[rn.aa+Ze];if(rn.Qa.Bb?ei.$b=jt(Ue,rn.Pa.jb[0])?2+jt(Ue,rn.Pa.jb[2]):jt(Ue,rn.Pa.jb[1]):ei.$b=0,rn.kc&&(ei.Ad=jt(Ue,rn.Bd)),ei.Za=!jt(Ue,145)+0,ei.Za){var Mi=ei.Ob,Pr=0;for(rn=0;4>rn;++rn){var Ui,un=Ar[0+rn];for(Ui=0;4>Ui;++Ui){un=_r[Vn[Ki+Ui]][un];for(var Sn=kc[jt(Ue,un[0])];0<Sn;)Sn=kc[2*Sn+jt(Ue,un[Sn])];un=-Sn,Vn[Ki+Ui]=un}r(Mi,Pr,Vn,Ki,4),Pr+=4,Ar[0+rn]=un}}else un=jt(Ue,156)?jt(Ue,128)?1:3:jt(Ue,163)?2:0,ei.Ob[0]=un,a(Vn,Ki,un,4),a(Ar,0,un,4);ei.Dd=jt(Ue,142)?jt(Ue,114)?jt(Ue,183)?1:3:2:0}if(di.m.Ka)return cn(fn,7,"Premature end-of-partition0 encountered.");for(;fn.ja<fn.za;++fn.ja){if(di=se,Ue=(Jt=fn).rb[Jt.sb-1],Vn=Jt.rb[Jt.sb+Jt.ja],Ze=Jt.ya[Jt.aa+Jt.ja],Ki=Jt.kc?Ze.Ad:0)Ue.la=Vn.la=0,Ze.Za||(Ue.Na=Vn.Na=0),Ze.Hc=0,Ze.Gc=0,Ze.ia=0;else{var pi,Rn;if(Ue=Vn,Vn=di,Ki=Jt.Pa.Xc,Ar=Jt.ya[Jt.aa+Jt.ja],ei=Jt.pb[Ar.$b],rn=Ar.ad,Mi=0,Pr=Jt.rb[Jt.sb-1],un=Ui=0,a(rn,Mi,0,384),Ar.Za)var Wi=0,mi=Ki[3];else{Sn=o(16);var Tn=Ue.Na+Pr.Na;if(Tn=Is(Vn,Ki[1],Tn,ei.Eb,0,Sn,0),Ue.Na=Pr.Na=(0<Tn)+0,1<Tn)Ns(Sn,0,rn,Mi);else{var Li=Sn[0]+3>>3;for(Sn=0;256>Sn;Sn+=16)rn[Mi+Sn]=Li}Wi=1,mi=Ki[0]}var jn=15&Ue.la,Vi=15&Pr.la;for(Sn=0;4>Sn;++Sn){var ji=1&Vi;for(Li=Rn=0;4>Li;++Li)jn=jn>>1|(ji=(Tn=Is(Vn,mi,Tn=ji+(1&jn),ei.Sc,Wi,rn,Mi))>Wi)<<7,Rn=Rn<<2|(3<Tn?3:1<Tn?2:rn[Mi+0]!=0),Mi+=16;jn>>=4,Vi=Vi>>1|ji<<7,Ui=(Ui<<8|Rn)>>>0}for(mi=jn,Wi=Vi>>4,pi=0;4>pi;pi+=2){for(Rn=0,jn=Ue.la>>4+pi,Vi=Pr.la>>4+pi,Sn=0;2>Sn;++Sn){for(ji=1&Vi,Li=0;2>Li;++Li)Tn=ji+(1&jn),jn=jn>>1|(ji=0<(Tn=Is(Vn,Ki[2],Tn,ei.Qc,0,rn,Mi)))<<3,Rn=Rn<<2|(3<Tn?3:1<Tn?2:rn[Mi+0]!=0),Mi+=16;jn>>=2,Vi=Vi>>1|ji<<5}un|=Rn<<4*pi,mi|=jn<<4<<pi,Wi|=(240&Vi)<<pi}Ue.la=mi,Pr.la=Wi,Ar.Hc=Ui,Ar.Gc=un,Ar.ia=43690&un?0:ei.ia,Ki=!(Ui|un)}if(0<Jt.L&&(Jt.wa[Jt.Y+Jt.ja]=Jt.gd[Ze.$b][Ze.Za],Jt.wa[Jt.Y+Jt.ja].La|=!Ki),di.Ka)return cn(fn,7,"Premature end-of-file encountered.")}if(_a(fn),Jt=oi,di=1,Ze=(se=fn).D,Ue=0<se.L&&se.M>=se.zb&&se.M<=se.Va,se.Aa==0)e:{if(Ze.M=se.M,Ze.uc=Ue,Ts(se,Ze),di=1,Ze=(Rn=se.D).Nb,Ue=(un=Wl[se.L])*se.R,Vn=un/2*se.B,Sn=16*Ze*se.R,Li=8*Ze*se.B,Ki=se.sa,Ar=se.ta-Ue+Sn,ei=se.qa,rn=se.ra-Vn+Li,Mi=se.Ha,Pr=se.Ia-Vn+Li,Vi=(jn=Rn.M)==0,Ui=jn>=se.Va-1,se.Aa==2&&Ts(se,Rn),Rn.uc)for(ji=(Tn=se).D.M,t(Tn.D.uc),Rn=Tn.yb;Rn<Tn.Hb;++Rn){Wi=Rn,mi=ji;var Yn=(En=(Bi=Tn).D).Nb;pi=Bi.R;var En=En.wa[En.Y+Wi],Mr=Bi.sa,Ai=Bi.ta+16*Yn*pi+16*Wi,Ce=En.dd,Le=En.tc;if(Le!=0)if(t(3<=Le),Bi.L==1)0<Wi&&md(Mr,Ai,pi,Le+4),En.La&&Hh(Mr,Ai,pi,Le),0<mi&&pd(Mr,Ai,pi,Le+4),En.La&&zh(Mr,Ai,pi,Le);else{var Nn=Bi.B,us=Bi.qa,Gs=Bi.ra+8*Yn*Nn+8*Wi,$r=Bi.Ha,Bi=Bi.Ia+8*Yn*Nn+8*Wi;Yn=En.ld,0<Wi&&(Ci(Mr,Ai,pi,Le+4,Ce,Yn),ua(us,Gs,$r,Bi,Nn,Le+4,Ce,Yn)),En.La&&(Bu(Mr,Ai,pi,Le,Ce,Yn),dd(us,Gs,$r,Bi,Nn,Le,Ce,Yn)),0<mi&&(ti(Mr,Ai,pi,Le+4,Ce,Yn),La(us,Gs,$r,Bi,Nn,Le+4,Ce,Yn)),En.La&&(ul(Mr,Ai,pi,Le,Ce,Yn),qh(us,Gs,$r,Bi,Nn,Le,Ce,Yn))}}if(se.ia&&alert("todo:DitherRow"),Jt.put!=null){if(Rn=16*jn,jn=16*(jn+1),Vi?(Jt.y=se.sa,Jt.O=se.ta+Sn,Jt.f=se.qa,Jt.N=se.ra+Li,Jt.ea=se.Ha,Jt.W=se.Ia+Li):(Rn-=un,Jt.y=Ki,Jt.O=Ar,Jt.f=ei,Jt.N=rn,Jt.ea=Mi,Jt.W=Pr),Ui||(jn-=un),jn>Jt.o&&(jn=Jt.o),Jt.F=null,Jt.J=null,se.Fa!=null&&0<se.Fa.length&&Rn<jn&&(Jt.J=p(se,Jt,Rn,jn-Rn),Jt.F=se.mb,Jt.F==null&&Jt.F.length==0)){di=cn(se,3,"Could not decode alpha data.");break e}Rn<Jt.j&&(un=Jt.j-Rn,Rn=Jt.j,t(!(1&un)),Jt.O+=se.R*un,Jt.N+=se.B*(un>>1),Jt.W+=se.B*(un>>1),Jt.F!=null&&(Jt.J+=Jt.width*un)),Rn<jn&&(Jt.O+=Jt.v,Jt.N+=Jt.v>>1,Jt.W+=Jt.v>>1,Jt.F!=null&&(Jt.J+=Jt.v),Jt.ka=Rn-Jt.j,Jt.U=Jt.va-Jt.v,Jt.T=jn-Rn,di=Jt.put(Jt))}Ze+1!=se.Ic||Ui||(r(se.sa,se.ta-Ue,Ki,Ar+16*se.R,Ue),r(se.qa,se.ra-Vn,ei,rn+8*se.B,Vn),r(se.Ha,se.Ia-Vn,Mi,Pr+8*se.B,Vn))}if(!di)return cn(fn,6,"Output aborted.")}return 1})(Z,gt)),gt.bc!=null&&gt.bc(gt),Et&=1}return Et?(Z.cb=0,Et):0})(d,N)||(y=d.a)}}else y=d.a}y==0&&F.Oa!=null&&F.Oa.fd&&(y=ju(F.ba))}F=y}V=F!=0?null:11>V?K.f.RGBA.eb:K.f.kb.y}else V=null;return V};var Mc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(k,G){for(var T="",R=0;R<4;R++)T+=String.fromCharCode(k[G++]);return T}function _(k,G){return k[G+0]|k[G+1]<<8}function E(k,G){return(k[G+0]|k[G+1]<<8|k[G+2]<<16)>>>0}function x(k,G){return(k[G+0]|k[G+1]<<8|k[G+2]<<16|k[G+3]<<24)>>>0}new f;var w=[0],j=[0],q=[],U=new f,B=n,at=(function(k,G){var T={},R=0,L=!1,st=0,bt=0;if(T.frames=[],!(function(O,Y){for(var $=0;$<4;$++)if(O[Y+$]!="RIFF".charCodeAt($))return!0;return!1})(k,G)){for(x(k,G+=4),G+=8;G<k.length;){var rt=m(k,G),ft=x(k,G+=4);G+=4;var ht=ft+(1&ft);switch(rt){case"VP8 ":case"VP8L":T.frames[R]===void 0&&(T.frames[R]={}),(Q=T.frames[R]).src_off=L?bt:G-8,Q.src_size=st+ft+8,R++,L&&(L=!1,st=0,bt=0);break;case"VP8X":(Q=T.header={}).feature_flags=k[G];var xt=G+4;Q.canvas_width=1+E(k,xt),xt+=3,Q.canvas_height=1+E(k,xt),xt+=3;break;case"ALPH":L=!0,st=ht+8,bt=G-8;break;case"ANIM":(Q=T.header).bgcolor=x(k,G),xt=G+4,Q.loop_count=_(k,xt),xt+=2;break;case"ANMF":var zt,Q;(Q=T.frames[R]={}).offset_x=2*E(k,G),G+=3,Q.offset_y=2*E(k,G),G+=3,Q.width=1+E(k,G),G+=3,Q.height=1+E(k,G),G+=3,Q.duration=E(k,G),G+=3,zt=k[G++],Q.dispose=1&zt,Q.blend=zt>>1&1}rt!="ANMF"&&(G+=ht)}return T}})(B,0);at.response=B,at.rgbaoutput=!0,at.dataurl=!1;var it=at.header?at.header:null,nt=at.frames?at.frames:null;if(it){it.loop_counter=it.loop_count,w=[it.canvas_height],j=[it.canvas_width];for(var wt=0;wt<nt.length&&nt[wt].blend!=0;wt++);}var Tt=nt[0],z=U.WebPDecodeRGBA(B,Tt.src_off,Tt.src_size,j,w);Tt.rgba=z,Tt.imgwidth=j[0],Tt.imgheight=w[0];for(var D=0;D<j[0]*w[0]*4;D++)q[D]=z[D];return this.width=j,this.height=w,this.data=q,this}(function(n){var t,e,r,a,o,c,h,f,m,_=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new f,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new c,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new c,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new E(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,m=new _}]);var E=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=O;Object.defineProperty(this,"pdf",{get:function(){return Y}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(J){$=!!J}});var ot=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ot},set:function(J){ot=!!J}});var ut=0;Object.defineProperty(this,"posX",{get:function(){return ut},set:function(J){isNaN(J)||(ut=J)}});var mt=0;Object.defineProperty(this,"posY",{get:function(){return mt},set:function(J){isNaN(J)||(mt=J)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(J){var Zt;typeof J=="number"?Zt=[J,J,J,J]:((Zt=new Array(4))[0]=J[0],Zt[1]=J.length>=2?J[1]:Zt[0],Zt[2]=J.length>=3?J[2]:Zt[0],Zt[3]=J.length>=4?J[3]:Zt[1]),m.margin=Zt}});var kt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return kt},set:function(J){kt=J}});var Rt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Rt},set:function(J){Rt=J}});var jt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return jt},set:function(J){jt=J}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(J){J instanceof _&&(m=J)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(J){m.path=J}});var Qt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qt},set:function(J){Qt=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var Zt;Zt=x(J),this.ctx.fillStyle=Zt.style,this.ctx.isFillTransparent=Zt.a===0,this.ctx.fillOpacity=Zt.a,this.pdf.setFillColor(Zt.r,Zt.g,Zt.b,{a:Zt.a}),this.pdf.setTextColor(Zt.r,Zt.g,Zt.b,{a:Zt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var Zt=x(J);this.ctx.strokeStyle=Zt.style,this.ctx.isStrokeTransparent=Zt.a===0,this.ctx.strokeOpacity=Zt.a,Zt.a===0?this.pdf.setDrawColor(255,255,255):(Zt.a,this.pdf.setDrawColor(Zt.r,Zt.g,Zt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var ee=null,te=null,ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return ue},set:function(J){ee=null,te=null,ue=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var Zt;if(this.ctx.font=J,(Zt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Ye=Zt[1];Zt[2];var Te=Zt[3],Ft=Zt[4];Zt[5];var ie=Zt[6],ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ft)[2];Ft=Math.floor(ne==="px"?parseFloat(Ft)*this.pdf.internal.scaleFactor:ne==="em"?parseFloat(Ft)*this.pdf.getFontSize():parseFloat(Ft)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ft);var xe=(function(ge){var ci,Qe,Ne=[],Me=ge.trim();if(Me==="")return Pg;if(Me in Ub)return[Ub[Me]];for(;Me!=="";){switch(Qe=null,ci=(Me=jb(Me)).charAt(0)){case'"':case"'":Qe=yk(Me.substring(1),ci);break;default:Qe=vk(Me)}if(Qe===null||(Ne.push(Qe[0]),(Me=jb(Qe[1]))!==""&&Me.charAt(0)!==","))return Pg;Me=Me.replace(/^,/,"")}return Ne})(ie);if(this.fontFaces){var _e=(function(ge,ci){var Qe=ge.getFontList(),Ne=JSON.stringify(Qe);if(ee===null||te!==Ne){var Me=(function(We){var we=[];return Object.keys(We).forEach(function(In){We[In].forEach(function(De){var Pe=null;switch(De){case"bold":Pe={family:In,weight:"bold"};break;case"italic":Pe={family:In,style:"italic"};break;case"bolditalic":Pe={family:In,weight:"bold",style:"italic"};break;case"":case"normal":Pe={family:In}}Pe!==null&&(Pe.ref={name:In,style:De},we.push(Pe))})}),we})(Qe);ee=(function(We){for(var we={},In=0;In<We.length;++In){var De=Dg(We[In]),Pe=De.family,Ln=De.stretch,be=De.style,ye=De.weight;we[Pe]=we[Pe]||{},we[Pe][Ln]=we[Pe][Ln]||{},we[Pe][Ln][be]=we[Pe][Ln][be]||{},we[Pe][Ln][be][ye]=De}return we})(Me.concat(ci)),te=Ne}return ee})(this.pdf,this.fontFaces),Ke=xe.map(function(ge){return{family:ge,stretch:"normal",weight:Te,style:Ye}}),Je=(function(ge,ci,Qe){for(var Ne=(Qe=Qe||{}).defaultFontFamily||"times",Me=Object.assign({},gk,Qe.genericFontFamilies||{}),We=null,we=null,In=0;In<ci.length;++In)if(Me[(We=Dg(ci[In])).family]&&(We.family=Me[We.family]),ge.hasOwnProperty(We.family)){we=ge[We.family];break}if(!(we=we||ge[Ne]))throw new Error("Could not find a font-family for the rule '"+Vb(We)+"' and default family '"+Ne+"'.");if(we=(function(De,Pe){if(Pe[De])return Pe[De];var Ln=A0[De],be=Ln<=A0.normal?-1:1,ye=Mb(Pe,PA,Ln,be);if(!ye)throw new Error("Could not find a matching font-stretch value for "+De);return ye})(We.stretch,we),we=(function(De,Pe){if(Pe[De])return Pe[De];for(var Ln=DA[De],be=0;be<Ln.length;++be)if(Pe[Ln[be]])return Pe[Ln[be]];throw new Error("Could not find a matching font-style for "+De)})(We.style,we),!(we=(function(De,Pe){if(Pe[De])return Pe[De];if(De===400&&Pe[500])return Pe[500];if(De===500&&Pe[400])return Pe[400];var Ln=mk[De],be=Mb(Pe,MA,Ln,De<400?-1:1);if(!be)throw new Error("Could not find a matching font-weight for value "+De);return be})(We.weight,we)))throw new Error("Failed to resolve a font for the rule '"+Vb(We)+"'.");return we})(_e,Ke);this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var je="";(Te==="bold"||parseInt(Te,10)>=700||Ye==="bold")&&(je="bold"),Ye==="italic"&&(je+="italic"),je.length===0&&(je="normal");for(var sn="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},me=0;me<xe.length;me++){if(this.pdf.internal.getFont(xe[me],je,{noFallback:!0,disableWarning:!0})!==void 0){sn=xe[me];break}if(je==="bolditalic"&&this.pdf.internal.getFont(xe[me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)sn=xe[me],je="bold";else if(this.pdf.internal.getFont(xe[me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){sn=xe[me],je="normal";break}}if(sn===""){for(var ze=0;ze<xe.length;ze++)if(Xe[xe[ze]]){sn=Xe[xe[ze]];break}}sn=sn===""?"Times":sn,this.pdf.setFont(sn,je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};E.prototype.setLineDash=function(O){this.lineDash=O},E.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},E.prototype.fill=function(){nt.call(this,"fill",!1)},E.prototype.stroke=function(){nt.call(this,"stroke",!1)},E.prototype.beginPath=function(){this.path=[{type:"begin"}]},E.prototype.moveTo=function(O,Y){if(isNaN(O)||isNaN(Y))throw ui.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new c(O,Y));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new c(O,Y)},E.prototype.closePath=function(){var O=new c(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Qn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){O=new c(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(O.x,O.y)},E.prototype.lineTo=function(O,Y){if(isNaN(O)||isNaN(Y))throw ui.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new c(O,Y));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new c($.x,$.y)},E.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),nt.call(this,null,!0)},E.prototype.quadraticCurveTo=function(O,Y,$,ot){if(isNaN($)||isNaN(ot)||isNaN(O)||isNaN(Y))throw ui.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ut=this.ctx.transform.applyToPoint(new c($,ot)),mt=this.ctx.transform.applyToPoint(new c(O,Y));this.path.push({type:"qct",x1:mt.x,y1:mt.y,x:ut.x,y:ut.y}),this.ctx.lastPoint=new c(ut.x,ut.y)},E.prototype.bezierCurveTo=function(O,Y,$,ot,ut,mt){if(isNaN(ut)||isNaN(mt)||isNaN(O)||isNaN(Y)||isNaN($)||isNaN(ot))throw ui.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var kt=this.ctx.transform.applyToPoint(new c(ut,mt)),Rt=this.ctx.transform.applyToPoint(new c(O,Y)),jt=this.ctx.transform.applyToPoint(new c($,ot));this.path.push({type:"bct",x1:Rt.x,y1:Rt.y,x2:jt.x,y2:jt.y,x:kt.x,y:kt.y}),this.ctx.lastPoint=new c(kt.x,kt.y)},E.prototype.arc=function(O,Y,$,ot,ut,mt){if(isNaN(O)||isNaN(Y)||isNaN($)||isNaN(ot)||isNaN(ut))throw ui.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mt=!!mt,!this.ctx.transform.isIdentity){var kt=this.ctx.transform.applyToPoint(new c(O,Y));O=kt.x,Y=kt.y;var Rt=this.ctx.transform.applyToPoint(new c(0,$)),jt=this.ctx.transform.applyToPoint(new c(0,0));$=Math.sqrt(Math.pow(Rt.x-jt.x,2)+Math.pow(Rt.y-jt.y,2))}Math.abs(ut-ot)>=2*Math.PI&&(ot=0,ut=2*Math.PI),this.path.push({type:"arc",x:O,y:Y,radius:$,startAngle:ot,endAngle:ut,counterclockwise:mt})},E.prototype.arcTo=function(O,Y,$,ot,ut){throw new Error("arcTo not implemented.")},E.prototype.rect=function(O,Y,$,ot){if(isNaN(O)||isNaN(Y)||isNaN($)||isNaN(ot))throw ui.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,Y),this.lineTo(O+$,Y),this.lineTo(O+$,Y+ot),this.lineTo(O,Y+ot),this.lineTo(O,Y),this.lineTo(O+$,Y),this.lineTo(O,Y)},E.prototype.fillRect=function(O,Y,$,ot){if(isNaN(O)||isNaN(Y)||isNaN($)||isNaN(ot))throw ui.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ut={};this.lineCap!=="butt"&&(ut.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ut.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,Y,$,ot),this.fill(),ut.hasOwnProperty("lineCap")&&(this.lineCap=ut.lineCap),ut.hasOwnProperty("lineJoin")&&(this.lineJoin=ut.lineJoin)}},E.prototype.strokeRect=function(O,Y,$,ot){if(isNaN(O)||isNaN(Y)||isNaN($)||isNaN(ot))throw ui.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(O,Y,$,ot),this.stroke())},E.prototype.clearRect=function(O,Y,$,ot){if(isNaN(O)||isNaN(Y)||isNaN($)||isNaN(ot))throw ui.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,Y,$,ot))},E.prototype.save=function(O){O=typeof O!="boolean"||O;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ot=new _(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ot}},E.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},E.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(O){var Y,$,ot,ut;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))Y=0,$=0,ot=0,ut=0;else{var mt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(mt!==null)Y=parseInt(mt[1]),$=parseInt(mt[2]),ot=parseInt(mt[3]),ut=1;else if((mt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)Y=parseInt(mt[1]),$=parseInt(mt[2]),ot=parseInt(mt[3]),ut=parseFloat(mt[4]);else{if(ut=1,typeof O=="string"&&O.charAt(0)!=="#"){var kt=new xA(O);O=kt.ok?kt.toHex():"#000000"}O.length===4?(Y=O.substring(1,2),Y+=Y,$=O.substring(2,3),$+=$,ot=O.substring(3,4),ot+=ot):(Y=O.substring(1,3),$=O.substring(3,5),ot=O.substring(5,7)),Y=parseInt(Y,16),$=parseInt($,16),ot=parseInt(ot,16)}}return{r:Y,g:$,b:ot,a:ut,style:O}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};E.prototype.fillText=function(O,Y,$,ot){if(isNaN(Y)||isNaN($)||typeof O!="string")throw ui.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ot=isNaN(ot)?void 0:ot,!w.call(this)){var ut=ht(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;R.call(this,{text:O,x:Y,y:$,scale:mt,angle:ut,align:this.textAlign,maxWidth:ot})}},E.prototype.strokeText=function(O,Y,$,ot){if(isNaN(Y)||isNaN($)||typeof O!="string")throw ui.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ot=isNaN(ot)?void 0:ot;var ut=ht(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;R.call(this,{text:O,x:Y,y:$,scale:mt,renderingMode:"stroke",angle:ut,align:this.textAlign,maxWidth:ot})}},E.prototype.measureText=function(O){if(typeof O!="string")throw ui.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,$=this.pdf.internal.scaleFactor,ot=Y.internal.getFontSize(),ut=Y.getStringUnitWidth(O)*ot/Y.internal.scaleFactor;return new function(mt){var kt=(mt=mt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return kt}}),this}({width:ut*=Math.round(96*$/72*1e4)/1e4})},E.prototype.scale=function(O,Y){if(isNaN(O)||isNaN(Y))throw ui.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new f(O,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply($)},E.prototype.rotate=function(O){if(isNaN(O))throw ui.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new f(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},E.prototype.translate=function(O,Y){if(isNaN(O)||isNaN(Y))throw ui.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new f(1,0,0,1,O,Y);this.ctx.transform=this.ctx.transform.multiply($)},E.prototype.transform=function(O,Y,$,ot,ut,mt){if(isNaN(O)||isNaN(Y)||isNaN($)||isNaN(ot)||isNaN(ut)||isNaN(mt))throw ui.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var kt=new f(O,Y,$,ot,ut,mt);this.ctx.transform=this.ctx.transform.multiply(kt)},E.prototype.setTransform=function(O,Y,$,ot,ut,mt){O=isNaN(O)?1:O,Y=isNaN(Y)?0:Y,$=isNaN($)?0:$,ot=isNaN(ot)?1:ot,ut=isNaN(ut)?0:ut,mt=isNaN(mt)?0:mt,this.ctx.transform=new f(O,Y,$,ot,ut,mt)};var q=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};E.prototype.drawImage=function(O,Y,$,ot,ut,mt,kt,Rt,jt){var Qt=this.pdf.getImageProperties(O),ee=1,te=1,ue=1,J=1;ot!==void 0&&Rt!==void 0&&(ue=Rt/ot,J=jt/ut,ee=Qt.width/ot*Rt/ot,te=Qt.height/ut*jt/ut),mt===void 0&&(mt=Y,kt=$,Y=0,$=0),ot!==void 0&&Rt===void 0&&(Rt=ot,jt=ut),ot===void 0&&Rt===void 0&&(Rt=Qt.width,jt=Qt.height);var Zt=this.ctx.transform.decompose(),Ye=ht(Zt.rotate.shx),Te=new f,Ft=(Te=(Te=(Te=Te.multiply(Zt.translate)).multiply(Zt.skew)).multiply(Zt.scale)).applyToRectangle(new h(mt-Y*ue,kt-$*J,ot*ee,ut*te));if(this.autoPaging){for(var ie,ne=U.call(this,Ft),xe=[],_e=0;_e<ne.length;_e+=1)xe.indexOf(ne[_e])===-1&&xe.push(ne[_e]);it(xe);for(var Ke=xe[0],Je=xe[xe.length-1],je=Ke;je<Je+1;je++){this.pdf.setPage(je);var sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=je===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ge=je===1?0:me+(je-2)*ze;if(this.ctx.clip_path.length!==0){var ci=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=at(ie,this.posX+this.margin[3],-ge+Xe+this.ctx.prevPageLastElemOffset),wt.call(this,"fill",!0),this.path=ci}var Qe=JSON.parse(JSON.stringify(Ft));Qe=at([Qe],this.posX+this.margin[3],-ge+Xe+this.ctx.prevPageLastElemOffset)[0];var Ne=(je>Ke||je<Je)&&q.call(this);Ne&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sn,ze,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,Ye),Ne&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Ye)};var U=function(O,Y,$){var ot=[];Y=Y||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ut=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ot.push(Math.floor((O.y+ut)/$)+1);break;case"arc":ot.push(Math.floor((O.y+ut-O.radius)/$)+1),ot.push(Math.floor((O.y+ut+O.radius)/$)+1);break;case"qct":var mt=xt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ot.push(Math.floor((mt.y+ut)/$)+1),ot.push(Math.floor((mt.y+mt.h+ut)/$)+1);break;case"bct":var kt=zt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ot.push(Math.floor((kt.y+ut)/$)+1),ot.push(Math.floor((kt.y+kt.h+ut)/$)+1);break;case"rect":ot.push(Math.floor((O.y+ut)/$)+1),ot.push(Math.floor((O.y+O.h+ut)/$)+1)}for(var Rt=0;Rt<ot.length;Rt+=1)for(;this.pdf.internal.getNumberOfPages()<ot[Rt];)B.call(this);return ot},B=function(){var O=this.fillStyle,Y=this.strokeStyle,$=this.font,ot=this.lineCap,ut=this.lineWidth,mt=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=Y,this.font=$,this.lineCap=ot,this.lineWidth=ut,this.lineJoin=mt},at=function(O,Y,$){for(var ot=0;ot<O.length;ot++)switch(O[ot].type){case"bct":O[ot].x2+=Y,O[ot].y2+=$;case"qct":O[ot].x1+=Y,O[ot].y1+=$;default:O[ot].x+=Y,O[ot].y+=$}return O},it=function(O){return O.sort(function(Y,$){return Y-$})},nt=function(O,Y){var $=this.fillStyle,ot=this.strokeStyle,ut=this.lineCap,mt=this.lineWidth,kt=Math.abs(mt*this.ctx.transform.scaleX),Rt=this.lineJoin;if(this.autoPaging){for(var jt,Qt,ee=JSON.parse(JSON.stringify(this.path)),te=JSON.parse(JSON.stringify(this.path)),ue=[],J=0;J<te.length;J++)if(te[J].x!==void 0)for(var Zt=U.call(this,te[J]),Ye=0;Ye<Zt.length;Ye+=1)ue.indexOf(Zt[Ye])===-1&&ue.push(Zt[Ye]);for(var Te=0;Te<ue.length;Te++)for(;this.pdf.internal.getNumberOfPages()<ue[Te];)B.call(this);it(ue);for(var Ft=ue[0],ie=ue[ue.length-1],ne=Ft;ne<ie+1;ne++){this.pdf.setPage(ne),this.fillStyle=$,this.strokeStyle=ot,this.lineCap=ut,this.lineWidth=kt,this.lineJoin=Rt;var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=ne===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=ne===1?0:Ke+(ne-2)*Je;if(this.ctx.clip_path.length!==0){var sn=this.path;jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=at(jt,this.posX+this.margin[3],-je+_e+this.ctx.prevPageLastElemOffset),wt.call(this,O,!0),this.path=sn}if(Qt=JSON.parse(JSON.stringify(ee)),this.path=at(Qt,this.posX+this.margin[3],-je+_e+this.ctx.prevPageLastElemOffset),Y===!1||ne===0){var Xe=(ne>Ft||ne<ie)&&q.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,Je,null).clip().discardPath()),wt.call(this,O,Y),Xe&&this.pdf.restoreGraphicsState()}this.lineWidth=mt}this.path=ee}else this.lineWidth=kt,wt.call(this,O,Y),this.lineWidth=mt},wt=function(O,Y){if((O!=="stroke"||Y||!j.call(this))&&(O==="stroke"||Y||!w.call(this))){for(var $,ot,ut=[],mt=this.path,kt=0;kt<mt.length;kt++){var Rt=mt[kt];switch(Rt.type){case"begin":ut.push({begin:!0});break;case"close":ut.push({close:!0});break;case"mt":ut.push({start:Rt,deltas:[],abs:[]});break;case"lt":var jt=ut.length;if(mt[kt-1]&&!isNaN(mt[kt-1].x)&&($=[Rt.x-mt[kt-1].x,Rt.y-mt[kt-1].y],jt>0)){for(;jt>=0;jt--)if(ut[jt-1].close!==!0&&ut[jt-1].begin!==!0){ut[jt-1].deltas.push($),ut[jt-1].abs.push(Rt);break}}break;case"bct":$=[Rt.x1-mt[kt-1].x,Rt.y1-mt[kt-1].y,Rt.x2-mt[kt-1].x,Rt.y2-mt[kt-1].y,Rt.x-mt[kt-1].x,Rt.y-mt[kt-1].y],ut[ut.length-1].deltas.push($);break;case"qct":var Qt=mt[kt-1].x+2/3*(Rt.x1-mt[kt-1].x),ee=mt[kt-1].y+2/3*(Rt.y1-mt[kt-1].y),te=Rt.x+2/3*(Rt.x1-Rt.x),ue=Rt.y+2/3*(Rt.y1-Rt.y),J=Rt.x,Zt=Rt.y;$=[Qt-mt[kt-1].x,ee-mt[kt-1].y,te-mt[kt-1].x,ue-mt[kt-1].y,J-mt[kt-1].x,Zt-mt[kt-1].y],ut[ut.length-1].deltas.push($);break;case"arc":ut.push({deltas:[],abs:[],arc:!0}),Array.isArray(ut[ut.length-1].abs)&&ut[ut.length-1].abs.push(Rt)}}ot=Y?null:O==="stroke"?"stroke":"fill";for(var Ye=!1,Te=0;Te<ut.length;Te++)if(ut[Te].arc)for(var Ft=ut[Te].abs,ie=0;ie<Ft.length;ie++){var ne=Ft[ie];ne.type==="arc"?D.call(this,ne.x,ne.y,ne.radius,ne.startAngle,ne.endAngle,ne.counterclockwise,void 0,Y,!Ye):L.call(this,ne.x,ne.y),Ye=!0}else if(ut[Te].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(ut[Te].begin!==!0){var xe=ut[Te].start.x,_e=ut[Te].start.y;st.call(this,ut[Te].deltas,xe,_e),Ye=!0}ot&&k.call(this,ot),Y&&G.call(this)}},Tt=function(O){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-$;case"top":return O+Y-$;case"hanging":return O+Y-2*$;case"middle":return O+Y/2-$;default:return O}},z=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};E.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(Y,$){this.colorStops.push([Y,$])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},E.prototype.createPattern=function(){return this.createLinearGradient()},E.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(O,Y,$,ot,ut,mt,kt,Rt,jt){for(var Qt=rt.call(this,$,ot,ut,mt),ee=0;ee<Qt.length;ee++){var te=Qt[ee];ee===0&&(jt?T.call(this,te.x1+O,te.y1+Y):L.call(this,te.x1+O,te.y1+Y)),bt.call(this,O,Y,te.x2,te.y2,te.x3,te.y3,te.x4,te.y4)}Rt?G.call(this):k.call(this,kt)},k=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(O,Y){this.pdf.internal.out(e(O)+" "+r(Y)+" m")},R=function(O){var Y;switch(O.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var $,ot,ut,mt=this.pdf.getTextDimensions(O.text),kt=Tt.call(this,O.y),Rt=z.call(this,kt)-mt.h,jt=this.ctx.transform.applyToPoint(new c(O.x,kt));if(this.autoPaging){var Qt=this.ctx.transform.decompose(),ee=new f;ee=(ee=(ee=ee.multiply(Qt.translate)).multiply(Qt.skew)).multiply(Qt.scale);for(var te=this.ctx.transform.applyToRectangle(new h(O.x,kt,mt.w,mt.h)),ue=ee.applyToRectangle(new h(O.x,Rt,mt.w,mt.h)),J=U.call(this,ue),Zt=[],Ye=0;Ye<J.length;Ye+=1)Zt.indexOf(J[Ye])===-1&&Zt.push(J[Ye]);it(Zt);for(var Te=Zt[0],Ft=Zt[Zt.length-1],ie=Te;ie<Ft+1;ie++){this.pdf.setPage(ie);var ne=ie===1?this.posY+this.margin[0]:this.margin[0],xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],Ke=_e-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],je=Je-this.margin[3],sn=ie===1?0:xe+(ie-2)*Ke;if(this.ctx.clip_path.length!==0){var Xe=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=at($,this.posX+this.margin[3],-1*sn+ne),wt.call(this,"fill",!0),this.path=Xe}var me=at([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-sn+ne+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ot*O.scale),ut=this.lineWidth,this.lineWidth=ut*O.scale);var ze=this.autoPaging!=="text";if(ze||me.y+me.h<=_e){if(ze||me.y>=ne&&me.x<=Je){var ge=ze?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Je-me.x)[0],ci=at([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-sn+ne+this.ctx.prevPageLastElemOffset)[0],Qe=ze&&(ie>Te||ie<Ft)&&q.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,Ke,null).clip().discardPath()),this.pdf.text(ge,ci.x,ci.y,{angle:O.angle,align:Y,renderingMode:O.renderingMode}),Qe&&this.pdf.restoreGraphicsState()}}else me.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-me.y);O.scale>=.01&&(this.pdf.setFontSize(ot),this.lineWidth=ut)}}else O.scale>=.01&&(ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ot*O.scale),ut=this.lineWidth,this.lineWidth=ut*O.scale),this.pdf.text(O.text,jt.x+this.posX,jt.y+this.posY,{angle:O.angle,align:Y,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(ot),this.lineWidth=ut)},L=function(O,Y,$,ot){$=$||0,ot=ot||0,this.pdf.internal.out(e(O+$)+" "+r(Y+ot)+" l")},st=function(O,Y,$){return this.pdf.lines(O,Y,$,null,null)},bt=function(O,Y,$,ot,ut,mt,kt,Rt){this.pdf.internal.out([t(a($+O)),t(o(ot+Y)),t(a(ut+O)),t(o(mt+Y)),t(a(kt+O)),t(o(Rt+Y)),"c"].join(" "))},rt=function(O,Y,$,ot){for(var ut=2*Math.PI,mt=Math.PI/2;Y>$;)Y-=ut;var kt=Math.abs($-Y);kt<ut&&ot&&(kt=ut-kt);for(var Rt=[],jt=ot?-1:1,Qt=Y;kt>1e-5;){var ee=Qt+jt*Math.min(kt,mt);Rt.push(ft.call(this,O,Qt,ee)),kt-=Math.abs(ee-Qt),Qt=ee}return Rt},ft=function(O,Y,$){var ot=($-Y)/2,ut=O*Math.cos(ot),mt=O*Math.sin(ot),kt=ut,Rt=-mt,jt=kt*kt+Rt*Rt,Qt=jt+kt*ut+Rt*mt,ee=4/3*(Math.sqrt(2*jt*Qt)-Qt)/(kt*mt-Rt*ut),te=kt-ee*Rt,ue=Rt+ee*kt,J=te,Zt=-ue,Ye=ot+Y,Te=Math.cos(Ye),Ft=Math.sin(Ye);return{x1:O*Math.cos(Y),y1:O*Math.sin(Y),x2:te*Te-ue*Ft,y2:te*Ft+ue*Te,x3:J*Te-Zt*Ft,y3:J*Ft+Zt*Te,x4:O*Math.cos($),y4:O*Math.sin($)}},ht=function(O){return 180*O/Math.PI},xt=function(O,Y,$,ot,ut,mt){var kt=O+.5*($-O),Rt=Y+.5*(ot-Y),jt=ut+.5*($-ut),Qt=mt+.5*(ot-mt),ee=Math.min(O,ut,kt,jt),te=Math.max(O,ut,kt,jt),ue=Math.min(Y,mt,Rt,Qt),J=Math.max(Y,mt,Rt,Qt);return new h(ee,ue,te-ee,J-ue)},zt=function(O,Y,$,ot,ut,mt,kt,Rt){var jt,Qt,ee,te,ue,J,Zt,Ye,Te,Ft,ie,ne,xe,_e,Ke=$-O,Je=ot-Y,je=ut-$,sn=mt-ot,Xe=kt-ut,me=Rt-mt;for(Qt=0;Qt<41;Qt++)Te=(Zt=(ee=O+(jt=Qt/40)*Ke)+jt*((ue=$+jt*je)-ee))+jt*(ue+jt*(ut+jt*Xe-ue)-Zt),Ft=(Ye=(te=Y+jt*Je)+jt*((J=ot+jt*sn)-te))+jt*(J+jt*(mt+jt*me-J)-Ye),Qt==0?(ie=Te,ne=Ft,xe=Te,_e=Ft):(ie=Math.min(ie,Te),ne=Math.min(ne,Ft),xe=Math.max(xe,Te),_e=Math.max(_e,Ft));return new h(Math.round(ie),Math.round(ne),Math.round(xe-ie),Math.round(_e-ne))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,Y,$=(O=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:Y}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Se.API),(function(n){var t=function(c){var h,f,m,_,E,x,w,j,q,U;for(f=[],m=0,_=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;_>m;m+=4)(E=(c.charCodeAt(m)<<24)+(c.charCodeAt(m+1)<<16)+(c.charCodeAt(m+2)<<8)+c.charCodeAt(m+3))!==0?(x=(E=((E=((E=((E=(E-(U=E%85))/85)-(q=E%85))/85)-(j=E%85))/85)-(w=E%85))/85)%85,f.push(x+33,w+33,j+33,q+33,U+33)):f.push(122);return(function(B,at){for(var it=at;it>0;it--)B.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},e=function(c){var h,f,m,_,E,x=String,w="length",j=255,q="charCodeAt",U="slice",B="replace";for(c[U](-2),c=c[U](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),m=[],_=0,E=(c+=h="uuuuu"[U](c[w]%5||5))[w];E>_;_+=5)f=52200625*(c[q](_)-33)+614125*(c[q](_+1)-33)+7225*(c[q](_+2)-33)+85*(c[q](_+3)-33)+(c[q](_+4)-33),m.push(j&f>>24,j&f>>16,j&f>>8,j&f);return(function(at,it){for(var nt=it;nt>0;nt--)at.pop()})(m,h[w]),x.fromCharCode.apply(x,m)},r=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var f="",m=0;m<c.length;m+=2)f+=String.fromCharCode("0x"+(c[m]+c[m+1]));return f},o=function(c){for(var h=new Uint8Array(c.length),f=c.length;f--;)h[f]=c.charCodeAt(f);return(h=m0(h)).reduce(function(m,_){return m+String.fromCharCode(_)},"")};n.processDataByFilters=function(c,h){var f=0,m=c||"",_=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":m=e(m),_.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),_.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=a(m),_.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=r(m),_.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=o(m),_.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:m,reverseChain:_.reverse().join(" ")}}})(Se.API),(function(n){n.loadFile=function(t,e,r){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(f,m,_){var E=new XMLHttpRequest,x=0,w=function(j){var q=j.length,U=[],B=String.fromCharCode;for(x=0;x<q;x+=1)U.push(B(255&j.charCodeAt(x)));return U.join("")};if(E.open("GET",f,!m),E.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(E.onload=function(){E.status===200?_(w(this.responseText)):_(void 0)}),E.send(null),m&&E.status===200)return w(E.responseText)})(a,o,c)}catch{}return h})(t,e,r)},n.loadImageFile=n.loadFile})(Se.API),(function(n){function t(){return(Ge.html2canvas?Promise.resolve(Ge.html2canvas):gg(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(Ge.DOMPurify?Promise.resolve(Ge.DOMPurify):gg(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Qn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(h,f){var m=document.createElement(h);for(var _ in f.className&&(m.className=f.className),f.innerHTML&&f.dompurify&&(m.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)m.style[_]=f.style[_];return m},o=function h(f,m){for(var _=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),E=f.firstChild;E;E=E.nextSibling)m!==!0&&E.nodeType===1&&E.nodeName==="SCRIPT"||_.appendChild(h(E,m));return f.nodeType===1&&(f.nodeName==="CANVAS"?(_.width=f.width,_.height=f.height,_.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(_.value=f.value),_.addEventListener("load",function(){_.scrollTop=f.scrollTop,_.scrollLeft=f.scrollLeft},!0)),_},c=function h(f){var m=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),_=h.convert(Promise.resolve(),m);return(_=_.setProgress(1,h,1,[h])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,f){return h.__proto__=f||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(m){switch(r(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(e).then(function(m){return this.set({src:a("div",{innerHTML:h,dompurify:m})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,f(this.prop.container,m)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var m=this.opt.jsPDF,_=this.opt.fontFaces,E=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:E,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=_,_)for(var w=0;w<_.length;++w){var j=_[w],q=j.src.find(function(U){return U.format==="truetype"});q&&m.addFont(q.url,j.ref.name,j.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,m.context2d.save(!0),f(this.prop.container,x)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,f,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},c.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(m){if(m in c.template.prop)return function(){this.prop[m]=h[m]};switch(m){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[m]=h[m]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(h,f){return this.then(function(){var m=h in c.template.prop?this.prop[h]:this.opt[h];return f?f(m):m})},c.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function f(m,_){return Math.floor(m*_/72*96)}return this.then(function(){(h=h||Se.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,f,m,_){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),m!=null&&(this.progress.n=m),_!=null&&(this.progress.stack=_),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,f,m,_){return this.setProgress(h?this.progress.val+h:null,f||null,m?this.progress.n+m:null,_?this.progress.stack.concat(_):null)},c.prototype.then=function(h,f){var m=this;return this.thenCore(h,f,function(_,E){return m.updateProgress(null,null,1,[_]),Promise.prototype.then.call(this,function(x){return m.updateProgress(null,_),x}).then(_,E).then(function(x){return m.updateProgress(1),x})})},c.prototype.thenCore=function(h,f,m){m=m||Promise.prototype.then;var _=this;h&&(h=h.bind(_)),f&&(f=f.bind(_));var E=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?_:c.convert(Object.assign({},_),Promise.prototype),x=m.call(E,h,f);return c.convert(x,_.__proto__)},c.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},c.prototype.thenList=function(h){var f=this;return h.forEach(function(m){f=f.thenCore(m)}),f},c.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return c.convert(f,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Se.getPageSize=function(h,f,m){if(Qn(h)==="object"){var _=h;h=_.orientation,f=_.unit||f,m=_.format||m}f=f||"mm",m=m||"a4",h=(""+(h||"P")).toLowerCase();var E,x=(""+m).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":E=1;break;case"mm":E=72/25.4;break;case"cm":E=72/2.54;break;case"in":E=72;break;case"px":E=.75;break;case"pc":case"em":E=12;break;case"ex":E=6;break;default:throw"Invalid unit: "+f}var j,q=0,U=0;if(w.hasOwnProperty(x))q=w[x][1]/E,U=w[x][0]/E;else try{q=m[1],U=m[0]}catch{throw new Error("Invalid format: "+m)}if(h==="p"||h==="portrait")h="p",U>q&&(j=U,U=q,q=j);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",q>U&&(j=U,U=q,q=j)}return{width:U,height:q,unit:f,k:E,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Dg):null;var m=new c(f);return f.worker?m:m.from(h).doCallback()}})(Se.API),Se.API.addJS=function(n){return Fb=n,this.internal.events.subscribe("postPutResources",function(){_p=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_p+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Bb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Fb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_p!==void 0&&Bb!==void 0&&this.internal.out("/Names <</JavaScript "+_p+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],h=r.exec(c);if(h!=null){var f=h[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,_=[];for(o=0;o<m;o++){var E=e.internal.newObject();_.push(E);var x=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var w=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<_.length;o++)e.internal.write("(page_"+(o+1)+")"+_[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+w+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,a,o){var c={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var f=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var m=0;m<r.children.length;m++)this.renderItems(r.children[m])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Se.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,a,o,c,h){var f,m=this.decode.DCT_DECODE,_=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(E){for(var x,w=256*E.charCodeAt(4)+E.charCodeAt(5),j=E.length,q={width:0,height:0,numcomponents:1},U=4;U<j;U+=2){if(U+=w,t.indexOf(E.charCodeAt(U+1))!==-1){x=256*E.charCodeAt(U+5)+E.charCodeAt(U+6),q={width:256*E.charCodeAt(U+7)+E.charCodeAt(U+8),height:x,numcomponents:E.charCodeAt(U+9)};break}w=256*E.charCodeAt(U+2)+E.charCodeAt(U+3)}return q})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}_={data:e,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:m,index:r,alias:a}}return _}})(Se.API),Se.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=ek(n,{checkCrc:!0}),c=o.width,h=o.height,f=o.channels,m=o.palette,_=o.depth;a=m&&f===1?(function(D){for(var k=D.width,G=D.height,T=D.data,R=D.palette,L=D.depth,st=!1,bt=[],rt=[],ft=void 0,ht=!1,xt=0,zt=0;zt<R.length;zt++){var Q=G_(R[zt],4),O=Q[0],Y=Q[1],$=Q[2],ot=Q[3];bt.push(O,Y,$),ot!=null&&(ot===0?(xt++,rt.length<1&&rt.push(zt)):ot<255&&(ht=!0))}if(ht||xt>1){st=!0,rt=void 0;var ut=k*G;ft=new Uint8Array(ut);for(var mt=new DataView(T.buffer),kt=0;kt<ut;kt++){var Rt=Mg(mt,kt,L),jt=G_(R[Rt],4)[3];ft[kt]=jt}}else xt===0&&(rt=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:st?8:void 0,colorBytes:T,alphaBytes:ft,needSMask:st,palette:bt,mask:rt}})(o):f===2||f===4?(function(D){for(var k=D.data,G=D.width,T=D.height,R=D.channels,L=D.depth,st=R===2?"DeviceGray":"DeviceRGB",bt=R-1,rt=G*T,ft=bt,ht=rt*ft,xt=1*rt,zt=Math.ceil(ht*L/8),Q=Math.ceil(xt*L/8),O=new Uint8Array(zt),Y=new Uint8Array(Q),$=new DataView(k.buffer),ot=new DataView(O.buffer),ut=new DataView(Y.buffer),mt=!1,kt=0;kt<rt;kt++){for(var Rt=kt*R,jt=0;jt<ft;jt++)Qb(ot,Mg($,Rt+jt,L),kt*ft+jt,L);var Qt=Mg($,Rt+ft,L);Qt<(1<<L)-1&&(mt=!0),Qb(ut,Qt,1*kt,L)}return{colorSpace:st,colorsPerPixel:bt,sMaskBitsPerComponent:mt?L:void 0,colorBytes:O,alphaBytes:Y,needSMask:mt}})(o):(function(D){var k=D.data,G=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(T){for(var R=T.length,L=new Uint8Array(2*R),st=new DataView(L.buffer,L.byteOffset,L.byteLength),bt=0;bt<R;bt++)st.setUint16(2*bt,T[bt],!1);return L})(k):k,needSMask:!1}})(o);var E,x,w,j=a,q=j.colorSpace,U=j.colorsPerPixel,B=j.sMaskBitsPerComponent,at=j.colorBytes,it=j.alphaBytes,nt=j.needSMask,wt=j.palette,Tt=j.mask,z=null;return r!==Se.API.image_compression.NONE&&typeof m0=="function"?(z=(function(D){var k;switch(D){case Se.API.image_compression.FAST:k=11;break;case Se.API.image_compression.MEDIUM:k=13;break;case Se.API.image_compression.SLOW:k=14;break;default:k=12}return k})(r),E=this.decode.FLATE_DECODE,x="/Predictor ".concat(z," /Colors ").concat(U," /BitsPerComponent ").concat(_," /Columns ").concat(c),n=Gb(at,Math.ceil(c*U*_/8),U,_,r),nt&&(w=Gb(it,Math.ceil(c*B/8),1,B,r))):(E=void 0,x=void 0,n=at,nt&&(w=it)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:e,data:n,index:t,filter:E,decodeParameters:x,transparency:Tt,palette:wt,sMask:w,predictor:z,width:c,height:h,bitsPerComponent:_,sMaskBitsPerComponent:B,colorSpace:q}}},(function(n){n.processGIF89A=function(t,e,r,a){var o=new Ak(t),c=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var m={data:f,width:c,height:h},_=new Ug(100).encode(m,100);return n.processJPEG.call(this,_,e,r,a)},n.processGIF87A=n.processGIF89A})(Se.API),lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},lo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){ui.log("bit decode error:"+e)}},lo.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[c+4*h]=f.blue,this.data[c+4*h+1]=f.green,this.data[c+4*h+2]=f.red,this.data[c+4*h+3]=255}e!==0&&(this.pos+=4-e)}},lo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*a*4,h=o>>4,f=15&o,m=this.palette[h];if(this.data[c]=m.blue,this.data[c+1]=m.green,this.data[c+2]=m.red,this.data[c+3]=255,2*a+1>=this.width)break;m=this.palette[f],this.data[c+4]=m.blue,this.data[c+4+1]=m.green,this.data[c+4+2]=m.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},lo.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},lo.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,m=o>>15?255:0,_=r*this.width*4+4*a;this.data[_]=f,this.data[_+1]=h,this.data[_+2]=c,this.data[_+3]=m}this.pos+=n}},lo.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&t)/t*255|0,f=(c>>5&e)/e*255|0,m=(c>>11)/t*255|0,_=a*this.width*4+4*o;this.data[_]=m,this.data[_+1]=f,this.data[_+2]=h,this.data[_+3]=255}this.pos+=n}},lo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},lo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=c}},lo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,a){var o=new lo(t,!1),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},m=new Ug(100).encode(f,100);return n.processJPEG.call(this,m,e,r,a)}})(Se.API),Jb.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,a){var o=new Jb(t),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},m=new Ug(100).encode(f,100);return n.processJPEG.call(this,m,e,r,a)}})(Se.API),Se.API.processRGBA=function(n,t,e){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),h=0,f=0,m=0;m<a;m+=4){var _=r[m],E=r[m+1],x=r[m+2],w=r[m+3];o[h++]=_,o[h++]=E,o[h++]=x,c[f++]=w}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:j,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Se.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ah=Se.API,bp=ah.getCharWidthsArray=function(n,t){var e,r,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:a.metadata.Unicode.widths,f=h.fof?h.fof:1,m=t.kerning?t.kerning:a.metadata.Unicode.kerning,_=m.fof?m.fof:1,E=t.doKerning!==!1,x=0,w=n.length,j=0,q=h[0]||f,U=[];for(e=0;e<w;e++)r=n.charCodeAt(e),typeof a.metadata.widthOfString=="function"?U.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(x=E&&Qn(m[r])==="object"&&!isNaN(parseInt(m[r][j],10))?m[r][j]/_:0,U.push((h[r]||q)/f+x)),j=r;return U},qb=ah.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return ah.processArabic&&(n=ah.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,a)/e:bp.apply(this,arguments).reduce(function(o,c){return o+c},0)},zb=function(n,t,e,r){for(var a=[],o=0,c=n.length,h=0;o!==c&&h+t[o]<e;)h+=t[o],o++;a.push(n.slice(0,o));var f=o;for(h=0;o!==c;)h+t[o]>r&&(a.push(n.slice(f,o)),h=0,f=o),h+=t[o],o++;return f!==o&&a.push(n.slice(f,o)),a},Hb=function(n,t,e){e||(e={});var r,a,o,c,h,f,m,_=[],E=[_],x=e.textIndent||0,w=0,j=0,q=n.split(" "),U=bp.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?q[0].length+2:e.lineIndent||0){var B=Array(f).join(" "),at=[];q.map(function(nt){(nt=nt.split(/\s*\n/)).length>1?at=at.concat(nt.map(function(wt,Tt){return(Tt&&wt.length?`
`:"")+wt})):at.push(nt[0])}),q=at,f=qb.apply(this,[B,e])}for(o=0,c=q.length;o<c;o++){var it=0;if(r=q[o],f&&r[0]==`
`&&(r=r.substr(1),it=1),x+w+(j=(a=bp.apply(this,[r,e])).reduce(function(nt,wt){return nt+wt},0))>t||it){if(j>t){for(h=zb.apply(this,[r,a,t-(x+w),t]),_.push(h.shift()),_=[h.pop()];h.length;)E.push([h.shift()]);j=a.slice(r.length-(_[0]?_[0].length:0)).reduce(function(nt,wt){return nt+wt},0)}else _=[r];E.push(_),x=j+f,w=U}else _.push(r),x+=w+j,w=U}return m=f?function(nt,wt){return(wt?B:"")+nt.join(" ")}:function(nt){return nt.join(" ")},E.map(m)},ah.splitTextToSize=function(n,t,e){var r,a=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(_){if(_.widths&&_.kerning)return{widths:_.widths,kerning:_.kerning};var E=this.internal.getFont(_.fontName,_.fontStyle),x="Unicode";return E.metadata[x]?{widths:E.metadata[x].widths||{0:1},kerning:E.metadata[x].kerning||{}}:{font:E.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=e.lineIndent;var h,f,m=[];for(h=0,f=r.length;h<f;h++)m=m.concat(Hb.apply(this,[r[h],c,o]));return m},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[e[o]]=t[o],a[t[o]]=e[o];var c=function(x){return"0x"+parseInt(x,10).toString(16)},h=n.__fontmetrics__.compress=function(x){var w,j,q,U,B=["{"];for(var at in x){if(w=x[at],isNaN(parseInt(at,10))?j="'"+at+"'":(at=parseInt(at,10),j=(j=c(at).slice(2)).slice(0,-1)+a[j.slice(-1)]),typeof w=="number")w<0?(q=c(w).slice(3),U="-"):(q=c(w).slice(2),U=""),q=U+q.slice(0,-1)+a[q.slice(-1)];else{if(Qn(w)!=="object")throw new Error("Don't know what to do with value type "+Qn(w)+".");q=h(w)}B.push(j+q)}return B.push("}"),B.join("")},f=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,j,q,U,B={},at=1,it=B,nt=[],wt="",Tt="",z=x.length-1,D=1;D<z;D+=1)(U=x[D])=="'"?w?(q=w.join(""),w=void 0):w=[]:w?w.push(U):U=="{"?(nt.push([it,q]),it={},q=void 0):U=="}"?((j=nt.pop())[0][j[1]]=it,q=void 0,it=j[0]):U=="-"?at=-1:q===void 0?r.hasOwnProperty(U)?(wt+=r[U],q=parseInt(wt,16)*at,at=1,wt=""):wt+=U:r.hasOwnProperty(U)?(Tt+=r[U],it[q]=parseInt(Tt,16)*at,at=1,q=void 0,Tt=""):Tt+=U;return B},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},_={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},E={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var w=x.font,j=E.Unicode[w.postScriptName];j&&(w.metadata.Unicode={},w.metadata.Unicode.widths=j.widths,w.metadata.Unicode.kerning=j.kerning);var q=_.Unicode[w.postScriptName];q&&(w.metadata.Unicode.encoding=q,w.encoding=q.codePages[0])}])})(Se.API),(function(n){var t=function(e){for(var r=e.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=e.charCodeAt(o);return a};n.API.events.push(["addFont",function(e){var r=void 0,a=e.font,o=e.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(Op(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,r)}}])})(Se),Se.API.addSvgAsImage=function(n,t,e,r,a,o,c,h){if(isNaN(t)||isNaN(e))throw ui.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw ui.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},E=this;return(Ge.canvg?Promise.resolve(Ge.canvg):gg(()=>import("./index.es-_QVCLJLc.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(m,n,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(_)}).then(function(){E.addImage(f.toDataURL("image/jpeg",1),t,e,r,a,c,h)})},Se.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,e);return this},Se.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),f=[],m=0,_=0,E=0;function x(j,q){var U,B=!1;for(U=0;U<j.length;U+=1)j[U]===q&&(B=!0);return B}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var w=h.length;for(E=0;E<w;E+=1)e[h[E]].value=e[h[E]].defaultValue,e[h[E]].explicitSet=!1}if(Qn(n)==="object"){for(a in n)if(o=n[a],x(h,a)&&o!==void 0){if(e[a].type==="boolean"&&typeof o=="boolean")e[a].value=o;else if(e[a].type==="name"&&x(e[a].valueSet,o))e[a].value=o;else if(e[a].type==="integer"&&Number.isInteger(o))e[a].value=o;else if(e[a].type==="array"){for(m=0;m<o.length;m+=1)if(r=!0,o[m].length===1&&typeof o[m][0]=="number")f.push(String(o[m]-1));else if(o[m].length>1){for(_=0;_<o[m].length;_+=1)typeof o[m][_]!="number"&&(r=!1);r===!0&&f.push([o[m][0]-1,o[m][1]-1].join(" "))}e[a].value="["+f.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,q=[];for(j in e)e[j].explicitSet===!0&&(e[j].type==="name"?q.push("/"+j+" /"+e[j].value):q.push("/"+j+" "+e[j].value));q.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+q.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+c.length+h.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+h+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Se.API),(function(n){var t=n.API,e=t.pdfEscape16=function(o,c){for(var h,f=c.metadata.Unicode.widths,m=["","0","00","000","0000"],_=[""],E=0,x=o.length;E<x;++E){if(h=c.metadata.characterToGlyph(o.charCodeAt(E)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(E),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return _.join("");h=h.toString(16),_.push(m[4-h.length],h)}return _.join("")},r=function(o){var c,h,f,m,_,E,x;for(_=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],E=0,x=(h=Object.keys(o).sort(function(w,j){return w-j})).length;E<x;E++)c=h[E],f.length>=100&&(_+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(m=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+m+">"));return f.length&&(_+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),_+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,m=c.newObject,_=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var E=h.metadata.Unicode.widths,x=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",j=0;j<x.length;j++)w+=String.fromCharCode(x[j]);var q=m();_({data:w,addLength1:!0,objectId:q}),f("endobj");var U=m();_({data:r(h.metadata.toUnicode),addLength1:!0,objectId:U}),f("endobj");var B=m();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+fh(h.fontName)),f("/FontFile2 "+q+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var at=m();f("<<"),f("/Type /Font"),f("/BaseFont /"+fh(h.fontName)),f("/FontDescriptor "+B+" 0 R"),f("/W "+n.API.PDFObject.convert(E)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=m(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+U+" 0 R"),f("/BaseFont /"+fh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+at+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,m=c.newObject,_=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var E=h.metadata.rawData,x="",w=0;w<E.length;w++)x+=String.fromCharCode(E[w]);var j=m();_({data:x,addLength1:!0,objectId:j}),f("endobj");var q=m();_({data:r(h.metadata.toUnicode),addLength1:!0,objectId:q}),f("endobj");var U=m();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+j+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+fh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=m();for(var B=0;B<h.metadata.hmtx.widths.length;B++)h.metadata.hmtx.widths[B]=parseInt(h.metadata.hmtx.widths[B]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+q+" 0 R/BaseFont/"+fh(h.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,h=o.text||"",f=o.x,m=o.y,_=o.options||{},E=o.mutex||{},x=E.pdfEscape,w=E.activeFontKey,j=E.fonts,q=w,U="",B=0,at="",it=j[q].encoding;if(j[q].encoding!=="Identity-H")return{text:h,x:f,y:m,options:_,mutex:E};for(at=h,q=w,Array.isArray(h)&&(at=h[0]),B=0;B<at.length;B+=1)j[q].metadata.hasOwnProperty("cmap")&&(c=j[q].metadata.cmap.unicode.codeMap[at[B].charCodeAt(0)]),c||at[B].charCodeAt(0)<256&&j[q].metadata.hasOwnProperty("Unicode")?U+=at[B]:U+="";var nt="";return parseInt(q.slice(1))<14||it==="WinAnsiEncoding"?nt=x(U,q).split("").map(function(wt){return wt.charCodeAt(0).toString(16)}).join(""):it==="Identity-H"&&(nt=e(U,j[q])),E.isHex=!0,{text:nt,x:f,y:m,options:_,mutex:E}};t.events.push(["postProcessText",function(o){var c=o.text||"",h=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var m=0;for(m=0;m<c.length;m+=1)Array.isArray(c[m])&&c[m].length===3?h.push([a(Object.assign({},f,{text:c[m][0]})).text,c[m][1],c[m][2]]):h.push(a(Object.assign({},f,{text:c[m]})).text);o.text=h}else o.text=a(Object.assign({},f,{text:c})).text}])})(Se),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Se.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,c,h,f,m,_,E=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},q={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],B=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),at=!1,it=0;this.__bidiEngine__={};var nt=function(T){var R=T.charCodeAt(),L=R>>8,st=q[L];return st!==void 0?E[256*st+(255&R)]:L===252||L===253?"AL":B.test(L)?"L":L===8?"R":"N"},wt=function(T){for(var R,L=0;L<T.length;L++){if((R=nt(T.charAt(L)))==="L")return!1;if(R==="R")return!0}return!1},Tt=function(T,R,L,st){var bt,rt,ft,ht,xt=R[st];switch(xt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":at=!1;break;case"N":case"AN":break;case"EN":at&&(xt="AN");break;case"AL":at=!0,xt="R";break;case"WS":case"BN":xt="N";break;case"CS":st<1||st+1>=R.length||(bt=L[st-1])!=="EN"&&bt!=="AN"||(rt=R[st+1])!=="EN"&&rt!=="AN"?xt="N":at&&(rt="AN"),xt=rt===bt?rt:"N";break;case"ES":xt=(bt=st>0?L[st-1]:"B")==="EN"&&st+1<R.length&&R[st+1]==="EN"?"EN":"N";break;case"ET":if(st>0&&L[st-1]==="EN"){xt="EN";break}if(at){xt="N";break}for(ft=st+1,ht=R.length;ft<ht&&R[ft]==="ET";)ft++;xt=ft<ht&&R[ft]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(ht=R.length,ft=st+1;ft<ht&&R[ft]==="NSM";)ft++;if(ft<ht){var zt=T[st],Q=zt>=1425&&zt<=2303||zt===64286;if(bt=R[ft],Q&&(bt==="R"||bt==="AL")){xt="R";break}}}xt=st<1||(bt=R[st-1])==="B"?"N":L[st-1];break;case"B":at=!1,a=!0,xt=it;break;case"S":o=!0,xt="N"}return xt},z=function(T,R,L){var st=T.split("");return L&&D(st,L,{hiLevel:it}),st.reverse(),R&&R.reverse(),st.join("")},D=function(T,R,L){var st,bt,rt,ft,ht,xt=-1,zt=T.length,Q=0,O=[],Y=it?w:x,$=[];for(at=!1,a=!1,o=!1,bt=0;bt<zt;bt++)$[bt]=nt(T[bt]);for(rt=0;rt<zt;rt++){if(ht=Q,O[rt]=Tt(T,$,O,rt),st=240&(Q=Y[ht][j[O[rt]]]),Q&=15,R[rt]=ft=Y[Q][5],st>0)if(st===16){for(bt=xt;bt<rt;bt++)R[bt]=1;xt=-1}else xt=-1;if(Y[Q][6])xt===-1&&(xt=rt);else if(xt>-1){for(bt=xt;bt<rt;bt++)R[bt]=ft;xt=-1}$[rt]==="B"&&(R[rt]=0),L.hiLevel|=ft}o&&(function(ot,ut,mt){for(var kt=0;kt<mt;kt++)if(ot[kt]==="S"){ut[kt]=it;for(var Rt=kt-1;Rt>=0&&ot[Rt]==="WS";Rt--)ut[Rt]=it}})($,R,zt)},k=function(T,R,L,st,bt){if(!(bt.hiLevel<T)){if(T===1&&it===1&&!a)return R.reverse(),void(L&&L.reverse());for(var rt,ft,ht,xt,zt=R.length,Q=0;Q<zt;){if(st[Q]>=T){for(ht=Q+1;ht<zt&&st[ht]>=T;)ht++;for(xt=Q,ft=ht-1;xt<ft;xt++,ft--)rt=R[xt],R[xt]=R[ft],R[ft]=rt,L&&(rt=L[xt],L[xt]=L[ft],L[ft]=rt);Q=ht}Q++}}},G=function(T,R,L){var st=T.split(""),bt={hiLevel:it};return L||(L=[]),D(st,L,bt),(function(rt,ft,ht){if(ht.hiLevel!==0&&_)for(var xt,zt=0;zt<rt.length;zt++)ft[zt]===1&&(xt=U.indexOf(rt[zt]))>=0&&(rt[zt]=U[xt+1])})(st,L,bt),k(2,st,R,L,bt),k(1,st,R,L,bt),st.join("")};return this.__bidiEngine__.doBidiReorder=function(T,R,L){if((function(bt,rt){if(rt)for(var ft=0;ft<bt.length;ft++)rt[ft]=ft;h===void 0&&(h=wt(bt)),m===void 0&&(m=wt(bt))})(T,R),c||!f||m)if(c&&f&&h^m)it=h?1:0,T=z(T,R,L);else if(!c&&f&&m)it=h?1:0,T=G(T,R,L),T=z(T,R);else if(!c||h||f||m){if(c&&!f&&h^m)T=z(T,R),h?(it=0,T=G(T,R,L)):(it=1,T=G(T,R,L),T=z(T,R));else if(c&&h&&!f&&m)it=1,T=G(T,R,L),T=z(T,R);else if(!c&&!f&&h^m){var st=_;h?(it=1,T=G(T,R,L),it=0,_=!1,T=G(T,R,L),_=st):(it=0,T=G(T,R,L),T=z(T,R),it=1,_=!1,T=G(T,R,L),_=st,T=z(T,R))}}else it=0,T=G(T,R,L);else it=h?1:0,T=G(T,R,L);return T},this.__bidiEngine__.setOptions=function(T){T&&(c=T.isInputVisual,f=T.isOutputVisual,h=T.isInputRtl,m=T.isOutputRtl,_=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(c=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?c.push([e.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):c.push([e.doBidiReorder(a[h])]);r.text=c}else r.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])})(Se),Se.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Ou(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Uk(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new Ek(this.contents),this.head=new Tk(this),this.name=new Rk(this),this.cmap=new VA(this),this.toUnicode={},this.hhea=new Nk(this),this.maxp=new Lk(this),this.hmtx=new kk(this),this.post=new Ik(this),this.os2=new xk(this),this.loca=new Mk(this),this.glyf=new Ok(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,f,m;for(m=[],c=0,h=(f=this.bbox).length;c<h;c++)t=f[c],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(e=a>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var a,o,c,h;for(c=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=t.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/e)||0;return c*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var vo,Ou=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,a;for(a=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,a,o,c,h,f;return t=this.readByte(),e=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*a+16777216*o+65536*c+256*h+f},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,a,o;for(o=[],r=0,a=t.length;r<a;r++)e=t[r],o.push(this.writeByte(e));return o},n})(),Ek=(function(){var n;function t(e){var r,a,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,a,o,c,h,f,m,_,E,x,w,j,q;for(q in w=Object.keys(e).length,f=Math.log(2),E=16*Math.floor(Math.log(w)/f),c=Math.floor(E/f),_=16*w-E,(a=new Ou).writeInt(this.scalarType),a.writeShort(w),a.writeShort(E),a.writeShort(c),a.writeShort(_),o=16*w,m=a.pos+o,h=null,j=[],e)for(x=e[q],a.writeString(q),a.writeInt(n(x)),a.writeInt(m),a.writeInt(x.length),j=j.concat(x),q==="head"&&(h=m),m+=x.length;m%4;)j.push(0),m++;return a.write(j),r=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(r),a.data},n=function(e){var r,a,o,c;for(e=jA.call(e);e.length%4;)e.push(0);for(o=new Ou(e),a=0,r=0,c=e.length;r<c;r=r+=4)a+=o.readUInt32();return 4294967295&a},t})(),Sk={}.hasOwnProperty,tl=function(n,t){for(var e in t)Sk.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};vo=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var Tk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,vo),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Ou).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),Zb=(function(){function n(t,e){var r,a,o,c,h,f,m,_,E,x,w,j,q,U,B,at,it;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),E=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(w=t.readUInt16(),x=w/2,t.pos+=6,o=(function(){var nt,wt;for(wt=[],f=nt=0;0<=x?nt<x:nt>x;f=0<=x?++nt:--nt)wt.push(t.readUInt16());return wt})(),t.pos+=2,q=(function(){var nt,wt;for(wt=[],f=nt=0;0<=x?nt<x:nt>x;f=0<=x?++nt:--nt)wt.push(t.readUInt16());return wt})(),m=(function(){var nt,wt;for(wt=[],f=nt=0;0<=x?nt<x:nt>x;f=0<=x?++nt:--nt)wt.push(t.readUInt16());return wt})(),_=(function(){var nt,wt;for(wt=[],f=nt=0;0<=x?nt<x:nt>x;f=0<=x?++nt:--nt)wt.push(t.readUInt16());return wt})(),a=(this.length-t.pos+this.offset)/2,h=(function(){var nt,wt;for(wt=[],f=nt=0;0<=a?nt<a:nt>a;f=0<=a?++nt:--nt)wt.push(t.readUInt16());return wt})(),f=B=0,it=o.length;B<it;f=++B)for(U=o[f],r=at=j=q[f];j<=U?at<=U:at>=U;r=j<=U?++at:--at)_[f]===0?c=r+m[f]:(c=h[_[f]/2+(r-j)-(x-f)]||0)!==0&&(c+=m[f]),this.codeMap[r]=65535&c}t.pos=E}return n.encode=function(t,e){var r,a,o,c,h,f,m,_,E,x,w,j,q,U,B,at,it,nt,wt,Tt,z,D,k,G,T,R,L,st,bt,rt,ft,ht,xt,zt,Q,O,Y,$,ot,ut,mt,kt,Rt,jt,Qt,ee;switch(st=new Ou,c=Object.keys(t).sort(function(te,ue){return te-ue}),e){case"macroman":for(q=0,U=(function(){var te=[];for(j=0;j<256;++j)te.push(0);return te})(),at={0:0},o={},bt=0,xt=c.length;bt<xt;bt++)at[Rt=t[a=c[bt]]]==null&&(at[Rt]=++q),o[a]={old:t[a],new:at[t[a]]},U[a]=at[t[a]];return st.writeUInt16(1),st.writeUInt16(0),st.writeUInt32(12),st.writeUInt16(0),st.writeUInt16(262),st.writeUInt16(0),st.write(U),{charMap:o,subtable:st.data,maxGlyphID:q+1};case"unicode":for(R=[],E=[],it=0,at={},r={},B=m=null,rt=0,zt=c.length;rt<zt;rt++)at[wt=t[a=c[rt]]]==null&&(at[wt]=++it),r[a]={old:wt,new:at[wt]},h=at[wt]-a,B!=null&&h===m||(B&&E.push(B),R.push(a),m=h),B=a;for(B&&E.push(B),E.push(65535),R.push(65535),G=2*(k=R.length),D=2*Math.pow(Math.log(k)/Math.LN2,2),x=Math.log(D/2)/Math.LN2,z=2*k-D,f=[],Tt=[],w=[],j=ft=0,Q=R.length;ft<Q;j=++ft){if(T=R[j],_=E[j],T===65535){f.push(0),Tt.push(0);break}if(T-(L=r[T].new)>=32768)for(f.push(0),Tt.push(2*(w.length+k-j)),a=ht=T;T<=_?ht<=_:ht>=_;a=T<=_?++ht:--ht)w.push(r[a].new);else f.push(L-T),Tt.push(0)}for(st.writeUInt16(3),st.writeUInt16(1),st.writeUInt32(12),st.writeUInt16(4),st.writeUInt16(16+8*k+2*w.length),st.writeUInt16(0),st.writeUInt16(G),st.writeUInt16(D),st.writeUInt16(x),st.writeUInt16(z),mt=0,O=E.length;mt<O;mt++)a=E[mt],st.writeUInt16(a);for(st.writeUInt16(0),kt=0,Y=R.length;kt<Y;kt++)a=R[kt],st.writeUInt16(a);for(jt=0,$=f.length;jt<$;jt++)h=f[jt],st.writeUInt16(h);for(Qt=0,ot=Tt.length;Qt<ot;Qt++)nt=Tt[Qt],st.writeUInt16(nt);for(ee=0,ut=w.length;ee<ut;ee++)q=w[ee],st.writeUInt16(q);return{charMap:r,subtable:st.data,maxGlyphID:it+1}}},n})(),VA=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,vo),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)e=new Zb(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,a;return e==null&&(e="macroman"),r=Zb.encode(t,e),(a=new Ou).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),Nk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,vo),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),xk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,vo),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),Ik=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,vo),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)e=t.readByte(),a.push(this.names.push(t.readString(e)));return a;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var c,h,f;for(f=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)f.push(t.readUInt32());return f}).call(this)}},n})(),Ck=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Rk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,vo),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,a,o,c,h,f,m,_,E,x;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),r=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(f={},o=_=0,E=r.length;_<E;o=++_)a=r[o],t.pos=a.offset,m=t.readString(a.length),c=new Ck(m,a),f[x=a.nameID]==null&&(f[x]=[]),f[a.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),Lk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,vo),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),kk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,vo),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,a,o,c,h,f;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,_;for(_=[],e=m=0;0<=a?m<a:m>a;e=0<=a?++m:--m)_.push(t.readInt16());return _})(),this.widths=(function(){var m,_,E,x;for(x=[],m=0,_=(E=this.metrics).length;m<_;m++)o=E[m],x.push(o.advance);return x}).call(this),r=this.widths[this.widths.length-1],f=[],e=c=0;0<=a?c<a:c>a;e=0<=a?++c:--c)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),jA=[].slice,Ok=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,vo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,a,o,c,h,f,m,_,E;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,r=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,c=(h=new Ou(e.read(a))).readShort(),m=h.readShort(),E=h.readShort(),f=h.readShort(),_=h.readShort(),this.cache[t]=c===-1?new Pk(h,m,E,f,_):new Dk(h,c,m,E,f,_),this.cache[t]))},n.prototype.encode=function(t,e,r){var a,o,c,h,f;for(c=[],o=[],h=0,f=e.length;h<f;h++)a=t[e[h]],o.push(c.length),a&&(c=c.concat(a.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),Dk=(function(){function n(t,e,r,a,o,c){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),Pk=(function(){function n(t,e,r,a,o){var c,h;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Ou(jA.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),Mk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,vo),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<r.length;++c)if(r[c]=a,o<e.length&&e[o]==c){++o,r[c]=a;var h=this.offsets[c],f=this.offsets[c+1]-h;f>0&&(a+=f)}for(var m=new Array(4*r.length),_=0;_<r.length;++_)m[4*_+3]=255&r[_],m[4*_+2]=(65280&r[_])>>8,m[4*_+1]=(16711680&r[_])>>16,m[4*_]=(4278190080&r[_])>>24;return m},n})(),Uk=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,a,o;for(e in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=a[r];return t},n.prototype.glyphsFor=function(t){var e,r,a,o,c,h,f;for(a={},c=0,h=t.length;c<h;c++)a[o=t[c]]=this.font.glyf.glyphFor(o);for(o in e=[],a)(r=a[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))r=f[o],a[o]=r;return a},n.prototype.encode=function(t,e){var r,a,o,c,h,f,m,_,E,x,w,j,q,U,B;for(a in r=VA.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),w={0:0},B=r.charMap)w[(f=B[a]).old]=f.new;for(j in x=r.maxGlyphID,c)j in w||(w[j]=x++);return _=(function(at){var it,nt;for(it in nt={},at)nt[at[it]]=it;return nt})(w),E=Object.keys(_).sort(function(at,it){return at-it}),q=(function(){var at,it,nt;for(nt=[],at=0,it=E.length;at<it;at++)h=E[at],nt.push(_[h]);return nt})(),o=this.font.glyf.encode(c,q,w),m=this.font.loca.encode(o.offsets,q),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n})();Se.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,a,o,c;if(Array.isArray(e))return"["+(function(){var h,f,m;for(m=[],h=0,f=e.length;h<f;h++)r=e[h],m.push(t.convert(r));return m})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in o=["<<"],e)c=e[a],o.push("/"+a+" "+t.convert(c));return o.push(">>"),o.join(`
`)}return""+e},t})();const Vk=({userId:n})=>{const[t,e]=Un.useState([]),[r,a]=Un.useState(""),[o,c]=Un.useState(""),[h,f]=Un.useState("");Un.useEffect(()=>{const U=rm(_h(Ho,"recipes"),sm("userId","==",n)),B=am(U,at=>{const it=at.docs.map(nt=>({id:nt.id,...nt.data()}));it.sort((nt,wt)=>nt.name.localeCompare(wt.name)),e(it),f("")},at=>{console.error("Firestore Error:",at),f("Error al cargar recetas. Verifica permisos de Firebase.")});return()=>B()},[n]);const m=t.find(U=>U.id===r),_=parseFloat(o)||0,x=(m?m.costPerGram:0)*_,w=x*3,j=w-x,q=()=>{if(!m)return;const U=new Se({orientation:"portrait",unit:"mm",format:[80,180]}),B=it=>{const nt=it?75:20;U.setFontSize(18),U.setFont("helvetica","bold"),U.text("Alternativa Keto",40,nt,{align:"center"}),U.setFontSize(12),U.text("----------------------------------------",40,nt+6,{align:"center"}),U.setFontSize(20),U.setFont("helvetica","bold"),U.text(m.name,40,nt+20,{align:"center",maxWidth:75}),U.setFontSize(16),U.setFont("helvetica","normal"),U.text(`${_} g`,40,nt+34,{align:"center"}),U.setFontSize(32),U.setFont("helvetica","bold"),U.text(`$${w.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`,40,nt+54,{align:"center"}),U.setFontSize(14),U.setFont("helvetica","italic"),U.text("Gracias por su compra!",40,nt+74,{align:"center"});const wt=16,Tt=nt+79,z=9;U.setDrawColor(0),U.setLineWidth(.4),U.roundedRect(wt,Tt,z,z,2,2,"S"),U.circle(wt+z/2,Tt+z/2,z*.25,"S"),U.circle(wt+z*.75,Tt+z*.22,.4,"F"),U.setFontSize(14),U.setFont("helvetica","bold"),U.text("@alternativaketo",wt+z+3,Tt+6,{align:"left"}),U.save(`${m.name.replace(/\s+/g,"_")}_ticket.pdf`)},at=new Image;at.src="/calculadora-keto/logo.png",at.onload=()=>{U.addImage(at,"PNG",10,5,60,60),B(!0)},at.onerror=()=>{B(!1)}};return vt.jsxs("div",{className:"space-y-6 animate-fade-in",children:[vt.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-rose-100",children:[vt.jsx("h2",{className:"text-xl font-bold text-rose-500 mb-6",children:"Calculadora de Venta"}),h&&vt.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-3 rounded-lg mb-4 text-sm",children:h}),vt.jsxs("div",{className:"space-y-4",children:[vt.jsxs("div",{children:[vt.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Seleccionar Receta"}),vt.jsxs("select",{value:r,onChange:U=>a(U.target.value),className:"w-full p-3 rounded-xl border border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-400 bg-gray-50 text-black",children:[vt.jsx("option",{value:"",children:"-- Elige una preparacin --"}),t.map(U=>vt.jsx("option",{value:U.id,children:U.name},U.id))]})]}),vt.jsxs("div",{className:"opacity-100 transition-opacity duration-300",children:[vt.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Cantidad a Vender (Peso/Unidad)"}),vt.jsx("input",{type:"number",value:o,onChange:U=>c(U.target.value),disabled:!r,className:"w-full p-3 rounded-xl border border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-400 text-lg font-semibold bg-gray-50 disabled:bg-slate-100 text-black placeholder-gray-400",placeholder:"0"})]})]})]}),r&&_>0&&vt.jsxs("div",{className:"space-y-4",children:[vt.jsxs("div",{className:"bg-gradient-to-br from-rose-400 to-rose-600 p-6 rounded-3xl shadow-lg text-white transform transition-all duration-300 hover:scale-[1.02]",children:[vt.jsxs("div",{className:"flex justify-between items-start",children:[vt.jsxs("div",{children:[vt.jsx("p",{className:"text-rose-100 text-sm font-medium mb-1",children:"Precio Sugerido (x3)"}),vt.jsxs("h3",{className:"text-4xl font-bold tracking-tight",children:["$",w.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),vt.jsxs("div",{className:"text-right opacity-80",children:[vt.jsx("p",{className:"text-xs",children:"Margen Bruto"}),vt.jsxs("p",{className:"font-bold",children:["$",j.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]})]})]}),vt.jsxs("div",{className:"mt-6 pt-4 border-t border-white/20 flex justify-between items-center",children:[vt.jsx("span",{className:"text-sm",children:"Costo Real de Produccin:"}),vt.jsxs("span",{className:"text-xl font-bold",children:["$",x.toFixed(2)]})]})]}),vt.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100",children:[vt.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Detalles de la Receta"}),vt.jsxs("div",{className:"text-sm text-slate-600 grid grid-cols-2 gap-2",children:[vt.jsxs("div",{children:["Yield Total: ",vt.jsx("span",{className:"font-medium",children:m==null?void 0:m.totalYieldWeight})]}),vt.jsxs("div",{children:["Costo Total: ",vt.jsxs("span",{className:"font-medium",children:["$",m==null?void 0:m.totalCost.toFixed(2)]})]}),vt.jsxs("div",{className:"col-span-2",children:["Costo Base: ",vt.jsxs("span",{className:"font-medium",children:["$",m==null?void 0:m.costPerGram.toFixed(4)," / gr"]})]})]})]}),vt.jsxs("button",{onClick:q,className:"w-full bg-slate-800 text-white py-3 rounded-xl font-bold shadow-md hover:bg-slate-900 transition flex items-center justify-center gap-2",children:[vt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:vt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Generar Ticket PDF"]})]})]})};function jk(){const[n,t]=Un.useState(null),[e,r]=Un.useState(!0),[a,o]=Un.useState("calc"),[c,h]=Un.useState(""),[f,m]=Un.useState(""),[_,E]=Un.useState(!1),[x,w]=Un.useState("");Un.useEffect(()=>{const U=XT(hp,B=>{t(B),r(!1)});return()=>U()},[]);const j=async U=>{U.preventDefault(),w("");try{_?await GT(hp,c,f):await YT(hp,c,f)}catch(B){w(B.message||"Error en autenticacin")}},q=()=>QT(hp);return e?vt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-rose-50 text-rose-400",children:"Cargando..."}):n?vt.jsxs("div",{className:"min-h-screen bg-rose-50 pb-24 md:pb-0 md:pt-20 flex flex-col",children:[vt.jsxs("div",{className:"md:hidden sticky top-0 z-20 bg-white/90 backdrop-blur-md border-b border-rose-100 p-4 flex justify-between items-center shadow-sm",children:[vt.jsx("h1",{className:"text-xl font-bold text-rose-500",children:"Calculadora Keto "}),vt.jsx("button",{onClick:q,className:"text-xs text-slate-500 bg-slate-100 px-3 py-1 rounded-full",children:"Salir"})]}),vt.jsxs("div",{className:"hidden md:flex fixed top-0 w-full z-20 bg-white border-b border-rose-100 px-8 py-4 justify-between items-center shadow-sm",children:[vt.jsxs("div",{className:"flex items-center gap-8",children:[vt.jsx("h1",{className:"text-2xl font-bold text-rose-500",children:"Calculadora Keto "}),vt.jsxs("nav",{className:"flex gap-4",children:[vt.jsx("button",{onClick:()=>o("inventory"),className:`px-4 py-2 rounded-lg transition ${a==="inventory"?"bg-rose-100 text-rose-700 font-bold":"text-slate-600 hover:bg-slate-50"}`,children:"Inventario"}),vt.jsx("button",{onClick:()=>o("recipes"),className:`px-4 py-2 rounded-lg transition ${a==="recipes"?"bg-rose-100 text-rose-700 font-bold":"text-slate-600 hover:bg-slate-50"}`,children:"Recetas"}),vt.jsx("button",{onClick:()=>o("calc"),className:`px-4 py-2 rounded-lg transition ${a==="calc"?"bg-rose-100 text-rose-700 font-bold":"text-slate-600 hover:bg-slate-50"}`,children:"Calculadora"})]})]}),vt.jsx("button",{onClick:q,className:"text-sm text-slate-500 border border-slate-200 px-4 py-2 rounded-lg hover:bg-slate-50",children:"Cerrar Sesin"})]}),vt.jsxs("main",{className:"max-w-3xl mx-auto p-4 md:p-8 flex-grow flex flex-col justify-center w-full",children:[a==="inventory"&&vt.jsx(YR,{userId:n.uid}),a==="recipes"&&vt.jsx(KR,{userId:n.uid}),a==="calc"&&vt.jsx(Vk,{userId:n.uid})]}),vt.jsxs("div",{className:"md:hidden fixed bottom-0 w-full bg-white border-t border-rose-100 flex justify-around p-3 pb-safe z-30 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:[vt.jsxs("button",{onClick:()=>o("inventory"),className:`flex flex-col items-center gap-1 ${a==="inventory"?"text-rose-500":"text-slate-400"}`,children:[vt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:vt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),vt.jsx("span",{className:"text-xs font-medium",children:"Insumos"})]}),vt.jsxs("button",{onClick:()=>o("recipes"),className:`flex flex-col items-center gap-1 ${a==="recipes"?"text-rose-500":"text-slate-400"}`,children:[vt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:vt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),vt.jsx("span",{className:"text-xs font-medium",children:"Recetas"})]}),vt.jsxs("button",{onClick:()=>o("calc"),className:`flex flex-col items-center gap-1 ${a==="calc"?"text-rose-500":"text-slate-400"}`,children:[vt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:vt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),vt.jsx("span",{className:"text-xs font-medium",children:"Ventas"})]})]})]}):vt.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-rose-50",children:vt.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-xl p-8 border border-rose-100",children:[vt.jsxs("div",{className:"text-center mb-8",children:[vt.jsx("h1",{className:"text-3xl font-bold text-rose-500 mb-2",children:"Calculadora Keto "}),vt.jsx("p",{className:"text-slate-500",children:"Gestiona tus costos de pastelera fcil."})]}),vt.jsxs("form",{onSubmit:j,className:"space-y-4",children:[vt.jsxs("div",{children:[vt.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Email"}),vt.jsx("input",{type:"email",required:!0,className:"w-full p-3 rounded-xl border border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-400 text-black bg-gray-50 placeholder-gray-400",placeholder:"nombre@ejemplo.com",value:c,onChange:U=>h(U.target.value)})]}),vt.jsxs("div",{children:[vt.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Contrasea"}),vt.jsx("input",{type:"password",required:!0,className:"w-full p-3 rounded-xl border border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-400 text-black bg-gray-50 placeholder-gray-400",placeholder:"",value:f,onChange:U=>m(U.target.value)})]}),x&&vt.jsx("p",{className:"text-red-500 text-center text-sm",children:x}),vt.jsx("button",{type:"submit",className:"w-full bg-rose-500 text-white py-3 rounded-xl font-bold shadow-md hover:bg-rose-600 transition",children:_?"Registrarse":"Ingresar"})]}),vt.jsx("div",{className:"mt-6 text-center",children:vt.jsx("button",{onClick:()=>E(!_),className:"text-rose-400 hover:text-rose-600 text-sm font-medium underline",children:_?"Ya tienes cuenta? Ingresa":"Nuevo usuario? Regstrate"})})]})})}const BA=document.getElementById("root");if(!BA)throw new Error("Could not find root element to mount to");const Bk=oS.createRoot(BA);Bk.render(vt.jsx(ZE.StrictMode,{children:vt.jsx(jk,{})}));export{Qn as _,qk as c,tw as g};
