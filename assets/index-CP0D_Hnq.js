var XS=Object.defineProperty;var QS=(n,t,e)=>t in n?XS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var $n=(n,t,e)=>QS(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var tD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var J1={exports:{}},If={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function JS(){if(Gy)return If;Gy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return If.Fragment=t,If.jsx=e,If.jsxs=e,If}var Yy;function ZS(){return Yy||(Yy=1,J1.exports=JS()),J1.exports}var P=ZS(),Z1={exports:{}},en={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function tE(){if(Ky)return en;Ky=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),T=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,F={};function q(U,C,Y){this.props=U,this.context=C,this.refs=F,this.updater=Y||V}q.prototype.isReactComponent={},q.prototype.setState=function(U,C){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,C,"setState")},q.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function at(){}at.prototype=q.prototype;function J(U,C,Y){this.props=U,this.context=C,this.refs=F,this.updater=Y||V}var tt=J.prototype=new at;tt.constructor=J,z(tt,q.prototype),tt.isPureReactComponent=!0;var vt=Array.isArray;function St(){}var G={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function D(U,C,Y){var Z=Y.ref;return{$$typeof:n,type:U,key:C,ref:Z!==void 0?Z:null,props:Y}}function K(U,C){return D(U.type,C,U.props)}function x(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function R(U){var C={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Y){return C[Y]})}var k=/\/+/g;function lt(U,C){return typeof U=="object"&&U!==null&&U.key!=null?R(""+U.key):C.toString(36)}function _t(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(St,St):(U.status="pending",U.then(function(C){U.status==="pending"&&(U.status="fulfilled",U.value=C)},function(C){U.status==="pending"&&(U.status="rejected",U.reason=C)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function st(U,C,Y,Z,ot){var ut=typeof U;(ut==="undefined"||ut==="boolean")&&(U=null);var ft=!1;if(U===null)ft=!0;else switch(ut){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(U.$$typeof){case n:case t:ft=!0;break;case v:return ft=U._init,st(ft(U._payload),C,Y,Z,ot)}}if(ft)return ot=ot(U),ft=Z===""?"."+lt(U,0):Z,vt(ot)?(Y="",ft!=null&&(Y=ft.replace(k,"$&/")+"/"),st(ot,C,Y,"",function(jt){return jt})):ot!=null&&(x(ot)&&(ot=K(ot,Y+(ot.key==null||U&&U.key===ot.key?"":(""+ot.key).replace(k,"$&/")+"/")+ft)),C.push(ot)),1;ft=0;var Tt=Z===""?".":Z+":";if(vt(U))for(var Ct=0;Ct<U.length;Ct++)Z=U[Ct],ut=Tt+lt(Z,Ct),ft+=st(Z,C,Y,ut,ot);else if(Ct=w(U),typeof Ct=="function")for(U=Ct.call(U),Ct=0;!(Z=U.next()).done;)Z=Z.value,ut=Tt+lt(Z,Ct++),ft+=st(Z,C,Y,ut,ot);else if(ut==="object"){if(typeof U.then=="function")return st(_t(U),C,Y,Z,ot);throw C=String(U),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return ft}function pt(U,C,Y){if(U==null)return U;var Z=[],ot=0;return st(U,Z,"","",function(ut){return C.call(Y,ut,ot++)}),Z}function dt(U){if(U._status===-1){var C=U._result;C=C(),C.then(function(Y){(U._status===0||U._status===-1)&&(U._status=1,U._result=Y)},function(Y){(U._status===0||U._status===-1)&&(U._status=2,U._result=Y)}),U._status===-1&&(U._status=0,U._result=C)}if(U._status===1)return U._result.default;throw U._result}var Nt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},qt={map:pt,forEach:function(U,C,Y){pt(U,function(){C.apply(this,arguments)},Y)},count:function(U){var C=0;return pt(U,function(){C++}),C},toArray:function(U){return pt(U,function(C){return C})||[]},only:function(U){if(!x(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return en.Activity=A,en.Children=qt,en.Component=q,en.Fragment=e,en.Profiler=a,en.PureComponent=J,en.StrictMode=i,en.Suspense=f,en.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,en.__COMPILER_RUNTIME={__proto__:null,c:function(U){return G.H.useMemoCache(U)}},en.cache=function(U){return function(){return U.apply(null,arguments)}},en.cacheSignal=function(){return null},en.cloneElement=function(U,C,Y){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Z=z({},U.props),ot=U.key;if(C!=null)for(ut in C.key!==void 0&&(ot=""+C.key),C)!O.call(C,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&C.ref===void 0||(Z[ut]=C[ut]);var ut=arguments.length-2;if(ut===1)Z.children=Y;else if(1<ut){for(var ft=Array(ut),Tt=0;Tt<ut;Tt++)ft[Tt]=arguments[Tt+2];Z.children=ft}return D(U.type,ot,Z)},en.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},en.createElement=function(U,C,Y){var Z,ot={},ut=null;if(C!=null)for(Z in C.key!==void 0&&(ut=""+C.key),C)O.call(C,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ot[Z]=C[Z]);var ft=arguments.length-2;if(ft===1)ot.children=Y;else if(1<ft){for(var Tt=Array(ft),Ct=0;Ct<ft;Ct++)Tt[Ct]=arguments[Ct+2];ot.children=Tt}if(U&&U.defaultProps)for(Z in ft=U.defaultProps,ft)ot[Z]===void 0&&(ot[Z]=ft[Z]);return D(U,ut,ot)},en.createRef=function(){return{current:null}},en.forwardRef=function(U){return{$$typeof:h,render:U}},en.isValidElement=x,en.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:dt}},en.memo=function(U,C){return{$$typeof:d,type:U,compare:C===void 0?null:C}},en.startTransition=function(U){var C=G.T,Y={};G.T=Y;try{var Z=U(),ot=G.S;ot!==null&&ot(Y,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(St,Nt)}catch(ut){Nt(ut)}finally{C!==null&&Y.types!==null&&(C.types=Y.types),G.T=C}},en.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},en.use=function(U){return G.H.use(U)},en.useActionState=function(U,C,Y){return G.H.useActionState(U,C,Y)},en.useCallback=function(U,C){return G.H.useCallback(U,C)},en.useContext=function(U){return G.H.useContext(U)},en.useDebugValue=function(){},en.useDeferredValue=function(U,C){return G.H.useDeferredValue(U,C)},en.useEffect=function(U,C){return G.H.useEffect(U,C)},en.useEffectEvent=function(U){return G.H.useEffectEvent(U)},en.useId=function(){return G.H.useId()},en.useImperativeHandle=function(U,C,Y){return G.H.useImperativeHandle(U,C,Y)},en.useInsertionEffect=function(U,C){return G.H.useInsertionEffect(U,C)},en.useLayoutEffect=function(U,C){return G.H.useLayoutEffect(U,C)},en.useMemo=function(U,C){return G.H.useMemo(U,C)},en.useOptimistic=function(U,C){return G.H.useOptimistic(U,C)},en.useReducer=function(U,C,Y){return G.H.useReducer(U,C,Y)},en.useRef=function(U){return G.H.useRef(U)},en.useState=function(U){return G.H.useState(U)},en.useSyncExternalStore=function(U,C,Y){return G.H.useSyncExternalStore(U,C,Y)},en.useTransition=function(){return G.H.useTransition()},en.version="19.2.1",en}var Wy;function T0(){return Wy||(Wy=1,Z1.exports=tE()),Z1.exports}var de=T0();const sw=iw(de);var tg={exports:{}},Cf={},eg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function eE(){return $y||($y=1,(function(n){function t(st,pt){var dt=st.length;st.push(pt);t:for(;0<dt;){var Nt=dt-1>>>1,qt=st[Nt];if(0<a(qt,pt))st[Nt]=pt,st[dt]=qt,dt=Nt;else break t}}function e(st){return st.length===0?null:st[0]}function i(st){if(st.length===0)return null;var pt=st[0],dt=st.pop();if(dt!==pt){st[0]=dt;t:for(var Nt=0,qt=st.length,U=qt>>>1;Nt<U;){var C=2*(Nt+1)-1,Y=st[C],Z=C+1,ot=st[Z];if(0>a(Y,dt))Z<qt&&0>a(ot,Y)?(st[Nt]=ot,st[Z]=dt,Nt=Z):(st[Nt]=Y,st[C]=dt,Nt=C);else if(Z<qt&&0>a(ot,dt))st[Nt]=ot,st[Z]=dt,Nt=Z;else break t}}return pt}function a(st,pt){var dt=st.sortIndex-pt.sortIndex;return dt!==0?dt:st.id-pt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],v=1,A=null,T=3,w=!1,V=!1,z=!1,F=!1,q=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function tt(st){for(var pt=e(d);pt!==null;){if(pt.callback===null)i(d);else if(pt.startTime<=st)i(d),pt.sortIndex=pt.expirationTime,t(f,pt);else break;pt=e(d)}}function vt(st){if(z=!1,tt(st),!V)if(e(f)!==null)V=!0,St||(St=!0,R());else{var pt=e(d);pt!==null&&_t(vt,pt.startTime-st)}}var St=!1,G=-1,O=5,D=-1;function K(){return F?!0:!(n.unstable_now()-D<O)}function x(){if(F=!1,St){var st=n.unstable_now();D=st;var pt=!0;try{t:{V=!1,z&&(z=!1,at(G),G=-1),w=!0;var dt=T;try{e:{for(tt(st),A=e(f);A!==null&&!(A.expirationTime>st&&K());){var Nt=A.callback;if(typeof Nt=="function"){A.callback=null,T=A.priorityLevel;var qt=Nt(A.expirationTime<=st);if(st=n.unstable_now(),typeof qt=="function"){A.callback=qt,tt(st),pt=!0;break e}A===e(f)&&i(f),tt(st)}else i(f);A=e(f)}if(A!==null)pt=!0;else{var U=e(d);U!==null&&_t(vt,U.startTime-st),pt=!1}}break t}finally{A=null,T=dt,w=!1}pt=void 0}}finally{pt?R():St=!1}}}var R;if(typeof J=="function")R=function(){J(x)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,lt=k.port2;k.port1.onmessage=x,R=function(){lt.postMessage(null)}}else R=function(){q(x,0)};function _t(st,pt){G=q(function(){st(n.unstable_now())},pt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(st){st.callback=null},n.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<st?Math.floor(1e3/st):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(st){switch(T){case 1:case 2:case 3:var pt=3;break;default:pt=T}var dt=T;T=pt;try{return st()}finally{T=dt}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(st,pt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var dt=T;T=st;try{return pt()}finally{T=dt}},n.unstable_scheduleCallback=function(st,pt,dt){var Nt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Nt+dt:Nt):dt=Nt,st){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=dt+qt,st={id:v++,callback:pt,priorityLevel:st,startTime:dt,expirationTime:qt,sortIndex:-1},dt>Nt?(st.sortIndex=dt,t(d,st),e(f)===null&&st===e(d)&&(z?(at(G),G=-1):z=!0,_t(vt,dt-Nt))):(st.sortIndex=qt,t(f,st),V||w||(V=!0,St||(St=!0,R()))),st},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(st){var pt=T;return function(){var dt=T;T=pt;try{return st.apply(this,arguments)}finally{T=dt}}}})(ng)),ng}var Xy;function nE(){return Xy||(Xy=1,eg.exports=eE()),eg.exports}var rg={exports:{}},hs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function rE(){if(Qy)return hs;Qy=1;var n=T0();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:A==null?null:""+A,children:f,containerInfo:d,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return hs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hs.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,v)},hs.flushSync=function(f){var d=c.T,v=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=v,i.d.f()}},hs.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},hs.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},hs.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:w}):v==="script"&&i.d.X(f,{crossOrigin:A,integrity:T,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},hs.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},hs.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin);i.d.L(f,v,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},hs.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},hs.requestFormReset=function(f){i.d.r(f)},hs.unstable_batchedUpdates=function(f,d){return f(d)},hs.useFormState=function(f,d,v){return c.H.useFormState(f,d,v)},hs.useFormStatus=function(){return c.H.useHostTransitionStatus()},hs.version="19.2.1",hs}var Jy;function iE(){if(Jy)return rg.exports;Jy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),rg.exports=rE(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function sE(){if(Zy)return Cf;Zy=1;var n=nE(),t=T0(),e=iE();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,u=s;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return f(g),r;if(b===u)return f(g),s;b=b.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=b;else{for(var I=!1,W=g.child;W;){if(W===l){I=!0,l=g,u=b;break}if(W===u){I=!0,u=g,l=b;break}W=W.sibling}if(!I){for(W=b.child;W;){if(W===l){I=!0,l=b,u=g;break}if(W===u){I=!0,u=b,l=g;break}W=W.sibling}if(!I)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function v(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=v(r),s!==null)return s;r=r.sibling}return null}var A=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),J=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function R(r){return r===null||typeof r!="object"?null:(r=x&&r[x]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function lt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case q:return"Profiler";case F:return"StrictMode";case vt:return"Suspense";case St:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case V:return"Portal";case J:return r.displayName||"Context";case at:return(r._context.displayName||"Context")+".Consumer";case tt:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return s=r.displayName||null,s!==null?s:lt(r.type)||"Memo";case O:s=r._payload,r=r._init;try{return lt(r(s))}catch{}}return null}var _t=Array.isArray,st=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Nt=[],qt=-1;function U(r){return{current:r}}function C(r){0>qt||(r.current=Nt[qt],Nt[qt]=null,qt--)}function Y(r,s){qt++,Nt[qt]=r.current,r.current=s}var Z=U(null),ot=U(null),ut=U(null),ft=U(null);function Tt(r,s){switch(Y(ut,s),Y(ot,r),Y(Z,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?py(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=py(s),r=my(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}C(Z),Y(Z,r)}function Ct(){C(Z),C(ot),C(ut)}function jt(r){r.memoizedState!==null&&Y(ft,r);var s=Z.current,l=my(s,r.type);s!==l&&(Y(ot,r),Y(Z,l))}function Xt(r){ot.current===r&&(C(Z),C(ot)),ft.current===r&&(C(ft),Ef._currentValue=dt)}var te,$t;function ie(r){if(te===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);te=s&&s[1]||"",$t=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+r+$t}var et=!1;function Zt(r,s){if(!r||et)return"";et=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(Ot){var Dt=Ot}Reflect.construct(r,[],Ht)}else{try{Ht.call()}catch(Ot){Dt=Ot}r.call(Ht.prototype)}}else{try{throw Error()}catch(Ot){Dt=Ot}(Ht=r())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(Ot){if(Ot&&Dt&&typeof Ot.stack=="string")return[Ot.stack,Dt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),I=b[0],W=b[1];if(I&&W){var ct=I.split(`
`),Lt=W.split(`
`);for(g=u=0;u<ct.length&&!ct[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Lt.length&&!Lt[g].includes("DetermineComponentFrameRoot");)g++;if(u===ct.length||g===Lt.length)for(u=ct.length-1,g=Lt.length-1;1<=u&&0<=g&&ct[u]!==Lt[g];)g--;for(;1<=u&&0<=g;u--,g--)if(ct[u]!==Lt[g]){if(u!==1||g!==1)do if(u--,g--,0>g||ct[u]!==Lt[g]){var Vt=`
`+ct[u].replace(" at new "," at ");return r.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",r.displayName)),Vt}while(1<=u&&0<=g);break}}}finally{et=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?ie(l):""}function Ve(r,s){switch(r.tag){case 26:case 27:case 5:return ie(r.type);case 16:return ie("Lazy");case 13:return r.child!==s&&s!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return Zt(r.type,!1);case 11:return Zt(r.type.render,!1);case 1:return Zt(r.type,!0);case 31:return ie("Activity");default:return""}}function Ae(r){try{var s="",l=null;do s+=Ve(r,l),l=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ft=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,ee=n.unstable_cancelCallback,we=n.unstable_shouldYield,he=n.unstable_requestPaint,Ge=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Be=n.unstable_ImmediatePriority,an=n.unstable_UserBlockingPriority,Xe=n.unstable_NormalPriority,ye=n.unstable_LowPriority,Ye=n.unstable_IdlePriority,ve=n.log,hr=n.unstable_setDisableYieldValue,Qe=null,Ie=null;function je(r){if(typeof ve=="function"&&hr(r),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Qe,r)}catch{}}var $e=Math.clz32?Math.clz32:Pe,xe=Math.log,Cn=Math.LN2;function Pe(r){return r>>>=0,r===0?32:31-(xe(r)/Cn|0)|0}var Me=256,kn=262144,Se=4194304;function be(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function on(r,s,l){var u=r.pendingLanes;if(u===0)return 0;var g=0,b=r.suspendedLanes,I=r.pingedLanes;r=r.warmLanes;var W=u&134217727;return W!==0?(u=W&~b,u!==0?g=be(u):(I&=W,I!==0?g=be(I):l||(l=W&~r,l!==0&&(g=be(l))))):(W=u&~b,W!==0?g=be(W):I!==0?g=be(I):l||(l=u&~r,l!==0&&(g=be(l)))),g===0?0:s!==0&&s!==g&&(s&b)===0&&(b=g&-g,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:g}function fi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ti(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var r=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),r}function Gr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Te(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ea(r,s,l,u,g,b){var I=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var W=r.entanglements,ct=r.expirationTimes,Lt=r.hiddenUpdates;for(l=I&~l;0<l;){var Vt=31-$e(l),Ht=1<<Vt;W[Vt]=0,ct[Vt]=-1;var Dt=Lt[Vt];if(Dt!==null)for(Lt[Vt]=null,Vt=0;Vt<Dt.length;Vt++){var Ot=Dt[Vt];Ot!==null&&(Ot.lane&=-536870913)}l&=~Ht}u!==0&&Bi(r,u,0),b!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=b&~(I&~s))}function Bi(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-$e(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|l&261930}function Ti(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var u=31-$e(l),g=1<<u;g&s|r[u]&s&&(r[u]|=s),l&=~g}}function Ni(r,s){var l=s&-s;return l=(l&42)!==0?1:Bn(l),(l&(r.suspendedLanes|s))!==0?0:l}function Bn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Qn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Or(){var r=pt.p;return r!==0?r:(r=window.event,r===void 0?32:Uy(r.type))}function di(r,s){var l=pt.p;try{return pt.p=r,s()}finally{pt.p=l}}var ei=Math.random().toString(36).slice(2),Dn="__reactFiber$"+ei,Hn="__reactProps$"+ei,Pr="__reactContainer$"+ei,Ii="__reactEvents$"+ei,is="__reactListeners$"+ei,_a="__reactHandles$"+ei,_s="__reactResources$"+ei,Ci="__reactMarker$"+ei;function na(r){delete r[Dn],delete r[Hn],delete r[Ii],delete r[is],delete r[_a]}function qi(r){var s=r[Dn];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Pr]||l[Dn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Ay(r);r!==null;){if(l=r[Dn])return l;r=Ay(r)}return s}r=l,l=r.parentNode}return null}function pi(r){if(r=r[Dn]||r[Pr]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function zi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ss(r){var s=r[_s];return s||(s=r[_s]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dr(r){r[Ci]=!0}var Ao=new Set,Ri={};function as(r,s){ws(r,s),ws(r+"Capture",s)}function ws(r,s){for(Ri[r]=s,r=0;r<s.length;r++)Ao.add(s[r])}var za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},Eo={};function rl(r){return Ft.call(Eo,r)?!0:Ft.call(So,r)?!1:za.test(r)?Eo[r]=!0:(So[r]=!0,!1)}function Hi(r,s,l){if(rl(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function ni(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function br(r,s,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+u)}}function hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ra(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function os(r,s,l){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,b=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return g.call(this)},set:function(I){l=""+I,b.call(this,I)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(I){l=""+I},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function yn(r){if(!r._valueTracker){var s=ra(r)?"checked":"value";r._valueTracker=os(r,s,""+r[s])}}function wa(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return r&&(u=ra(r)?r.checked?"true":"false":r.value),r=u,r!==l?(s.setValue(r),!0):!1}function Tr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var sr=/[\n"\\]/g;function _r(r){return r.replace(sr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ha(r,s,l,u,g,b,I,W){r.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.type=I:r.removeAttribute("type"),s!=null?I==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+hn(s)):r.value!==""+hn(s)&&(r.value=""+hn(s)):I!=="submit"&&I!=="reset"||r.removeAttribute("value"),s!=null?il(r,I,hn(s)):l!=null?il(r,I,hn(l)):u!=null&&r.removeAttribute("value"),g==null&&b!=null&&(r.defaultChecked=!!b),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?r.name=""+hn(W):r.removeAttribute("name")}function Vl(r,s,l,u,g,b,I,W){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){yn(r);return}l=l!=null?""+hn(l):"",s=s!=null?""+hn(s):l,W||s===r.value||(r.value=s),r.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=W?r.checked:!!u,r.defaultChecked=!!u,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(r.name=I),yn(r)}function il(r,s,l){s==="number"&&Tr(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function mi(r,s,l,u){if(r=r.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=s.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&u&&(r[l].defaultSelected=!0)}else{for(l=""+hn(l),s=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,u&&(r[g].defaultSelected=!0);return}s!==null||r[g].disabled||(s=r[g])}s!==null&&(s.selected=!0)}}function sl(r,s,l){if(s!=null&&(s=""+hn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+hn(l):""}function ia(r,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(_t(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=hn(s),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u),yn(r)}function Yr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(r,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,l):typeof l!="number"||l===0||Aa.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function ol(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&al(r,g,u)}else for(var b in s)s.hasOwnProperty(b)&&al(r,b,s[b])}function xo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(r){return sa.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function As(){}var aa=null;function ki(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Sa=null,Ce=null;function Ga(r){var s=pi(r);if(s&&(r=s.stateNode)){var l=r[Hn]||null;t:switch(r=s.stateNode,s.type){case"input":if(Ha(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_r(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==r&&u.form===r.form){var g=u[Hn]||null;if(!g)throw Error(i(90));Ha(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===r.form&&wa(u)}break t;case"textarea":sl(r,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&mi(r,!!l.multiple,s,!1)}}}var No=!1;function Ea(r,s,l){if(No)return r(s,l);No=!0;try{var u=r(s);return u}finally{if(No=!1,(Sa!==null||Ce!==null)&&(zd(),Sa&&(s=Sa,r=Ce,Ce=Sa=null,Ga(s),r)))for(s=0;s<r.length;s++)Ga(r[s])}}function Kr(r,s){var l=r.stateNode;if(l===null)return null;var u=l[Hn]||null;if(u===null)return null;l=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break t;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(Mr)try{var On={};Object.defineProperty(On,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Ya=!1}var Gi=null,Ka=null,Ss=null;function ll(){if(Ss)return Ss;var r,s=Ka,l=s.length,u,g="value"in Gi?Gi.value:Gi.textContent,b=g.length;for(r=0;r<l&&s[r]===g[r];r++);var I=l-r;for(u=1;u<=I&&s[l-u]===g[b-u];u++);return Ss=g.slice(r,1<u?1-u:void 0)}function Yi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function oa(){return!0}function Ki(){return!1}function Nr(r){function s(l,u,g,b,I){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=b,this.target=I,this.currentTarget=null;for(var W in r)r.hasOwnProperty(W)&&(l=r[W],this[W]=l?l(b):b[W]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?oa:Ki,this.isPropagationStopped=Ki,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),s}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=Nr(ks),Ds=A({},ks,{view:0,detail:0}),xa=Nr(Ds),Os,Ps,ls,Wa=A({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Le,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ls&&(ls&&r.type==="mousemove"?(Os=r.screenX-ls.screenX,Ps=r.screenY-ls.screenY):Ps=Os=0,ls=r),Os)},movementY:function(r){return"movementY"in r?r.movementY:Ps}}),Io=Nr(Wa),Wi=A({},Wa,{dataTransfer:0}),Ms=Nr(Wi),ul=A({},Ds,{relatedTarget:0}),Es=Nr(ul),Co=A({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Nr(Co),M=A({},ks,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rt=Nr(M),ht=A({},ks,{data:0}),bt=Nr(ht),Ut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pe(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=oe[r])?!!s[r]:!1}function Le(){return pe}var Ne=A({},Ds,{key:function(r){if(r.key){var s=Ut[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Yi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Le,charCode:function(r){return r.type==="keypress"?Yi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Yi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),fn=Nr(Ne),Jn=A({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qn=Nr(Jn),m=A({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Le}),E=Nr(m),L=A({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),X=Nr(L),At=A({},Wa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kt=Nr(At),Jt=A({},ks,{newState:0,oldState:0}),He=Nr(Jt),Zn=[9,13,27,32],un=Mr&&"CompositionEvent"in window,Pn=null;Mr&&"documentMode"in document&&(Pn=document.documentMode);var ii=Mr&&"TextEvent"in window&&!Pn,gi=Mr&&(!un||Pn&&8<Pn&&11>=Pn),Gn=" ",yi=!1;function xs(r,s){switch(r){case"keyup":return Zn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Na=!1;function $i(r,s){switch(r){case"compositionend":return Ta(s);case"keypress":return s.which!==32?null:(yi=!0,Gn);case"textInput":return r=s.data,r===Gn&&yi?null:r;default:return null}}function $a(r,s){if(Na)return r==="compositionend"||!un&&xs(r,s)?(r=ll(),Ss=Ka=Gi=null,Na=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gi&&s.locale!=="ko"?null:s.data;default:return null}}var Fl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Fl[r.type]:s==="textarea"}function Ts(r,s,l,u){Sa?Ce?Ce.push(u):Ce=[u]:Sa=u,s=Xd(s,"onChange"),0<s.length&&(l=new ri("onChange","change",null,l,u),r.push({event:l,listeners:s}))}var la=null,Xa=null;function Hu(r){ly(r,0)}function ua(r){var s=zi(r);if(wa(s))return r}function Ro(r,s){if(r==="change")return s}var us=!1;if(Mr){var Xi;if(Mr){var Ia="oninput"in document;if(!Ia){var Ca=document.createElement("div");Ca.setAttribute("oninput","return;"),Ia=typeof Ca.oninput=="function"}Xi=Ia}else Xi=!1;us=Xi&&(!document.documentMode||9<document.documentMode)}function Qa(){la&&(la.detachEvent("onpropertychange",Bl),Xa=la=null)}function Bl(r){if(r.propertyName==="value"&&ua(Xa)){var s=[];Ts(s,Xa,r,ki(r)),Ea(Hu,s)}}function ql(r,s,l){r==="focusin"?(Qa(),la=s,Xa=l,la.attachEvent("onpropertychange",Bl)):r==="focusout"&&Qa()}function Ir(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ua(Xa)}function Cc(r,s){if(r==="click")return ua(s)}function Ra(r,s){if(r==="input"||r==="change")return ua(s)}function La(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var vi=typeof Object.is=="function"?Object.is:La;function Ja(r,s){if(vi(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ft.call(s,g)||!vi(r[g],s[g]))return!1}return!0}function zl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hl(r,s){var l=zl(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=s&&u>=s)return{node:l,offset:s-r};r=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=zl(l)}}function Za(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Za(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function to(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Tr(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Tr(r.document)}return s}function ka(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var cl=Mr&&"documentMode"in document&&11>=document.documentMode,Ns=null,eo=null,Di=null,js=!1;function Rn(r,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;js||Ns==null||Ns!==Tr(u)||(u=Ns,"selectionStart"in u&&ka(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Di&&Ja(Di,u)||(Di=u,u=Xd(eo,"onSelect"),0<u.length&&(s=new ri("onSelect","select",null,s,l),r.push({event:s,listeners:u}),s.target=Ns)))}function Sn(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var tr={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Cr={},Da={};Mr&&(Da=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function ca(r){if(Cr[r])return Cr[r];if(!tr[r])return r;var s=tr[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Da)return Cr[r]=s[l];return r}var hl=ca("animationend"),Gu=ca("animationiteration"),Yh=ca("animationstart"),bd=ca("transitionrun"),_d=ca("transitionstart"),wd=ca("transitioncancel"),Kh=ca("transitionend"),Wh=new Map,fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fl.push("scrollEnd");function Us(r,s){Wh.set(r,s),as(s,[r])}var Yu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Is=[],dl=0,Rc=0;function Ku(){for(var r=dl,s=Rc=dl=0;s<r;){var l=Is[s];Is[s++]=null;var u=Is[s];Is[s++]=null;var g=Is[s];Is[s++]=null;var b=Is[s];if(Is[s++]=null,u!==null&&g!==null){var I=u.pending;I===null?g.next=g:(g.next=I.next,I.next=g),u.pending=g}b!==0&&$u(l,g,b)}}function Wu(r,s,l,u){Is[dl++]=r,Is[dl++]=s,Is[dl++]=l,Is[dl++]=u,Rc|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Lc(r,s,l,u){return Wu(r,s,l,u),Oi(r)}function no(r,s){return Wu(r,null,null,s),Oi(r)}function $u(r,s,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var g=!1,b=r.return;b!==null;)b.childLanes|=l,u=b.alternate,u!==null&&(u.childLanes|=l),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(g=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,g&&s!==null&&(g=31-$e(l),r=b.hiddenUpdates,u=r[g],u===null?r[g]=[s]:u.push(s),s.lane=l|536870912),b):null}function Oi(r){if(50<yf)throw yf=0,A1=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var bi={};function kc(r,s,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(r,s,l,u){return new kc(r,s,l,u)}function Dc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Vs(r,s){var l=r.alternate;return l===null?(l=Pi(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Xu(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Gl(r,s,l,u,g,b){var I=0;if(u=r,typeof r=="function")Dc(r)&&(I=1);else if(typeof r=="string")I=US(r,l,Z.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case D:return r=Pi(31,l,s,g),r.elementType=D,r.lanes=b,r;case z:return Lo(l.children,g,b,s);case F:I=8,g|=24;break;case q:return r=Pi(12,l,s,g|2),r.elementType=q,r.lanes=b,r;case vt:return r=Pi(13,l,s,g),r.elementType=vt,r.lanes=b,r;case St:return r=Pi(19,l,s,g),r.elementType=St,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case J:I=10;break t;case at:I=9;break t;case tt:I=11;break t;case G:I=14;break t;case O:I=16,u=null;break t}I=29,l=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Pi(I,l,s,g),s.elementType=r,s.type=u,s.lanes=b,s}function Lo(r,s,l,u){return r=Pi(7,r,u,s),r.lanes=l,r}function Qu(r,s,l){return r=Pi(6,r,null,s),r.lanes=l,r}function Oc(r){var s=Pi(18,null,null,0);return s.stateNode=r,s}function Yl(r,s,l){return s=Pi(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Pc=new WeakMap;function Fs(r,s){if(typeof r=="object"&&r!==null){var l=Pc.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Ae(s)},Pc.set(r,s),s)}return{value:r,source:s,stack:Ae(s)}}var Kl=[],pl=0,Mc=null,Ju=0,Bs=[],qs=0,ko=null,zs=1,Hs="";function Cs(r,s){Kl[pl++]=Ju,Kl[pl++]=Mc,Mc=r,Ju=s}function Ad(r,s,l){Bs[qs++]=zs,Bs[qs++]=Hs,Bs[qs++]=ko,ko=r;var u=zs;r=Hs;var g=32-$e(u)-1;u&=~(1<<g),l+=1;var b=32-$e(s)+g;if(30<b){var I=g-g%5;b=(u&(1<<I)-1).toString(32),u>>=I,g-=I,zs=1<<32-$e(s)+g|l<<g|u,Hs=b+r}else zs=1<<b|l<<g|u,Hs=r}function $h(r){r.return!==null&&(Cs(r,1),Ad(r,1,0))}function jc(r){for(;r===Mc;)Mc=Kl[--pl],Kl[pl]=null,Ju=Kl[--pl],Kl[pl]=null;for(;r===ko;)ko=Bs[--qs],Bs[qs]=null,Hs=Bs[--qs],Bs[qs]=null,zs=Bs[--qs],Bs[qs]=null}function Sd(r,s){Bs[qs++]=zs,Bs[qs++]=Hs,Bs[qs++]=ko,zs=s.id,Hs=s.overflow,ko=r}var _i=null,ar=null,pn=!1,Qi=null,wr=!1,ha=Error(i(519));function Do(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Fs(s,r)),ha}function Xh(r){var s=r.stateNode,l=r.type,u=r.memoizedProps;switch(s[Dn]=r,s[Hn]=u,l){case"dialog":gn("cancel",s),gn("close",s);break;case"iframe":case"object":case"embed":gn("load",s);break;case"video":case"audio":for(l=0;l<bf.length;l++)gn(bf[l],s);break;case"source":gn("error",s);break;case"img":case"image":case"link":gn("error",s),gn("load",s);break;case"details":gn("toggle",s);break;case"input":gn("invalid",s),Vl(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":gn("invalid",s);break;case"textarea":gn("invalid",s),ia(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||fy(s.textContent,l)?(u.popover!=null&&(gn("beforetoggle",s),gn("toggle",s)),u.onScroll!=null&&gn("scroll",s),u.onScrollEnd!=null&&gn("scrollend",s),u.onClick!=null&&(s.onclick=As),s=!0):s=!1,s||Do(r,!0)}function ro(r){for(_i=r.return;_i;)switch(_i.tag){case 5:case 31:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:_i=_i.return}}function wi(r){if(r!==_i)return!1;if(!pn)return ro(r),pn=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||j1(r.type,r.memoizedProps)),l=!l),l&&ar&&Do(r),ro(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ar=wy(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ar=wy(r)}else s===27?(s=ar,lu(r.type)?(r=q1,q1=null,ar=r):ar=s):ar=_i?ja(r.stateNode.nextSibling):null;return!0}function ml(){ar=_i=null,pn=!1}function Qh(){var r=Qi;return r!==null&&(Xs===null?Xs=r:Xs.push.apply(Xs,r),Qi=null),r}function Wl(r){Qi===null?Qi=[r]:Qi.push(r)}var Uc=U(null),Oo=null,Oa=null;function Po(r,s,l){Y(Uc,s._currentValue),s._currentValue=l}function Gs(r){r._currentValue=Uc.current,C(Uc)}function $l(r,s,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===l)break;r=r.return}}function gl(r,s,l,u){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var b=g.dependencies;if(b!==null){var I=g.child;b=b.firstContext;t:for(;b!==null;){var W=b;b=g;for(var ct=0;ct<s.length;ct++)if(W.context===s[ct]){b.lanes|=l,W=b.alternate,W!==null&&(W.lanes|=l),$l(b.return,l,r),u||(I=null);break t}b=W.next}}else if(g.tag===18){if(I=g.return,I===null)throw Error(i(341));I.lanes|=l,b=I.alternate,b!==null&&(b.lanes|=l),$l(I,l,r),I=null}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===r){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}}function Mo(r,s,l,u){r=null;for(var g=s,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var I=g.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var W=g.type;vi(g.pendingProps.value,I.value)||(r!==null?r.push(W):r=[W])}}else if(g===ft.current){if(I=g.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Ef):r=[Ef])}g=g.return}r!==null&&gl(s,r,l,u),s.flags|=262144}function Vc(r){for(r=r.firstContext;r!==null;){if(!vi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function jo(r){Oo=r,Oa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ai(r){return Ed(Oo,r)}function Fc(r,s){return Oo===null&&jo(r),Ed(r,s)}function Ed(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Oa===null){if(r===null)throw Error(i(308));Oa=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Oa=Oa.next=s;return l}var Bm=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},qm=n.unstable_scheduleCallback,zm=n.unstable_NormalPriority,Rr={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xl(){return{controller:new Bm,data:new Map,refCount:0}}function Zu(r){r.refCount--,r.refCount===0&&qm(zm,function(){r.controller.abort()})}var tc=null,Bc=0,p=0,y=null;function S(r,s){if(tc===null){var l=tc=[];Bc=0,p=I1(),y={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Bc++,s.then(N,N),s}function N(){if(--Bc===0&&tc!==null){y!==null&&(y.status="fulfilled");var r=tc;tc=null,p=0,y=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function j(r,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var B=st.S;st.S=function(r,s){M5=Ge(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&S(r,s),B!==null&&B(r,s)};var H=U(null);function $(){var r=H.current;return r!==null?r:lr.pooledCache}function Q(r,s){s===null?Y(H,H.current):Y(H,s.pool)}function it(){var r=$();return r===null?null:{parent:Rr._currentValue,pool:r}}var mt=Error(i(460)),It=Error(i(474)),nt=Error(i(542)),yt={then:function(){}};function Et(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Mt(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(As,As),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Qt(r),r;default:if(typeof s.status=="string")s.then(As,As);else{if(r=lr,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Qt(r),r}throw Pt=s,mt}}function xt(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pt=l,mt):l}}var Pt=null;function Bt(){if(Pt===null)throw Error(i(459));var r=Pt;return Pt=null,r}function Qt(r){if(r===mt||r===nt)throw Error(i(483))}var Gt=null,me=0;function se(r){var s=me;return me+=1,Gt===null&&(Gt=[]),Mt(Gt,r,s)}function Ke(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ce(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function dn(r){function s(wt,gt){if(r){var Rt=wt.deletions;Rt===null?(wt.deletions=[gt],wt.flags|=16):Rt.push(gt)}}function l(wt,gt){if(!r)return null;for(;gt!==null;)s(wt,gt),gt=gt.sibling;return null}function u(wt){for(var gt=new Map;wt!==null;)wt.key!==null?gt.set(wt.key,wt):gt.set(wt.index,wt),wt=wt.sibling;return gt}function g(wt,gt){return wt=Vs(wt,gt),wt.index=0,wt.sibling=null,wt}function b(wt,gt,Rt){return wt.index=Rt,r?(Rt=wt.alternate,Rt!==null?(Rt=Rt.index,Rt<gt?(wt.flags|=67108866,gt):Rt):(wt.flags|=67108866,gt)):(wt.flags|=1048576,gt)}function I(wt){return r&&wt.alternate===null&&(wt.flags|=67108866),wt}function W(wt,gt,Rt,zt){return gt===null||gt.tag!==6?(gt=Qu(Rt,wt.mode,zt),gt.return=wt,gt):(gt=g(gt,Rt),gt.return=wt,gt)}function ct(wt,gt,Rt,zt){var De=Rt.type;return De===z?Vt(wt,gt,Rt.props.children,zt,Rt.key):gt!==null&&(gt.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===O&&xt(De)===gt.type)?(gt=g(gt,Rt.props),Ke(gt,Rt),gt.return=wt,gt):(gt=Gl(Rt.type,Rt.key,Rt.props,null,wt.mode,zt),Ke(gt,Rt),gt.return=wt,gt)}function Lt(wt,gt,Rt,zt){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==Rt.containerInfo||gt.stateNode.implementation!==Rt.implementation?(gt=Yl(Rt,wt.mode,zt),gt.return=wt,gt):(gt=g(gt,Rt.children||[]),gt.return=wt,gt)}function Vt(wt,gt,Rt,zt,De){return gt===null||gt.tag!==7?(gt=Lo(Rt,wt.mode,zt,De),gt.return=wt,gt):(gt=g(gt,Rt),gt.return=wt,gt)}function Ht(wt,gt,Rt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return gt=Qu(""+gt,wt.mode,Rt),gt.return=wt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case w:return Rt=Gl(gt.type,gt.key,gt.props,null,wt.mode,Rt),Ke(Rt,gt),Rt.return=wt,Rt;case V:return gt=Yl(gt,wt.mode,Rt),gt.return=wt,gt;case O:return gt=xt(gt),Ht(wt,gt,Rt)}if(_t(gt)||R(gt))return gt=Lo(gt,wt.mode,Rt,null),gt.return=wt,gt;if(typeof gt.then=="function")return Ht(wt,se(gt),Rt);if(gt.$$typeof===J)return Ht(wt,Fc(wt,gt),Rt);ce(wt,gt)}return null}function Dt(wt,gt,Rt,zt){var De=gt!==null?gt.key:null;if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return De!==null?null:W(wt,gt,""+Rt,zt);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case w:return Rt.key===De?ct(wt,gt,Rt,zt):null;case V:return Rt.key===De?Lt(wt,gt,Rt,zt):null;case O:return Rt=xt(Rt),Dt(wt,gt,Rt,zt)}if(_t(Rt)||R(Rt))return De!==null?null:Vt(wt,gt,Rt,zt,null);if(typeof Rt.then=="function")return Dt(wt,gt,se(Rt),zt);if(Rt.$$typeof===J)return Dt(wt,gt,Fc(wt,Rt),zt);ce(wt,Rt)}return null}function Ot(wt,gt,Rt,zt,De){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return wt=wt.get(Rt)||null,W(gt,wt,""+zt,De);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case w:return wt=wt.get(zt.key===null?Rt:zt.key)||null,ct(gt,wt,zt,De);case V:return wt=wt.get(zt.key===null?Rt:zt.key)||null,Lt(gt,wt,zt,De);case O:return zt=xt(zt),Ot(wt,gt,Rt,zt,De)}if(_t(zt)||R(zt))return wt=wt.get(Rt)||null,Vt(gt,wt,zt,De,null);if(typeof zt.then=="function")return Ot(wt,gt,Rt,se(zt),De);if(zt.$$typeof===J)return Ot(wt,gt,Rt,Fc(gt,zt),De);ce(gt,zt)}return null}function fe(wt,gt,Rt,zt){for(var De=null,Mn=null,_e=gt,ln=gt=0,bn=null;_e!==null&&ln<Rt.length;ln++){_e.index>ln?(bn=_e,_e=null):bn=_e.sibling;var jn=Dt(wt,_e,Rt[ln],zt);if(jn===null){_e===null&&(_e=bn);break}r&&_e&&jn.alternate===null&&s(wt,_e),gt=b(jn,gt,ln),Mn===null?De=jn:Mn.sibling=jn,Mn=jn,_e=bn}if(ln===Rt.length)return l(wt,_e),pn&&Cs(wt,ln),De;if(_e===null){for(;ln<Rt.length;ln++)_e=Ht(wt,Rt[ln],zt),_e!==null&&(gt=b(_e,gt,ln),Mn===null?De=_e:Mn.sibling=_e,Mn=_e);return pn&&Cs(wt,ln),De}for(_e=u(_e);ln<Rt.length;ln++)bn=Ot(_e,wt,ln,Rt[ln],zt),bn!==null&&(r&&bn.alternate!==null&&_e.delete(bn.key===null?ln:bn.key),gt=b(bn,gt,ln),Mn===null?De=bn:Mn.sibling=bn,Mn=bn);return r&&_e.forEach(function(du){return s(wt,du)}),pn&&Cs(wt,ln),De}function Fe(wt,gt,Rt,zt){if(Rt==null)throw Error(i(151));for(var De=null,Mn=null,_e=gt,ln=gt=0,bn=null,jn=Rt.next();_e!==null&&!jn.done;ln++,jn=Rt.next()){_e.index>ln?(bn=_e,_e=null):bn=_e.sibling;var du=Dt(wt,_e,jn.value,zt);if(du===null){_e===null&&(_e=bn);break}r&&_e&&du.alternate===null&&s(wt,_e),gt=b(du,gt,ln),Mn===null?De=du:Mn.sibling=du,Mn=du,_e=bn}if(jn.done)return l(wt,_e),pn&&Cs(wt,ln),De;if(_e===null){for(;!jn.done;ln++,jn=Rt.next())jn=Ht(wt,jn.value,zt),jn!==null&&(gt=b(jn,gt,ln),Mn===null?De=jn:Mn.sibling=jn,Mn=jn);return pn&&Cs(wt,ln),De}for(_e=u(_e);!jn.done;ln++,jn=Rt.next())jn=Ot(_e,wt,ln,jn.value,zt),jn!==null&&(r&&jn.alternate!==null&&_e.delete(jn.key===null?ln:jn.key),gt=b(jn,gt,ln),Mn===null?De=jn:Mn.sibling=jn,Mn=jn);return r&&_e.forEach(function($S){return s(wt,$S)}),pn&&Cs(wt,ln),De}function ir(wt,gt,Rt,zt){if(typeof Rt=="object"&&Rt!==null&&Rt.type===z&&Rt.key===null&&(Rt=Rt.props.children),typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case w:t:{for(var De=Rt.key;gt!==null;){if(gt.key===De){if(De=Rt.type,De===z){if(gt.tag===7){l(wt,gt.sibling),zt=g(gt,Rt.props.children),zt.return=wt,wt=zt;break t}}else if(gt.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===O&&xt(De)===gt.type){l(wt,gt.sibling),zt=g(gt,Rt.props),Ke(zt,Rt),zt.return=wt,wt=zt;break t}l(wt,gt);break}else s(wt,gt);gt=gt.sibling}Rt.type===z?(zt=Lo(Rt.props.children,wt.mode,zt,Rt.key),zt.return=wt,wt=zt):(zt=Gl(Rt.type,Rt.key,Rt.props,null,wt.mode,zt),Ke(zt,Rt),zt.return=wt,wt=zt)}return I(wt);case V:t:{for(De=Rt.key;gt!==null;){if(gt.key===De)if(gt.tag===4&&gt.stateNode.containerInfo===Rt.containerInfo&&gt.stateNode.implementation===Rt.implementation){l(wt,gt.sibling),zt=g(gt,Rt.children||[]),zt.return=wt,wt=zt;break t}else{l(wt,gt);break}else s(wt,gt);gt=gt.sibling}zt=Yl(Rt,wt.mode,zt),zt.return=wt,wt=zt}return I(wt);case O:return Rt=xt(Rt),ir(wt,gt,Rt,zt)}if(_t(Rt))return fe(wt,gt,Rt,zt);if(R(Rt)){if(De=R(Rt),typeof De!="function")throw Error(i(150));return Rt=De.call(Rt),Fe(wt,gt,Rt,zt)}if(typeof Rt.then=="function")return ir(wt,gt,se(Rt),zt);if(Rt.$$typeof===J)return ir(wt,gt,Fc(wt,Rt),zt);ce(wt,Rt)}return typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint"?(Rt=""+Rt,gt!==null&&gt.tag===6?(l(wt,gt.sibling),zt=g(gt,Rt),zt.return=wt,wt=zt):(l(wt,gt),zt=Qu(Rt,wt.mode,zt),zt.return=wt,wt=zt),I(wt)):l(wt,gt)}return function(wt,gt,Rt,zt){try{me=0;var De=ir(wt,gt,Rt,zt);return Gt=null,De}catch(_e){if(_e===mt||_e===nt)throw _e;var Mn=Pi(29,_e,null,wt.mode);return Mn.lanes=zt,Mn.return=wt,Mn}finally{}}}var or=dn(!0),tn=dn(!1),ae=!1;function ne(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pr(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ue(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function sn(r,s,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Fn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=Oi(r),$u(r,null,l),s}return Wu(r,u,s,l),Oi(r)}function Un(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,Ti(r,l)}}function Wr(r,s){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=I:b=b.next=I,l=l.next}while(l!==null);b===null?g=b=s:b=b.next=s}else g=b=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Si=!1;function er(){if(Si){var r=y;if(r!==null)throw r}}function jr(r,s,l,u){Si=!1;var g=r.updateQueue;ae=!1;var b=g.firstBaseUpdate,I=g.lastBaseUpdate,W=g.shared.pending;if(W!==null){g.shared.pending=null;var ct=W,Lt=ct.next;ct.next=null,I===null?b=Lt:I.next=Lt,I=ct;var Vt=r.alternate;Vt!==null&&(Vt=Vt.updateQueue,W=Vt.lastBaseUpdate,W!==I&&(W===null?Vt.firstBaseUpdate=Lt:W.next=Lt,Vt.lastBaseUpdate=ct))}if(b!==null){var Ht=g.baseState;I=0,Vt=Lt=ct=null,W=b;do{var Dt=W.lane&-536870913,Ot=Dt!==W.lane;if(Ot?(vn&Dt)===Dt:(u&Dt)===Dt){Dt!==0&&Dt===p&&(Si=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});t:{var fe=r,Fe=W;Dt=s;var ir=l;switch(Fe.tag){case 1:if(fe=Fe.payload,typeof fe=="function"){Ht=fe.call(ir,Ht,Dt);break t}Ht=fe;break t;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Fe.payload,Dt=typeof fe=="function"?fe.call(ir,Ht,Dt):fe,Dt==null)break t;Ht=A({},Ht,Dt);break t;case 2:ae=!0}}Dt=W.callback,Dt!==null&&(r.flags|=64,Ot&&(r.flags|=8192),Ot=g.callbacks,Ot===null?g.callbacks=[Dt]:Ot.push(Dt))}else Ot={lane:Dt,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Vt===null?(Lt=Vt=Ot,ct=Ht):Vt=Vt.next=Ot,I|=Dt;if(W=W.next,W===null){if(W=g.shared.pending,W===null)break;Ot=W,W=Ot.next,Ot.next=null,g.lastBaseUpdate=Ot,g.shared.pending=null}}while(!0);Vt===null&&(ct=Ht),g.baseState=ct,g.firstBaseUpdate=Lt,g.lastBaseUpdate=Vt,b===null&&(g.shared.lanes=0),ru|=I,r.lanes=I,r.memoizedState=Ht}}function Mi(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Ur(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Mi(l[r],s)}var cn=U(null),xn=U(0);function mr(r,s){r=Tl,Y(xn,r),Y(cn,s),Tl=r|s.baseLanes}function Ln(){Y(xn,Tl),Y(cn,cn.current)}function $r(){Tl=xn.current,C(cn),C(xn)}var gr=U(null),Tn=null;function Lr(r){var s=r.alternate;Y(En,En.current&1),Y(gr,r),Tn===null&&(s===null||cn.current!==null||s.memoizedState!==null)&&(Tn=r)}function Vn(r){Y(En,En.current),Y(gr,r),Tn===null&&(Tn=r)}function Vr(r){r.tag===22?(Y(En,En.current),Y(gr,r),Tn===null&&(Tn=r)):Fr()}function Fr(){Y(En,En.current),Y(gr,gr.current)}function Yn(r){C(gr),Tn===r&&(Tn=null),C(En)}var En=U(0);function ji(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||F1(l)||B1(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ar=0,Re=null,ke=null,Nn=null,cs=!1,Ys=!1,Ji=!1,Br=0,Uo=0,Vo=null,qc=0;function nr(){throw Error(i(321))}function Jh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!vi(r[l],s[l]))return!1;return!0}function Zh(r,s,l,u,g,b){return Ar=b,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,st.H=r===null||r.memoizedState===null?K2:Qm,Ji=!1,b=l(u,g),Ji=!1,Ys&&(b=io(s,l,u,g)),zc(r),b}function zc(r){st.H=lf;var s=ke!==null&&ke.next!==null;if(Ar=0,Nn=ke=Re=null,cs=!1,Uo=0,Vo=null,s)throw Error(i(300));r===null||ai||(r=r.dependencies,r!==null&&Vc(r)&&(ai=!0))}function io(r,s,l,u){Re=r;var g=0;do{if(Ys&&(Vo=null),Uo=0,Ys=!1,25<=g)throw Error(i(301));if(g+=1,Nn=ke=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}st.H=W2,b=s(l,u)}while(Ys);return b}function Hm(){var r=st.H,s=r.useState()[0];return s=typeof s.then=="function"?Fo(s):s,r=r.useState()[0],(ke!==null?ke.memoizedState:null)!==r&&(Re.flags|=1024),s}function tf(){var r=Br!==0;return Br=0,r}function ef(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function Hc(r){if(cs){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}cs=!1}Ar=0,Nn=ke=Re=null,Ys=!1,Uo=Br=0,Vo=null}function si(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Re.memoizedState=Nn=r:Nn=Nn.next=r,Nn}function Sr(){if(ke===null){var r=Re.alternate;r=r!==null?r.memoizedState:null}else r=ke.next;var s=Nn===null?Re.memoizedState:Nn.next;if(s!==null)Nn=s,ke=r;else{if(r===null)throw Re.alternate===null?Error(i(467)):Error(i(310));ke=r,r={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Nn===null?Re.memoizedState=Nn=r:Nn=Nn.next=r}return Nn}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(r){var s=Uo;return Uo+=1,Vo===null&&(Vo=[]),r=Mt(Vo,r,s),s=Re,(Nn===null?s.memoizedState:Nn.next)===null&&(s=s.alternate,st.H=s===null||s.memoizedState===null?K2:Qm),r}function Ql(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Fo(r);if(r.$$typeof===J)return Ai(r)}throw Error(i(438,String(r)))}function yl(r){var s=null,l=Re.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Re.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=ec(),Re.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),u=0;u<r;u++)l[u]=K;return s.index++,l}function Pa(r,s){return typeof s=="function"?s(r):s}function Gc(r){var s=Sr();return Jl(s,ke,r)}function Jl(r,s,l){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=r.baseQueue,b=u.pending;if(b!==null){if(g!==null){var I=g.next;g.next=b.next,b.next=I}s.baseQueue=g=b,u.pending=null}if(b=r.baseState,g===null)r.memoizedState=b;else{s=g.next;var W=I=null,ct=null,Lt=s,Vt=!1;do{var Ht=Lt.lane&-536870913;if(Ht!==Lt.lane?(vn&Ht)===Ht:(Ar&Ht)===Ht){var Dt=Lt.revertLane;if(Dt===0)ct!==null&&(ct=ct.next={lane:0,revertLane:0,gesture:null,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null}),Ht===p&&(Vt=!0);else if((Ar&Dt)===Dt){Lt=Lt.next,Dt===p&&(Vt=!0);continue}else Ht={lane:0,revertLane:Lt.revertLane,gesture:null,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},ct===null?(W=ct=Ht,I=b):ct=ct.next=Ht,Re.lanes|=Dt,ru|=Dt;Ht=Lt.action,Ji&&l(b,Ht),b=Lt.hasEagerState?Lt.eagerState:l(b,Ht)}else Dt={lane:Ht,revertLane:Lt.revertLane,gesture:Lt.gesture,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},ct===null?(W=ct=Dt,I=b):ct=ct.next=Dt,Re.lanes|=Ht,ru|=Ht;Lt=Lt.next}while(Lt!==null&&Lt!==s);if(ct===null?I=b:ct.next=W,!vi(b,r.memoizedState)&&(ai=!0,Vt&&(l=y,l!==null)))throw l;r.memoizedState=b,r.baseState=I,r.baseQueue=ct,u.lastRenderedState=b}return g===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Yc(r){var s=Sr(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var u=l.dispatch,g=l.pending,b=s.memoizedState;if(g!==null){l.pending=null;var I=g=g.next;do b=r(b,I.action),I=I.next;while(I!==g);vi(b,s.memoizedState)||(ai=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,u]}function Kc(r,s,l){var u=Re,g=Sr(),b=pn;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=s();var I=!vi((ke||g).memoizedState,l);if(I&&(g.memoizedState=l,ai=!0),g=g.queue,Gm(rf.bind(null,u,g,r),[r]),g.getSnapshot!==s||I||Nn!==null&&Nn.memoizedState.tag&1){if(u.flags|=2048,bl(9,{destroy:void 0},nf.bind(null,u,g,l,s),null),lr===null)throw Error(i(349));b||(Ar&127)!==0||so(u,s,l)}return l}function so(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Re.updateQueue,s===null?(s=ec(),Re.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function nf(r,s,l,u){s.value=l,s.getSnapshot=u,xd(s)&&sf(r)}function rf(r,s,l){return l(function(){xd(s)&&sf(r)})}function xd(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!vi(r,l)}catch{return!0}}function sf(r){var s=no(r,2);s!==null&&Qs(s,r,2)}function Bo(r){var s=si();if(typeof r=="function"){var l=r;if(r=l(),Ji){je(!0);try{l()}finally{je(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:r},s}function Td(r,s,l,u){return r.baseState=l,Jl(r,ke,typeof u=="function"?u:Pa)}function Nd(r,s,l,u,g){if(Ld(r))throw Error(i(485));if(r=s.action,r!==null){var b={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){b.listeners.push(I)}};st.T!==null?l(!0):b.isTransition=!1,u(b),l=s.pending,l===null?(b.next=s.pending=b,Id(s,b)):(b.next=l.next,s.pending=l.next=b)}}function Id(r,s){var l=s.action,u=s.payload,g=r.state;if(s.isTransition){var b=st.T,I={};st.T=I;try{var W=l(g,u),ct=st.S;ct!==null&&ct(I,W),af(r,s,W)}catch(Lt){vl(r,s,Lt)}finally{b!==null&&I.types!==null&&(b.types=I.types),st.T=b}}else try{b=l(g,u),af(r,s,b)}catch(Lt){vl(r,s,Lt)}}function af(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Cd(r,s,u)},function(u){return vl(r,s,u)}):Cd(r,s,l)}function Cd(r,s,l){s.status="fulfilled",s.value=l,Wc(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,Id(r,l)))}function vl(r,s,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Wc(s),s=s.next;while(s!==u)}r.action=null}function Wc(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function nc(r,s){return s}function Ma(r,s){if(pn){var l=lr.formState;if(l!==null){t:{var u=Re;if(pn){if(ar){e:{for(var g=ar,b=wr;g.nodeType!==8;){if(!b){g=null;break e}if(g=ja(g.nextSibling),g===null){g=null;break e}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){ar=ja(g.nextSibling),u=g.data==="F!";break t}}Do(u)}u=!1}u&&(s=l[0])}}return l=si(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:s},l.queue=u,l=H2.bind(null,Re,u),u.dispatch=l,u=Bo(!1),b=Xm.bind(null,Re,!1,u.queue),u=si(),g={state:s,dispatch:null,action:r,pending:null},u.queue=g,l=Nd.bind(null,Re,g,b,l),g.dispatch=l,u.memoizedState=r,[s,l,!1]}function ao(r){var s=Sr();return oo(s,ke,r)}function oo(r,s,l){if(s=Jl(r,s,nc)[0],r=Gc(Pa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Fo(s)}catch(I){throw I===mt?nt:I}else u=s;s=Sr();var g=s.queue,b=g.dispatch;return l!==s.memoizedState&&(Re.flags|=2048,bl(9,{destroy:void 0},$c.bind(null,g,l),null)),[u,b,r]}function $c(r,s){r.action=s}function Xc(r){var s=Sr(),l=ke;if(l!==null)return oo(s,l,r);Sr(),s=s.memoizedState,l=Sr();var u=l.queue.dispatch;return l.memoizedState=r,[s,u,!1]}function bl(r,s,l,u){return r={tag:r,create:l,deps:u,inst:s,next:null},s=Re.updateQueue,s===null&&(s=ec(),Re.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,s.lastEffect=r),r}function Rd(){return Sr().memoizedState}function Zl(r,s,l,u){var g=si();Re.flags|=r,g.memoizedState=bl(1|s,{destroy:void 0},l,u===void 0?null:u)}function tu(r,s,l,u){var g=Sr();u=u===void 0?null:u;var b=g.memoizedState.inst;ke!==null&&u!==null&&Jh(u,ke.memoizedState.deps)?g.memoizedState=bl(s,b,l,u):(Re.flags|=r,g.memoizedState=bl(1|s,b,l,u))}function R2(r,s){Zl(8390656,8,r,s)}function Gm(r,s){tu(2048,8,r,s)}function zA(r){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=ec(),Re.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function L2(r){var s=Sr().memoizedState;return zA({ref:s,nextImpl:r}),function(){if((Fn&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function k2(r,s){return tu(4,2,r,s)}function D2(r,s){return tu(4,4,r,s)}function O2(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function P2(r,s,l){l=l!=null?l.concat([r]):null,tu(4,4,O2.bind(null,s,r),l)}function Ym(){}function M2(r,s){var l=Sr();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Jh(s,u[1])?u[0]:(l.memoizedState=[r,s],r)}function j2(r,s){var l=Sr();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Jh(s,u[1]))return u[0];if(u=r(),Ji){je(!0);try{r()}finally{je(!1)}}return l.memoizedState=[u,s],u}function Km(r,s,l){return l===void 0||(Ar&1073741824)!==0&&(vn&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=U5(),Re.lanes|=r,ru|=r,l)}function U2(r,s,l,u){return vi(l,s)?l:cn.current!==null?(r=Km(r,l,u),vi(r,s)||(ai=!0),r):(Ar&42)===0||(Ar&1073741824)!==0&&(vn&261930)===0?(ai=!0,r.memoizedState=l):(r=U5(),Re.lanes|=r,ru|=r,s)}function V2(r,s,l,u,g){var b=pt.p;pt.p=b!==0&&8>b?b:8;var I=st.T,W={};st.T=W,Xm(r,!1,s,l);try{var ct=g(),Lt=st.S;if(Lt!==null&&Lt(W,ct),ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var Vt=j(ct,u);of(r,s,Vt,pa(r))}else of(r,s,u,pa(r))}catch(Ht){of(r,s,{then:function(){},status:"rejected",reason:Ht},pa())}finally{pt.p=b,I!==null&&W.types!==null&&(I.types=W.types),st.T=I}}function HA(){}function Wm(r,s,l,u){if(r.tag!==5)throw Error(i(476));var g=F2(r).queue;V2(r,g,s,dt,l===null?HA:function(){return B2(r),l(u)})}function F2(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:dt},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function B2(r){var s=F2(r);s.next===null&&(s=r.alternate.memoizedState),of(r,s.next.queue,{},pa())}function $m(){return Ai(Ef)}function q2(){return Sr().memoizedState}function z2(){return Sr().memoizedState}function GA(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=pa();r=Ue(l);var u=sn(s,r,l);u!==null&&(Qs(u,s,l),Un(u,s,l)),s={cache:Xl()},r.payload=s;return}s=s.return}}function YA(r,s,l){var u=pa();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ld(r)?G2(s,l):(l=Lc(r,s,l,u),l!==null&&(Qs(l,r,u),Y2(l,s,u)))}function H2(r,s,l){var u=pa();of(r,s,l,u)}function of(r,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ld(r))G2(s,g);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var I=s.lastRenderedState,W=b(I,l);if(g.hasEagerState=!0,g.eagerState=W,vi(W,I))return Wu(r,s,g,0),lr===null&&Ku(),!1}catch{}finally{}if(l=Lc(r,s,g,u),l!==null)return Qs(l,r,u),Y2(l,s,u),!0}return!1}function Xm(r,s,l,u){if(u={lane:2,revertLane:I1(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ld(r)){if(s)throw Error(i(479))}else s=Lc(r,l,u,2),s!==null&&Qs(s,r,2)}function Ld(r){var s=r.alternate;return r===Re||s!==null&&s===Re}function G2(r,s){Ys=cs=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Y2(r,s,l){if((l&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,Ti(r,l)}}var lf={readContext:Ai,use:Ql,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useLayoutEffect:nr,useInsertionEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useSyncExternalStore:nr,useId:nr,useHostTransitionStatus:nr,useFormState:nr,useActionState:nr,useOptimistic:nr,useMemoCache:nr,useCacheRefresh:nr};lf.useEffectEvent=nr;var K2={readContext:Ai,use:Ql,useCallback:function(r,s){return si().memoizedState=[r,s===void 0?null:s],r},useContext:Ai,useEffect:R2,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,Zl(4194308,4,O2.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Zl(4194308,4,r,s)},useInsertionEffect:function(r,s){Zl(4,2,r,s)},useMemo:function(r,s){var l=si();s=s===void 0?null:s;var u=r();if(Ji){je(!0);try{r()}finally{je(!1)}}return l.memoizedState=[u,s],u},useReducer:function(r,s,l){var u=si();if(l!==void 0){var g=l(s);if(Ji){je(!0);try{l(s)}finally{je(!1)}}}else g=s;return u.memoizedState=u.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},u.queue=r,r=r.dispatch=YA.bind(null,Re,r),[u.memoizedState,r]},useRef:function(r){var s=si();return r={current:r},s.memoizedState=r},useState:function(r){r=Bo(r);var s=r.queue,l=H2.bind(null,Re,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:Ym,useDeferredValue:function(r,s){var l=si();return Km(l,r,s)},useTransition:function(){var r=Bo(!1);return r=V2.bind(null,Re,r.queue,!0,!1),si().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var u=Re,g=si();if(pn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),lr===null)throw Error(i(349));(vn&127)!==0||so(u,s,l)}g.memoizedState=l;var b={value:l,getSnapshot:s};return g.queue=b,R2(rf.bind(null,u,b,r),[r]),u.flags|=2048,bl(9,{destroy:void 0},nf.bind(null,u,b,l,s),null),l},useId:function(){var r=si(),s=lr.identifierPrefix;if(pn){var l=Hs,u=zs;l=(u&~(1<<32-$e(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Br++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=qc++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:$m,useFormState:Ma,useActionState:Ma,useOptimistic:function(r){var s=si();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Xm.bind(null,Re,!0,l),l.dispatch=s,[r,s]},useMemoCache:yl,useCacheRefresh:function(){return si().memoizedState=GA.bind(null,Re)},useEffectEvent:function(r){var s=si(),l={impl:r};return s.memoizedState=l,function(){if((Fn&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Qm={readContext:Ai,use:Ql,useCallback:M2,useContext:Ai,useEffect:Gm,useImperativeHandle:P2,useInsertionEffect:k2,useLayoutEffect:D2,useMemo:j2,useReducer:Gc,useRef:Rd,useState:function(){return Gc(Pa)},useDebugValue:Ym,useDeferredValue:function(r,s){var l=Sr();return U2(l,ke.memoizedState,r,s)},useTransition:function(){var r=Gc(Pa)[0],s=Sr().memoizedState;return[typeof r=="boolean"?r:Fo(r),s]},useSyncExternalStore:Kc,useId:q2,useHostTransitionStatus:$m,useFormState:ao,useActionState:ao,useOptimistic:function(r,s){var l=Sr();return Td(l,ke,r,s)},useMemoCache:yl,useCacheRefresh:z2};Qm.useEffectEvent=L2;var W2={readContext:Ai,use:Ql,useCallback:M2,useContext:Ai,useEffect:Gm,useImperativeHandle:P2,useInsertionEffect:k2,useLayoutEffect:D2,useMemo:j2,useReducer:Yc,useRef:Rd,useState:function(){return Yc(Pa)},useDebugValue:Ym,useDeferredValue:function(r,s){var l=Sr();return ke===null?Km(l,r,s):U2(l,ke.memoizedState,r,s)},useTransition:function(){var r=Yc(Pa)[0],s=Sr().memoizedState;return[typeof r=="boolean"?r:Fo(r),s]},useSyncExternalStore:Kc,useId:q2,useHostTransitionStatus:$m,useFormState:Xc,useActionState:Xc,useOptimistic:function(r,s){var l=Sr();return ke!==null?Td(l,ke,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:yl,useCacheRefresh:z2};W2.useEffectEvent=L2;function Jm(r,s,l,u){s=r.memoizedState,l=l(u,s),l=l==null?s:A({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Zm={enqueueSetState:function(r,s,l){r=r._reactInternals;var u=pa(),g=Ue(u);g.payload=s,l!=null&&(g.callback=l),s=sn(r,g,u),s!==null&&(Qs(s,r,u),Un(s,r,u))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var u=pa(),g=Ue(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=sn(r,g,u),s!==null&&(Qs(s,r,u),Un(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=pa(),u=Ue(l);u.tag=2,s!=null&&(u.callback=s),s=sn(r,u,l),s!==null&&(Qs(s,r,l),Un(s,r,l))}};function $2(r,s,l,u,g,b,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,b,I):s.prototype&&s.prototype.isPureReactComponent?!Ja(l,u)||!Ja(g,b):!0}function X2(r,s,l,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==r&&Zm.enqueueReplaceState(s,s.state,null)}function rc(r,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(r=r.defaultProps){l===s&&(l=A({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}function Q2(r){Yu(r)}function J2(r){console.error(r)}function Z2(r){Yu(r)}function kd(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function t5(r,s,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function t1(r,s,l){return l=Ue(l),l.tag=3,l.payload={element:null},l.callback=function(){kd(r,s)},l}function e5(r){return r=Ue(r),r.tag=3,r}function n5(r,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;r.payload=function(){return g(b)},r.callback=function(){t5(s,l,u)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(r.callback=function(){t5(s,l,u),typeof g!="function"&&(iu===null?iu=new Set([this]):iu.add(this));var W=u.stack;this.componentDidCatch(u.value,{componentStack:W!==null?W:""})})}function KA(r,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Mo(s,l,g,!0),l=gr.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Hd():l.alternate===null&&qr===0&&(qr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===yt?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),x1(r,u,g)),!1;case 22:return l.flags|=65536,u===yt?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),x1(r,u,g)),!1}throw Error(i(435,l.tag))}return x1(r,u,g),Hd(),!1}if(pn)return s=gr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==ha&&(r=Error(i(422),{cause:u}),Wl(Fs(r,l)))):(u!==ha&&(s=Error(i(423),{cause:u}),Wl(Fs(s,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,u=Fs(u,l),g=t1(r.stateNode,u,g),Wr(r,g),qr!==4&&(qr=2)),!1;var b=Error(i(520),{cause:u});if(b=Fs(b,l),gf===null?gf=[b]:gf.push(b),qr!==4&&(qr=2),s===null)return!0;u=Fs(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=t1(l.stateNode,u,r),Wr(l,r),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(iu===null||!iu.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=e5(g),n5(g,r,l,u),Wr(l,g),!1}l=l.return}while(l!==null);return!1}var e1=Error(i(461)),ai=!1;function Zi(r,s,l,u){s.child=r===null?tn(s,null,l,u):or(s,r.child,l,u)}function r5(r,s,l,u,g){l=l.render;var b=s.ref;if("ref"in u){var I={};for(var W in u)W!=="ref"&&(I[W]=u[W])}else I=u;return jo(s),u=Zh(r,s,l,I,b,g),W=tf(),r!==null&&!ai?(ef(r,s,g),_l(r,s,g)):(pn&&W&&$h(s),s.flags|=1,Zi(r,s,u,g),s.child)}function i5(r,s,l,u,g){if(r===null){var b=l.type;return typeof b=="function"&&!Dc(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,s5(r,s,b,u,g)):(r=Gl(l.type,null,u,s,s.mode,g),r.ref=s.ref,r.return=s,s.child=r)}if(b=r.child,!u1(r,g)){var I=b.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(I,u)&&r.ref===s.ref)return _l(r,s,g)}return s.flags|=1,r=Vs(b,u),r.ref=s.ref,r.return=s,s.child=r}function s5(r,s,l,u,g){if(r!==null){var b=r.memoizedProps;if(Ja(b,u)&&r.ref===s.ref)if(ai=!1,s.pendingProps=u=b,u1(r,g))(r.flags&131072)!==0&&(ai=!0);else return s.lanes=r.lanes,_l(r,s,g)}return n1(r,s,l,u,g)}function a5(r,s,l,u){var g=u.children,b=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,r!==null){for(u=s.child=r.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~b}else u=0,s.child=null;return o5(r,s,b,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Q(s,b!==null?b.cachePool:null),b!==null?mr(s,b):Ln(),Vr(s);else return u=s.lanes=536870912,o5(r,s,b!==null?b.baseLanes|l:l,l,u)}else b!==null?(Q(s,b.cachePool),mr(s,b),Fr(),s.memoizedState=null):(r!==null&&Q(s,null),Ln(),Fr());return Zi(r,s,g,l),s.child}function uf(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function o5(r,s,l,u,g){var b=$();return b=b===null?null:{parent:Rr._currentValue,pool:b},s.memoizedState={baseLanes:l,cachePool:b},r!==null&&Q(s,null),Ln(),Vr(s),r!==null&&Mo(r,s,u,!0),s.childLanes=g,null}function Dd(r,s){return s=Pd({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function l5(r,s,l){return or(s,r.child,null,l),r=Dd(s,s.pendingProps),r.flags|=2,Yn(s),s.memoizedState=null,r}function WA(r,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(pn){if(u.mode==="hidden")return r=Dd(s,u),s.lanes=536870912,uf(null,r);if(Vn(s),(r=ar)?(r=_y(r,wr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ko!==null?{id:zs,overflow:Hs}:null,retryLane:536870912,hydrationErrors:null},l=Oc(r),l.return=s,s.child=l,_i=s,ar=null)):r=null,r===null)throw Do(s);return s.lanes=536870912,null}return Dd(s,u)}var b=r.memoizedState;if(b!==null){var I=b.dehydrated;if(Vn(s),g)if(s.flags&256)s.flags&=-257,s=l5(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(ai||Mo(r,s,l,!1),g=(l&r.childLanes)!==0,ai||g){if(u=lr,u!==null&&(I=Ni(u,l),I!==0&&I!==b.retryLane))throw b.retryLane=I,no(r,I),Qs(u,r,I),e1;Hd(),s=l5(r,s,l)}else r=b.treeContext,ar=ja(I.nextSibling),_i=s,pn=!0,Qi=null,wr=!1,r!==null&&Sd(s,r),s=Dd(s,u),s.flags|=4096;return s}return r=Vs(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Od(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function n1(r,s,l,u,g){return jo(s),l=Zh(r,s,l,u,void 0,g),u=tf(),r!==null&&!ai?(ef(r,s,g),_l(r,s,g)):(pn&&u&&$h(s),s.flags|=1,Zi(r,s,l,g),s.child)}function u5(r,s,l,u,g,b){return jo(s),s.updateQueue=null,l=io(s,u,l,g),zc(r),u=tf(),r!==null&&!ai?(ef(r,s,b),_l(r,s,b)):(pn&&u&&$h(s),s.flags|=1,Zi(r,s,l,b),s.child)}function c5(r,s,l,u,g){if(jo(s),s.stateNode===null){var b=bi,I=l.contextType;typeof I=="object"&&I!==null&&(b=Ai(I)),b=new l(u,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Zm,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=u,b.state=s.memoizedState,b.refs={},ne(s),I=l.contextType,b.context=typeof I=="object"&&I!==null?Ai(I):bi,b.state=s.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(Jm(s,l,I,u),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(I=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),I!==b.state&&Zm.enqueueReplaceState(b,b.state,null),jr(s,u,b,g),er(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){b=s.stateNode;var W=s.memoizedProps,ct=rc(l,W);b.props=ct;var Lt=b.context,Vt=l.contextType;I=bi,typeof Vt=="object"&&Vt!==null&&(I=Ai(Vt));var Ht=l.getDerivedStateFromProps;Vt=typeof Ht=="function"||typeof b.getSnapshotBeforeUpdate=="function",W=s.pendingProps!==W,Vt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(W||Lt!==I)&&X2(s,b,u,I),ae=!1;var Dt=s.memoizedState;b.state=Dt,jr(s,u,b,g),er(),Lt=s.memoizedState,W||Dt!==Lt||ae?(typeof Ht=="function"&&(Jm(s,l,Ht,u),Lt=s.memoizedState),(ct=ae||$2(s,l,ct,u,Dt,Lt,I))?(Vt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Lt),b.props=u,b.state=Lt,b.context=I,u=ct):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{b=s.stateNode,pr(r,s),I=s.memoizedProps,Vt=rc(l,I),b.props=Vt,Ht=s.pendingProps,Dt=b.context,Lt=l.contextType,ct=bi,typeof Lt=="object"&&Lt!==null&&(ct=Ai(Lt)),W=l.getDerivedStateFromProps,(Lt=typeof W=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==Ht||Dt!==ct)&&X2(s,b,u,ct),ae=!1,Dt=s.memoizedState,b.state=Dt,jr(s,u,b,g),er();var Ot=s.memoizedState;I!==Ht||Dt!==Ot||ae||r!==null&&r.dependencies!==null&&Vc(r.dependencies)?(typeof W=="function"&&(Jm(s,l,W,u),Ot=s.memoizedState),(Vt=ae||$2(s,l,Vt,u,Dt,Ot,ct)||r!==null&&r.dependencies!==null&&Vc(r.dependencies))?(Lt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,Ot,ct),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,Ot,ct)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||I===r.memoizedProps&&Dt===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Dt===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Ot),b.props=u,b.state=Ot,b.context=ct,u=Vt):(typeof b.componentDidUpdate!="function"||I===r.memoizedProps&&Dt===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Dt===r.memoizedState||(s.flags|=1024),u=!1)}return b=u,Od(r,s),u=(s.flags&128)!==0,b||u?(b=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,r!==null&&u?(s.child=or(s,r.child,null,g),s.child=or(s,null,l,g)):Zi(r,s,l,g),s.memoizedState=b.state,r=s.child):r=_l(r,s,g),r}function h5(r,s,l,u){return ml(),s.flags|=256,Zi(r,s,l,u),s.child}var r1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i1(r){return{baseLanes:r,cachePool:it()}}function s1(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=da),r}function f5(r,s,l){var u=s.pendingProps,g=!1,b=(s.flags&128)!==0,I;if((I=b)||(I=r!==null&&r.memoizedState===null?!1:(En.current&2)!==0),I&&(g=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,r===null){if(pn){if(g?Lr(s):Fr(),(r=ar)?(r=_y(r,wr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ko!==null?{id:zs,overflow:Hs}:null,retryLane:536870912,hydrationErrors:null},l=Oc(r),l.return=s,s.child=l,_i=s,ar=null)):r=null,r===null)throw Do(s);return B1(r)?s.lanes=32:s.lanes=536870912,null}var W=u.children;return u=u.fallback,g?(Fr(),g=s.mode,W=Pd({mode:"hidden",children:W},g),u=Lo(u,g,l,null),W.return=s,u.return=s,W.sibling=u,s.child=W,u=s.child,u.memoizedState=i1(l),u.childLanes=s1(r,I,l),s.memoizedState=r1,uf(null,u)):(Lr(s),a1(s,W))}var ct=r.memoizedState;if(ct!==null&&(W=ct.dehydrated,W!==null)){if(b)s.flags&256?(Lr(s),s.flags&=-257,s=o1(r,s,l)):s.memoizedState!==null?(Fr(),s.child=r.child,s.flags|=128,s=null):(Fr(),W=u.fallback,g=s.mode,u=Pd({mode:"visible",children:u.children},g),W=Lo(W,g,l,null),W.flags|=2,u.return=s,W.return=s,u.sibling=W,s.child=u,or(s,r.child,null,l),u=s.child,u.memoizedState=i1(l),u.childLanes=s1(r,I,l),s.memoizedState=r1,s=uf(null,u));else if(Lr(s),B1(W)){if(I=W.nextSibling&&W.nextSibling.dataset,I)var Lt=I.dgst;I=Lt,u=Error(i(419)),u.stack="",u.digest=I,Wl({value:u,source:null,stack:null}),s=o1(r,s,l)}else if(ai||Mo(r,s,l,!1),I=(l&r.childLanes)!==0,ai||I){if(I=lr,I!==null&&(u=Ni(I,l),u!==0&&u!==ct.retryLane))throw ct.retryLane=u,no(r,u),Qs(I,r,u),e1;F1(W)||Hd(),s=o1(r,s,l)}else F1(W)?(s.flags|=192,s.child=r.child,s=null):(r=ct.treeContext,ar=ja(W.nextSibling),_i=s,pn=!0,Qi=null,wr=!1,r!==null&&Sd(s,r),s=a1(s,u.children),s.flags|=4096);return s}return g?(Fr(),W=u.fallback,g=s.mode,ct=r.child,Lt=ct.sibling,u=Vs(ct,{mode:"hidden",children:u.children}),u.subtreeFlags=ct.subtreeFlags&65011712,Lt!==null?W=Vs(Lt,W):(W=Lo(W,g,l,null),W.flags|=2),W.return=s,u.return=s,u.sibling=W,s.child=u,uf(null,u),u=s.child,W=r.child.memoizedState,W===null?W=i1(l):(g=W.cachePool,g!==null?(ct=Rr._currentValue,g=g.parent!==ct?{parent:ct,pool:ct}:g):g=it(),W={baseLanes:W.baseLanes|l,cachePool:g}),u.memoizedState=W,u.childLanes=s1(r,I,l),s.memoizedState=r1,uf(r.child,u)):(Lr(s),l=r.child,r=l.sibling,l=Vs(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,r!==null&&(I=s.deletions,I===null?(s.deletions=[r],s.flags|=16):I.push(r)),s.child=l,s.memoizedState=null,l)}function a1(r,s){return s=Pd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Pd(r,s){return r=Pi(22,r,null,s),r.lanes=0,r}function o1(r,s,l){return or(s,r.child,null,l),r=a1(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function d5(r,s,l){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),$l(r.return,s,l)}function l1(r,s,l,u,g,b){var I=r.memoizedState;I===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:b}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=u,I.tail=l,I.tailMode=g,I.treeForkCount=b)}function p5(r,s,l){var u=s.pendingProps,g=u.revealOrder,b=u.tail;u=u.children;var I=En.current,W=(I&2)!==0;if(W?(I=I&1|2,s.flags|=128):I&=1,Y(En,I),Zi(r,s,u,l),u=pn?Ju:0,!W&&r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&d5(r,l,s);else if(r.tag===19)d5(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)r=l.alternate,r!==null&&ji(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),l1(s,!1,g,l,b,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(r=g.alternate,r!==null&&ji(r)===null){s.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}l1(s,!0,l,null,b,u);break;case"together":l1(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function _l(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ru|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Mo(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=Vs(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Vs(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function u1(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Vc(r)))}function $A(r,s,l){switch(s.tag){case 3:Tt(s,s.stateNode.containerInfo),Po(s,Rr,r.memoizedState.cache),ml();break;case 27:case 5:jt(s);break;case 4:Tt(s,s.stateNode.containerInfo);break;case 10:Po(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Lr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?f5(r,s,l):(Lr(s),r=_l(r,s,l),r!==null?r.sibling:null);Lr(s);break;case 19:var g=(r.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Mo(r,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return p5(r,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Y(En,En.current),u)break;return null;case 22:return s.lanes=0,a5(r,s,l,s.pendingProps);case 24:Po(s,Rr,r.memoizedState.cache)}return _l(r,s,l)}function m5(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)ai=!0;else{if(!u1(r,l)&&(s.flags&128)===0)return ai=!1,$A(r,s,l);ai=(r.flags&131072)!==0}else ai=!1,pn&&(s.flags&1048576)!==0&&Ad(s,Ju,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(r=xt(s.elementType),s.type=r,typeof r=="function")Dc(r)?(u=rc(r,u),s.tag=1,s=c5(null,s,r,u,l)):(s.tag=0,s=n1(null,s,r,u,l));else{if(r!=null){var g=r.$$typeof;if(g===tt){s.tag=11,s=r5(null,s,r,u,l);break t}else if(g===G){s.tag=14,s=i5(null,s,r,u,l);break t}}throw s=lt(r)||r,Error(i(306,s,""))}}return s;case 0:return n1(r,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=rc(u,s.pendingProps),c5(r,s,u,g,l);case 3:t:{if(Tt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var b=s.memoizedState;g=b.element,pr(r,s),jr(s,u,null,l);var I=s.memoizedState;if(u=I.cache,Po(s,Rr,u),u!==b.cache&&gl(s,[Rr],l,!0),er(),u=I.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=h5(r,s,u,l);break t}else if(u!==g){g=Fs(Error(i(424)),s),Wl(g),s=h5(r,s,u,l);break t}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ar=ja(r.firstChild),_i=s,pn=!0,Qi=null,wr=!0,l=tn(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ml(),u===g){s=_l(r,s,l);break t}Zi(r,s,u,l)}s=s.child}return s;case 26:return Od(r,s),r===null?(l=Ty(s.type,null,s.pendingProps,null))?s.memoizedState=l:pn||(l=s.type,r=s.pendingProps,u=Qd(ut.current).createElement(l),u[Dn]=s,u[Hn]=r,ts(u,l,r),dr(u),s.stateNode=u):s.memoizedState=Ty(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return jt(s),r===null&&pn&&(u=s.stateNode=Sy(s.type,s.pendingProps,ut.current),_i=s,wr=!0,g=ar,lu(s.type)?(q1=g,ar=ja(u.firstChild)):ar=g),Zi(r,s,s.pendingProps.children,l),Od(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&pn&&((g=u=ar)&&(u=xS(u,s.type,s.pendingProps,wr),u!==null?(s.stateNode=u,_i=s,ar=ja(u.firstChild),wr=!1,g=!0):g=!1),g||Do(s)),jt(s),g=s.type,b=s.pendingProps,I=r!==null?r.memoizedProps:null,u=b.children,j1(g,b)?u=null:I!==null&&j1(g,I)&&(s.flags|=32),s.memoizedState!==null&&(g=Zh(r,s,Hm,null,null,l),Ef._currentValue=g),Od(r,s),Zi(r,s,u,l),s.child;case 6:return r===null&&pn&&((r=l=ar)&&(l=TS(l,s.pendingProps,wr),l!==null?(s.stateNode=l,_i=s,ar=null,r=!0):r=!1),r||Do(s)),null;case 13:return f5(r,s,l);case 4:return Tt(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=or(s,null,u,l):Zi(r,s,u,l),s.child;case 11:return r5(r,s,s.type,s.pendingProps,l);case 7:return Zi(r,s,s.pendingProps,l),s.child;case 8:return Zi(r,s,s.pendingProps.children,l),s.child;case 12:return Zi(r,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Po(s,s.type,u.value),Zi(r,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,jo(s),g=Ai(g),u=u(g),s.flags|=1,Zi(r,s,u,l),s.child;case 14:return i5(r,s,s.type,s.pendingProps,l);case 15:return s5(r,s,s.type,s.pendingProps,l);case 19:return p5(r,s,l);case 31:return WA(r,s,l);case 22:return a5(r,s,l,s.pendingProps);case 24:return jo(s),u=Ai(Rr),r===null?(g=$(),g===null&&(g=lr,b=Xl(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),s.memoizedState={parent:u,cache:g},ne(s),Po(s,Rr,g)):((r.lanes&l)!==0&&(pr(r,s),jr(s,null,null,l),er()),g=r.memoizedState,b=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Po(s,Rr,u)):(u=b.cache,Po(s,Rr,u),u!==g.cache&&gl(s,[Rr],l,!0))),Zi(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function wl(r){r.flags|=4}function c1(r,s,l,u,g){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(q5())r.flags|=8192;else throw Pt=yt,It}else r.flags&=-16777217}function g5(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ly(s))if(q5())r.flags|=8192;else throw Pt=yt,It}function Md(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ls():536870912,r.lanes|=s,th|=s)}function cf(r,s){if(!pn)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function yr(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(s)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=u,r.childLanes=l,s}function XA(r,s,l){var u=s.pendingProps;switch(jc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(s),null;case 1:return yr(s),null;case 3:return l=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Gs(Rr),Ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(wi(s)?wl(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qh())),yr(s),null;case 26:var g=s.type,b=s.memoizedState;return r===null?(wl(s),b!==null?(yr(s),g5(s,b)):(yr(s),c1(s,g,null,u,l))):b?b!==r.memoizedState?(wl(s),yr(s),g5(s,b)):(yr(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&wl(s),yr(s),c1(s,g,r,u,l)),null;case 27:if(Xt(s),l=ut.current,g=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&wl(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return yr(s),null}r=Z.current,wi(s)?Xh(s):(r=Sy(g,u,l),s.stateNode=r,wl(s))}return yr(s),null;case 5:if(Xt(s),g=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&wl(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return yr(s),null}if(b=Z.current,wi(s))Xh(s);else{var I=Qd(ut.current);switch(b){case 1:b=I.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=I.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=I.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?I.createElement("select",{is:u.is}):I.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?I.createElement(g,{is:u.is}):I.createElement(g)}}b[Dn]=s,b[Hn]=u;t:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)b.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break t;for(;I.sibling===null;){if(I.return===null||I.return===s)break t;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=b;t:switch(ts(b,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&wl(s)}}return yr(s),c1(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&wl(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=ut.current,wi(s)){if(r=s.stateNode,l=s.memoizedProps,u=null,g=_i,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}r[Dn]=s,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||fy(r.nodeValue,l)),r||Do(s,!0)}else r=Qd(r).createTextNode(u),r[Dn]=s,s.stateNode=r}return yr(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(u=wi(s),l!==null){if(r===null){if(!u)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Dn]=s}else ml(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yr(s),r=!1}else l=Qh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(Yn(s),s):(Yn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return yr(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=wi(s),u!==null&&u.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Dn]=s}else ml(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yr(s),g=!1}else g=Qh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Yn(s),s):(Yn(s),null)}return Yn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,r=r!==null&&r.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==g&&(u.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),Md(s,s.updateQueue),yr(s),null);case 4:return Ct(),r===null&&k1(s.stateNode.containerInfo),yr(s),null;case 10:return Gs(s.type),yr(s),null;case 19:if(C(En),u=s.memoizedState,u===null)return yr(s),null;if(g=(s.flags&128)!==0,b=u.rendering,b===null)if(g)cf(u,!1);else{if(qr!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(b=ji(r),b!==null){for(s.flags|=128,cf(u,!1),r=b.updateQueue,s.updateQueue=r,Md(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)Xu(l,r),l=l.sibling;return Y(En,En.current&1|2),pn&&Cs(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&Ge()>Bd&&(s.flags|=128,g=!0,cf(u,!1),s.lanes=4194304)}else{if(!g)if(r=ji(b),r!==null){if(s.flags|=128,g=!0,r=r.updateQueue,s.updateQueue=r,Md(s,r),cf(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!pn)return yr(s),null}else 2*Ge()-u.renderingStartTime>Bd&&l!==536870912&&(s.flags|=128,g=!0,cf(u,!1),s.lanes=4194304);u.isBackwards?(b.sibling=s.child,s.child=b):(r=u.last,r!==null?r.sibling=b:s.child=b,u.last=b)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Ge(),r.sibling=null,l=En.current,Y(En,g?l&1|2:l&1),pn&&Cs(s,u.treeForkCount),r):(yr(s),null);case 22:case 23:return Yn(s),$r(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(yr(s),s.subtreeFlags&6&&(s.flags|=8192)):yr(s),l=s.updateQueue,l!==null&&Md(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),r!==null&&C(H),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Gs(Rr),yr(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function QA(r,s){switch(jc(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Gs(Rr),Ct(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Xt(s),null;case 31:if(s.memoizedState!==null){if(Yn(s),s.alternate===null)throw Error(i(340));ml()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Yn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ml()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return C(En),null;case 4:return Ct(),null;case 10:return Gs(s.type),null;case 22:case 23:return Yn(s),$r(),r!==null&&C(H),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Gs(Rr),null;case 25:return null;default:return null}}function y5(r,s){switch(jc(s),s.tag){case 3:Gs(Rr),Ct();break;case 26:case 27:case 5:Xt(s);break;case 4:Ct();break;case 31:s.memoizedState!==null&&Yn(s);break;case 13:Yn(s);break;case 19:C(En);break;case 10:Gs(s.type);break;case 22:case 23:Yn(s),$r(),r!==null&&C(H);break;case 24:Gs(Rr)}}function hf(r,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&r)===r){u=void 0;var b=l.create,I=l.inst;u=b(),I.destroy=u}l=l.next}while(l!==g)}}catch(W){Wn(s,s.return,W)}}function eu(r,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var b=g.next;u=b;do{if((u.tag&r)===r){var I=u.inst,W=I.destroy;if(W!==void 0){I.destroy=void 0,g=s;var ct=l,Lt=W;try{Lt()}catch(Vt){Wn(g,ct,Vt)}}}u=u.next}while(u!==b)}}catch(Vt){Wn(s,s.return,Vt)}}function v5(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{Ur(s,l)}catch(u){Wn(r,r.return,u)}}}function b5(r,s,l){l.props=rc(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){Wn(r,s,u)}}function ff(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(g){Wn(r,s,g)}}function qo(r,s){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Wn(r,s,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Wn(r,s,g)}else l.current=null}function _5(r){var s=r.type,l=r.memoizedProps,u=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Wn(r,r.return,g)}}function h1(r,s,l){try{var u=r.stateNode;bS(u,r.type,l,s),u[Hn]=s}catch(g){Wn(r,r.return,g)}}function w5(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&lu(r.type)||r.tag===4}function f1(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||w5(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&lu(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function d1(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=As));else if(u!==4&&(u===27&&lu(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(d1(r,s,l),r=r.sibling;r!==null;)d1(r,s,l),r=r.sibling}function jd(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(u!==4&&(u===27&&lu(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(jd(r,s,l),r=r.sibling;r!==null;)jd(r,s,l),r=r.sibling}function A5(r){var s=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);ts(s,u,l),s[Dn]=r,s[Hn]=l}catch(b){Wn(r,r.return,b)}}var Al=!1,oi=!1,p1=!1,S5=typeof WeakSet=="function"?WeakSet:Set,Ui=null;function JA(r,s){if(r=r.containerInfo,P1=ip,r=to(r),ka(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else t:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break t}var I=0,W=-1,ct=-1,Lt=0,Vt=0,Ht=r,Dt=null;e:for(;;){for(var Ot;Ht!==l||g!==0&&Ht.nodeType!==3||(W=I+g),Ht!==b||u!==0&&Ht.nodeType!==3||(ct=I+u),Ht.nodeType===3&&(I+=Ht.nodeValue.length),(Ot=Ht.firstChild)!==null;)Dt=Ht,Ht=Ot;for(;;){if(Ht===r)break e;if(Dt===l&&++Lt===g&&(W=I),Dt===b&&++Vt===u&&(ct=I),(Ot=Ht.nextSibling)!==null)break;Ht=Dt,Dt=Ht.parentNode}Ht=Ot}l=W===-1||ct===-1?null:{start:W,end:ct}}else l=null}l=l||{start:0,end:0}}else l=null;for(M1={focusedElem:r,selectionRange:l},ip=!1,Ui=s;Ui!==null;)if(s=Ui,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ui=r;else for(;Ui!==null;){switch(s=Ui,b=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)g=r[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,l=s,g=b.memoizedProps,b=b.memoizedState,u=l.stateNode;try{var fe=rc(l.type,g);r=u.getSnapshotBeforeUpdate(fe,b),u.__reactInternalSnapshotBeforeUpdate=r}catch(Fe){Wn(l,l.return,Fe)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)V1(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":V1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Ui=r;break}Ui=s.return}}function E5(r,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:El(r,l),u&4&&hf(5,l);break;case 1:if(El(r,l),u&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(I){Wn(l,l.return,I)}else{var g=rc(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(g,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){Wn(l,l.return,I)}}u&64&&v5(l),u&512&&ff(l,l.return);break;case 3:if(El(r,l),u&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ur(r,s)}catch(I){Wn(l,l.return,I)}}break;case 27:s===null&&u&4&&A5(l);case 26:case 5:El(r,l),s===null&&u&4&&_5(l),u&512&&ff(l,l.return);break;case 12:El(r,l);break;case 31:El(r,l),u&4&&N5(r,l);break;case 13:El(r,l),u&4&&I5(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=oS.bind(null,l),NS(r,l))));break;case 22:if(u=l.memoizedState!==null||Al,!u){s=s!==null&&s.memoizedState!==null||oi,g=Al;var b=oi;Al=u,(oi=s)&&!b?xl(r,l,(l.subtreeFlags&8772)!==0):El(r,l),Al=g,oi=b}break;case 30:break;default:El(r,l)}}function x5(r){var s=r.alternate;s!==null&&(r.alternate=null,x5(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&na(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Er=null,Ks=!1;function Sl(r,s,l){for(l=l.child;l!==null;)T5(r,s,l),l=l.sibling}function T5(r,s,l){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Qe,l)}catch{}switch(l.tag){case 26:oi||qo(l,s),Sl(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:oi||qo(l,s);var u=Er,g=Ks;lu(l.type)&&(Er=l.stateNode,Ks=!1),Sl(r,s,l),wf(l.stateNode),Er=u,Ks=g;break;case 5:oi||qo(l,s);case 6:if(u=Er,g=Ks,Er=null,Sl(r,s,l),Er=u,Ks=g,Er!==null)if(Ks)try{(Er.nodeType===9?Er.body:Er.nodeName==="HTML"?Er.ownerDocument.body:Er).removeChild(l.stateNode)}catch(b){Wn(l,s,b)}else try{Er.removeChild(l.stateNode)}catch(b){Wn(l,s,b)}break;case 18:Er!==null&&(Ks?(r=Er,vy(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),lh(r)):vy(Er,l.stateNode));break;case 4:u=Er,g=Ks,Er=l.stateNode.containerInfo,Ks=!0,Sl(r,s,l),Er=u,Ks=g;break;case 0:case 11:case 14:case 15:eu(2,l,s),oi||eu(4,l,s),Sl(r,s,l);break;case 1:oi||(qo(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&b5(l,s,u)),Sl(r,s,l);break;case 21:Sl(r,s,l);break;case 22:oi=(u=oi)||l.memoizedState!==null,Sl(r,s,l),oi=u;break;default:Sl(r,s,l)}}function N5(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{lh(r)}catch(l){Wn(s,s.return,l)}}}function I5(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{lh(r)}catch(l){Wn(s,s.return,l)}}function ZA(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new S5),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new S5),s;default:throw Error(i(435,r.tag))}}function Ud(r,s){var l=ZA(r);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=lS.bind(null,r,u);u.then(g,g)}})}function Ws(r,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],b=r,I=s,W=I;t:for(;W!==null;){switch(W.tag){case 27:if(lu(W.type)){Er=W.stateNode,Ks=!1;break t}break;case 5:Er=W.stateNode,Ks=!1;break t;case 3:case 4:Er=W.stateNode.containerInfo,Ks=!0;break t}W=W.return}if(Er===null)throw Error(i(160));T5(b,I,g),Er=null,Ks=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)C5(s,r),s=s.sibling}var lo=null;function C5(r,s){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ws(s,r),$s(r),u&4&&(eu(3,r,r.return),hf(3,r),eu(5,r,r.return));break;case 1:Ws(s,r),$s(r),u&512&&(oi||l===null||qo(l,l.return)),u&64&&Al&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=lo;if(Ws(s,r),$s(r),u&512&&(oi||l===null||qo(l,l.return)),u&4){var b=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){t:{u=r.type,l=r.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Ci]||b[Dn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(u),g.head.insertBefore(b,g.querySelector("head > title"))),ts(b,u,l),b[Dn]=r,dr(b),u=b;break t;case"link":var I=Cy("link","href",g).get(u+(l.href||""));if(I){for(var W=0;W<I.length;W++)if(b=I[W],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(W,1);break e}}b=g.createElement(u),ts(b,u,l),g.head.appendChild(b);break;case"meta":if(I=Cy("meta","content",g).get(u+(l.content||""))){for(W=0;W<I.length;W++)if(b=I[W],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(W,1);break e}}b=g.createElement(u),ts(b,u,l),g.head.appendChild(b);break;default:throw Error(i(468,u))}b[Dn]=r,dr(b),u=b}r.stateNode=u}else Ry(g,r.type,r.stateNode);else r.stateNode=Iy(g,u,r.memoizedProps);else b!==u?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,u===null?Ry(g,r.type,r.stateNode):Iy(g,u,r.memoizedProps)):u===null&&r.stateNode!==null&&h1(r,r.memoizedProps,l.memoizedProps)}break;case 27:Ws(s,r),$s(r),u&512&&(oi||l===null||qo(l,l.return)),l!==null&&u&4&&h1(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Ws(s,r),$s(r),u&512&&(oi||l===null||qo(l,l.return)),r.flags&32){g=r.stateNode;try{Yr(g,"")}catch(fe){Wn(r,r.return,fe)}}u&4&&r.stateNode!=null&&(g=r.memoizedProps,h1(r,g,l!==null?l.memoizedProps:g)),u&1024&&(p1=!0);break;case 6:if(Ws(s,r),$s(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(fe){Wn(r,r.return,fe)}}break;case 3:if(tp=null,g=lo,lo=Jd(s.containerInfo),Ws(s,r),lo=g,$s(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{lh(s.containerInfo)}catch(fe){Wn(r,r.return,fe)}p1&&(p1=!1,R5(r));break;case 4:u=lo,lo=Jd(r.stateNode.containerInfo),Ws(s,r),$s(r),lo=u;break;case 12:Ws(s,r),$s(r);break;case 31:Ws(s,r),$s(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ud(r,u)));break;case 13:Ws(s,r),$s(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fd=Ge()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ud(r,u)));break;case 22:g=r.memoizedState!==null;var ct=l!==null&&l.memoizedState!==null,Lt=Al,Vt=oi;if(Al=Lt||g,oi=Vt||ct,Ws(s,r),oi=Vt,Al=Lt,$s(r),u&8192)t:for(s=r.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||ct||Al||oi||ic(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){ct=l=s;try{if(b=ct.stateNode,g)I=b.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{W=ct.stateNode;var Ht=ct.memoizedProps.style,Dt=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;W.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(fe){Wn(ct,ct.return,fe)}}}else if(s.tag===6){if(l===null){ct=s;try{ct.stateNode.nodeValue=g?"":ct.memoizedProps}catch(fe){Wn(ct,ct.return,fe)}}}else if(s.tag===18){if(l===null){ct=s;try{var Ot=ct.stateNode;g?by(Ot,!0):by(ct.stateNode,!1)}catch(fe){Wn(ct,ct.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ud(r,l))));break;case 19:Ws(s,r),$s(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ud(r,u)));break;case 30:break;case 21:break;default:Ws(s,r),$s(r)}}function $s(r){var s=r.flags;if(s&2){try{for(var l,u=r.return;u!==null;){if(w5(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,b=f1(r);jd(r,b,g);break;case 5:var I=l.stateNode;l.flags&32&&(Yr(I,""),l.flags&=-33);var W=f1(r);jd(r,W,I);break;case 3:case 4:var ct=l.stateNode.containerInfo,Lt=f1(r);d1(r,Lt,ct);break;default:throw Error(i(161))}}catch(Vt){Wn(r,r.return,Vt)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function R5(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;R5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function El(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)E5(r,s.alternate,s),s=s.sibling}function ic(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:eu(4,s,s.return),ic(s);break;case 1:qo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&b5(s,s.return,l),ic(s);break;case 27:wf(s.stateNode);case 26:case 5:qo(s,s.return),ic(s);break;case 22:s.memoizedState===null&&ic(s);break;case 30:ic(s);break;default:ic(s)}r=r.sibling}}function xl(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=r,b=s,I=b.flags;switch(b.tag){case 0:case 11:case 15:xl(g,b,l),hf(4,b);break;case 1:if(xl(g,b,l),u=b,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Lt){Wn(u,u.return,Lt)}if(u=b,g=u.updateQueue,g!==null){var W=u.stateNode;try{var ct=g.shared.hiddenCallbacks;if(ct!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ct.length;g++)Mi(ct[g],W)}catch(Lt){Wn(u,u.return,Lt)}}l&&I&64&&v5(b),ff(b,b.return);break;case 27:A5(b);case 26:case 5:xl(g,b,l),l&&u===null&&I&4&&_5(b),ff(b,b.return);break;case 12:xl(g,b,l);break;case 31:xl(g,b,l),l&&I&4&&N5(g,b);break;case 13:xl(g,b,l),l&&I&4&&I5(g,b);break;case 22:b.memoizedState===null&&xl(g,b,l),ff(b,b.return);break;case 30:break;default:xl(g,b,l)}s=s.sibling}}function m1(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Zu(l))}function g1(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Zu(r))}function uo(r,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)L5(r,s,l,u),s=s.sibling}function L5(r,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:uo(r,s,l,u),g&2048&&hf(9,s);break;case 1:uo(r,s,l,u);break;case 3:uo(r,s,l,u),g&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Zu(r)));break;case 12:if(g&2048){uo(r,s,l,u),r=s.stateNode;try{var b=s.memoizedProps,I=b.id,W=b.onPostCommit;typeof W=="function"&&W(I,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ct){Wn(s,s.return,ct)}}else uo(r,s,l,u);break;case 31:uo(r,s,l,u);break;case 13:uo(r,s,l,u);break;case 23:break;case 22:b=s.stateNode,I=s.alternate,s.memoizedState!==null?b._visibility&2?uo(r,s,l,u):df(r,s):b._visibility&2?uo(r,s,l,u):(b._visibility|=2,Qc(r,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&m1(I,s);break;case 24:uo(r,s,l,u),g&2048&&g1(s.alternate,s);break;default:uo(r,s,l,u)}}function Qc(r,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=r,I=s,W=l,ct=u,Lt=I.flags;switch(I.tag){case 0:case 11:case 15:Qc(b,I,W,ct,g),hf(8,I);break;case 23:break;case 22:var Vt=I.stateNode;I.memoizedState!==null?Vt._visibility&2?Qc(b,I,W,ct,g):df(b,I):(Vt._visibility|=2,Qc(b,I,W,ct,g)),g&&Lt&2048&&m1(I.alternate,I);break;case 24:Qc(b,I,W,ct,g),g&&Lt&2048&&g1(I.alternate,I);break;default:Qc(b,I,W,ct,g)}s=s.sibling}}function df(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,u=s,g=u.flags;switch(u.tag){case 22:df(l,u),g&2048&&m1(u.alternate,u);break;case 24:df(l,u),g&2048&&g1(u.alternate,u);break;default:df(l,u)}s=s.sibling}}var pf=8192;function Jc(r,s,l){if(r.subtreeFlags&pf)for(r=r.child;r!==null;)k5(r,s,l),r=r.sibling}function k5(r,s,l){switch(r.tag){case 26:Jc(r,s,l),r.flags&pf&&r.memoizedState!==null&&VS(l,lo,r.memoizedState,r.memoizedProps);break;case 5:Jc(r,s,l);break;case 3:case 4:var u=lo;lo=Jd(r.stateNode.containerInfo),Jc(r,s,l),lo=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=pf,pf=16777216,Jc(r,s,l),pf=u):Jc(r,s,l));break;default:Jc(r,s,l)}}function D5(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function mf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Ui=u,P5(u,r)}D5(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)O5(r),r=r.sibling}function O5(r){switch(r.tag){case 0:case 11:case 15:mf(r),r.flags&2048&&eu(9,r,r.return);break;case 3:mf(r);break;case 12:mf(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Vd(r)):mf(r);break;default:mf(r)}}function Vd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Ui=u,P5(u,r)}D5(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:eu(8,s,s.return),Vd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Vd(s));break;default:Vd(s)}r=r.sibling}}function P5(r,s){for(;Ui!==null;){var l=Ui;switch(l.tag){case 0:case 11:case 15:eu(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ui=u;else t:for(l=r;Ui!==null;){u=Ui;var g=u.sibling,b=u.return;if(x5(u),u===l){Ui=null;break t}if(g!==null){g.return=b,Ui=g;break t}Ui=b}}}var tS={getCacheForType:function(r){var s=Ai(Rr),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return Ai(Rr).controller.signal}},eS=typeof WeakMap=="function"?WeakMap:Map,Fn=0,lr=null,mn=null,vn=0,Kn=0,fa=null,nu=!1,Zc=!1,y1=!1,Tl=0,qr=0,ru=0,sc=0,v1=0,da=0,th=0,gf=null,Xs=null,b1=!1,Fd=0,M5=0,Bd=1/0,qd=null,iu=null,Ei=0,su=null,eh=null,Nl=0,_1=0,w1=null,j5=null,yf=0,A1=null;function pa(){return(Fn&2)!==0&&vn!==0?vn&-vn:st.T!==null?I1():Or()}function U5(){if(da===0)if((vn&536870912)===0||pn){var r=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),da=r}else da=536870912;return r=gr.current,r!==null&&(r.flags|=32),da}function Qs(r,s,l){(r===lr&&(Kn===2||Kn===9)||r.cancelPendingCommit!==null)&&(nh(r,0),au(r,vn,da,!1)),Te(r,l),((Fn&2)===0||r!==lr)&&(r===lr&&((Fn&2)===0&&(sc|=l),qr===4&&au(r,vn,da,!1)),zo(r))}function V5(r,s,l){if((Fn&6)!==0)throw Error(i(327));var u=!l&&(s&127)===0&&(s&r.expiredLanes)===0||fi(r,s),g=u?iS(r,s):E1(r,s,!0),b=u;do{if(g===0){Zc&&!u&&au(r,s,0,!1);break}else{if(l=r.current.alternate,b&&!nS(l)){g=E1(r,s,!1),b=!1;continue}if(g===2){if(b=s,r.errorRecoveryDisabledLanes&b)var I=0;else I=r.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;t:{var W=r;g=gf;var ct=W.current.memoizedState.isDehydrated;if(ct&&(nh(W,I).flags|=256),I=E1(W,I,!1),I!==2){if(y1&&!ct){W.errorRecoveryDisabledLanes|=b,sc|=b,g=4;break t}b=Xs,Xs=g,b!==null&&(Xs===null?Xs=b:Xs.push.apply(Xs,b))}g=I}if(b=!1,g!==2)continue}}if(g===1){nh(r,0),au(r,s,0,!0);break}t:{switch(u=r,b=g,b){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:au(u,s,da,!nu);break t;case 2:Xs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=Fd+300-Ge(),10<g)){if(au(u,s,da,!nu),on(u,0,!0)!==0)break t;Nl=s,u.timeoutHandle=gy(F5.bind(null,u,l,Xs,qd,b1,s,da,sc,th,nu,b,"Throttled",-0,0),g);break t}F5(u,l,Xs,qd,b1,s,da,sc,th,nu,b,null,-0,0)}}break}while(!0);zo(r)}function F5(r,s,l,u,g,b,I,W,ct,Lt,Vt,Ht,Dt,Ot){if(r.timeoutHandle=-1,Ht=s.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:As},k5(s,b,Ht);var fe=(b&62914560)===b?Fd-Ge():(b&4194048)===b?M5-Ge():0;if(fe=FS(Ht,fe),fe!==null){Nl=b,r.cancelPendingCommit=fe(W5.bind(null,r,s,b,l,u,g,I,W,ct,Vt,Ht,null,Dt,Ot)),au(r,b,I,!Lt);return}}W5(r,s,b,l,u,g,I,W,ct)}function nS(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],b=g.getSnapshot;g=g.value;try{if(!vi(b(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function au(r,s,l,u){s&=~v1,s&=~sc,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var g=s;0<g;){var b=31-$e(g),I=1<<b;u[b]=-1,g&=~I}l!==0&&Bi(r,l,s)}function zd(){return(Fn&6)===0?(vf(0),!1):!0}function S1(){if(mn!==null){if(Kn===0)var r=mn.return;else r=mn,Oa=Oo=null,Hc(r),Gt=null,me=0,r=mn;for(;r!==null;)y5(r.alternate,r),r=r.return;mn=null}}function nh(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,AS(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Nl=0,S1(),lr=r,mn=l=Vs(r.current,null),vn=s,Kn=0,fa=null,nu=!1,Zc=fi(r,s),y1=!1,th=da=v1=sc=ru=qr=0,Xs=gf=null,b1=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var g=31-$e(u),b=1<<g;s|=r[g],u&=~b}return Tl=s,Ku(),l}function B5(r,s){Re=null,st.H=lf,s===mt||s===nt?(s=Bt(),Kn=3):s===It?(s=Bt(),Kn=4):Kn=s===e1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fa=s,mn===null&&(qr=1,kd(r,Fs(s,r.current)))}function q5(){var r=gr.current;return r===null?!0:(vn&4194048)===vn?Tn===null:(vn&62914560)===vn||(vn&536870912)!==0?r===Tn:!1}function z5(){var r=st.H;return st.H=lf,r===null?lf:r}function H5(){var r=st.A;return st.A=tS,r}function Hd(){qr=4,nu||(vn&4194048)!==vn&&gr.current!==null||(Zc=!0),(ru&134217727)===0&&(sc&134217727)===0||lr===null||au(lr,vn,da,!1)}function E1(r,s,l){var u=Fn;Fn|=2;var g=z5(),b=H5();(lr!==r||vn!==s)&&(qd=null,nh(r,s)),s=!1;var I=qr;t:do try{if(Kn!==0&&mn!==null){var W=mn,ct=fa;switch(Kn){case 8:S1(),I=6;break t;case 3:case 2:case 9:case 6:gr.current===null&&(s=!0);var Lt=Kn;if(Kn=0,fa=null,rh(r,W,ct,Lt),l&&Zc){I=0;break t}break;default:Lt=Kn,Kn=0,fa=null,rh(r,W,ct,Lt)}}rS(),I=qr;break}catch(Vt){B5(r,Vt)}while(!0);return s&&r.shellSuspendCounter++,Oa=Oo=null,Fn=u,st.H=g,st.A=b,mn===null&&(lr=null,vn=0,Ku()),I}function rS(){for(;mn!==null;)G5(mn)}function iS(r,s){var l=Fn;Fn|=2;var u=z5(),g=H5();lr!==r||vn!==s?(qd=null,Bd=Ge()+500,nh(r,s)):Zc=fi(r,s);t:do try{if(Kn!==0&&mn!==null){s=mn;var b=fa;e:switch(Kn){case 1:Kn=0,fa=null,rh(r,s,b,1);break;case 2:case 9:if(Et(b)){Kn=0,fa=null,Y5(s);break}s=function(){Kn!==2&&Kn!==9||lr!==r||(Kn=7),zo(r)},b.then(s,s);break t;case 3:Kn=7;break t;case 4:Kn=5;break t;case 7:Et(b)?(Kn=0,fa=null,Y5(s)):(Kn=0,fa=null,rh(r,s,b,7));break;case 5:var I=null;switch(mn.tag){case 26:I=mn.memoizedState;case 5:case 27:var W=mn;if(I?Ly(I):W.stateNode.complete){Kn=0,fa=null;var ct=W.sibling;if(ct!==null)mn=ct;else{var Lt=W.return;Lt!==null?(mn=Lt,Gd(Lt)):mn=null}break e}}Kn=0,fa=null,rh(r,s,b,5);break;case 6:Kn=0,fa=null,rh(r,s,b,6);break;case 8:S1(),qr=6;break t;default:throw Error(i(462))}}sS();break}catch(Vt){B5(r,Vt)}while(!0);return Oa=Oo=null,st.H=u,st.A=g,Fn=l,mn!==null?0:(lr=null,vn=0,Ku(),qr)}function sS(){for(;mn!==null&&!we();)G5(mn)}function G5(r){var s=m5(r.alternate,r,Tl);r.memoizedProps=r.pendingProps,s===null?Gd(r):mn=s}function Y5(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=u5(l,s,s.pendingProps,s.type,void 0,vn);break;case 11:s=u5(l,s,s.pendingProps,s.type.render,s.ref,vn);break;case 5:Hc(s);default:y5(l,s),s=mn=Xu(s,Tl),s=m5(l,s,Tl)}r.memoizedProps=r.pendingProps,s===null?Gd(r):mn=s}function rh(r,s,l,u){Oa=Oo=null,Hc(s),Gt=null,me=0;var g=s.return;try{if(KA(r,g,s,l,vn)){qr=1,kd(r,Fs(l,r.current)),mn=null;return}}catch(b){if(g!==null)throw mn=g,b;qr=1,kd(r,Fs(l,r.current)),mn=null;return}s.flags&32768?(pn||u===1?r=!0:Zc||(vn&536870912)!==0?r=!1:(nu=r=!0,(u===2||u===9||u===3||u===6)&&(u=gr.current,u!==null&&u.tag===13&&(u.flags|=16384))),K5(s,r)):Gd(s)}function Gd(r){var s=r;do{if((s.flags&32768)!==0){K5(s,nu);return}r=s.return;var l=XA(s.alternate,s,Tl);if(l!==null){mn=l;return}if(s=s.sibling,s!==null){mn=s;return}mn=s=r}while(s!==null);qr===0&&(qr=5)}function K5(r,s){do{var l=QA(r.alternate,r);if(l!==null){l.flags&=32767,mn=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){mn=r;return}mn=r=l}while(r!==null);qr=6,mn=null}function W5(r,s,l,u,g,b,I,W,ct){r.cancelPendingCommit=null;do Yd();while(Ei!==0);if((Fn&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(b=s.lanes|s.childLanes,b|=Rc,ea(r,l,b,I,W,ct),r===lr&&(mn=lr=null,vn=0),eh=s,su=r,Nl=l,_1=b,w1=g,j5=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,uS(Xe,function(){return Z5(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=st.T,st.T=null,g=pt.p,pt.p=2,I=Fn,Fn|=4;try{JA(r,s,l)}finally{Fn=I,pt.p=g,st.T=u}}Ei=1,$5(),X5(),Q5()}}function $5(){if(Ei===1){Ei=0;var r=su,s=eh,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=st.T,st.T=null;var u=pt.p;pt.p=2;var g=Fn;Fn|=4;try{C5(s,r);var b=M1,I=to(r.containerInfo),W=b.focusedElem,ct=b.selectionRange;if(I!==W&&W&&W.ownerDocument&&Za(W.ownerDocument.documentElement,W)){if(ct!==null&&ka(W)){var Lt=ct.start,Vt=ct.end;if(Vt===void 0&&(Vt=Lt),"selectionStart"in W)W.selectionStart=Lt,W.selectionEnd=Math.min(Vt,W.value.length);else{var Ht=W.ownerDocument||document,Dt=Ht&&Ht.defaultView||window;if(Dt.getSelection){var Ot=Dt.getSelection(),fe=W.textContent.length,Fe=Math.min(ct.start,fe),ir=ct.end===void 0?Fe:Math.min(ct.end,fe);!Ot.extend&&Fe>ir&&(I=ir,ir=Fe,Fe=I);var wt=Hl(W,Fe),gt=Hl(W,ir);if(wt&&gt&&(Ot.rangeCount!==1||Ot.anchorNode!==wt.node||Ot.anchorOffset!==wt.offset||Ot.focusNode!==gt.node||Ot.focusOffset!==gt.offset)){var Rt=Ht.createRange();Rt.setStart(wt.node,wt.offset),Ot.removeAllRanges(),Fe>ir?(Ot.addRange(Rt),Ot.extend(gt.node,gt.offset)):(Rt.setEnd(gt.node,gt.offset),Ot.addRange(Rt))}}}}for(Ht=[],Ot=W;Ot=Ot.parentNode;)Ot.nodeType===1&&Ht.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Ht.length;W++){var zt=Ht[W];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}ip=!!P1,M1=P1=null}finally{Fn=g,pt.p=u,st.T=l}}r.current=s,Ei=2}}function X5(){if(Ei===2){Ei=0;var r=su,s=eh,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=st.T,st.T=null;var u=pt.p;pt.p=2;var g=Fn;Fn|=4;try{E5(r,s.alternate,s)}finally{Fn=g,pt.p=u,st.T=l}}Ei=3}}function Q5(){if(Ei===4||Ei===3){Ei=0,he();var r=su,s=eh,l=Nl,u=j5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ei=5:(Ei=0,eh=su=null,J5(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(iu=null),Qn(l),s=s.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Qe,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=st.T,g=pt.p,pt.p=2,st.T=null;try{for(var b=r.onRecoverableError,I=0;I<u.length;I++){var W=u[I];b(W.value,{componentStack:W.stack})}}finally{st.T=s,pt.p=g}}(Nl&3)!==0&&Yd(),zo(r),g=r.pendingLanes,(l&261930)!==0&&(g&42)!==0?r===A1?yf++:(yf=0,A1=r):yf=0,vf(0)}}function J5(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Zu(s)))}function Yd(){return $5(),X5(),Q5(),Z5()}function Z5(){if(Ei!==5)return!1;var r=su,s=_1;_1=0;var l=Qn(Nl),u=st.T,g=pt.p;try{pt.p=32>l?32:l,st.T=null,l=w1,w1=null;var b=su,I=Nl;if(Ei=0,eh=su=null,Nl=0,(Fn&6)!==0)throw Error(i(331));var W=Fn;if(Fn|=4,O5(b.current),L5(b,b.current,I,l),Fn=W,vf(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Qe,b)}catch{}return!0}finally{pt.p=g,st.T=u,J5(r,s)}}function ty(r,s,l){s=Fs(l,s),s=t1(r.stateNode,s,2),r=sn(r,s,2),r!==null&&(Te(r,2),zo(r))}function Wn(r,s,l){if(r.tag===3)ty(r,r,l);else for(;s!==null;){if(s.tag===3){ty(s,r,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(iu===null||!iu.has(u))){r=Fs(l,r),l=e5(2),u=sn(s,l,2),u!==null&&(n5(l,u,s,r),Te(u,2),zo(u));break}}s=s.return}}function x1(r,s,l){var u=r.pingCache;if(u===null){u=r.pingCache=new eS;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(y1=!0,g.add(l),r=aS.bind(null,r,s,l),s.then(r,r))}function aS(r,s,l){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,lr===r&&(vn&l)===l&&(qr===4||qr===3&&(vn&62914560)===vn&&300>Ge()-Fd?(Fn&2)===0&&nh(r,0):v1|=l,th===vn&&(th=0)),zo(r)}function ey(r,s){s===0&&(s=Ls()),r=no(r,s),r!==null&&(Te(r,s),zo(r))}function oS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),ey(r,l)}function lS(r,s){var l=0;switch(r.tag){case 31:case 13:var u=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),ey(r,l)}function uS(r,s){return re(r,s)}var Kd=null,ih=null,T1=!1,Wd=!1,N1=!1,ou=0;function zo(r){r!==ih&&r.next===null&&(ih===null?Kd=ih=r:ih=ih.next=r),Wd=!0,T1||(T1=!0,hS())}function vf(r,s){if(!N1&&Wd){N1=!0;do for(var l=!1,u=Kd;u!==null;){if(r!==0){var g=u.pendingLanes;if(g===0)var b=0;else{var I=u.suspendedLanes,W=u.pingedLanes;b=(1<<31-$e(42|r)+1)-1,b&=g&~(I&~W),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,sy(u,b))}else b=vn,b=on(u,u===lr?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||fi(u,b)||(l=!0,sy(u,b));u=u.next}while(l);N1=!1}}function cS(){ny()}function ny(){Wd=T1=!1;var r=0;ou!==0&&wS()&&(r=ou);for(var s=Ge(),l=null,u=Kd;u!==null;){var g=u.next,b=ry(u,s);b===0?(u.next=null,l===null?Kd=g:l.next=g,g===null&&(ih=l)):(l=u,(r!==0||(b&3)!==0)&&(Wd=!0)),u=g}Ei!==0&&Ei!==5||vf(r),ou!==0&&(ou=0)}function ry(r,s){for(var l=r.suspendedLanes,u=r.pingedLanes,g=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var I=31-$e(b),W=1<<I,ct=g[I];ct===-1?((W&l)===0||(W&u)!==0)&&(g[I]=ti(W,s)):ct<=s&&(r.expiredLanes|=W),b&=~W}if(s=lr,l=vn,l=on(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===s&&(Kn===2||Kn===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ee(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||fi(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(u!==null&&ee(u),Qn(l)){case 2:case 8:l=an;break;case 32:l=Xe;break;case 268435456:l=Ye;break;default:l=Xe}return u=iy.bind(null,r),l=re(l,u),r.callbackPriority=s,r.callbackNode=l,s}return u!==null&&u!==null&&ee(u),r.callbackPriority=2,r.callbackNode=null,2}function iy(r,s){if(Ei!==0&&Ei!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Yd()&&r.callbackNode!==l)return null;var u=vn;return u=on(r,r===lr?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(V5(r,u,s),ry(r,Ge()),r.callbackNode!=null&&r.callbackNode===l?iy.bind(null,r):null)}function sy(r,s){if(Yd())return null;V5(r,s,!0)}function hS(){SS(function(){(Fn&6)!==0?re(Be,cS):ny()})}function I1(){if(ou===0){var r=p;r===0&&(r=Me,Me<<=1,(Me&261888)===0&&(Me=256)),ou=r}return ou}function ay(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Li(""+r)}function oy(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function fS(r,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var b=ay((g[Hn]||null).action),I=u.submitter;I&&(s=(s=I[Hn]||null)?ay(s.formAction):I.getAttribute("formAction"),s!==null&&(b=s,I=null));var W=new ri("action","action",null,u,g);r.push({event:W,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ou!==0){var ct=I?oy(g,I):new FormData(g);Wm(l,{pending:!0,data:ct,method:g.method,action:b},null,ct)}}else typeof b=="function"&&(W.preventDefault(),ct=I?oy(g,I):new FormData(g),Wm(l,{pending:!0,data:ct,method:g.method,action:b},b,ct))},currentTarget:g}]})}}for(var C1=0;C1<fl.length;C1++){var R1=fl[C1],dS=R1.toLowerCase(),pS=R1[0].toUpperCase()+R1.slice(1);Us(dS,"on"+pS)}Us(hl,"onAnimationEnd"),Us(Gu,"onAnimationIteration"),Us(Yh,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(bd,"onTransitionRun"),Us(_d,"onTransitionStart"),Us(wd,"onTransitionCancel"),Us(Kh,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bf));function ly(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],g=u.event;u=u.listeners;t:{var b=void 0;if(s)for(var I=u.length-1;0<=I;I--){var W=u[I],ct=W.instance,Lt=W.currentTarget;if(W=W.listener,ct!==b&&g.isPropagationStopped())break t;b=W,g.currentTarget=Lt;try{b(g)}catch(Vt){Yu(Vt)}g.currentTarget=null,b=ct}else for(I=0;I<u.length;I++){if(W=u[I],ct=W.instance,Lt=W.currentTarget,W=W.listener,ct!==b&&g.isPropagationStopped())break t;b=W,g.currentTarget=Lt;try{b(g)}catch(Vt){Yu(Vt)}g.currentTarget=null,b=ct}}}}function gn(r,s){var l=s[Ii];l===void 0&&(l=s[Ii]=new Set);var u=r+"__bubble";l.has(u)||(uy(s,r,2,!1),l.add(u))}function L1(r,s,l){var u=0;s&&(u|=4),uy(l,r,u,s)}var $d="_reactListening"+Math.random().toString(36).slice(2);function k1(r){if(!r[$d]){r[$d]=!0,Ao.forEach(function(l){l!=="selectionchange"&&(mS.has(l)||L1(l,!1,r),L1(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[$d]||(s[$d]=!0,L1("selectionchange",!1,s))}}function uy(r,s,l,u){switch(Uy(s)){case 2:var g=zS;break;case 8:g=HS;break;default:g=K1}l=g.bind(null,s,l,r),g=void 0,!Ya||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?r.addEventListener(s,l,{capture:!0,passive:g}):r.addEventListener(s,l,!0):g!==void 0?r.addEventListener(s,l,{passive:g}):r.addEventListener(s,l,!1)}function D1(r,s,l,u,g){var b=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var I=u.tag;if(I===3||I===4){var W=u.stateNode.containerInfo;if(W===g)break;if(I===4)for(I=u.return;I!==null;){var ct=I.tag;if((ct===3||ct===4)&&I.stateNode.containerInfo===g)return;I=I.return}for(;W!==null;){if(I=qi(W),I===null)return;if(ct=I.tag,ct===5||ct===6||ct===26||ct===27){u=b=I;continue t}W=W.parentNode}}u=u.return}Ea(function(){var Lt=b,Vt=ki(l),Ht=[];t:{var Dt=Wh.get(r);if(Dt!==void 0){var Ot=ri,fe=r;switch(r){case"keypress":if(Yi(l)===0)break t;case"keydown":case"keyup":Ot=fn;break;case"focusin":fe="focus",Ot=Es;break;case"focusout":fe="blur",Ot=Es;break;case"beforeblur":case"afterblur":Ot=Es;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=Ms;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=E;break;case hl:case Gu:case Yh:Ot=_;break;case Kh:Ot=X;break;case"scroll":case"scrollend":Ot=xa;break;case"wheel":Ot=kt;break;case"copy":case"cut":case"paste":Ot=rt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=qn;break;case"toggle":case"beforetoggle":Ot=He}var Fe=(s&4)!==0,ir=!Fe&&(r==="scroll"||r==="scrollend"),wt=Fe?Dt!==null?Dt+"Capture":null:Dt;Fe=[];for(var gt=Lt,Rt;gt!==null;){var zt=gt;if(Rt=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||Rt===null||wt===null||(zt=Kr(gt,wt),zt!=null&&Fe.push(_f(gt,zt,Rt))),ir)break;gt=gt.return}0<Fe.length&&(Dt=new Ot(Dt,fe,null,l,Vt),Ht.push({event:Dt,listeners:Fe}))}}if((s&7)===0){t:{if(Dt=r==="mouseover"||r==="pointerover",Ot=r==="mouseout"||r==="pointerout",Dt&&l!==aa&&(fe=l.relatedTarget||l.fromElement)&&(qi(fe)||fe[Pr]))break t;if((Ot||Dt)&&(Dt=Vt.window===Vt?Vt:(Dt=Vt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Ot?(fe=l.relatedTarget||l.toElement,Ot=Lt,fe=fe?qi(fe):null,fe!==null&&(ir=o(fe),Fe=fe.tag,fe!==ir||Fe!==5&&Fe!==27&&Fe!==6)&&(fe=null)):(Ot=null,fe=Lt),Ot!==fe)){if(Fe=Io,zt="onMouseLeave",wt="onMouseEnter",gt="mouse",(r==="pointerout"||r==="pointerover")&&(Fe=qn,zt="onPointerLeave",wt="onPointerEnter",gt="pointer"),ir=Ot==null?Dt:zi(Ot),Rt=fe==null?Dt:zi(fe),Dt=new Fe(zt,gt+"leave",Ot,l,Vt),Dt.target=ir,Dt.relatedTarget=Rt,zt=null,qi(Vt)===Lt&&(Fe=new Fe(wt,gt+"enter",fe,l,Vt),Fe.target=Rt,Fe.relatedTarget=ir,zt=Fe),ir=zt,Ot&&fe)e:{for(Fe=gS,wt=Ot,gt=fe,Rt=0,zt=wt;zt;zt=Fe(zt))Rt++;zt=0;for(var De=gt;De;De=Fe(De))zt++;for(;0<Rt-zt;)wt=Fe(wt),Rt--;for(;0<zt-Rt;)gt=Fe(gt),zt--;for(;Rt--;){if(wt===gt||gt!==null&&wt===gt.alternate){Fe=wt;break e}wt=Fe(wt),gt=Fe(gt)}Fe=null}else Fe=null;Ot!==null&&cy(Ht,Dt,Ot,Fe,!1),fe!==null&&ir!==null&&cy(Ht,ir,fe,Fe,!0)}}t:{if(Dt=Lt?zi(Lt):window,Ot=Dt.nodeName&&Dt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&Dt.type==="file")var Mn=Ro;else if(zu(Dt))if(us)Mn=Ra;else{Mn=Ir;var _e=ql}else Ot=Dt.nodeName,!Ot||Ot.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?Lt&&xo(Lt.elementType)&&(Mn=Ro):Mn=Cc;if(Mn&&(Mn=Mn(r,Lt))){Ts(Ht,Mn,l,Vt);break t}_e&&_e(r,Dt,Lt),r==="focusout"&&Lt&&Dt.type==="number"&&Lt.memoizedProps.value!=null&&il(Dt,"number",Dt.value)}switch(_e=Lt?zi(Lt):window,r){case"focusin":(zu(_e)||_e.contentEditable==="true")&&(Ns=_e,eo=Lt,Di=null);break;case"focusout":Di=eo=Ns=null;break;case"mousedown":js=!0;break;case"contextmenu":case"mouseup":case"dragend":js=!1,Rn(Ht,l,Vt);break;case"selectionchange":if(cl)break;case"keydown":case"keyup":Rn(Ht,l,Vt)}var ln;if(un)t:{switch(r){case"compositionstart":var bn="onCompositionStart";break t;case"compositionend":bn="onCompositionEnd";break t;case"compositionupdate":bn="onCompositionUpdate";break t}bn=void 0}else Na?xs(r,l)&&(bn="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(bn="onCompositionStart");bn&&(gi&&l.locale!=="ko"&&(Na||bn!=="onCompositionStart"?bn==="onCompositionEnd"&&Na&&(ln=ll()):(Gi=Vt,Ka="value"in Gi?Gi.value:Gi.textContent,Na=!0)),_e=Xd(Lt,bn),0<_e.length&&(bn=new bt(bn,r,null,l,Vt),Ht.push({event:bn,listeners:_e}),ln?bn.data=ln:(ln=Ta(l),ln!==null&&(bn.data=ln)))),(ln=ii?$i(r,l):$a(r,l))&&(bn=Xd(Lt,"onBeforeInput"),0<bn.length&&(_e=new bt("onBeforeInput","beforeinput",null,l,Vt),Ht.push({event:_e,listeners:bn}),_e.data=ln)),fS(Ht,r,Lt,l,Vt)}ly(Ht,s)})}function _f(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Xd(r,s){for(var l=s+"Capture",u=[];r!==null;){var g=r,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Kr(r,l),g!=null&&u.unshift(_f(r,g,b)),g=Kr(r,s),g!=null&&u.push(_f(r,g,b))),r.tag===3)return u;r=r.return}return[]}function gS(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function cy(r,s,l,u,g){for(var b=s._reactName,I=[];l!==null&&l!==u;){var W=l,ct=W.alternate,Lt=W.stateNode;if(W=W.tag,ct!==null&&ct===u)break;W!==5&&W!==26&&W!==27||Lt===null||(ct=Lt,g?(Lt=Kr(l,b),Lt!=null&&I.unshift(_f(l,Lt,ct))):g||(Lt=Kr(l,b),Lt!=null&&I.push(_f(l,Lt,ct)))),l=l.return}I.length!==0&&r.push({event:s,listeners:I})}var yS=/\r\n?/g,vS=/\u0000|\uFFFD/g;function hy(r){return(typeof r=="string"?r:""+r).replace(yS,`
`).replace(vS,"")}function fy(r,s){return s=hy(s),hy(r)===s}function rr(r,s,l,u,g,b){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Yr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Yr(r,""+u);break;case"className":ni(r,"class",u);break;case"tabIndex":ni(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(r,l,u);break;case"style":ol(r,u,b);break;case"data":if(s!=="object"){ni(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Li(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&rr(r,s,"name",g.name,g,null),rr(r,s,"formEncType",g.formEncType,g,null),rr(r,s,"formMethod",g.formMethod,g,null),rr(r,s,"formTarget",g.formTarget,g,null)):(rr(r,s,"encType",g.encType,g,null),rr(r,s,"method",g.method,g,null),rr(r,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Li(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=As);break;case"onScroll":u!=null&&gn("scroll",r);break;case"onScrollEnd":u!=null&&gn("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Li(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":gn("beforetoggle",r),gn("toggle",r),Hi(r,"popover",u);break;case"xlinkActuate":br(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":br(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":br(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":br(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":br(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":br(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":br(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":br(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":br(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=To.get(l)||l,Hi(r,l,u))}}function O1(r,s,l,u,g,b){switch(l){case"style":ol(r,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Yr(r,u):(typeof u=="number"||typeof u=="bigint")&&Yr(r,""+u);break;case"onScroll":u!=null&&gn("scroll",r);break;case"onScrollEnd":u!=null&&gn("scrollend",r);break;case"onClick":u!=null&&(r.onclick=As);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ri.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),b=r[Hn]||null,b=b!=null?b[l]:null,typeof b=="function"&&r.removeEventListener(s,b,g),typeof u=="function")){typeof b!="function"&&b!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,u,g);break t}l in r?r[l]=u:u===!0?r.setAttribute(l,""):Hi(r,l,u)}}}function ts(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gn("error",r),gn("load",r);var u=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var I=l[b];if(I!=null)switch(b){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:rr(r,s,b,I,l,null)}}g&&rr(r,s,"srcSet",l.srcSet,l,null),u&&rr(r,s,"src",l.src,l,null);return;case"input":gn("invalid",r);var W=b=I=g=null,ct=null,Lt=null;for(u in l)if(l.hasOwnProperty(u)){var Vt=l[u];if(Vt!=null)switch(u){case"name":g=Vt;break;case"type":I=Vt;break;case"checked":ct=Vt;break;case"defaultChecked":Lt=Vt;break;case"value":b=Vt;break;case"defaultValue":W=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(i(137,s));break;default:rr(r,s,u,Vt,l,null)}}Vl(r,b,W,ct,Lt,I,g,!1);return;case"select":gn("invalid",r),u=I=b=null;for(g in l)if(l.hasOwnProperty(g)&&(W=l[g],W!=null))switch(g){case"value":b=W;break;case"defaultValue":I=W;break;case"multiple":u=W;default:rr(r,s,g,W,l,null)}s=b,l=I,r.multiple=!!u,s!=null?mi(r,!!u,s,!1):l!=null&&mi(r,!!u,l,!0);return;case"textarea":gn("invalid",r),b=g=u=null;for(I in l)if(l.hasOwnProperty(I)&&(W=l[I],W!=null))switch(I){case"value":u=W;break;case"defaultValue":g=W;break;case"children":b=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:rr(r,s,I,W,l,null)}ia(r,u,g,b);return;case"option":for(ct in l)if(l.hasOwnProperty(ct)&&(u=l[ct],u!=null))switch(ct){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rr(r,s,ct,u,l,null)}return;case"dialog":gn("beforetoggle",r),gn("toggle",r),gn("cancel",r),gn("close",r);break;case"iframe":case"object":gn("load",r);break;case"video":case"audio":for(u=0;u<bf.length;u++)gn(bf[u],r);break;case"image":gn("error",r),gn("load",r);break;case"details":gn("toggle",r);break;case"embed":case"source":case"link":gn("error",r),gn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Lt in l)if(l.hasOwnProperty(Lt)&&(u=l[Lt],u!=null))switch(Lt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:rr(r,s,Lt,u,l,null)}return;default:if(xo(s)){for(Vt in l)l.hasOwnProperty(Vt)&&(u=l[Vt],u!==void 0&&O1(r,s,Vt,u,l,void 0));return}}for(W in l)l.hasOwnProperty(W)&&(u=l[W],u!=null&&rr(r,s,W,u,l,null))}function bS(r,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,I=null,W=null,ct=null,Lt=null,Vt=null;for(Ot in l){var Ht=l[Ot];if(l.hasOwnProperty(Ot)&&Ht!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":ct=Ht;default:u.hasOwnProperty(Ot)||rr(r,s,Ot,null,u,Ht)}}for(var Dt in u){var Ot=u[Dt];if(Ht=l[Dt],u.hasOwnProperty(Dt)&&(Ot!=null||Ht!=null))switch(Dt){case"type":b=Ot;break;case"name":g=Ot;break;case"checked":Lt=Ot;break;case"defaultChecked":Vt=Ot;break;case"value":I=Ot;break;case"defaultValue":W=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,s));break;default:Ot!==Ht&&rr(r,s,Dt,Ot,u,Ht)}}Ha(r,I,W,ct,Lt,Vt,b,g);return;case"select":Ot=I=W=Dt=null;for(b in l)if(ct=l[b],l.hasOwnProperty(b)&&ct!=null)switch(b){case"value":break;case"multiple":Ot=ct;default:u.hasOwnProperty(b)||rr(r,s,b,null,u,ct)}for(g in u)if(b=u[g],ct=l[g],u.hasOwnProperty(g)&&(b!=null||ct!=null))switch(g){case"value":Dt=b;break;case"defaultValue":W=b;break;case"multiple":I=b;default:b!==ct&&rr(r,s,g,b,u,ct)}s=W,l=I,u=Ot,Dt!=null?mi(r,!!l,Dt,!1):!!u!=!!l&&(s!=null?mi(r,!!l,s,!0):mi(r,!!l,l?[]:"",!1));return;case"textarea":Ot=Dt=null;for(W in l)if(g=l[W],l.hasOwnProperty(W)&&g!=null&&!u.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:rr(r,s,W,null,u,g)}for(I in u)if(g=u[I],b=l[I],u.hasOwnProperty(I)&&(g!=null||b!=null))switch(I){case"value":Dt=g;break;case"defaultValue":Ot=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==b&&rr(r,s,I,g,u,b)}sl(r,Dt,Ot);return;case"option":for(var fe in l)if(Dt=l[fe],l.hasOwnProperty(fe)&&Dt!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":r.selected=!1;break;default:rr(r,s,fe,null,u,Dt)}for(ct in u)if(Dt=u[ct],Ot=l[ct],u.hasOwnProperty(ct)&&Dt!==Ot&&(Dt!=null||Ot!=null))switch(ct){case"selected":r.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:rr(r,s,ct,Dt,u,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)Dt=l[Fe],l.hasOwnProperty(Fe)&&Dt!=null&&!u.hasOwnProperty(Fe)&&rr(r,s,Fe,null,u,Dt);for(Lt in u)if(Dt=u[Lt],Ot=l[Lt],u.hasOwnProperty(Lt)&&Dt!==Ot&&(Dt!=null||Ot!=null))switch(Lt){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,s));break;default:rr(r,s,Lt,Dt,u,Ot)}return;default:if(xo(s)){for(var ir in l)Dt=l[ir],l.hasOwnProperty(ir)&&Dt!==void 0&&!u.hasOwnProperty(ir)&&O1(r,s,ir,void 0,u,Dt);for(Vt in u)Dt=u[Vt],Ot=l[Vt],!u.hasOwnProperty(Vt)||Dt===Ot||Dt===void 0&&Ot===void 0||O1(r,s,Vt,Dt,u,Ot);return}}for(var wt in l)Dt=l[wt],l.hasOwnProperty(wt)&&Dt!=null&&!u.hasOwnProperty(wt)&&rr(r,s,wt,null,u,Dt);for(Ht in u)Dt=u[Ht],Ot=l[Ht],!u.hasOwnProperty(Ht)||Dt===Ot||Dt==null&&Ot==null||rr(r,s,Ht,Dt,u,Ot)}function dy(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _S(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],b=g.transferSize,I=g.initiatorType,W=g.duration;if(b&&W&&dy(I)){for(I=0,W=g.responseEnd,u+=1;u<l.length;u++){var ct=l[u],Lt=ct.startTime;if(Lt>W)break;var Vt=ct.transferSize,Ht=ct.initiatorType;Vt&&dy(Ht)&&(ct=ct.responseEnd,I+=Vt*(ct<W?1:(W-Lt)/(ct-Lt)))}if(--u,s+=8*(b+I)/(g.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var P1=null,M1=null;function Qd(r){return r.nodeType===9?r:r.ownerDocument}function py(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function my(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function j1(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var U1=null;function wS(){var r=window.event;return r&&r.type==="popstate"?r===U1?!1:(U1=r,!0):(U1=null,!1)}var gy=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,SS=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(r){return yy.resolve(null).then(r).catch(ES)}:gy;function ES(r){setTimeout(function(){throw r})}function lu(r){return r==="head"}function vy(r,s){var l=s,u=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){r.removeChild(g),lh(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")wf(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,wf(l);for(var b=l.firstChild;b;){var I=b.nextSibling,W=b.nodeName;b[Ci]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=I}}else l==="body"&&wf(r.ownerDocument.body);l=g}while(l);lh(s)}function by(r,s){var l=r;r=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=u}while(l)}function V1(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":V1(l),na(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function xS(r,s,l,u){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ci])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=ja(r.nextSibling),r===null)break}return null}function TS(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=ja(r.nextSibling),r===null))return null;return r}function _y(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=ja(r.nextSibling),r===null))return null;return r}function F1(r){return r.data==="$?"||r.data==="$~"}function B1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function NS(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ja(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var q1=null;function wy(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return ja(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function Ay(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function Sy(r,s,l){switch(s=Qd(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function wf(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);na(r)}var Ua=new Map,Ey=new Set;function Jd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Il=pt.d;pt.d={f:IS,r:CS,D:RS,C:LS,L:kS,m:DS,X:PS,S:OS,M:MS};function IS(){var r=Il.f(),s=zd();return r||s}function CS(r){var s=pi(r);s!==null&&s.tag===5&&s.type==="form"?B2(s):Il.r(r)}var sh=typeof document>"u"?null:document;function xy(r,s,l){var u=sh;if(u&&typeof s=="string"&&s){var g=_r(s);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Ey.has(g)||(Ey.add(g),r={rel:r,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),ts(s,"link",r),dr(s),u.head.appendChild(s)))}}function RS(r){Il.D(r),xy("dns-prefetch",r,null)}function LS(r,s){Il.C(r,s),xy("preconnect",r,s)}function kS(r,s,l){Il.L(r,s,l);var u=sh;if(u&&r&&s){var g='link[rel="preload"][as="'+_r(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+_r(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+_r(l.imageSizes)+'"]')):g+='[href="'+_r(r)+'"]';var b=g;switch(s){case"style":b=ah(r);break;case"script":b=oh(r)}Ua.has(b)||(r=A({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),Ua.set(b,r),u.querySelector(g)!==null||s==="style"&&u.querySelector(Af(b))||s==="script"&&u.querySelector(Sf(b))||(s=u.createElement("link"),ts(s,"link",r),dr(s),u.head.appendChild(s)))}}function DS(r,s){Il.m(r,s);var l=sh;if(l&&r){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+_r(u)+'"][href="'+_r(r)+'"]',b=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=oh(r)}if(!Ua.has(b)&&(r=A({rel:"modulepreload",href:r},s),Ua.set(b,r),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Sf(b)))return}u=l.createElement("link"),ts(u,"link",r),dr(u),l.head.appendChild(u)}}}function OS(r,s,l){Il.S(r,s,l);var u=sh;if(u&&r){var g=ss(u).hoistableStyles,b=ah(r);s=s||"default";var I=g.get(b);if(!I){var W={loading:0,preload:null};if(I=u.querySelector(Af(b)))W.loading=5;else{r=A({rel:"stylesheet",href:r,"data-precedence":s},l),(l=Ua.get(b))&&z1(r,l);var ct=I=u.createElement("link");dr(ct),ts(ct,"link",r),ct._p=new Promise(function(Lt,Vt){ct.onload=Lt,ct.onerror=Vt}),ct.addEventListener("load",function(){W.loading|=1}),ct.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Zd(I,s,u)}I={type:"stylesheet",instance:I,count:1,state:W},g.set(b,I)}}}function PS(r,s){Il.X(r,s);var l=sh;if(l&&r){var u=ss(l).hoistableScripts,g=oh(r),b=u.get(g);b||(b=l.querySelector(Sf(g)),b||(r=A({src:r,async:!0},s),(s=Ua.get(g))&&H1(r,s),b=l.createElement("script"),dr(b),ts(b,"link",r),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function MS(r,s){Il.M(r,s);var l=sh;if(l&&r){var u=ss(l).hoistableScripts,g=oh(r),b=u.get(g);b||(b=l.querySelector(Sf(g)),b||(r=A({src:r,async:!0,type:"module"},s),(s=Ua.get(g))&&H1(r,s),b=l.createElement("script"),dr(b),ts(b,"link",r),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function Ty(r,s,l,u){var g=(g=ut.current)?Jd(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ah(l.href),l=ss(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=ah(l.href);var b=ss(g).hoistableStyles,I=b.get(r);if(I||(g=g.ownerDocument||g,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,I),(b=g.querySelector(Af(r)))&&!b._p&&(I.instance=b,I.state.loading=5),Ua.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ua.set(r,l),b||jS(g,r,l,I.state))),s&&u===null)throw Error(i(528,""));return I}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=oh(l),l=ss(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ah(r){return'href="'+_r(r)+'"'}function Af(r){return'link[rel="stylesheet"]['+r+"]"}function Ny(r){return A({},r,{"data-precedence":r.precedence,precedence:null})}function jS(r,s,l,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),ts(s,"link",l),dr(s),r.head.appendChild(s))}function oh(r){return'[src="'+_r(r)+'"]'}function Sf(r){return"script[async]"+r}function Iy(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+_r(l.href)+'"]');if(u)return s.instance=u,dr(u),u;var g=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),dr(u),ts(u,"style",g),Zd(u,l.precedence,r),s.instance=u;case"stylesheet":g=ah(l.href);var b=r.querySelector(Af(g));if(b)return s.state.loading|=4,s.instance=b,dr(b),b;u=Ny(l),(g=Ua.get(g))&&z1(u,g),b=(r.ownerDocument||r).createElement("link"),dr(b);var I=b;return I._p=new Promise(function(W,ct){I.onload=W,I.onerror=ct}),ts(b,"link",u),s.state.loading|=4,Zd(b,l.precedence,r),s.instance=b;case"script":return b=oh(l.src),(g=r.querySelector(Sf(b)))?(s.instance=g,dr(g),g):(u=l,(g=Ua.get(b))&&(u=A({},l),H1(u,g)),r=r.ownerDocument||r,g=r.createElement("script"),dr(g),ts(g,"link",u),r.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Zd(u,l.precedence,r));return s.instance}function Zd(r,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,b=g,I=0;I<u.length;I++){var W=u[I];if(W.dataset.precedence===s)b=W;else if(b!==g)break}b?b.parentNode.insertBefore(r,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function z1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function H1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var tp=null;function Cy(r,s,l){if(tp===null){var u=new Map,g=tp=new Map;g.set(l,u)}else g=tp,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var b=l[g];if(!(b[Ci]||b[Dn]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var I=b.getAttribute(s)||"";I=r+I;var W=u.get(I);W?W.push(b):u.set(I,[b])}}return u}function Ry(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function US(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ly(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function VS(r,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=ah(u.href),b=s.querySelector(Af(g));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=ep.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=b,dr(b);return}b=s.ownerDocument||s,u=Ny(u),(g=Ua.get(g))&&z1(u,g),b=b.createElement("link"),dr(b);var I=b;I._p=new Promise(function(W,ct){I.onload=W,I.onerror=ct}),ts(b,"link",u),l.instance=b}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=ep.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var G1=0;function FS(r,s){return r.stylesheets&&r.count===0&&rp(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var u=setTimeout(function(){if(r.stylesheets&&rp(r,r.stylesheets),r.unsuspend){var b=r.unsuspend;r.unsuspend=null,b()}},6e4+s);0<r.imgBytes&&G1===0&&(G1=62500*_S());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&rp(r,r.stylesheets),r.unsuspend)){var b=r.unsuspend;r.unsuspend=null,b()}},(r.imgBytes>G1?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function ep(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var np=null;function rp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,np=new Map,s.forEach(BS,r),np=null,ep.call(r))}function BS(r,s){if(!(s.state.loading&4)){var l=np.get(r);if(l)var u=l.get(null);else{l=new Map,np.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var I=g[b];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),u=I)}u&&l.set(null,u)}g=s.instance,I=g.getAttribute("data-precedence"),b=l.get(I)||u,b===u&&l.set(null,g),l.set(I,g),this.count++,u=ep.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),b?b.parentNode.insertBefore(g,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),s.state.loading|=4}}var Ef={$$typeof:J,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function qS(r,s,l,u,g,b,I,W,ct){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ct,this.incompleteTransitions=new Map}function ky(r,s,l,u,g,b,I,W,ct,Lt,Vt,Ht){return r=new qS(r,s,l,I,ct,Lt,Vt,Ht,W),s=1,b===!0&&(s|=24),b=Pi(3,null,null,s),r.current=b,b.stateNode=r,s=Xl(),s.refCount++,r.pooledCache=s,s.refCount++,b.memoizedState={element:u,isDehydrated:l,cache:s},ne(b),r}function Dy(r){return r?(r=bi,r):bi}function Oy(r,s,l,u,g,b){g=Dy(g),u.context===null?u.context=g:u.pendingContext=g,u=Ue(s),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=sn(r,u,s),l!==null&&(Qs(l,r,s),Un(l,r,s))}function Py(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Y1(r,s){Py(r,s),(r=r.alternate)&&Py(r,s)}function My(r){if(r.tag===13||r.tag===31){var s=no(r,67108864);s!==null&&Qs(s,r,67108864),Y1(r,67108864)}}function jy(r){if(r.tag===13||r.tag===31){var s=pa();s=Bn(s);var l=no(r,s);l!==null&&Qs(l,r,s),Y1(r,s)}}var ip=!0;function zS(r,s,l,u){var g=st.T;st.T=null;var b=pt.p;try{pt.p=2,K1(r,s,l,u)}finally{pt.p=b,st.T=g}}function HS(r,s,l,u){var g=st.T;st.T=null;var b=pt.p;try{pt.p=8,K1(r,s,l,u)}finally{pt.p=b,st.T=g}}function K1(r,s,l,u){if(ip){var g=W1(u);if(g===null)D1(r,s,u,sp,l),Vy(r,u);else if(YS(g,r,s,l,u))u.stopPropagation();else if(Vy(r,u),s&4&&-1<GS.indexOf(r)){for(;g!==null;){var b=pi(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var I=be(b.pendingLanes);if(I!==0){var W=b;for(W.pendingLanes|=2,W.entangledLanes|=2;I;){var ct=1<<31-$e(I);W.entanglements[1]|=ct,I&=~ct}zo(b),(Fn&6)===0&&(Bd=Ge()+500,vf(0))}}break;case 31:case 13:W=no(b,2),W!==null&&Qs(W,b,2),zd(),Y1(b,2)}if(b=W1(u),b===null&&D1(r,s,u,sp,l),b===g)break;g=b}g!==null&&u.stopPropagation()}else D1(r,s,u,null,l)}}function W1(r){return r=ki(r),$1(r)}var sp=null;function $1(r){if(sp=null,r=qi(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=c(s),r!==null)return r;r=null}else if(l===31){if(r=h(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return sp=r,null}function Uy(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case Be:return 2;case an:return 8;case Xe:case ye:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var X1=!1,uu=null,cu=null,hu=null,xf=new Map,Tf=new Map,fu=[],GS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(r,s){switch(r){case"focusin":case"focusout":uu=null;break;case"dragenter":case"dragleave":cu=null;break;case"mouseover":case"mouseout":hu=null;break;case"pointerover":case"pointerout":xf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tf.delete(s.pointerId)}}function Nf(r,s,l,u,g,b){return r===null||r.nativeEvent!==b?(r={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:b,targetContainers:[g]},s!==null&&(s=pi(s),s!==null&&My(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),r)}function YS(r,s,l,u,g){switch(s){case"focusin":return uu=Nf(uu,r,s,l,u,g),!0;case"dragenter":return cu=Nf(cu,r,s,l,u,g),!0;case"mouseover":return hu=Nf(hu,r,s,l,u,g),!0;case"pointerover":var b=g.pointerId;return xf.set(b,Nf(xf.get(b)||null,r,s,l,u,g)),!0;case"gotpointercapture":return b=g.pointerId,Tf.set(b,Nf(Tf.get(b)||null,r,s,l,u,g)),!0}return!1}function Fy(r){var s=qi(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){r.blockedOn=s,di(r.priority,function(){jy(l)});return}}else if(s===31){if(s=h(l),s!==null){r.blockedOn=s,di(r.priority,function(){jy(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ap(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=W1(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);aa=u,l.target.dispatchEvent(u),aa=null}else return s=pi(l),s!==null&&My(s),r.blockedOn=l,!1;s.shift()}return!0}function By(r,s,l){ap(r)&&l.delete(s)}function KS(){X1=!1,uu!==null&&ap(uu)&&(uu=null),cu!==null&&ap(cu)&&(cu=null),hu!==null&&ap(hu)&&(hu=null),xf.forEach(By),Tf.forEach(By)}function op(r,s){r.blockedOn===s&&(r.blockedOn=null,X1||(X1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,KS)))}var lp=null;function qy(r){lp!==r&&(lp=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lp===r&&(lp=null);for(var s=0;s<r.length;s+=3){var l=r[s],u=r[s+1],g=r[s+2];if(typeof u!="function"){if($1(u||l)===null)continue;break}var b=pi(l);b!==null&&(r.splice(s,3),s-=3,Wm(b,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function lh(r){function s(ct){return op(ct,r)}uu!==null&&op(uu,r),cu!==null&&op(cu,r),hu!==null&&op(hu,r),xf.forEach(s),Tf.forEach(s);for(var l=0;l<fu.length;l++){var u=fu[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<fu.length&&(l=fu[0],l.blockedOn===null);)Fy(l),l.blockedOn===null&&fu.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],b=l[u+1],I=g[Hn]||null;if(typeof b=="function")I||qy(l);else if(I){var W=null;if(b&&b.hasAttribute("formAction")){if(g=b,I=b[Hn]||null)W=I.formAction;else if($1(g)!==null)continue}else W=I.action;typeof W=="function"?l[u+1]=W:(l.splice(u,3),u-=3),qy(l)}}}function zy(){function r(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(I){return g=I})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Q1(r){this._internalRoot=r}up.prototype.render=Q1.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=pa();Oy(l,u,r,s,null,null)},up.prototype.unmount=Q1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Oy(r.current,2,null,r,null,null),zd(),s[Pr]=null}};function up(r){this._internalRoot=r}up.prototype.unstable_scheduleHydration=function(r){if(r){var s=Or();r={blockedOn:null,target:r,priority:s};for(var l=0;l<fu.length&&s!==0&&s<fu[l].priority;l++);fu.splice(l,0,r),l===0&&Fy(r)}};var Hy=t.version;if(Hy!=="19.2.1")throw Error(i(527,Hy,"19.2.1"));pt.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var WS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:st,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{Qe=cp.inject(WS),Ie=cp}catch{}}return Cf.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,u="",g=Q2,b=J2,I=Z2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=ky(r,1,!1,null,null,l,u,null,g,b,I,zy),r[Pr]=s.current,k1(r),new Q1(s)},Cf.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var u=!1,g="",b=Q2,I=J2,W=Z2,ct=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(W=l.onRecoverableError),l.formState!==void 0&&(ct=l.formState)),s=ky(r,1,!0,s,l??null,u,g,ct,b,I,W,zy),s.context=Dy(null),l=s.current,u=pa(),u=Bn(u),g=Ue(u),g.callback=null,sn(l,g,u),l=u,s.current.lanes=l,Te(s,l),zo(s),r[Pr]=s.current,k1(r),new up(s)},Cf.version="19.2.1",Cf}var tv;function aE(){if(tv)return tg.exports;tv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),tg.exports=sE(),tg.exports}var oE=aE();const lE=iw(oE),uE=()=>{};var ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},cE=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,v=o>>2,A=(o&3)<<4|h>>4;let T=(h&15)<<2|d>>6,w=d&63;f||(w=64,c||(T=64)),i.push(e[v],e[A],e[T],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(aw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):cE(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const d=a<n.length?e[n.charAt(a)]:64;++a;const A=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||d==null||A==null)throw new hE;const T=o<<2|h>>4;if(i.push(T),d!==64){const w=h<<4&240|d>>2;if(i.push(w),A!==64){const V=d<<6&192|A;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fE=function(n){const t=aw(n);return ow.encodeByteArray(t,!0)},Hp=function(n){return fE(n).replace(/\./g,"")},lw=function(n){try{return ow.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=()=>dE().__FIREBASE_DEFAULTS__,mE=()=>{if(typeof process>"u"||typeof ev>"u")return;const n=ev.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&lw(n[1]);return t&&JSON.parse(t)},gm=()=>{try{return uE()||pE()||mE()||gE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uw=n=>{var t,e;return(e=(t=gm())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},yE=n=>{const t=uw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},cw=()=>{var n;return(n=gm())==null?void 0:n.config},hw=n=>{var t;return(t=gm())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hp(JSON.stringify(e)),Hp(JSON.stringify(c)),""].join(".")}const Uf={};function _E(){const n={prod:[],emulator:[]};for(const t of Object.keys(Uf))Uf[t]?n.emulator.push(t):n.prod.push(t);return n}function wE(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let nv=!1;function dw(n,t){if(typeof window>"u"||typeof document>"u"||!jh(window.location.host)||Uf[n]===t||Uf[n]||nv)return;Uf[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=_E().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,w){T.setAttribute("width","24"),T.setAttribute("id",w),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{nv=!0,c()},T}function v(T,w){T.setAttribute("id",w),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function A(){const T=wE(i),w=e("text"),V=document.getElementById(w)||document.createElement("span"),z=e("learnmore"),F=document.getElementById(z)||document.createElement("a"),q=e("preprendIcon"),at=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const J=T.element;h(J),v(F,z);const tt=d();f(at,q),J.append(at,V,F,tt),document.body.appendChild(J)}o?(V.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bs())}function SE(){var t;const n=(t=gm())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TE(){const n=bs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NE(){return!SE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mw(){try{return typeof indexedDB=="object"}catch{return!1}}function gw(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var o;t(((o=a.error)==null?void 0:o.message)||"")}}catch(e){t(e)}})}function IE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="FirebaseError";class bo extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=CE,Object.setPrototypeOf(this,bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?RE(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new bo(a,h,i)}}function RE(n,t){return n.replace(LE,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const LE=/\{\$([^}]+)}/g;function kE(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Iu(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(rv(o)&&rv(c)){if(!Iu(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function rv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function kf(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function Df(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function DE(n,t){const e=new OE(n,t);return e.subscribe.bind(e)}class OE{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");PE(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=ig),a.error===void 0&&(a.error=ig),a.complete===void 0&&(a.complete=ig);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PE(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function ig(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=1e3,jE=2,UE=14400*1e3,VE=.5;function iv(n,t=ME,e=jE){const i=t*Math.pow(e,n),a=Math.round(VE*i*(Math.random()-.5)*2);return Math.min(UE,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n){return n&&n._delegate?n._delegate:n}class po{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new vE;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qE(t))try{this.getOrInitializeService({instanceIdentifier:ac})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=ac){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ac){return this.instances.has(t)}getOptions(t=ac){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BE(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ac){return this.component?this.component.multipleInstances?t:ac:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BE(n){return n===ac?void 0:n}function qE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new FE(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(_n||(_n={}));const HE={debug:_n.DEBUG,verbose:_n.VERBOSE,info:_n.INFO,warn:_n.WARN,error:_n.ERROR,silent:_n.SILENT},GE=_n.INFO,YE={[_n.DEBUG]:"log",[_n.VERBOSE]:"log",[_n.INFO]:"info",[_n.WARN]:"warn",[_n.ERROR]:"error"},KE=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=YE[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ym{constructor(t){this.name=t,this._logLevel=GE,this._logHandler=KE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _n))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_n.DEBUG,...t),this._logHandler(this,_n.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_n.VERBOSE,...t),this._logHandler(this,_n.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_n.INFO,...t),this._logHandler(this,_n.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_n.WARN,...t),this._logHandler(this,_n.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_n.ERROR,...t),this._logHandler(this,_n.ERROR,...t)}}const WE=(n,t)=>t.some(e=>n instanceof e);let sv,av;function $E(){return sv||(sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XE(){return av||(av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yw=new WeakMap,Bg=new WeakMap,vw=new WeakMap,sg=new WeakMap,N0=new WeakMap;function QE(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Su(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&yw.set(e,n)}).catch(()=>{}),N0.set(t,n),t}function JE(n){if(Bg.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Bg.set(n,t)}let qg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Bg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||vw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Su(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function ZE(n){qg=n(qg)}function t6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(ag(this),t,...e);return vw.set(i,t.sort?t.sort():[t]),Su(i)}:XE().includes(n)?function(...t){return n.apply(ag(this),t),Su(yw.get(this))}:function(...t){return Su(n.apply(ag(this),t))}}function e6(n){return typeof n=="function"?t6(n):(n instanceof IDBTransaction&&JE(n),WE(n,$E())?new Proxy(n,qg):n)}function Su(n){if(n instanceof IDBRequest)return QE(n);if(sg.has(n))return sg.get(n);const t=e6(n);return t!==n&&(sg.set(n,t),N0.set(t,n)),t}const ag=n=>N0.get(n);function bw(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=Su(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Su(c.result),f.oldVersion,f.newVersion,Su(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const n6=["get","getKey","getAll","getAllKeys","count"],r6=["put","add","delete","clear"],og=new Map;function ov(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(og.get(t))return og.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=r6.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||n6.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),a&&f.done]))[0]};return og.set(t,o),o}ZE(n=>({...n,get:(t,e,i)=>ov(t,e)||n.get(t,e,i),has:(t,e)=>!!ov(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(s6(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function s6(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zg="@firebase/app",lv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new ym("@firebase/app"),a6="@firebase/app-compat",o6="@firebase/analytics-compat",l6="@firebase/analytics",u6="@firebase/app-check-compat",c6="@firebase/app-check",h6="@firebase/auth",f6="@firebase/auth-compat",d6="@firebase/database",p6="@firebase/data-connect",m6="@firebase/database-compat",g6="@firebase/functions",y6="@firebase/functions-compat",v6="@firebase/installations",b6="@firebase/installations-compat",_6="@firebase/messaging",w6="@firebase/messaging-compat",A6="@firebase/performance",S6="@firebase/performance-compat",E6="@firebase/remote-config",x6="@firebase/remote-config-compat",T6="@firebase/storage",N6="@firebase/storage-compat",I6="@firebase/firestore",C6="@firebase/ai",R6="@firebase/firestore-compat",L6="firebase",k6="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="[DEFAULT]",D6={[zg]:"fire-core",[a6]:"fire-core-compat",[l6]:"fire-analytics",[o6]:"fire-analytics-compat",[c6]:"fire-app-check",[u6]:"fire-app-check-compat",[h6]:"fire-auth",[f6]:"fire-auth-compat",[d6]:"fire-rtdb",[p6]:"fire-data-connect",[m6]:"fire-rtdb-compat",[g6]:"fire-fn",[y6]:"fire-fn-compat",[v6]:"fire-iid",[b6]:"fire-iid-compat",[_6]:"fire-fcm",[w6]:"fire-fcm-compat",[A6]:"fire-perf",[S6]:"fire-perf-compat",[E6]:"fire-rc",[x6]:"fire-rc-compat",[T6]:"fire-gcs",[N6]:"fire-gcs-compat",[I6]:"fire-fst",[R6]:"fire-fst-compat",[C6]:"fire-vertex","fire-js":"fire-js",[L6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Map,O6=new Map,Gg=new Map;function uv(n,t){try{n.container.addComponent(t)}catch(e){Pl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function tl(n){const t=n.name;if(Gg.has(t))return Pl.debug(`There were multiple attempts to register component ${t}.`),!1;Gg.set(t,n);for(const e of Gp.values())uv(e,n);for(const e of O6.values())uv(e,n);return!0}function Sc(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Va(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eu=new Ac("app","Firebase",P6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Eu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=k6;function _w(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Hg,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Eu.create("bad-app-name",{appName:String(a)});if(e||(e=cw()),!e)throw Eu.create("no-options");const o=Gp.get(a);if(o){if(Iu(e,o.options)&&Iu(i,o.config))return o;throw Eu.create("duplicate-app",{appName:a})}const c=new zE(a);for(const f of Gg.values())c.addComponent(f);const h=new M6(e,i,c);return Gp.set(a,h),h}function I0(n=Hg){const t=Gp.get(n);if(!t&&n===Hg&&cw())return _w();if(!t)throw Eu.create("no-app",{appName:n});return t}function Ba(n,t,e){let i=D6[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pl.warn(c.join(" "));return}tl(new po(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="firebase-heartbeat-database",U6=1,Yf="firebase-heartbeat-store";let lg=null;function ww(){return lg||(lg=bw(j6,U6,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Yf)}catch(e){console.warn(e)}}}}).catch(n=>{throw Eu.create("idb-open",{originalErrorMessage:n.message})})),lg}async function V6(n){try{const e=(await ww()).transaction(Yf),i=await e.objectStore(Yf).get(Aw(n));return await e.done,i}catch(t){if(t instanceof bo)Pl.warn(t.message);else{const e=Eu.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Pl.warn(e.message)}}}async function cv(n,t){try{const i=(await ww()).transaction(Yf,"readwrite");await i.objectStore(Yf).put(t,Aw(n)),await i.done}catch(e){if(e instanceof bo)Pl.warn(e.message);else{const i=Eu.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Pl.warn(i.message)}}}function Aw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=1024,B6=30;class q6{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new H6(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>B6){const c=G6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Pl.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hv(),{heartbeatsToSend:i,unsentEntries:a}=z6(this._heartbeatsCache.heartbeats),o=Hp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pl.warn(e),""}}}function hv(){return new Date().toISOString().substring(0,10)}function z6(n,t=F6){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),fv(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),fv(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class H6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mw()?gw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await V6(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function fv(n){return Hp(JSON.stringify({version:2,heartbeats:n})).length}function G6(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(n){tl(new po("platform-logger",t=>new i6(t),"PRIVATE")),tl(new po("heartbeat",t=>new q6(t),"PRIVATE")),Ba(zg,lv,n),Ba(zg,lv,"esm2020"),Ba("fire-js","")}Y6("");var K6="firebase",W6="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ba(K6,W6,"app");function Sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $6=Sw,Ew=new Ac("auth","Firebase",Sw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=new ym("@firebase/auth");function X6(n,...t){Yp.logLevel<=_n.WARN&&Yp.warn(`Auth (${Uh}): ${n}`,...t)}function Np(n,...t){Yp.logLevel<=_n.ERROR&&Yp.error(`Auth (${Uh}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(n,...t){throw C0(n,...t)}function Wo(n,...t){return C0(n,...t)}function xw(n,t,e){const i={...$6(),[t]:e};return new Ac("auth","Firebase",i).create(t,{appName:n.name})}function Ol(n){return xw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C0(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Ew.create(n,...t)}function qe(n,t,...e){if(!n)throw C0(t,...e)}function kl(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Np(t),new Error(t)}function Ml(n,t){n||kl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function Q6(){return dv()==="http:"||dv()==="https:"}function dv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q6()||pw()||"connection"in navigator)?navigator.onLine:!0}function Z6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ml(e>t,"Short delay should be less than long delay!"),this.isMobile=AE()||xE()}get(){return J6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(n,t){Ml(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nx=new sd(3e4,6e4);function Vu(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Fu(n,t,e,i,a={}){return Nw(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=id({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return EE()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&jh(n.emulatorConfig.host)&&(d.credentials="include"),Tw.fetch()(await Iw(n,n.config.apiHost,e,h),d)})}async function Nw(n,t,e){n._canInitEmulator=!1;const i={...tx,...t};try{const a=new ix(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw hp(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw hp(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw hp(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw hp(n,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xw(n,v,d);mo(n,v)}}catch(a){if(a instanceof bo)throw a;mo(n,"network-request-failed",{message:String(a)})}}async function ad(n,t,e,i,a={}){const o=await Fu(n,t,e,i,a);return"mfaPendingCredential"in o&&mo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Iw(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?R0(n.config,a):`${n.config.apiScheme}://${a}`;return ex.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function rx(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ix{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Wo(this.auth,"network-request-failed")),nx.get())})}}function hp(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Wo(n,t,i);return a.customData._tokenResponse=e,a}function pv(n){return n!==void 0&&n.enterprise!==void 0}class sx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return rx(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ax(n,t){return Fu(n,"GET","/v2/recaptchaConfig",Vu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(n,t){return Fu(n,"POST","/v1/accounts:delete",t)}async function Kp(n,t){return Fu(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lx(n,t=!1){const e=Hr(n),i=await e.getIdToken(t),a=L0(i);qe(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:i,authTime:Vf(ug(a.auth_time)),issuedAtTime:Vf(ug(a.iat)),expirationTime:Vf(ug(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ug(n){return Number(n)*1e3}function L0(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Np("JWT malformed, contained fewer than 3 sections"),null;try{const a=lw(e);return a?JSON.parse(a):(Np("Failed to decode base64 JWT payload"),null)}catch(a){return Np("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function mv(n){const t=L0(n);return qe(t,"internal-error"),qe(typeof t.exp<"u","internal-error"),qe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof bo&&ux(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ux({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vf(this.lastLoginAt),this.creationTime=Vf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wp(n){var A;const t=n.auth,e=await n.getIdToken(),i=await Kf(n,Kp(t,{idToken:e}));qe(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=(A=a.providerUserInfo)!=null&&A.length?Cw(a.providerUserInfo):[],c=fx(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),d=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Kg(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(n,v)}async function hx(n){const t=Hr(n);await Wp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fx(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function Cw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(n,t){const e=await Nw(n,{},async()=>{const i=id({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await Iw(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&jh(n.emulatorConfig.host)&&(f.credentials="include"),Tw.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function px(n,t){return Fu(n,"POST","/v2/accounts:revokeToken",Vu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qe(t.idToken,"internal-error"),qe(typeof t.idToken<"u","internal-error"),qe(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){qe(t.length!==0,"internal-error");const e=mv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await dx(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new _h;return i&&(qe(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(qe(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(qe(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _h,this.toJSON())}_performRefresh(){return kl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(n,t){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ho{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new cx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Kf(this,this.stsTokenManager.getToken(this.auth,t));return qe(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return lx(this,t)}reload(){return hx(this)}_assign(t){this!==t&&(qe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ho({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Wp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Va(this.auth.app))return Promise.reject(Ol(this.auth));const t=await this.getIdToken();return await Kf(this,ox(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:A,emailVerified:T,isAnonymous:w,providerData:V,stsTokenManager:z}=e;qe(A&&z,t,"internal-error");const F=_h.fromJSON(this.name,z);qe(typeof A=="string",t,"internal-error"),pu(i,t.name),pu(a,t.name),qe(typeof T=="boolean",t,"internal-error"),qe(typeof w=="boolean",t,"internal-error"),pu(o,t.name),pu(c,t.name),pu(h,t.name),pu(f,t.name),pu(d,t.name),pu(v,t.name);const q=new ho({uid:A,auth:t,email:a,emailVerified:T,displayName:i,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:F,createdAt:d,lastLoginAt:v});return V&&Array.isArray(V)&&(q.providerData=V.map(at=>({...at}))),f&&(q._redirectEventId=f),q}static async _fromIdTokenResponse(t,e,i=!1){const a=new _h;a.updateFromServerResponse(e);const o=new ho({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Wp(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];qe(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?Cw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new _h;h.updateFromIdToken(i);const f=new ho({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Kg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;function Dl(n){Ml(n instanceof Function,"Expected a class definition");let t=gv.get(n);return t?(Ml(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,gv.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Rw.type="NONE";const yv=Rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(n,t,e){return`firebase:${n}:${t}:${e}`}class wh{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Ip(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ip("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Kp(this.auth,{idToken:t}).catch(()=>{});return e?ho._fromGetAccountInfoResponse(this.auth,e,t):null}return ho._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new wh(Dl(yv),t,i);const a=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Dl(yv);const c=Ip(i,t.config.apiKey,t.name);let h=null;for(const d of e)try{const v=await d._get(c);if(v){let A;if(typeof v=="string"){const T=await Kp(t,{idToken:v}).catch(()=>{});if(!T)break;A=await ho._fromGetAccountInfoResponse(t,T,v)}else A=ho._fromJSON(t,v);d!==o&&(h=A),o=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new wh(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new wh(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ow(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mw(t))return"Blackberry";if(jw(t))return"Webos";if(kw(t))return"Safari";if((t.includes("chrome/")||Dw(t))&&!t.includes("edge/"))return"Chrome";if(Pw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Lw(n=bs()){return/firefox\//i.test(n)}function kw(n=bs()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Dw(n=bs()){return/crios\//i.test(n)}function Ow(n=bs()){return/iemobile/i.test(n)}function Pw(n=bs()){return/android/i.test(n)}function Mw(n=bs()){return/blackberry/i.test(n)}function jw(n=bs()){return/webos/i.test(n)}function k0(n=bs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mx(n=bs()){var t;return k0(n)&&!!((t=window.navigator)!=null&&t.standalone)}function gx(){return TE()&&document.documentMode===10}function Uw(n=bs()){return k0(n)||Pw(n)||jw(n)||Mw(n)||/windows phone/i.test(n)||Ow(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n,t=[]){let e;switch(n){case"Browser":e=vv(bs());break;case"Worker":e=`${vv(bs())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Uh}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(n,t={}){return Fu(n,"GET","/v2/passwordPolicy",Vu(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=6;class _x{constructor(t){var i;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??bx,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new yx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Dl(e)),this._initializationPromise=this.queue(async()=>{var i,a,o;if(!this._deleted&&(this.persistenceManager=await wh.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Kp(this,{idToken:t}),i=await ho._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var o;if(Va(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(t);(!c||c===h)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Wp(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Z6()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Va(this.app))return Promise.reject(Ol(this));const e=t?Hr(t):null;return e&&qe(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&qe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Va(this.app)?Promise.reject(Ol(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Va(this.app)?Promise.reject(Ol(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vx(this),e=new _x(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ac("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await px(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Dl(t)||this._popupRedirectResolver;qe(e,this,"argument-error"),this.redirectPersistenceManager=await wh.create(this,[Dl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,a);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Vw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Va(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&X6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ec(n){return Hr(n)}class bv{constructor(t){this.auth=t,this.observer=null,this.addObserver=DE(e=>this.observer=e)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ax(n){vm=n}function Fw(n){return vm.loadJS(n)}function Sx(){return vm.recaptchaEnterpriseScript}function Ex(){return vm.gapiScript}function xx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Tx{constructor(){this.enterprise=new Nx}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Nx{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Ix="recaptcha-enterprise",Bw="NO_RECAPTCHA";class Cx{constructor(t){this.type=Ix,this.auth=Ec(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{ax(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new sx(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,c(d.siteKey)}}).catch(f=>{h(f)})})}function a(o,c,h){const f=window.grecaptcha;pv(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{c(d)}).catch(()=>{c(Bw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Tx().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&pv(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Sx();f.length!==0&&(f+=h),Fw(f).then(()=>{a(h,o,c)}).catch(d=>{c(d)})}}).catch(h=>{c(h)})})}}async function _v(n,t,e,i=!1,a=!1){const o=new Cx(n);let c;if(a)c=Bw;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Wg(n,t,e,i,a){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _v(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await _v(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(n,t){const e=Sc(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(Iu(o,t??{}))return a;mo(a,"already-initialized")}return e.initialize({options:t})}function Lx(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Dl);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function kx(n,t,e){const i=Ec(n);qe(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=qw(t),{host:c,port:h}=Dx(t),f=h===null?"":`:${h}`,d={url:`${o}//${c}${f}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qe(Iu(d,i.config.emulator)&&Iu(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,jh(c)?(fw(`${o}//${c}${f}`),dw("Auth",!0)):Ox()}function qw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Dx(n){const t=qw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:wv(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:wv(c)}}}function wv(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function Ox(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return kl("not implemented")}_getIdTokenResponse(t){return kl("not implemented")}_linkToIdToken(t,e){return kl("not implemented")}_getReauthenticationResolver(t){return kl("not implemented")}}async function Px(n,t){return Fu(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(n,t){return ad(n,"POST","/v1/accounts:signInWithPassword",Vu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(n,t){return ad(n,"POST","/v1/accounts:signInWithEmailLink",Vu(n,t))}async function Ux(n,t){return ad(n,"POST","/v1/accounts:signInWithEmailLink",Vu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends D0{constructor(t,e,i,a=null){super("password",i),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Wf(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Wf(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(t,e,"signInWithPassword",Mx);case"emailLink":return jx(t,{email:this._email,oobCode:this._password});default:mo(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(t,i,"signUpPassword",Px);case"emailLink":return Ux(t,{idToken:e,email:this._email,oobCode:this._password});default:mo(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(n,t){return ad(n,"POST","/v1/accounts:signInWithIdp",Vu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="http://localhost";class pc extends D0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new pc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):mo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new pc(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Ah(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ah(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ah(t,e)}buildRequest(){const t={requestUri:Vx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=id(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bx(n){const t=kf(Df(n)).link,e=t?kf(Df(t)).deep_link_id:null,i=kf(Df(n)).deep_link_id;return(i?kf(Df(i)).link:null)||i||e||t||n}class O0{constructor(t){const e=kf(Df(t)),i=e.apiKey??null,a=e.oobCode??null,o=Fx(e.mode??null);qe(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=Bx(t);try{return new O0(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.providerId=Vh.PROVIDER_ID}static credential(t,e){return Wf._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=O0.parseLink(e);return qe(i,"argument-error"),Wf._fromEmailAndCode(t,i.code,i.tenantId)}}Vh.PROVIDER_ID="password";Vh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends zw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends od{constructor(){super("facebook.com")}static credential(t){return pc._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yu.credentialFromTaggedObject(t)}static credentialFromError(t){return yu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yu.credential(t.oauthAccessToken)}catch{return null}}}yu.FACEBOOK_SIGN_IN_METHOD="facebook.com";yu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends od{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return pc._fromParams({providerId:vu.PROVIDER_ID,signInMethod:vu.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return vu.credentialFromTaggedObject(t)}static credentialFromError(t){return vu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return vu.credential(e,i)}catch{return null}}}vu.GOOGLE_SIGN_IN_METHOD="google.com";vu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends od{constructor(){super("github.com")}static credential(t){return pc._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bu.credentialFromTaggedObject(t)}static credentialFromError(t){return bu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bu.credential(t.oauthAccessToken)}catch{return null}}}bu.GITHUB_SIGN_IN_METHOD="github.com";bu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends od{constructor(){super("twitter.com")}static credential(t,e){return pc._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return _u.credentialFromTaggedObject(t)}static credentialFromError(t){return _u.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return _u.credential(e,i)}catch{return null}}}_u.TWITTER_SIGN_IN_METHOD="twitter.com";_u.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(n,t){return ad(n,"POST","/v1/accounts:signUp",Vu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await ho._fromIdTokenResponse(t,i,a),c=Av(i);return new mc({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=Av(i);return new mc({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function Av(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends bo{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,$p.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new $p(t,e,i,a)}}function Hw(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$p._fromErrorAndOperation(n,o,t,i):o})}async function zx(n,t,e=!1){const i=await Kf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return mc._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(n,t,e=!1){const{auth:i}=n;if(Va(i.app))return Promise.reject(Ol(i));const a="reauthenticate";try{const o=await Kf(n,Hw(i,a,t,n),e);qe(o.idToken,i,"internal-error");const c=L0(o.idToken);qe(c,i,"internal-error");const{sub:h}=c;return qe(n.uid===h,i,"user-mismatch"),mc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&mo(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(n,t,e=!1){if(Va(n.app))return Promise.reject(Ol(n));const i="signIn",a=await Hw(n,i,t),o=await mc._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}async function Gx(n,t){return Gw(Ec(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(n){const t=Ec(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Yx(n,t,e){if(Va(n.app))return Promise.reject(Ol(n));const i=Ec(n),c=await Wg(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qx).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Yw(n),f}),h=await mc._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function Kx(n,t,e){return Va(n.app)?Promise.reject(Ol(n)):Gx(Hr(n),Vh.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Yw(n),i})}function Wx(n,t,e,i){return Hr(n).onIdTokenChanged(t,e,i)}function $x(n,t,e){return Hr(n).beforeAuthStateChanged(t,e)}function Xx(n,t,e,i){return Hr(n).onAuthStateChanged(t,e,i)}function Qx(n){return Hr(n).signOut()}const Xp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Xp,"1"),this.storage.removeItem(Xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=1e3,Zx=10;class Ww extends Kw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);gx()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,Zx):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},Jx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ww.type="LOCAL";const tT=Ww;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w extends Kw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}$w.type="SESSION";const Xw=$w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new bm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async d=>d(e.origin,o)),f=await eT(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const d=P0("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(A){const T=A;if(T.data.eventId===d)switch(T.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(v),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(){return window}function rT(n){$o().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){return typeof $o().WorkerGlobalScope<"u"&&typeof $o().importScripts=="function"}async function iT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sT(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function aT(){return Qw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="firebaseLocalStorageDb",oT=1,Qp="firebaseLocalStorage",Zw="fbase_key";class ld{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function _m(n,t){return n.transaction([Qp],t?"readwrite":"readonly").objectStore(Qp)}function lT(){const n=indexedDB.deleteDatabase(Jw);return new ld(n).toPromise()}function $g(){const n=indexedDB.open(Jw,oT);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Qp,{keyPath:Zw})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Qp)?t(i):(i.close(),await lT(),t(await $g()))})})}async function Sv(n,t,e){const i=_m(n,!0).put({[Zw]:t,value:e});return new ld(i).toPromise()}async function uT(n,t){const e=_m(n,!1).get(t),i=await new ld(e).toPromise();return i===void 0?null:i.value}function Ev(n,t){const e=_m(n,!0).delete(t);return new ld(e).toPromise()}const cT=800,hT=3;class t4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $g(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>hT)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(aT()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await iT(),!this.activeServiceWorker)return;this.sender=new nT(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $g();return await Sv(t,Xp,"1"),await Ev(t,Xp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sv(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>uT(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Ev(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=_m(a,!1).getAll();return new ld(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t4.type="LOCAL";const fT=t4;new sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n,t){return t?Dl(t):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends D0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ah(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ah(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ah(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function pT(n){return Gw(n.auth,new M0(n),n.bypassAuthState)}function mT(n){const{auth:t,user:e}=n;return qe(e,t,"internal-error"),Hx(e,new M0(n),n.bypassAuthState)}async function gT(n){const{auth:t,user:e}=n;return qe(e,t,"internal-error"),zx(e,new M0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pT;case"linkViaPopup":case"linkViaRedirect":return gT;case"reauthViaPopup":case"reauthViaRedirect":return mT;default:mo(this.auth,"internal-error")}}resolve(t){Ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new sd(2e3,1e4);class vh extends e4{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,vh.currentPopupAction&&vh.currentPopupAction.cancel(),vh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qe(t,this.auth,"internal-error"),t}async onExecution(){Ml(this.filter.length===1,"Popup operations only handle one event");const t=P0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Wo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Wo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if((i=(e=this.authWindow)==null?void 0:e.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yT.get())};t()}}vh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="pendingRedirect",Cp=new Map;class bT extends e4{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Cp.get(this.auth._key());if(!t){try{const i=await _T(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Cp.set(this.auth._key(),t)}return this.bypassAuthState||Cp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _T(n,t){const e=ST(t),i=AT(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function wT(n,t){Cp.set(n._key(),t)}function AT(n){return Dl(n._redirectPersistence)}function ST(n){return Ip(vT,n.config.apiKey,n.name)}async function ET(n,t,e=!1){if(Va(n.app))return Promise.reject(Ol(n));const i=Ec(n),a=dT(i,t),c=await new bT(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=600*1e3;class TT{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!NT(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!n4(t)){const a=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";e.onError(Wo(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xT&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(t))}saveEventToCache(t){this.cachedEventUids.add(xv(t)),this.lastProcessedEventTime=Date.now()}}function xv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function n4({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function NT(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(n,t={}){return Fu(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RT=/^https?/;async function LT(n){if(n.config.emulator)return;const{authorizedDomains:t}=await IT(n);for(const e of t)try{if(kT(e))return}catch{}mo(n,"unauthorized-domain")}function kT(n){const t=Yg(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!RT.test(e))return!1;if(CT.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new sd(3e4,6e4);function Tv(){const n=$o().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function OT(n){return new Promise((t,e)=>{var a,o,c;function i(){Tv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Tv(),e(Wo(n,"network-request-failed"))},timeout:DT.get()})}if((o=(a=$o().gapi)==null?void 0:a.iframes)!=null&&o.Iframe)t(gapi.iframes.getContext());else if((c=$o().gapi)!=null&&c.load)i();else{const h=xx("iframefcb");return $o()[h]=()=>{gapi.load?i():e(Wo(n,"network-request-failed"))},Fw(`${Ex()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw Rp=null,t})}let Rp=null;function PT(n){return Rp=Rp||OT(n),Rp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new sd(5e3,15e3),jT="__/auth/iframe",UT="emulator/auth/iframe",VT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BT(n){const t=n.config;qe(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?R0(t,UT):`https://${n.config.authDomain}/${jT}`,i={apiKey:t.apiKey,appName:n.name,v:Uh},a=FT.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${id(i).slice(1)}`}async function qT(n){const t=await PT(n),e=$o().gapi;return qe(e,n,"internal-error"),t.open({where:document.body,url:BT(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VT,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=Wo(n,"network-request-failed"),h=$o().setTimeout(()=>{o(c)},MT.get());function f(){$o().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HT=500,GT=600,YT="_blank",KT="http://localhost";class Nv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WT(n,t,e,i=HT,a=GT){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...zT,width:i.toString(),height:a.toString(),top:o,left:c},d=bs().toLowerCase();e&&(h=Dw(d)?YT:e),Lw(d)&&(t=t||KT,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[w,V])=>`${T}${w}=${V},`,"");if(mx(d)&&h!=="_self")return $T(t||"",h),new Nv(null);const A=window.open(t||"",h,v);qe(A,n,"popup-blocked");try{A.focus()}catch{}return new Nv(A)}function $T(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="__/auth/handler",QT="emulator/auth/handler",JT=encodeURIComponent("fac");async function Iv(n,t,e,i,a,o){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Uh,eventId:a};if(t instanceof zw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",kE(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,A]of Object.entries({}))c[v]=A}if(t instanceof od){const v=t.getScopes().filter(A=>A!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),d=f?`#${JT}=${encodeURIComponent(f)}`:"";return`${ZT(n)}?${id(h).slice(1)}${d}`}function ZT({config:n}){return n.emulator?R0(n,QT):`https://${n.authDomain}/${XT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="webStorageSupport";class tN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xw,this._completeRedirectFn=ET,this._overrideRedirectResult=wT}async _openPopup(t,e,i,a){var c;Ml((c=this.eventManagers[t._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const o=await Iv(t,e,i,Yg(),a);return WT(t,o,P0())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await Iv(t,e,i,Yg(),a);return rT(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Ml(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await qT(t),i=new TT(t);return e.register("authEvent",a=>(qe(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(cg,{type:cg},a=>{var c;const o=(c=a==null?void 0:a[0])==null?void 0:c[cg];o!==void 0&&e(!!o),mo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=LT(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Uw()||kw()||k0()}}const eN=tN;var Cv="@firebase/auth",Rv="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iN(n){tl(new po("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vw(n)},d=new wx(i,a,o,f);return Lx(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),tl(new po("auth-internal",t=>{const e=Ec(t.getProvider("auth").getImmediate());return(i=>new nN(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ba(Cv,Rv,rN(n)),Ba(Cv,Rv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=300,aN=hw("authIdTokenMaxAge")||sN;let Lv=null;const oN=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>aN)return;const a=e==null?void 0:e.token;Lv!==a&&(Lv=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function lN(n=I0()){const t=Sc(n,"auth");if(t.isInitialized())return t.getImmediate();const e=Rx(n,{popupRedirectResolver:eN,persistence:[fT,tT,Xw]}),i=hw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=oN(o.toString());$x(e,c,()=>c(e.currentUser)),Wx(e,h=>c(h))}}const a=uw("auth");return a&&kx(e,`http://${a}`),e}function uN(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}Ax({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=Wo("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",uN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iN("Browser");var kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xu,r4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(G,O){function D(){}D.prototype=O.prototype,G.F=O.prototype,G.prototype=new D,G.prototype.constructor=G,G.D=function(K,x,R){for(var k=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)k[lt-2]=arguments[lt];return O.prototype[x].apply(K,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(G,O,D){D||(D=0);const K=Array(16);if(typeof O=="string")for(var x=0;x<16;++x)K[x]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(x=0;x<16;++x)K[x]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=G.g[0],D=G.g[1],x=G.g[2];let R=G.g[3],k;k=O+(R^D&(x^R))+K[0]+3614090360&4294967295,O=D+(k<<7&4294967295|k>>>25),k=R+(x^O&(D^x))+K[1]+3905402710&4294967295,R=O+(k<<12&4294967295|k>>>20),k=x+(D^R&(O^D))+K[2]+606105819&4294967295,x=R+(k<<17&4294967295|k>>>15),k=D+(O^x&(R^O))+K[3]+3250441966&4294967295,D=x+(k<<22&4294967295|k>>>10),k=O+(R^D&(x^R))+K[4]+4118548399&4294967295,O=D+(k<<7&4294967295|k>>>25),k=R+(x^O&(D^x))+K[5]+1200080426&4294967295,R=O+(k<<12&4294967295|k>>>20),k=x+(D^R&(O^D))+K[6]+2821735955&4294967295,x=R+(k<<17&4294967295|k>>>15),k=D+(O^x&(R^O))+K[7]+4249261313&4294967295,D=x+(k<<22&4294967295|k>>>10),k=O+(R^D&(x^R))+K[8]+1770035416&4294967295,O=D+(k<<7&4294967295|k>>>25),k=R+(x^O&(D^x))+K[9]+2336552879&4294967295,R=O+(k<<12&4294967295|k>>>20),k=x+(D^R&(O^D))+K[10]+4294925233&4294967295,x=R+(k<<17&4294967295|k>>>15),k=D+(O^x&(R^O))+K[11]+2304563134&4294967295,D=x+(k<<22&4294967295|k>>>10),k=O+(R^D&(x^R))+K[12]+1804603682&4294967295,O=D+(k<<7&4294967295|k>>>25),k=R+(x^O&(D^x))+K[13]+4254626195&4294967295,R=O+(k<<12&4294967295|k>>>20),k=x+(D^R&(O^D))+K[14]+2792965006&4294967295,x=R+(k<<17&4294967295|k>>>15),k=D+(O^x&(R^O))+K[15]+1236535329&4294967295,D=x+(k<<22&4294967295|k>>>10),k=O+(x^R&(D^x))+K[1]+4129170786&4294967295,O=D+(k<<5&4294967295|k>>>27),k=R+(D^x&(O^D))+K[6]+3225465664&4294967295,R=O+(k<<9&4294967295|k>>>23),k=x+(O^D&(R^O))+K[11]+643717713&4294967295,x=R+(k<<14&4294967295|k>>>18),k=D+(R^O&(x^R))+K[0]+3921069994&4294967295,D=x+(k<<20&4294967295|k>>>12),k=O+(x^R&(D^x))+K[5]+3593408605&4294967295,O=D+(k<<5&4294967295|k>>>27),k=R+(D^x&(O^D))+K[10]+38016083&4294967295,R=O+(k<<9&4294967295|k>>>23),k=x+(O^D&(R^O))+K[15]+3634488961&4294967295,x=R+(k<<14&4294967295|k>>>18),k=D+(R^O&(x^R))+K[4]+3889429448&4294967295,D=x+(k<<20&4294967295|k>>>12),k=O+(x^R&(D^x))+K[9]+568446438&4294967295,O=D+(k<<5&4294967295|k>>>27),k=R+(D^x&(O^D))+K[14]+3275163606&4294967295,R=O+(k<<9&4294967295|k>>>23),k=x+(O^D&(R^O))+K[3]+4107603335&4294967295,x=R+(k<<14&4294967295|k>>>18),k=D+(R^O&(x^R))+K[8]+1163531501&4294967295,D=x+(k<<20&4294967295|k>>>12),k=O+(x^R&(D^x))+K[13]+2850285829&4294967295,O=D+(k<<5&4294967295|k>>>27),k=R+(D^x&(O^D))+K[2]+4243563512&4294967295,R=O+(k<<9&4294967295|k>>>23),k=x+(O^D&(R^O))+K[7]+1735328473&4294967295,x=R+(k<<14&4294967295|k>>>18),k=D+(R^O&(x^R))+K[12]+2368359562&4294967295,D=x+(k<<20&4294967295|k>>>12),k=O+(D^x^R)+K[5]+4294588738&4294967295,O=D+(k<<4&4294967295|k>>>28),k=R+(O^D^x)+K[8]+2272392833&4294967295,R=O+(k<<11&4294967295|k>>>21),k=x+(R^O^D)+K[11]+1839030562&4294967295,x=R+(k<<16&4294967295|k>>>16),k=D+(x^R^O)+K[14]+4259657740&4294967295,D=x+(k<<23&4294967295|k>>>9),k=O+(D^x^R)+K[1]+2763975236&4294967295,O=D+(k<<4&4294967295|k>>>28),k=R+(O^D^x)+K[4]+1272893353&4294967295,R=O+(k<<11&4294967295|k>>>21),k=x+(R^O^D)+K[7]+4139469664&4294967295,x=R+(k<<16&4294967295|k>>>16),k=D+(x^R^O)+K[10]+3200236656&4294967295,D=x+(k<<23&4294967295|k>>>9),k=O+(D^x^R)+K[13]+681279174&4294967295,O=D+(k<<4&4294967295|k>>>28),k=R+(O^D^x)+K[0]+3936430074&4294967295,R=O+(k<<11&4294967295|k>>>21),k=x+(R^O^D)+K[3]+3572445317&4294967295,x=R+(k<<16&4294967295|k>>>16),k=D+(x^R^O)+K[6]+76029189&4294967295,D=x+(k<<23&4294967295|k>>>9),k=O+(D^x^R)+K[9]+3654602809&4294967295,O=D+(k<<4&4294967295|k>>>28),k=R+(O^D^x)+K[12]+3873151461&4294967295,R=O+(k<<11&4294967295|k>>>21),k=x+(R^O^D)+K[15]+530742520&4294967295,x=R+(k<<16&4294967295|k>>>16),k=D+(x^R^O)+K[2]+3299628645&4294967295,D=x+(k<<23&4294967295|k>>>9),k=O+(x^(D|~R))+K[0]+4096336452&4294967295,O=D+(k<<6&4294967295|k>>>26),k=R+(D^(O|~x))+K[7]+1126891415&4294967295,R=O+(k<<10&4294967295|k>>>22),k=x+(O^(R|~D))+K[14]+2878612391&4294967295,x=R+(k<<15&4294967295|k>>>17),k=D+(R^(x|~O))+K[5]+4237533241&4294967295,D=x+(k<<21&4294967295|k>>>11),k=O+(x^(D|~R))+K[12]+1700485571&4294967295,O=D+(k<<6&4294967295|k>>>26),k=R+(D^(O|~x))+K[3]+2399980690&4294967295,R=O+(k<<10&4294967295|k>>>22),k=x+(O^(R|~D))+K[10]+4293915773&4294967295,x=R+(k<<15&4294967295|k>>>17),k=D+(R^(x|~O))+K[1]+2240044497&4294967295,D=x+(k<<21&4294967295|k>>>11),k=O+(x^(D|~R))+K[8]+1873313359&4294967295,O=D+(k<<6&4294967295|k>>>26),k=R+(D^(O|~x))+K[15]+4264355552&4294967295,R=O+(k<<10&4294967295|k>>>22),k=x+(O^(R|~D))+K[6]+2734768916&4294967295,x=R+(k<<15&4294967295|k>>>17),k=D+(R^(x|~O))+K[13]+1309151649&4294967295,D=x+(k<<21&4294967295|k>>>11),k=O+(x^(D|~R))+K[4]+4149444226&4294967295,O=D+(k<<6&4294967295|k>>>26),k=R+(D^(O|~x))+K[11]+3174756917&4294967295,R=O+(k<<10&4294967295|k>>>22),k=x+(O^(R|~D))+K[2]+718787259&4294967295,x=R+(k<<15&4294967295|k>>>17),k=D+(R^(x|~O))+K[9]+3951481745&4294967295,G.g[0]=G.g[0]+O&4294967295,G.g[1]=G.g[1]+(x+(k<<21&4294967295|k>>>11))&4294967295,G.g[2]=G.g[2]+x&4294967295,G.g[3]=G.g[3]+R&4294967295}i.prototype.v=function(G,O){O===void 0&&(O=G.length);const D=O-this.blockSize,K=this.C;let x=this.h,R=0;for(;R<O;){if(x==0)for(;R<=D;)a(this,G,R),R+=this.blockSize;if(typeof G=="string"){for(;R<O;)if(K[x++]=G.charCodeAt(R++),x==this.blockSize){a(this,K),x=0;break}}else for(;R<O;)if(K[x++]=G[R++],x==this.blockSize){a(this,K),x=0;break}}this.h=x,this.o+=O},i.prototype.A=function(){var G=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);G[0]=128;for(var O=1;O<G.length-8;++O)G[O]=0;O=this.o*8;for(var D=G.length-8;D<G.length;++D)G[D]=O&255,O/=256;for(this.v(G),G=Array(16),O=0,D=0;D<4;++D)for(let K=0;K<32;K+=8)G[O++]=this.g[D]>>>K&255;return G};function o(G,O){var D=h;return Object.prototype.hasOwnProperty.call(D,G)?D[G]:D[G]=O(G)}function c(G,O){this.h=O;const D=[];let K=!0;for(let x=G.length-1;x>=0;x--){const R=G[x]|0;K&&R==O||(D[x]=R,K=!1)}this.g=D}var h={};function f(G){return-128<=G&&G<128?o(G,function(O){return new c([O|0],O<0?-1:0)}):new c([G|0],G<0?-1:0)}function d(G){if(isNaN(G)||!isFinite(G))return A;if(G<0)return F(d(-G));const O=[];let D=1;for(let K=0;G>=D;K++)O[K]=G/D|0,D*=4294967296;return new c(O,0)}function v(G,O){if(G.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(G.charAt(0)=="-")return F(v(G.substring(1),O));if(G.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(O,8));let K=A;for(let R=0;R<G.length;R+=8){var x=Math.min(8,G.length-R);const k=parseInt(G.substring(R,R+x),O);x<8?(x=d(Math.pow(O,x)),K=K.j(x).add(d(k))):(K=K.j(D),K=K.add(d(k)))}return K}var A=f(0),T=f(1),w=f(16777216);n=c.prototype,n.m=function(){if(z(this))return-F(this).m();let G=0,O=1;for(let D=0;D<this.g.length;D++){const K=this.i(D);G+=(K>=0?K:4294967296+K)*O,O*=4294967296}return G},n.toString=function(G){if(G=G||10,G<2||36<G)throw Error("radix out of range: "+G);if(V(this))return"0";if(z(this))return"-"+F(this).toString(G);const O=d(Math.pow(G,6));var D=this;let K="";for(;;){const x=tt(D,O).g;D=q(D,x.j(O));let R=((D.g.length>0?D.g[0]:D.h)>>>0).toString(G);if(D=x,V(D))return R+K;for(;R.length<6;)R="0"+R;K=R+K}},n.i=function(G){return G<0?0:G<this.g.length?this.g[G]:this.h};function V(G){if(G.h!=0)return!1;for(let O=0;O<G.g.length;O++)if(G.g[O]!=0)return!1;return!0}function z(G){return G.h==-1}n.l=function(G){return G=q(this,G),z(G)?-1:V(G)?0:1};function F(G){const O=G.g.length,D=[];for(let K=0;K<O;K++)D[K]=~G.g[K];return new c(D,~G.h).add(T)}n.abs=function(){return z(this)?F(this):this},n.add=function(G){const O=Math.max(this.g.length,G.g.length),D=[];let K=0;for(let x=0;x<=O;x++){let R=K+(this.i(x)&65535)+(G.i(x)&65535),k=(R>>>16)+(this.i(x)>>>16)+(G.i(x)>>>16);K=k>>>16,R&=65535,k&=65535,D[x]=k<<16|R}return new c(D,D[D.length-1]&-2147483648?-1:0)};function q(G,O){return G.add(F(O))}n.j=function(G){if(V(this)||V(G))return A;if(z(this))return z(G)?F(this).j(F(G)):F(F(this).j(G));if(z(G))return F(this.j(F(G)));if(this.l(w)<0&&G.l(w)<0)return d(this.m()*G.m());const O=this.g.length+G.g.length,D=[];for(var K=0;K<2*O;K++)D[K]=0;for(K=0;K<this.g.length;K++)for(let x=0;x<G.g.length;x++){const R=this.i(K)>>>16,k=this.i(K)&65535,lt=G.i(x)>>>16,_t=G.i(x)&65535;D[2*K+2*x]+=k*_t,at(D,2*K+2*x),D[2*K+2*x+1]+=R*_t,at(D,2*K+2*x+1),D[2*K+2*x+1]+=k*lt,at(D,2*K+2*x+1),D[2*K+2*x+2]+=R*lt,at(D,2*K+2*x+2)}for(G=0;G<O;G++)D[G]=D[2*G+1]<<16|D[2*G];for(G=O;G<2*O;G++)D[G]=0;return new c(D,0)};function at(G,O){for(;(G[O]&65535)!=G[O];)G[O+1]+=G[O]>>>16,G[O]&=65535,O++}function J(G,O){this.g=G,this.h=O}function tt(G,O){if(V(O))throw Error("division by zero");if(V(G))return new J(A,A);if(z(G))return O=tt(F(G),O),new J(F(O.g),F(O.h));if(z(O))return O=tt(G,F(O)),new J(F(O.g),O.h);if(G.g.length>30){if(z(G)||z(O))throw Error("slowDivide_ only works with positive integers.");for(var D=T,K=O;K.l(G)<=0;)D=vt(D),K=vt(K);var x=St(D,1),R=St(K,1);for(K=St(K,2),D=St(D,2);!V(K);){var k=R.add(K);k.l(G)<=0&&(x=x.add(D),R=k),K=St(K,1),D=St(D,1)}return O=q(G,x.j(O)),new J(x,O)}for(x=A;G.l(O)>=0;){for(D=Math.max(1,Math.floor(G.m()/O.m())),K=Math.ceil(Math.log(D)/Math.LN2),K=K<=48?1:Math.pow(2,K-48),R=d(D),k=R.j(O);z(k)||k.l(G)>0;)D-=K,R=d(D),k=R.j(O);V(R)&&(R=T),x=x.add(R),G=q(G,k)}return new J(x,G)}n.B=function(G){return tt(this,G).h},n.and=function(G){const O=Math.max(this.g.length,G.g.length),D=[];for(let K=0;K<O;K++)D[K]=this.i(K)&G.i(K);return new c(D,this.h&G.h)},n.or=function(G){const O=Math.max(this.g.length,G.g.length),D=[];for(let K=0;K<O;K++)D[K]=this.i(K)|G.i(K);return new c(D,this.h|G.h)},n.xor=function(G){const O=Math.max(this.g.length,G.g.length),D=[];for(let K=0;K<O;K++)D[K]=this.i(K)^G.i(K);return new c(D,this.h^G.h)};function vt(G){const O=G.g.length+1,D=[];for(let K=0;K<O;K++)D[K]=G.i(K)<<1|G.i(K-1)>>>31;return new c(D,G.h)}function St(G,O){const D=O>>5;O%=32;const K=G.g.length-D,x=[];for(let R=0;R<K;R++)x[R]=O>0?G.i(R+D)>>>O|G.i(R+D+1)<<32-O:G.i(R+D);return new c(x,G.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,r4=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=v,xu=c}).apply(typeof kv<"u"?kv:typeof self<"u"?self:typeof window<"u"?window:{});var fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i4,Of,s4,Lp,Xg,a4,o4,l4;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof fp=="object"&&fp];for(var E=0;E<m.length;++E){var L=m[E];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var i=e(this);function a(m,E){if(E)t:{var L=i;m=m.split(".");for(var X=0;X<m.length-1;X++){var At=m[X];if(!(At in L))break t;L=L[At]}m=m[m.length-1],X=L[m],E=E(X),E!=X&&E!=null&&t(L,m,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(E){var L=[],X;for(X in E)Object.prototype.hasOwnProperty.call(E,X)&&L.push([X,E[X]]);return L}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function f(m,E,L){return m.call.apply(m.bind,arguments)}function d(m,E,L){return d=f,d.apply(null,arguments)}function v(m,E){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),m.apply(this,X)}}function A(m,E){function L(){}L.prototype=E.prototype,m.Z=E.prototype,m.prototype=new L,m.prototype.constructor=m,m.Ob=function(X,At,kt){for(var Jt=Array(arguments.length-2),He=2;He<arguments.length;He++)Jt[He-2]=arguments[He];return E.prototype[At].apply(X,Jt)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function w(m){const E=m.length;if(E>0){const L=Array(E);for(let X=0;X<E;X++)L[X]=m[X];return L}return[]}function V(m,E){for(let X=1;X<arguments.length;X++){const At=arguments[X];var L=typeof At;if(L=L!="object"?L:At?Array.isArray(At)?"array":L:"null",L=="array"||L=="object"&&typeof At.length=="number"){L=m.length||0;const kt=At.length||0;m.length=L+kt;for(let Jt=0;Jt<kt;Jt++)m[L+Jt]=At[Jt]}else m.push(At)}}class z{constructor(E,L){this.i=E,this.j=L,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function F(m){c.setTimeout(()=>{throw m},0)}function q(){var m=G;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class at{constructor(){this.h=this.g=null}add(E,L){const X=J.get();X.set(E,L),this.h?this.h.next=X:this.g=X,this.h=X}}var J=new z(()=>new tt,m=>m.reset());class tt{constructor(){this.next=this.g=this.h=null}set(E,L){this.h=E,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,St=!1,G=new at,O=()=>{const m=Promise.resolve(void 0);vt=()=>{m.then(D)}};function D(){for(var m;m=q();){try{m.h.call(m.g)}catch(L){F(L)}var E=J;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}St=!1}function K(){this.u=this.u,this.C=this.C}K.prototype.u=!1,K.prototype.dispose=function(){this.u||(this.u=!0,this.N())},K.prototype[Symbol.dispose]=function(){this.dispose()},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const L=()=>{};c.addEventListener("test",L,E),c.removeEventListener("test",L,E)}catch{}return m})();function k(m){return/^[\s\xa0]*$/.test(m)}function lt(m,E){x.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}A(lt,x),lt.prototype.init=function(m,E){const L=this.type=m.type,X=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(L=="mouseover"?E=m.fromElement:L=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),st=0;function pt(m,E,L,X,At){this.listener=m,this.proxy=null,this.src=E,this.type=L,this.capture=!!X,this.ha=At,this.key=++st,this.da=this.fa=!1}function dt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Nt(m,E,L){for(const X in m)E.call(L,m[X],X,m)}function qt(m,E){for(const L in m)E.call(void 0,m[L],L,m)}function U(m){const E={};for(const L in m)E[L]=m[L];return E}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(m,E){let L,X;for(let At=1;At<arguments.length;At++){X=arguments[At];for(L in X)m[L]=X[L];for(let kt=0;kt<C.length;kt++)L=C[kt],Object.prototype.hasOwnProperty.call(X,L)&&(m[L]=X[L])}}function Z(m){this.src=m,this.g={},this.h=0}Z.prototype.add=function(m,E,L,X,At){const kt=m.toString();m=this.g[kt],m||(m=this.g[kt]=[],this.h++);const Jt=ut(m,E,X,At);return Jt>-1?(E=m[Jt],L||(E.fa=!1)):(E=new pt(E,this.src,kt,!!X,At),E.fa=L,m.push(E)),E};function ot(m,E){const L=E.type;if(L in m.g){var X=m.g[L],At=Array.prototype.indexOf.call(X,E,void 0),kt;(kt=At>=0)&&Array.prototype.splice.call(X,At,1),kt&&(dt(E),m.g[L].length==0&&(delete m.g[L],m.h--))}}function ut(m,E,L,X){for(let At=0;At<m.length;++At){const kt=m[At];if(!kt.da&&kt.listener==E&&kt.capture==!!L&&kt.ha==X)return At}return-1}var ft="closure_lm_"+(Math.random()*1e6|0),Tt={};function Ct(m,E,L,X,At){if(Array.isArray(E)){for(let kt=0;kt<E.length;kt++)Ct(m,E[kt],L,X,At);return null}return L=Ae(L),m&&m[_t]?m.J(E,L,h(X)?!!X.capture:!1,At):jt(m,E,L,!1,X,At)}function jt(m,E,L,X,At,kt){if(!E)throw Error("Invalid event type");const Jt=h(At)?!!At.capture:!!At;let He=Zt(m);if(He||(m[ft]=He=new Z(m)),L=He.add(E,L,X,Jt,kt),L.proxy)return L;if(X=Xt(),L.proxy=X,X.src=m,X.listener=L,m.addEventListener)R||(At=Jt),At===void 0&&(At=!1),m.addEventListener(E.toString(),X,At);else if(m.attachEvent)m.attachEvent(ie(E.toString()),X);else if(m.addListener&&m.removeListener)m.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Xt(){function m(L){return E.call(m.src,m.listener,L)}const E=et;return m}function te(m,E,L,X,At){if(Array.isArray(E))for(var kt=0;kt<E.length;kt++)te(m,E[kt],L,X,At);else X=h(X)?!!X.capture:!!X,L=Ae(L),m&&m[_t]?(m=m.i,kt=String(E).toString(),kt in m.g&&(E=m.g[kt],L=ut(E,L,X,At),L>-1&&(dt(E[L]),Array.prototype.splice.call(E,L,1),E.length==0&&(delete m.g[kt],m.h--)))):m&&(m=Zt(m))&&(E=m.g[E.toString()],m=-1,E&&(m=ut(E,L,X,At)),(L=m>-1?E[m]:null)&&$t(L))}function $t(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[_t])ot(E.i,m);else{var L=m.type,X=m.proxy;E.removeEventListener?E.removeEventListener(L,X,m.capture):E.detachEvent?E.detachEvent(ie(L),X):E.addListener&&E.removeListener&&E.removeListener(X),(L=Zt(E))?(ot(L,m),L.h==0&&(L.src=null,E[ft]=null)):dt(m)}}}function ie(m){return m in Tt?Tt[m]:Tt[m]="on"+m}function et(m,E){if(m.da)m=!0;else{E=new lt(E,this);const L=m.listener,X=m.ha||m.src;m.fa&&$t(m),m=L.call(X,E)}return m}function Zt(m){return m=m[ft],m instanceof Z?m:null}var Ve="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ae(m){return typeof m=="function"?m:(m[Ve]||(m[Ve]=function(E){return m.handleEvent(E)}),m[Ve])}function Ft(){K.call(this),this.i=new Z(this),this.M=this,this.G=null}A(Ft,K),Ft.prototype[_t]=!0,Ft.prototype.removeEventListener=function(m,E,L,X){te(this,m,E,L,X)};function re(m,E){var L,X=m.G;if(X)for(L=[];X;X=X.G)L.push(X);if(m=m.M,X=E.type||E,typeof E=="string")E=new x(E,m);else if(E instanceof x)E.target=E.target||m;else{var At=E;E=new x(X,m),Y(E,At)}At=!0;let kt,Jt;if(L)for(Jt=L.length-1;Jt>=0;Jt--)kt=E.g=L[Jt],At=ee(kt,X,!0,E)&&At;if(kt=E.g=m,At=ee(kt,X,!0,E)&&At,At=ee(kt,X,!1,E)&&At,L)for(Jt=0;Jt<L.length;Jt++)kt=E.g=L[Jt],At=ee(kt,X,!1,E)&&At}Ft.prototype.N=function(){if(Ft.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const L=m.g[E];for(let X=0;X<L.length;X++)dt(L[X]);delete m.g[E],m.h--}}this.G=null},Ft.prototype.J=function(m,E,L,X){return this.i.add(String(m),E,!1,L,X)},Ft.prototype.K=function(m,E,L,X){return this.i.add(String(m),E,!0,L,X)};function ee(m,E,L,X){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let At=!0;for(let kt=0;kt<E.length;++kt){const Jt=E[kt];if(Jt&&!Jt.da&&Jt.capture==L){const He=Jt.listener,Zn=Jt.ha||Jt.src;Jt.fa&&ot(m.i,Jt),At=He.call(Zn,X)!==!1&&At}}return At&&!X.defaultPrevented}function we(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(m,E||0)}function he(m){m.g=we(()=>{m.g=null,m.i&&(m.i=!1,he(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class Ge extends K{constructor(E,L){super(),this.m=E,this.l=L,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(m){K.call(this),this.h=m,this.g={}}A(Ze,K);var Be=[];function an(m){Nt(m.g,function(E,L){this.g.hasOwnProperty(L)&&$t(E)},m),m.g={}}Ze.prototype.N=function(){Ze.Z.N.call(this),an(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=c.JSON.stringify,ye=c.JSON.parse,Ye=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function ve(){}function hr(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ie(){x.call(this,"d")}A(Ie,x);function je(){x.call(this,"c")}A(je,x);var $e={},xe=null;function Cn(){return xe=xe||new Ft}$e.Ia="serverreachability";function Pe(m){x.call(this,$e.Ia,m)}A(Pe,x);function Me(m){const E=Cn();re(E,new Pe(E))}$e.STAT_EVENT="statevent";function kn(m,E){x.call(this,$e.STAT_EVENT,m),this.stat=E}A(kn,x);function Se(m){const E=Cn();re(E,new kn(E,m))}$e.Ja="timingevent";function be(m,E){x.call(this,$e.Ja,m),this.size=E}A(be,x);function on(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function fi(){this.g=!0}fi.prototype.ua=function(){this.g=!1};function ti(m,E,L,X,At,kt){m.info(function(){if(m.g)if(kt){var Jt="",He=kt.split("&");for(let un=0;un<He.length;un++){var Zn=He[un].split("=");if(Zn.length>1){const Pn=Zn[0];Zn=Zn[1];const ii=Pn.split("_");Jt=ii.length>=2&&ii[1]=="type"?Jt+(Pn+"="+Zn+"&"):Jt+(Pn+"=redacted&")}}}else Jt=null;else Jt=kt;return"XMLHTTP REQ ("+X+") [attempt "+At+"]: "+E+`
`+L+`
`+Jt})}function Ls(m,E,L,X,At,kt,Jt){m.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+At+"]: "+E+`
`+L+`
`+kt+" "+Jt})}function Gr(m,E,L,X){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+ea(m,L)+(X?" "+X:"")})}function Te(m,E){m.info(function(){return"TIMEOUT: "+E})}fi.prototype.info=function(){};function ea(m,E){if(!m.g)return E;if(!E)return null;try{const kt=JSON.parse(E);if(kt){for(m=0;m<kt.length;m++)if(Array.isArray(kt[m])){var L=kt[m];if(!(L.length<2)){var X=L[1];if(Array.isArray(X)&&!(X.length<1)){var At=X[0];if(At!="noop"&&At!="stop"&&At!="close")for(let Jt=1;Jt<X.length;Jt++)X[Jt]=""}}}}return Xe(kt)}catch{return E}}var Bi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ti={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ni;function Bn(){}A(Bn,ve),Bn.prototype.g=function(){return new XMLHttpRequest},Ni=new Bn;function Qn(m){return encodeURIComponent(String(m))}function Or(m){var E=1;m=m.split(":");const L=[];for(;E>0&&m.length;)L.push(m.shift()),E--;return m.length&&L.push(m.join(":")),L}function di(m,E,L,X){this.j=m,this.i=E,this.l=L,this.S=X||1,this.V=new Ze(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Dn={},Hn={};function Pr(m,E,L){m.M=1,m.A=wa(br(E)),m.u=L,m.R=!0,Ii(m,null)}function Ii(m,E){m.F=Date.now(),Ci(m),m.B=br(m.A);var L=m.B,X=m.S;Array.isArray(X)||(X=[String(X)]),xo(L.i,"t",X),m.C=0,L=m.j.L,m.h=new ei,m.g=oe(m.j,L?E:null,!m.u),m.P>0&&(m.O=new Ge(d(m.Y,m,m.g),m.P)),E=m.V,L=m.g,X=m.ba;var At="readystatechange";Array.isArray(At)||(At&&(Be[0]=At.toString()),At=Be);for(let kt=0;kt<At.length;kt++){const Jt=Ct(L,At[kt],X||E.handleEvent,!1,E.h||E);if(!Jt)break;E.g[Jt.key]=Jt}E=m.J?U(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),Me(),ti(m.i,m.v,m.B,m.l,m.S,m.u)}di.prototype.ba=function(m){m=m.target;const E=this.O;E&&Ki(m)==3?E.j():this.Y(m)},di.prototype.Y=function(m){try{if(m==this.g)t:{const He=Ki(this.g),Zn=this.g.ya(),un=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||Nr(this.g)))){this.K||He!=4||Zn==7||(Zn==8||un<=0?Me(3):Me(2)),qi(this);var E=this.g.ca();this.X=E;var L=is(this);if(this.o=E==200,Ls(this.i,this.v,this.B,this.l,this.S,He,E),this.o){if(this.U&&!this.L){e:{if(this.g){var X,At=this.g;if((X=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(X)){var kt=X;break e}}kt=null}if(m=kt)Gr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ss(this,m);else{this.o=!1,this.m=3,Se(12),zi(this),pi(this);break t}}if(this.R){m=!0;let Pn;for(;!this.K&&this.C<L.length;)if(Pn=_s(this,L),Pn==Hn){He==4&&(this.m=4,Se(14),m=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Dn){this.m=4,Se(15),Gr(this.i,this.l,L,"[Invalid Chunk]"),m=!1;break}else Gr(this.i,this.l,Pn,null),ss(this,Pn);if(_a(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||L.length!=0||this.h.h||(this.m=1,Se(16),m=!1),this.o=this.o&&m,!m)Gr(this.i,this.l,L,"[Invalid Chunked Response]"),zi(this),pi(this);else if(L.length>0&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.aa&&!Jt.P&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Co(Jt),Jt.P=!0,Se(11))}}else Gr(this.i,this.l,L,null),ss(this,L);He==4&&zi(this),this.o&&!this.K&&(He==4?rt(this.j,this):(this.o=!1,Ci(this)))}else ks(this.g),E==400&&L.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),zi(this),pi(this)}}}catch{}finally{}};function is(m){if(!_a(m))return m.g.la();const E=Nr(m.g);if(E==="")return"";let L="";const X=E.length,At=Ki(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return zi(m),pi(m),"";m.h.i=new c.TextDecoder}for(let kt=0;kt<X;kt++)m.h.h=!0,L+=m.h.i.decode(E[kt],{stream:!(At&&kt==X-1)});return E.length=0,m.h.g+=L,m.C=0,m.h.g}function _a(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function _s(m,E){var L=m.C,X=E.indexOf(`
`,L);return X==-1?Hn:(L=Number(E.substring(L,X)),isNaN(L)?Dn:(X+=1,X+L>E.length?Hn:(E=E.slice(X,X+L),m.C=X+L,E)))}di.prototype.cancel=function(){this.K=!0,zi(this)};function Ci(m){m.T=Date.now()+m.H,na(m,m.H)}function na(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=on(d(m.aa,m),E)}function qi(m){m.D&&(c.clearTimeout(m.D),m.D=null)}di.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Te(this.i,this.B),this.M!=2&&(Me(),Se(17)),zi(this),this.m=2,pi(this)):na(this,this.T-m)};function pi(m){m.j.I==0||m.K||rt(m.j,m)}function zi(m){qi(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,an(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function ss(m,E){try{var L=m.j;if(L.I!=0&&(L.g==m||ws(L.h,m))){if(!m.L&&ws(L.h,m)&&L.I==3){try{var X=L.Ba.g.parse(E)}catch{X=null}if(Array.isArray(X)&&X.length==3){var At=X;if(At[0]==0){t:if(!L.v){if(L.g)if(L.g.F+3e3<m.F)M(L),Os(L);else break t;Es(L),Se(18)}}else L.xa=At[1],0<L.xa-L.K&&At[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=on(d(L.Va,L),6e3));as(L.h)<=1&&L.ta&&(L.ta=void 0)}else bt(L,11)}else if((m.L||L.g==m)&&M(L),!k(E))for(At=L.Ba.g.parse(E),E=0;E<At.length;E++){let un=At[E];const Pn=un[0];if(!(Pn<=L.K))if(L.K=Pn,un=un[1],L.I==2)if(un[0]=="c"){L.M=un[1],L.ba=un[2];const ii=un[3];ii!=null&&(L.ka=ii,L.j.info("VER="+L.ka));const gi=un[4];gi!=null&&(L.za=gi,L.j.info("SVER="+L.za));const Gn=un[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(X=1.5*Gn,L.O=X,L.j.info("backChannelRequestTimeoutMs_="+X)),X=L;const yi=m.g;if(yi){const xs=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var kt=X.h;kt.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(kt.j=kt.l,kt.g=new Set,kt.h&&(za(kt,kt.h),kt.h=null))}if(X.G){const Ta=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(X.wa=Ta,yn(X.J,X.G,Ta))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-m.F,L.j.info("Handshake RTT: "+L.T+"ms")),X=L;var Jt=m;if(X.na=Kt(X,X.L?X.ba:null,X.W),Jt.L){So(X.h,Jt);var He=Jt,Zn=X.O;Zn&&(He.H=Zn),He.D&&(qi(He),Ci(He)),X.g=Jt}else ul(X);L.i.length>0&&ls(L)}else un[0]!="stop"&&un[0]!="close"||bt(L,7);else L.I==3&&(un[0]=="stop"||un[0]=="close"?un[0]=="stop"?bt(L,7):xa(L):un[0]!="noop"&&L.l&&L.l.qa(un),L.A=0)}}Me(4)}catch{}}var dr=class{constructor(m,E){this.g=m,this.map=E}};function Ao(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ri(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function as(m){return m.h?1:m.g?m.g.size:0}function ws(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function za(m,E){m.g?m.g.add(E):m.h=E}function So(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Ao.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Eo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const L of m.g.values())E=E.concat(L.G);return E}return w(m.i)}var rl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hi(m,E){if(m){m=m.split("&");for(let L=0;L<m.length;L++){const X=m[L].indexOf("=");let At,kt=null;X>=0?(At=m[L].substring(0,X),kt=m[L].substring(X+1)):At=m[L],E(At,kt?decodeURIComponent(kt.replace(/\+/g," ")):"")}}}function ni(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof ni?(this.l=m.l,hn(this,m.j),this.o=m.o,this.g=m.g,ra(this,m.u),this.h=m.h,os(this,To(m.i)),this.m=m.m):m&&(E=String(m).match(rl))?(this.l=!1,hn(this,E[1]||"",!0),this.o=Tr(E[2]||""),this.g=Tr(E[3]||"",!0),ra(this,E[4]),this.h=Tr(E[5]||"",!0),os(this,E[6]||"",!0),this.m=Tr(E[7]||"")):(this.l=!1,this.i=new ia(null,this.l))}ni.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(sr(E,Ha,!0),":");var L=this.g;return(L||E=="file")&&(m.push("//"),(E=this.o)&&m.push(sr(E,Ha,!0),"@"),m.push(Qn(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&m.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&m.push("/"),m.push(sr(L,L.charAt(0)=="/"?il:Vl,!0))),(L=this.i.toString())&&m.push("?",L),(L=this.m)&&m.push("#",sr(L,sl)),m.join("")},ni.prototype.resolve=function(m){const E=br(this);let L=!!m.j;L?hn(E,m.j):L=!!m.o,L?E.o=m.o:L=!!m.g,L?E.g=m.g:L=m.u!=null;var X=m.h;if(L)ra(E,m.u);else if(L=!!m.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var At=E.h.lastIndexOf("/");At!=-1&&(X=E.h.slice(0,At+1)+X)}if(At=X,At==".."||At==".")X="";else if(At.indexOf("./")!=-1||At.indexOf("/.")!=-1){X=At.lastIndexOf("/",0)==0,At=At.split("/");const kt=[];for(let Jt=0;Jt<At.length;){const He=At[Jt++];He=="."?X&&Jt==At.length&&kt.push(""):He==".."?((kt.length>1||kt.length==1&&kt[0]!="")&&kt.pop(),X&&Jt==At.length&&kt.push("")):(kt.push(He),X=!0)}X=kt.join("/")}else X=At}return L?E.h=X:L=m.i.toString()!=="",L?os(E,To(m.i)):L=!!m.m,L&&(E.m=m.m),E};function br(m){return new ni(m)}function hn(m,E,L){m.j=L?Tr(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function ra(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function os(m,E,L){E instanceof ia?(m.i=E,Li(m.i,m.l)):(L||(E=sr(E,mi)),m.i=new ia(E,m.l))}function yn(m,E,L){m.i.set(E,L)}function wa(m){return yn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Tr(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function sr(m,E,L){return typeof m=="string"?(m=encodeURI(m).replace(E,_r),L&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function _r(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ha=/[#\/\?@]/g,Vl=/[#\?:]/g,il=/[#\?]/g,mi=/[#\?@]/g,sl=/#/g;function ia(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Yr(m){m.g||(m.g=new Map,m.h=0,m.i&&Hi(m.i,function(E,L){m.add(decodeURIComponent(E.replace(/\+/g," ")),L)}))}n=ia.prototype,n.add=function(m,E){Yr(this),this.i=null,m=sa(this,m);let L=this.g.get(m);return L||this.g.set(m,L=[]),L.push(E),this.h+=1,this};function Aa(m,E){Yr(m),E=sa(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function al(m,E){return Yr(m),E=sa(m,E),m.g.has(E)}n.forEach=function(m,E){Yr(this),this.g.forEach(function(L,X){L.forEach(function(At){m.call(E,At,X,this)},this)},this)};function ol(m,E){Yr(m);let L=[];if(typeof E=="string")al(m,E)&&(L=L.concat(m.g.get(sa(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)L=L.concat(m[E]);return L}n.set=function(m,E){return Yr(this),this.i=null,m=sa(this,m),al(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=ol(this,m),m.length>0?String(m[0]):E):E};function xo(m,E,L){Aa(m,E),L.length>0&&(m.i=null,m.g.set(sa(m,E),w(L)),m.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let X=0;X<E.length;X++){var L=E[X];const At=Qn(L);L=ol(this,L);for(let kt=0;kt<L.length;kt++){let Jt=At;L[kt]!==""&&(Jt+="="+Qn(L[kt])),m.push(Jt)}}return this.i=m.join("&")};function To(m){const E=new ia;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function sa(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Li(m,E){E&&!m.j&&(Yr(m),m.i=null,m.g.forEach(function(L,X){const At=X.toLowerCase();X!=At&&(Aa(this,X),xo(this,At,L))},m)),m.j=E}function As(m,E){const L=new fi;if(c.Image){const X=new Image;X.onload=v(ki,L,"TestLoadImage: loaded",!0,E,X),X.onerror=v(ki,L,"TestLoadImage: error",!1,E,X),X.onabort=v(ki,L,"TestLoadImage: abort",!1,E,X),X.ontimeout=v(ki,L,"TestLoadImage: timeout",!1,E,X),c.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=m}else E(!1)}function aa(m,E){const L=new fi,X=new AbortController,At=setTimeout(()=>{X.abort(),ki(L,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:X.signal}).then(kt=>{clearTimeout(At),kt.ok?ki(L,"TestPingServer: ok",!0,E):ki(L,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(At),ki(L,"TestPingServer: error",!1,E)})}function ki(m,E,L,X,At){try{At&&(At.onload=null,At.onerror=null,At.onabort=null,At.ontimeout=null),X(L)}catch{}}function Sa(){this.g=new Ye}function Ce(m){this.i=m.Sb||null,this.h=m.ab||!1}A(Ce,ve),Ce.prototype.g=function(){return new Ga(this.i,this.h)};function Ga(m,E){Ft.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ga,Ft),n=Ga.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,Kr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;No(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function No(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Ea(this):Kr(this),this.readyState==3&&No(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Ea(this))},n.Na=function(m){this.g&&(this.response=m,Ea(this))},n.ga=function(){this.g&&Ea(this)};function Ea(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Kr(m)}n.setRequestHeader=function(m,E){this.A.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var L=E.next();!L.done;)L=L.value,m.push(L[0]+": "+L[1]),L=E.next();return m.join(`\r
`)};function Kr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Mr(m){let E="";return Nt(m,function(L,X){E+=X,E+=":",E+=L,E+=`\r
`}),E}function Ya(m,E,L){t:{for(X in L){var X=!1;break t}X=!0}X||(L=Mr(L),typeof m=="string"?L!=null&&Qn(L):yn(m,E,L))}function On(m){Ft.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(On,Ft);var Gi=/^https?$/i,Ka=["POST","PUT"];n=On.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,E,L,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ni.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(kt){Ss(this,kt);return}if(m=L||"",L=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var At in X)L.set(At,X[At]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const kt of X.keys())L.set(kt,X.get(kt));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(L.keys()).find(kt=>kt.toLowerCase()=="content-type"),At=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Ka,E,void 0)>=0)||X||At||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[kt,Jt]of L)this.g.setRequestHeader(kt,Jt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(kt){Ss(this,kt)}};function Ss(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,ll(m),oa(m)}function ll(m){m.A||(m.A=!0,re(m,"complete"),re(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,re(this,"complete"),re(this,"abort"),oa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oa(this,!0)),On.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Yi(this):this.Xa())},n.Xa=function(){Yi(this)};function Yi(m){if(m.h&&typeof o<"u"){if(m.v&&Ki(m)==4)setTimeout(m.Ca.bind(m),0);else if(re(m,"readystatechange"),Ki(m)==4){m.h=!1;try{const kt=m.ca();t:switch(kt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var L;if(!(L=E)){var X;if(X=kt===0){let Jt=String(m.D).match(rl)[1]||null;!Jt&&c.self&&c.self.location&&(Jt=c.self.location.protocol.slice(0,-1)),X=!Gi.test(Jt?Jt.toLowerCase():"")}L=X}if(L)re(m,"complete"),re(m,"success");else{m.o=6;try{var At=Ki(m)>2?m.g.statusText:""}catch{At=""}m.l=At+" ["+m.ca()+"]",ll(m)}}finally{oa(m)}}}}function oa(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const L=m.g;m.g=null,E||re(m,"ready");try{L.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ki(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Ki(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),ye(E)}};function Nr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(m){const E={};m=(m.g&&Ki(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<m.length;X++){if(k(m[X]))continue;var L=Or(m[X]);const At=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const kt=E[At]||[];E[At]=kt,kt.push(L)}qt(E,function(X){return X.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(m,E,L){return L&&L.internalChannelParams&&L.internalChannelParams[m]||E}function Ds(m){this.za=0,this.i=[],this.j=new fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ri("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ri("baseRetryDelayMs",5e3,m),this.Za=ri("retryDelaySeedMs",1e4,m),this.Ta=ri("forwardChannelMaxRetries",2,m),this.va=ri("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(m&&m.concurrentRequestLimit),this.Ba=new Sa,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ds.prototype,n.ka=8,n.I=1,n.connect=function(m,E,L,X){Se(0),this.W=m,this.H=E||{},L&&X!==void 0&&(this.H.OSID=L,this.H.OAID=X),this.F=this.X,this.J=Kt(this,null,this.W),ls(this)};function xa(m){if(Ps(m),m.I==3){var E=m.V++,L=br(m.J);if(yn(L,"SID",m.M),yn(L,"RID",E),yn(L,"TYPE","terminate"),Wi(m,L),E=new di(m,m.j,E),E.M=2,E.A=wa(br(L)),L=!1,c.navigator&&c.navigator.sendBeacon)try{L=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!L&&c.Image&&(new Image().src=E.A,L=!0),L||(E.g=oe(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Ci(E)}Ut(m)}function Os(m){m.g&&(Co(m),m.g.cancel(),m.g=null)}function Ps(m){Os(m),m.v&&(c.clearTimeout(m.v),m.v=null),M(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function ls(m){if(!Ri(m.h)&&!m.m){m.m=!0;var E=m.Ea;vt||O(),St||(vt(),St=!0),G.add(E,m),m.D=0}}function Wa(m,E){return as(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=on(d(m.Ea,m,E),ht(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const At=new di(this,this.j,m);let kt=this.o;if(this.U&&(kt?(kt=U(kt),Y(kt,this.U)):kt=this.U),this.u!==null||this.R||(At.J=kt,kt=null),this.S)t:{for(var E=0,L=0;L<this.i.length;L++){e:{var X=this.i[L];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break e}X=void 0}if(X===void 0)break;if(E+=X,E>4096){E=L;break t}if(E===4096||L===this.i.length-1){E=L+1;break t}}E=1e3}else E=1e3;E=Ms(this,At,E),L=br(this.J),yn(L,"RID",m),yn(L,"CVER",22),this.G&&yn(L,"X-HTTP-Session-Id",this.G),Wi(this,L),kt&&(this.R?E="headers="+Qn(Mr(kt))+"&"+E:this.u&&Ya(L,this.u,kt)),za(this.h,At),this.Ra&&yn(L,"TYPE","init"),this.S?(yn(L,"$req",E),yn(L,"SID","null"),At.U=!0,Pr(At,L,null)):Pr(At,L,E),this.I=2}}else this.I==3&&(m?Io(this,m):this.i.length==0||Ri(this.h)||Io(this))};function Io(m,E){var L;E?L=E.l:L=m.V++;const X=br(m.J);yn(X,"SID",m.M),yn(X,"RID",L),yn(X,"AID",m.K),Wi(m,X),m.u&&m.o&&Ya(X,m.u,m.o),L=new di(m,m.j,L,m.D+1),m.u===null&&(L.J=m.o),E&&(m.i=E.G.concat(m.i)),E=Ms(m,L,1e3),L.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),za(m.h,L),Pr(L,X,E)}function Wi(m,E){m.H&&Nt(m.H,function(L,X){yn(E,X,L)}),m.l&&Nt({},function(L,X){yn(E,X,L)})}function Ms(m,E,L){L=Math.min(m.i.length,L);const X=m.l?d(m.l.Ka,m.l,m):null;t:{var At=m.i;let He=-1;for(;;){const Zn=["count="+L];He==-1?L>0?(He=At[0].g,Zn.push("ofs="+He)):He=0:Zn.push("ofs="+He);let un=!0;for(let Pn=0;Pn<L;Pn++){var kt=At[Pn].g;const ii=At[Pn].map;if(kt-=He,kt<0)He=Math.max(0,At[Pn].g-100),un=!1;else try{kt="req"+kt+"_"||"";try{var Jt=ii instanceof Map?ii:Object.entries(ii);for(const[gi,Gn]of Jt){let yi=Gn;h(Gn)&&(yi=Xe(Gn)),Zn.push(kt+gi+"="+encodeURIComponent(yi))}}catch(gi){throw Zn.push(kt+"type="+encodeURIComponent("_badmap")),gi}}catch{X&&X(ii)}}if(un){Jt=Zn.join("&");break t}}Jt=void 0}return m=m.i.splice(0,L),E.G=m,Jt}function ul(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;vt||O(),St||(vt(),St=!0),G.add(E,m),m.A=0}}function Es(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=on(d(m.Da,m),ht(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=on(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Os(this),_(this))};function Co(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function _(m){m.g=new di(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=br(m.na);yn(E,"RID","rpc"),yn(E,"SID",m.M),yn(E,"AID",m.K),yn(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&yn(E,"TO",m.ia),yn(E,"TYPE","xmlhttp"),Wi(m,E),m.u&&m.o&&Ya(E,m.u,m.o),m.O&&(m.g.H=m.O);var L=m.g;m=m.ba,L.M=1,L.A=wa(br(E)),L.u=null,L.R=!0,Ii(L,m)}n.Va=function(){this.C!=null&&(this.C=null,Os(this),Es(this),Se(19))};function M(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function rt(m,E){var L=null;if(m.g==E){M(m),Co(m),m.g=null;var X=2}else if(ws(m.h,E))L=E.G,So(m.h,E),X=1;else return;if(m.I!=0){if(E.o)if(X==1){L=E.u?E.u.length:0,E=Date.now()-E.F;var At=m.D;X=Cn(),re(X,new be(X,L)),ls(m)}else ul(m);else if(At=E.m,At==3||At==0&&E.X>0||!(X==1&&Wa(m,E)||X==2&&Es(m)))switch(L&&L.length>0&&(E=m.h,E.i=E.i.concat(L)),At){case 1:bt(m,5);break;case 4:bt(m,10);break;case 3:bt(m,6);break;default:bt(m,2)}}}function ht(m,E){let L=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(L*=2),L*E}function bt(m,E){if(m.j.info("Error code "+E),E==2){var L=d(m.bb,m),X=m.Ua;const At=!X;X=new ni(X||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||hn(X,"https"),wa(X),At?As(X.toString(),L):aa(X.toString(),L)}else Se(2);m.I=0,m.l&&m.l.pa(E),Ut(m),Ps(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Ut(m){if(m.I=0,m.ja=[],m.l){const E=Eo(m.h);(E.length!=0||m.i.length!=0)&&(V(m.ja,E),V(m.ja,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.oa()}}function Kt(m,E,L){var X=L instanceof ni?br(L):new ni(L);if(X.g!="")E&&(X.g=E+"."+X.g),ra(X,X.u);else{var At=c.location;X=At.protocol,E=E?E+"."+At.hostname:At.hostname,At=+At.port;const kt=new ni(null);X&&hn(kt,X),E&&(kt.g=E),At&&ra(kt,At),L&&(kt.h=L),X=kt}return L=m.G,E=m.wa,L&&E&&yn(X,L,E),yn(X,"VER",m.ka),Wi(m,X),X}function oe(m,E,L){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new On(new Ce({ab:L})):new On(m.ma),E.Fa(m.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pe(){}n=pe.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Le(){}Le.prototype.g=function(m,E){return new Ne(m,E)};function Ne(m,E){Ft.call(this),this.g=new Ds(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!k(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!k(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new qn(this)}A(Ne,Ft),Ne.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ne.prototype.close=function(){xa(this.g)},Ne.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var L={};L.__data__=m,m=L}else this.v&&(L={},L.__data__=Xe(m),m=L);E.i.push(new dr(E.Ya++,m)),E.I==3&&ls(E)},Ne.prototype.N=function(){this.g.l=null,delete this.j,xa(this.g),delete this.g,Ne.Z.N.call(this)};function fn(m){Ie.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){t:{for(const L in E){m=L;break t}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}A(fn,Ie);function Jn(){je.call(this),this.status=1}A(Jn,je);function qn(m){this.g=m}A(qn,pe),qn.prototype.ra=function(){re(this.g,"a")},qn.prototype.qa=function(m){re(this.g,new fn(m))},qn.prototype.pa=function(m){re(this.g,new Jn)},qn.prototype.oa=function(){re(this.g,"b")},Le.prototype.createWebChannel=Le.prototype.g,Ne.prototype.send=Ne.prototype.o,Ne.prototype.open=Ne.prototype.m,Ne.prototype.close=Ne.prototype.close,l4=function(){return new Le},o4=function(){return Cn()},a4=$e,Xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Lp=Bi,Ti.COMPLETE="complete",s4=Ti,hr.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",Ft.prototype.listen=Ft.prototype.J,Of=hr,On.prototype.listenOnce=On.prototype.K,On.prototype.getLastError=On.prototype.Ha,On.prototype.getLastErrorCode=On.prototype.ya,On.prototype.getStatus=On.prototype.ca,On.prototype.getResponseJson=On.prototype.La,On.prototype.getResponseText=On.prototype.la,On.prototype.send=On.prototype.ea,On.prototype.setWithCredentials=On.prototype.Fa,i4=On}).apply(typeof fp<"u"?fp:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",Ov="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ys.UNAUTHENTICATED=new ys(null),ys.GOOGLE_CREDENTIALS=new ys("google-credentials-uid"),ys.FIRST_PARTY=new ys("first-party-uid"),ys.MOCK_USER=new ys("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new ym("@firebase/firestore");function fh(){return gc.logLevel}function le(n,...t){if(gc.logLevel<=_n.DEBUG){const e=t.map(j0);gc.debug(`Firestore (${Fh}): ${n}`,...e)}}function jl(n,...t){if(gc.logLevel<=_n.ERROR){const e=t.map(j0);gc.error(`Firestore (${Fh}): ${n}`,...e)}}function Rh(n,...t){if(gc.logLevel<=_n.WARN){const e=t.map(j0);gc.warn(`Firestore (${Fh}): ${n}`,...e)}}function j0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,u4(n,i,e)}function u4(n,t,e){let i=`FIRESTORE (${Fh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw jl(i),new Error(i)}function zn(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||u4(t,a,i)}function rn(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends bo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ys.UNAUTHENTICATED)))}shutdown(){}}class hN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class fN{constructor(t){this.t=t,this.currentUser=ys.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){zn(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new hc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hc,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hc)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(zn(typeof i.accessToken=="string",31837,{l:i}),new c4(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return zn(t===null||typeof t=="string",2055,{h:t}),new ys(t)}}class dN{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ys.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pN{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new dN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ys.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Va(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){zn(this.o===void 0,3512);const i=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(zn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Pv(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=gN(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function wn(n,t){return n<t?-1:n>t?1:0}function Qg(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return hg(a)===hg(o)?wn(a,o):hg(a)?1:-1}return wn(n.length,t.length)}const yN=55296,vN=57343;function hg(n){const t=n.charCodeAt(0);return t>=yN&&t<=vN}function Lh(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="__name__";class Yo{constructor(t,e,i){e===void 0?e=0:e>t.length&&ze(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&ze(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Yo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Yo?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=Yo.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return wn(t.length,e.length)}static compareSegments(t,e){const i=Yo.isNumericId(t),a=Yo.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Yo.extractNumericId(t).compare(Yo.extractNumericId(e)):Qg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xu.fromString(t.substring(4,t.length-2))}}class fr extends Yo{construct(t,e,i){return new fr(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ue(Yt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new fr(e)}static emptyPath(){return new fr([])}}const bN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ns extends Yo{construct(t,e,i){return new ns(t,e,i)}static isValidIdentifier(t){return bN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ns.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mv}static keyField(){return new ns([Mv])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new ue(Yt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ue(Yt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ue(Yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new ue(Yt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ns(e)}static emptyPath(){return new ns([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.path=t}static fromPath(t){return new Oe(fr.fromString(t))}static fromName(t){return new Oe(fr.fromString(t).popFirst(5))}static empty(){return new Oe(fr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return fr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Oe(new fr(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n,t,e){if(!e)throw new ue(Yt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function _N(n,t,e,i){if(t===!0&&i===!0)throw new ue(Yt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function jv(n){if(!Oe.isDocumentKey(n))throw new ue(Yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uv(n){if(Oe.isDocumentKey(n))throw new ue(Yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function f4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function wm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function Tu(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ue(Yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wm(n);throw new ue(Yt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(n,t){const e={typeString:n};return t&&(e.value=t),e}function ud(n,t){if(!f4(n))throw new ue(Yt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ue(Yt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=-62135596800,Fv=1e6;class cr{static now(){return cr.fromMillis(Date.now())}static fromDate(t){return cr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Fv);return new cr(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ue(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ue(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Vv)throw new ue(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ue(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(t){return this.seconds===t.seconds?wn(this.nanoseconds,t.nanoseconds):wn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:cr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ud(t,cr._jsonSchema))return new cr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}cr._jsonSchemaVersion="firestore/timestamp/1.0",cr._jsonSchema={type:ci("string",cr._jsonSchemaVersion),seconds:ci("number"),nanoseconds:ci("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(t){return new Je(t)}static min(){return new Je(new cr(0,0))}static max(){return new Je(new cr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=-1;function wN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Je.fromTimestamp(i===1e9?new cr(e+1,0):new cr(e,i));return new Cu(a,Oe.empty(),t)}function AN(n){return new Cu(n.readTime,n.key,$f)}class Cu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Cu(Je.min(),Oe.empty(),$f)}static max(){return new Cu(Je.max(),Oe.empty(),$f)}}function SN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Oe.comparator(n.documentKey,t.documentKey),e!==0?e:wn(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n){if(n.code!==Yt.FAILED_PRECONDITION||n.message!==EN)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Wt(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Wt?e:Wt.resolve(e)}catch(e){return Wt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Wt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Wt.reject(e)}static resolve(t){return new Wt(((e,i)=>{e(t)}))}static reject(t){return new Wt(((e,i)=>{i(t)}))}static waitFor(t){return new Wt(((e,i)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(f=>i(f)))})),c=!0,o===a&&e()}))}static or(t){let e=Wt.resolve(!1);for(const i of t)e=e.next((a=>a?Wt.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new Wt(((i,a)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((v=>{c[d]=v,++h,h===o&&i(c)}),(v=>a(v)))}}))}static doWhile(t,e){return new Wt(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function TN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function qh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Am.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=-1;function Sm(n){return n==null}function Jp(n){return n===0&&1/n==-1/0}function NN(n){return typeof n=="number"&&Number.isInteger(n)&&!Jp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="";function IN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Bv(t)),t=CN(n.get(e),t);return Bv(t)}function CN(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case d4:e+="";break;default:e+=o}}return e}function Bv(n){return n+d4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Bu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function p4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,e){this.comparator=t,this.root=e||es.EMPTY}insert(t,e){return new Dr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,es.BLACK,null,null))}remove(t){return new Dr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,es.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dp(this.root,t,this.comparator,!1)}getReverseIterator(){return new dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dp(this.root,t,this.comparator,!0)}}class dp{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class es{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??es.RED,this.left=a??es.EMPTY,this.right=o??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new es(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return es.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ze(27949);return t+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1;es.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new es(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.comparator=t,this.data=new Dr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(t){return new zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof xi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new xi(this.comparator);return e.data=t,e}}class zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this.fields=t,t.sort(ns.comparator)}static empty(){return new ga([])}unionWith(t){let e=new xi(ns.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ga(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Lh(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new m4("Invalid base64 string: "+o):o}})(t);return new rs(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new rs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rs.EMPTY_BYTE_STRING=new rs("");const RN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ru(n){if(zn(!!n,39018),typeof n=="string"){let t=0;const e=RN.exec(n);if(zn(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xr(n.seconds),nanos:Xr(n.nanos)}}function Xr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lu(n){return typeof n=="string"?rs.fromBase64String(n):rs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="server_timestamp",y4="__type__",v4="__previous_value__",b4="__local_write_time__";function F0(n){var e,i;return((i=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[y4])==null?void 0:i.stringValue)===g4}function Em(n){const t=n.mapValue.fields[v4];return F0(t)?Em(t):t}function Xf(n){const t=Ru(n.mapValue.fields[b4].timestampValue);return new cr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,e,i,a,o,c,h,f,d,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=v}}const Zp="(default)";class Qf{constructor(t,e){this.projectId=t,this.database=e||Zp}static empty(){return new Qf("","")}get isDefaultDatabase(){return this.database===Zp}isEqual(t){return t instanceof Qf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="__type__",kN="__max__",pp={mapValue:{}},w4="__vector__",tm="value";function ku(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?F0(n)?4:ON(n)?9007199254740991:DN(n)?10:11:ze(28295,{value:n})}function el(n,t){if(n===t)return!0;const e=ku(n);if(e!==ku(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xf(n).isEqual(Xf(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ru(a.timestampValue),h=Ru(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return Lu(a.bytesValue).isEqual(Lu(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Xr(a.geoPointValue.latitude)===Xr(o.geoPointValue.latitude)&&Xr(a.geoPointValue.longitude)===Xr(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Xr(a.integerValue)===Xr(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Xr(a.doubleValue),h=Xr(o.doubleValue);return c===h?Jp(c)===Jp(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Lh(n.arrayValue.values||[],t.arrayValue.values||[],el);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(qv(c)!==qv(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!el(c[f],h[f])))return!1;return!0})(n,t);default:return ze(52216,{left:n})}}function Jf(n,t){return(n.values||[]).find((e=>el(e,t)))!==void 0}function kh(n,t){if(n===t)return 0;const e=ku(n),i=ku(t);if(e!==i)return wn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return wn(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Xr(o.integerValue||o.doubleValue),f=Xr(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return Hv(n.timestampValue,t.timestampValue);case 4:return Hv(Xf(n),Xf(t));case 5:return Qg(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Lu(o),f=Lu(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let d=0;d<h.length&&d<f.length;d++){const v=wn(h[d],f[d]);if(v!==0)return v}return wn(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=wn(Xr(o.latitude),Xr(c.latitude));return h!==0?h:wn(Xr(o.longitude),Xr(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Gv(n.arrayValue,t.arrayValue);case 10:return(function(o,c){var T,w,V,z;const h=o.fields||{},f=c.fields||{},d=(T=h[tm])==null?void 0:T.arrayValue,v=(w=f[tm])==null?void 0:w.arrayValue,A=wn(((V=d==null?void 0:d.values)==null?void 0:V.length)||0,((z=v==null?void 0:v.values)==null?void 0:z.length)||0);return A!==0?A:Gv(d,v)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===pp.mapValue&&c===pp.mapValue)return 0;if(o===pp.mapValue)return 1;if(c===pp.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=c.fields||{},v=Object.keys(d);f.sort(),v.sort();for(let A=0;A<f.length&&A<v.length;++A){const T=Qg(f[A],v[A]);if(T!==0)return T;const w=kh(h[f[A]],d[v[A]]);if(w!==0)return w}return wn(f.length,v.length)})(n.mapValue,t.mapValue);default:throw ze(23264,{he:e})}}function Hv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return wn(n,t);const e=Ru(n),i=Ru(t),a=wn(e.seconds,i.seconds);return a!==0?a:wn(e.nanos,i.nanos)}function Gv(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=kh(e[a],i[a]);if(o)return o}return wn(e.length,i.length)}function Dh(n){return Jg(n)}function Jg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Ru(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Lu(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Oe.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=Jg(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${Jg(e.fields[c])}`;return a+"}"})(n.mapValue):ze(61005,{value:n})}function kp(n){switch(ku(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Em(n);return t?16+kp(t):16;case 5:return 2*n.stringValue.length;case 6:return Lu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+kp(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Bu(i.fields,((o,c)=>{a+=o.length+kp(c)})),a})(n.mapValue);default:throw ze(13486,{value:n})}}function Yv(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Zg(n){return!!n&&"integerValue"in n}function B0(n){return!!n&&"arrayValue"in n}function Kv(n){return!!n&&"nullValue"in n}function Wv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dp(n){return!!n&&"mapValue"in n}function DN(n){var e,i;return((i=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[_4])==null?void 0:i.stringValue)===w4}function Ff(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Bu(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Ff(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ff(n.arrayValue.values[e]);return t}return{...n}}function ON(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t){this.value=t}static empty(){return new Zs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Dp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ff(e)}setAll(t){let e=ns.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=Ff(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());Dp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return el(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Dp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Bu(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new Zs(Ff(this.value))}}function A4(n){const t=[];return Bu(n.fields,((e,i)=>{const a=new ns([e]);if(Dp(i)){const o=A4(i.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new ga(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,e,i,a,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new vs(t,0,Je.min(),Je.min(),Je.min(),Zs.empty(),0)}static newFoundDocument(t,e,i,a){return new vs(t,1,e,Je.min(),i,a,0)}static newNoDocument(t,e){return new vs(t,2,e,Je.min(),Je.min(),Zs.empty(),0)}static newUnknownDocument(t,e){return new vs(t,3,e,Je.min(),Je.min(),Zs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,e){this.position=t,this.inclusive=e}}function $v(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?i=Oe.comparator(Oe.fromName(c.referenceValue),e.key):i=kh(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Xv(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!el(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,e="asc"){this.field=t,this.dir=e}}function PN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{}class ui extends S4{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new jN(t,e,i):e==="array-contains"?new FN(t,i):e==="in"?new BN(t,i):e==="not-in"?new qN(t,i):e==="array-contains-any"?new zN(t,i):new ui(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new UN(t,i):new VN(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(kh(e,this.value)):e!==null&&ku(this.value)===ku(e)&&this.matchesComparison(kh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class go extends S4{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new go(t,e)}matches(t){return E4(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E4(n){return n.op==="and"}function x4(n){return MN(n)&&E4(n)}function MN(n){for(const t of n.filters)if(t instanceof go)return!1;return!0}function t0(n){if(n instanceof ui)return n.field.canonicalString()+n.op.toString()+Dh(n.value);if(x4(n))return n.filters.map((t=>t0(t))).join(",");{const t=n.filters.map((e=>t0(e))).join(",");return`${n.op}(${t})`}}function T4(n,t){return n instanceof ui?(function(i,a){return a instanceof ui&&i.op===a.op&&i.field.isEqual(a.field)&&el(i.value,a.value)})(n,t):n instanceof go?(function(i,a){return a instanceof go&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&T4(c,a.filters[h])),!0):!1})(n,t):void ze(19439)}function N4(n){return n instanceof ui?(function(e){return`${e.field.canonicalString()} ${e.op} ${Dh(e.value)}`})(n):n instanceof go?(function(e){return e.op.toString()+" {"+e.getFilters().map(N4).join(" ,")+"}"})(n):"Filter"}class jN extends ui{constructor(t,e,i){super(t,e,i),this.key=Oe.fromName(i.referenceValue)}matches(t){const e=Oe.comparator(t.key,this.key);return this.matchesComparison(e)}}class UN extends ui{constructor(t,e){super(t,"in",e),this.keys=I4("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class VN extends ui{constructor(t,e){super(t,"not-in",e),this.keys=I4("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function I4(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((i=>Oe.fromName(i.referenceValue)))}class FN extends ui{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return B0(e)&&Jf(e.arrayValue,this.value)}}class BN extends ui{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Jf(this.value.arrayValue,e)}}class qN extends ui{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Jf(this.value.arrayValue,e)}}class zN extends ui{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!B0(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Jf(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t,e=null,i=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Qv(n,t=null,e=[],i=[],a=null,o=null,c=null){return new HN(n,t,e,i,a,o,c)}function q0(n){const t=rn(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>t0(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Sm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Dh(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Dh(i))).join(",")),t.Te=e}return t.Te}function z0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!PN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!T4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Xv(n.startAt,t.startAt)&&Xv(n.endAt,t.endAt)}function e0(n){return Oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,e=null,i=[],a=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GN(n,t,e,i,a,o,c,h){return new cd(n,t,e,i,a,o,c,h)}function H0(n){return new cd(n)}function Jv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function C4(n){return n.collectionGroup!==null}function Bf(n){const t=rn(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new xi(ns.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new nm(o,i))})),e.has(ns.keyField().canonicalString())||t.Ie.push(new nm(ns.keyField(),i))}return t.Ie}function Xo(n){const t=rn(n);return t.Ee||(t.Ee=YN(t,Bf(n))),t.Ee}function YN(n,t){if(n.limitType==="F")return Qv(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new nm(a.field,o)}));const e=n.endAt?new em(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new em(n.startAt.position,n.startAt.inclusive):null;return Qv(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function n0(n,t){const e=n.filters.concat([t]);return new cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function r0(n,t,e){return new cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function xm(n,t){return z0(Xo(n),Xo(t))&&n.limitType===t.limitType}function R4(n){return`${q0(Xo(n))}|lt:${n.limitType}`}function dh(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>N4(a))).join(", ")}]`),Sm(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Dh(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Dh(a))).join(",")),`Target(${i})`})(Xo(n))}; limitType=${n.limitType})`}function Tm(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Oe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of Bf(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const d=$v(c,h,f);return c.inclusive?d<=0:d<0})(i.startAt,Bf(i),a)||i.endAt&&!(function(c,h,f){const d=$v(c,h,f);return c.inclusive?d>=0:d>0})(i.endAt,Bf(i),a))})(n,t)}function KN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function L4(n){return(t,e)=>{let i=!1;for(const a of Bf(n)){const o=WN(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function WN(n,t,e){const i=n.field.isKeyField()?Oe.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),d=h.data.field(o);return f!==null&&d!==null?kh(f,d):ze(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ze(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Bu(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return p4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Dr(Oe.comparator);function Ul(){return $N}const k4=new Dr(Oe.comparator);function Pf(...n){let t=k4;for(const e of n)t=t.insert(e.key,e);return t}function D4(n){let t=k4;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function uc(){return qf()}function O4(){return qf()}function qf(){return new xc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const XN=new Dr(Oe.comparator),QN=new xi(Oe.comparator);function An(...n){let t=QN;for(const e of n)t=t.add(e);return t}const JN=new xi(wn);function ZN(){return JN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jp(t)?"-0":t}}function P4(n){return{integerValue:""+n}}function t8(n,t){return NN(t)?P4(t):G0(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function e8(n,t,e){return n instanceof rm?(function(a,o){const c={fields:{[y4]:{stringValue:g4},[b4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&F0(o)&&(o=Em(o)),o&&(c.fields[v4]=o),{mapValue:c}})(e,t):n instanceof Zf?j4(n,t):n instanceof td?U4(n,t):(function(a,o){const c=M4(a,o),h=Zv(c)+Zv(a.Ae);return Zg(c)&&Zg(a.Ae)?P4(h):G0(a.serializer,h)})(n,t)}function n8(n,t,e){return n instanceof Zf?j4(n,t):n instanceof td?U4(n,t):e}function M4(n,t){return n instanceof im?(function(i){return Zg(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class rm extends Nm{}class Zf extends Nm{constructor(t){super(),this.elements=t}}function j4(n,t){const e=V4(t);for(const i of n.elements)e.some((a=>el(a,i)))||e.push(i);return{arrayValue:{values:e}}}class td extends Nm{constructor(t){super(),this.elements=t}}function U4(n,t){let e=V4(t);for(const i of n.elements)e=e.filter((a=>!el(a,i)));return{arrayValue:{values:e}}}class im extends Nm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Zv(n){return Xr(n.integerValue||n.doubleValue)}function V4(n){return B0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function r8(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Zf&&a instanceof Zf||i instanceof td&&a instanceof td?Lh(i.elements,a.elements,el):i instanceof im&&a instanceof im?el(i.Ae,a.Ae):i instanceof rm&&a instanceof rm})(n.transform,t.transform)}class i8{constructor(t,e){this.version=t,this.transformResults=e}}class fo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new fo}static exists(t){return new fo(void 0,t)}static updateTime(t){return new fo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Op(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Im{}function F4(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Y0(n.key,fo.none()):new hd(n.key,n.data,fo.none());{const e=n.data,i=Zs.empty();let a=new xi(ns.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new qu(n.key,i,new ga(a.toArray()),fo.none())}}function s8(n,t,e){n instanceof hd?(function(a,o,c){const h=a.value.clone(),f=eb(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof qu?(function(a,o,c){if(!Op(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=eb(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(B4(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function zf(n,t,e,i){return n instanceof hd?(function(o,c,h,f){if(!Op(o.precondition,c))return h;const d=o.value.clone(),v=nb(o.fieldTransforms,f,c);return d.setAll(v),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof qu?(function(o,c,h,f){if(!Op(o.precondition,c))return h;const d=nb(o.fieldTransforms,f,c),v=c.data;return v.setAll(B4(o)),v.setAll(d),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,t,e,i):(function(o,c,h){return Op(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function a8(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),o=M4(i.transform,a||null);o!=null&&(e===null&&(e=Zs.empty()),e.set(i.field,o))}return e||null}function tb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Lh(i,a,((o,c)=>r8(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class hd extends Im{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qu extends Im{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function B4(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function eb(n,t,e){const i=new Map;zn(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);i.set(o.field,n8(c,h,e[a]))}return i}function nb(n,t,e){const i=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);i.set(a.field,e8(o,c,t))}return i}class Y0 extends Im{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o8 extends Im{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&s8(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=zf(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=zf(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=O4();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const f=F4(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Je.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),An())}isEqual(t){return this.batchId===t.batchId&&Lh(this.mutations,t.mutations,((e,i)=>tb(e,i)))&&Lh(this.baseMutations,t.baseMutations,((e,i)=>tb(e,i)))}}class K0{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){zn(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return XN})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new K0(t,e,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,In;function h8(n){switch(n){case Yt.OK:return ze(64938);case Yt.CANCELLED:case Yt.UNKNOWN:case Yt.DEADLINE_EXCEEDED:case Yt.RESOURCE_EXHAUSTED:case Yt.INTERNAL:case Yt.UNAVAILABLE:case Yt.UNAUTHENTICATED:return!1;case Yt.INVALID_ARGUMENT:case Yt.NOT_FOUND:case Yt.ALREADY_EXISTS:case Yt.PERMISSION_DENIED:case Yt.FAILED_PRECONDITION:case Yt.ABORTED:case Yt.OUT_OF_RANGE:case Yt.UNIMPLEMENTED:case Yt.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function q4(n){if(n===void 0)return jl("GRPC error has no .code"),Yt.UNKNOWN;switch(n){case li.OK:return Yt.OK;case li.CANCELLED:return Yt.CANCELLED;case li.UNKNOWN:return Yt.UNKNOWN;case li.DEADLINE_EXCEEDED:return Yt.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return Yt.RESOURCE_EXHAUSTED;case li.INTERNAL:return Yt.INTERNAL;case li.UNAVAILABLE:return Yt.UNAVAILABLE;case li.UNAUTHENTICATED:return Yt.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return Yt.INVALID_ARGUMENT;case li.NOT_FOUND:return Yt.NOT_FOUND;case li.ALREADY_EXISTS:return Yt.ALREADY_EXISTS;case li.PERMISSION_DENIED:return Yt.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return Yt.FAILED_PRECONDITION;case li.ABORTED:return Yt.ABORTED;case li.OUT_OF_RANGE:return Yt.OUT_OF_RANGE;case li.UNIMPLEMENTED:return Yt.UNIMPLEMENTED;case li.DATA_LOSS:return Yt.DATA_LOSS;default:return ze(39323,{code:n})}}(In=li||(li={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=new xu([4294967295,4294967295],0);function rb(n){const t=f8().encode(n),e=new r4;return e.update(t),new Uint8Array(e.digest())}function ib(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new xu([e,i],0),new xu([a,o],0)]}class W0{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Mf(`Invalid padding: ${e}`);if(i<0)throw new Mf(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Mf(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Mf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=xu.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(xu.fromNumber(i)));return a.compare(d8)===1&&(a=new xu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=rb(t),[i,a]=ib(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new W0(o,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=rb(t),[i,a]=ib(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,fd.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Cm(Je.min(),a,new Dr(wn),Ul(),An())}}class fd{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new fd(i,e,An(),An(),An())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class z4{constructor(t,e){this.targetId=t,this.Ce=e}}class H4{constructor(t,e,i=rs.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class sb{constructor(){this.ve=0,this.Fe=ab(),this.Me=rs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=An(),e=An(),i=An();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:ze(38017,{changeType:o})}})),new fd(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=ab()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,zn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class p8{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ul(),this.Je=mp(),this.He=mp(),this.Ye=new Dr(wn)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:ze(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(e0(o))if(i===0){const c=new Oe(o.path);this.et(e,c,vs.newNoDocument(c,Je.min()))}else zn(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=Lu(i).toUint8Array()}catch(f){if(f instanceof m4)return Rh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new W0(c,a,o)}catch(f){return Rh(f instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&e0(h.target)){const f=new Oe(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,vs.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=An();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new Cm(t,e,this.Ye,this.je,i);return this.je=Ul(),this.Je=mp(),this.He=mp(),this.Ye=new Dr(wn),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new sb,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new xi(wn),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new xi(wn),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||le("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new sb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function mp(){return new Dr(Oe.comparator)}function ab(){return new Dr(Oe.comparator)}const m8={asc:"ASCENDING",desc:"DESCENDING"},g8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y8={and:"AND",or:"OR"};class v8{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function i0(n,t){return n.useProto3Json||Sm(t)?t:{value:t}}function sm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function G4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function b8(n,t){return sm(n,t.toTimestamp())}function Qo(n){return zn(!!n,49232),Je.fromTimestamp((function(e){const i=Ru(e);return new cr(i.seconds,i.nanos)})(n))}function $0(n,t){return s0(n,t).canonicalString()}function s0(n,t){const e=(function(a){return new fr(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Y4(n){const t=fr.fromString(n);return zn(Q4(t),10190,{key:t.toString()}),t}function a0(n,t){return $0(n.databaseId,t.path)}function fg(n,t){const e=Y4(t);if(e.get(1)!==n.databaseId.projectId)throw new ue(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ue(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Oe(W4(e))}function K4(n,t){return $0(n.databaseId,t)}function _8(n){const t=Y4(n);return t.length===4?fr.emptyPath():W4(t)}function o0(n){return new fr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function W4(n){return zn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ob(n,t,e){return{name:a0(n,t),fields:e.value.mapValue.fields}}function w8(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ze(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(d,v){return d.useProto3Json?(zn(v===void 0||typeof v=="string",58123),rs.fromBase64String(v||"")):(zn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rs.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(d){const v=d.code===void 0?Yt.UNKNOWN:q4(d.code);return new ue(v,d.message||"")})(c);e=new H4(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=fg(n,i.document.name),o=Qo(i.document.updateTime),c=i.document.createTime?Qo(i.document.createTime):Je.min(),h=new Zs({mapValue:{fields:i.document.fields}}),f=vs.newFoundDocument(a,o,c,h),d=i.targetIds||[],v=i.removedTargetIds||[];e=new Pp(d,v,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=fg(n,i.document),o=i.readTime?Qo(i.readTime):Je.min(),c=vs.newNoDocument(a,o),h=i.removedTargetIds||[];e=new Pp([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=fg(n,i.document),o=i.removedTargetIds||[];e=new Pp([],o,a,null)}else{if(!("filter"in t))return ze(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new c8(a,o),h=i.targetId;e=new z4(h,c)}}return e}function A8(n,t){let e;if(t instanceof hd)e={update:ob(n,t.key,t.value)};else if(t instanceof Y0)e={delete:a0(n,t.key)};else if(t instanceof qu)e={update:ob(n,t.key,t.data),updateMask:L8(t.fieldMask)};else{if(!(t instanceof o8))return ze(16599,{Vt:t.type});e={verify:a0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof rm)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof td)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof im)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw ze(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:b8(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)})(n,t.precondition)),e}function S8(n,t){return n&&n.length>0?(zn(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?Qo(a.updateTime):Qo(o);return c.isEqual(Je.min())&&(c=Qo(o)),new i8(c,a.transformResults||[])})(e,t)))):[]}function E8(n,t){return{documents:[K4(n,t.path)]}}function x8(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=K4(n,a);const o=(function(d){if(d.length!==0)return X4(go.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((v=>(function(T){return{field:ph(T.field),direction:I8(T.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=i0(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:a}}function T8(n){let t=_8(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){zn(i===1,65062);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let o=[];e.where&&(o=(function(A){const T=$4(A);return T instanceof go&&x4(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(A){return A.map((T=>(function(V){return new nm(mh(V.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(A){let T;return T=typeof A=="object"?A.value:A,Sm(T)?null:T})(e.limit));let f=null;e.startAt&&(f=(function(A){const T=!!A.before,w=A.values||[];return new em(w,T)})(e.startAt));let d=null;return e.endAt&&(d=(function(A){const T=!A.before,w=A.values||[];return new em(w,T)})(e.endAt)),GN(t,a,c,o,h,"F",f,d)}function N8(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function $4(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=mh(e.unaryFilter.field);return ui.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=mh(e.unaryFilter.field);return ui.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mh(e.unaryFilter.field);return ui.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mh(e.unaryFilter.field);return ui.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ui.create(mh(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return go.create(e.compositeFilter.filters.map((i=>$4(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(e.compositeFilter.op))})(n):ze(30097,{filter:n})}function I8(n){return m8[n]}function C8(n){return g8[n]}function R8(n){return y8[n]}function ph(n){return{fieldPath:n.canonicalString()}}function mh(n){return ns.fromServerFormat(n.fieldPath)}function X4(n){return n instanceof ui?(function(e){if(e.op==="=="){if(Wv(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NAN"}};if(Kv(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Wv(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NOT_NAN"}};if(Kv(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ph(e.field),op:C8(e.op),value:e.value}}})(n):n instanceof go?(function(e){const i=e.getFilters().map((a=>X4(a)));return i.length===1?i[0]:{compositeFilter:{op:R8(e.op),filters:i}}})(n):ze(54877,{filter:n})}function L8(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Q4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,e,i,a,o=Je.min(),c=Je.min(),h=rs.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new wu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(t){this.yt=t}}function D8(n){const t=T8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?r0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(){this.Cn=new P8}addToCollectionParentIndex(t,e){return this.Cn.add(e),Wt.resolve()}getCollectionParents(t,e){return Wt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Wt.resolve()}deleteFieldIndex(t,e){return Wt.resolve()}deleteAllFieldIndexes(t){return Wt.resolve()}createTargetIndexes(t,e){return Wt.resolve()}getDocumentsMatchingTarget(t,e){return Wt.resolve(null)}getIndexType(t,e){return Wt.resolve(0)}getFieldIndexes(t,e){return Wt.resolve([])}getNextCollectionGroupToUpdate(t){return Wt.resolve(null)}getMinOffset(t,e){return Wt.resolve(Cu.min())}getMinOffsetFromCollectionGroup(t,e){return Wt.resolve(Cu.min())}updateCollectionGroup(t,e,i){return Wt.resolve()}updateIndexEntries(t,e){return Wt.resolve()}}class P8{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new xi(fr.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new xi(fr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J4=41943040;class Js{static withCacheSize(t){return new Js(t,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(J4,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Oh(0)}static cr(){return new Oh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="LruGarbageCollector",M8=1048576;function cb([n,t],[e,i]){const a=wn(n,e);return a===0?wn(t,i):a}class j8{constructor(t){this.Ir=t,this.buffer=new xi(cb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();cb(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class U8{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){le(ub,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){qh(e)?le(ub,"Ignoring IndexedDB error during garbage collection: ",e):await Bh(e)}await this.Vr(3e5)}))}}class V8{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return Wt.resolve(Am.ce);const i=new j8(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Wt.resolve(lb)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,o,c,h,f,d;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,c=Date.now(),this.nthSequenceNumber(t,a)))).next((A=>(i=A,h=Date.now(),this.removeTargets(t,i,e)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((A=>(d=Date.now(),fh()<=_n.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-v}ms`),Wt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:A}))))}}function F8(n,t){return new V8(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.changes=new xc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,vs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Wt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&zf(i.mutation,a,ga.empty(),cr.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,An()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=An()){const a=uc();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let c=Pf();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=uc();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,An())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let o=Ul();const c=qf(),h=(function(){return qf()})();return e.forEach(((f,d)=>{const v=i.get(d.key);a.has(d.key)&&(v===void 0||v.mutation instanceof qu)?o=o.insert(d.key,d):v!==void 0?(c.set(d.key,v.mutation.getFieldMask()),zf(v.mutation,d,v.mutation.getFieldMask(),cr.now())):c.set(d.key,ga.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,v)=>c.set(d,v))),e.forEach(((d,v)=>h.set(d,new q8(v,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=qf();let a=new Dr(((c,h)=>c-h)),o=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let v=i.get(f)||ga.empty();v=h.applyToLocalView(d,v),i.set(f,v);const A=(a.get(h.batchId)||An()).add(f);a=a.insert(h.batchId,A)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,v=f.value,A=O4();v.forEach((T=>{if(!o.has(T)){const w=F4(e.get(T),i.get(T));w!==null&&A.set(T,w),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,d,A))}return Wt.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(c){return Oe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):C4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):Wt.resolve(uc());let h=$f,f=o;return c.next((d=>Wt.forEach(d,((v,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(v)?Wt.resolve():this.remoteDocumentCache.getEntry(t,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,An()))).next((v=>({batchId:h,changes:D4(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Oe(e)).next((i=>{let a=Pf();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let c=Pf();return this.indexManager.getCollectionParents(t,o).next((h=>Wt.forEach(h,(f=>{const d=(function(A,T){return new cd(T,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,a).next((v=>{v.forEach(((A,T)=>{c=c.insert(A,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((c=>{o.forEach(((f,d)=>{const v=d.getKey();c.get(v)===null&&(c=c.insert(v,vs.newInvalidDocument(v)))}));let h=Pf();return c.forEach(((f,d)=>{const v=o.get(f);v!==void 0&&zf(v.mutation,d,ga.empty(),cr.now()),Tm(e,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Wt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Qo(a.createTime)}})(e)),Wt.resolve()}getNamedQuery(t,e){return Wt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:D8(a.bundledQuery),readTime:Qo(a.readTime)}})(e)),Wt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(){this.overlays=new Dr(Oe.comparator),this.qr=new Map}getOverlay(t,e){return Wt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=uc();return Wt.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.St(t,e,o)})),Wt.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),Wt.resolve()}getOverlaysForCollection(t,e,i){const a=uc(),o=e.length+1,c=new Oe(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return Wt.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new Dr(((d,v)=>d-v));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let v=o.get(d.largestBatchId);v===null&&(v=uc(),o=o.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const h=uc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,v)=>h.set(d,v))),!(h.size()>=a)););return Wt.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new u8(e,i));let o=this.qr.get(e);o===void 0&&(o=An(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.sessionToken=rs.EMPTY_BYTE_STRING}getSessionToken(t){return Wt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Wt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.Qr=new xi(Vi.$r),this.Ur=new xi(Vi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Vi(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Vi(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new Oe(new fr([])),i=new Vi(e,t),a=new Vi(e,t+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Oe(new fr([])),i=new Vi(e,t),a=new Vi(e,t+1);let o=An();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Vi(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Vi{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Oe.comparator(t.key,e.key)||wn(t.Yr,e.Yr)}static Kr(t,e){return wn(t.Yr,e.Yr)||Oe.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new xi(Vi.$r)}checkEmpty(t){return Wt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new l8(o,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Vi(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Wt.resolve(c)}lookupMutationBatch(t,e){return Wt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),o=a<0?0:a;return Wt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Wt.resolve(this.mutationQueue.length===0?V0:this.tr-1)}getAllMutationBatches(t){return Wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Vi(e,0),a=new Vi(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),Wt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new xi(wn);return e.forEach((a=>{const o=new Vi(a,0),c=new Vi(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),Wt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;Oe.isDocumentKey(o)||(o=o.child(""));const c=new Vi(new Oe(o),0);let h=new xi(wn);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===a&&(h=h.add(f.Yr)),!0)}),c),Wt.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){zn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Wt.forEach(e.mutations,(a=>{const o=new Vi(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Vi(e,0),a=this.Zr.firstAfterOrEqual(i);return Wt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Wt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(t){this.ri=t,this.docs=(function(){return new Dr(Oe.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Wt.resolve(i?i.document.mutableCopy():vs.newInvalidDocument(e))}getEntries(t,e){let i=Ul();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():vs.newInvalidDocument(a))})),Wt.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=Ul();const c=e.path,h=new Oe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:v}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||SN(AN(v),i)<=0||(a.has(v.key)||Tm(e,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Wt.resolve(o)}getAllFromCollectionGroup(t,e,i,a){ze(9500)}ii(t,e){return Wt.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new $8(this)}getSize(t){return Wt.resolve(this.size)}}class $8 extends B8{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),Wt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(t){this.persistence=t,this.si=new xc((e=>q0(e)),z0),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new X0,this.targetCount=0,this.ai=Oh.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),Wt.resolve()}getLastRemoteSnapshotVersion(t){return Wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Wt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Wt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),Wt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Oh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Wt.resolve()}updateTargetData(t,e){return this.Pr(e),Wt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Wt.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),Wt.waitFor(o).next((()=>a))}getTargetCount(t){return Wt.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return Wt.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),Wt.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),Wt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Wt.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return Wt.resolve(i)}containsKey(t,e){return Wt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(t,e){this.ui={},this.overlays={},this.ci=new Am(0),this.li=!1,this.li=!0,this.hi=new Y8,this.referenceDelegate=t(this),this.Pi=new X8(this),this.indexManager=new O8,this.remoteDocumentCache=(function(a){return new W8(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new k8(e),this.Ii=new H8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new G8,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new K8(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){le("MemoryPersistence","Starting transaction:",t);const a=new Q8(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return Wt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class Q8 extends xN{constructor(t){super(),this.currentSequenceNumber=t}}class Q0{constructor(t){this.persistence=t,this.Ri=new X0,this.Vi=null}static mi(t){return new Q0(t)}get fi(){if(this.Vi)return this.Vi;throw ze(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),Wt.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),Wt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Wt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wt.forEach(this.fi,(i=>{const a=Oe.fromPath(i);return this.gi(t,a).next((o=>{o||e.removeEntry(a,Je.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Wt.or([()=>Wt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class am{constructor(t,e){this.persistence=t,this.pi=new xc((i=>IN(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=F8(this,e)}static mi(t,e){return new am(t,e)}Ei(){}di(t){return Wt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return Wt.forEach(this.pi,((i,a)=>this.br(t,i,a).next((o=>o?Wt.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,Je.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Wt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Wt.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Wt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Wt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=kp(t.data.value)),e}br(t,e,i){return Wt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return Wt.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=An(),a=An();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new J0(t,e.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NE()?8:TN(bs())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new J8;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(fh()<=_n.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",dh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Wt.resolve()):(fh()<=_n.DEBUG&&le("QueryEngine","Query:",dh(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(fh()<=_n.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",dh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xo(e))):Wt.resolve())}ys(t,e){if(Jv(e))return Wt.resolve(null);let i=Xo(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=r0(e,null,"F"),i=Xo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=An(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,h);return this.Cs(e,d,c,f.readTime)?this.ys(t,r0(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,a){return Jv(e)||a.isEqual(Je.min())?Wt.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,a)?Wt.resolve(null):(fh()<=_n.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),dh(e)),this.vs(t,c,e,wN(a,$f)).next((h=>h)))}))}Ds(t,e){let i=new xi(L4(t));return e.forEach(((a,o)=>{Tm(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,i){return fh()<=_n.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",dh(e)),this.ps.getDocumentsMatchingQuery(t,e,Cu.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="LocalStore",tI=3e8;class eI{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new Dr(wn),this.xs=new xc((o=>q0(o)),z0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new z8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function nI(n,t,e,i){return new eI(n,t,e,i)}async function t3(n,t){const e=rn(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=An();for(const d of a){c.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}for(const d of o){h.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function rI(n,t){const e=rn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,v){const A=d.batch,T=A.keys();let w=Wt.resolve();return T.forEach((V=>{w=w.next((()=>v.getEntry(f,V))).next((z=>{const F=d.docVersions.get(V);zn(F!==null,48541),z.version.compareTo(F)<0&&(A.applyToRemoteDocument(z,d),z.isValidDocument()&&(z.setReadTime(d.commitVersion),v.addEntry(z)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,A)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=An();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function e3(n){const t=rn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function iI(n,t){const e=rn(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((v,A)=>{const T=a.get(A);if(!T)return;h.push(e.Pi.removeMatchingKeys(o,v.removedDocuments,A).next((()=>e.Pi.addMatchingKeys(o,v.addedDocuments,A))));let w=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(A)!==null?w=w.withResumeToken(rs.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,i)),a=a.insert(A,w),(function(z,F,q){return z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=tI?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(T,w,v)&&h.push(e.Pi.updateTargetData(o,w))}));let f=Ul(),d=An();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(sI(o,c,t.documentUpdates).next((v=>{f=v.ks,d=v.qs}))),!i.isEqual(Je.min())){const v=e.Pi.getLastRemoteSnapshotVersion(o).next((A=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(v)}return Wt.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function sI(n,t,e){let i=An(),a=An();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Ul();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Je.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):le(Z0,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function aI(n,t){const e=rn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=V0),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function oI(n,t){const e=rn(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((o=>o?(a=o,Wt.resolve(a)):e.Pi.allocateTargetId(i).next((c=>(a=new wu(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function l0(n,t,e){const i=rn(n),a=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!qh(c))throw c;le(Z0,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function hb(n,t,e){const i=rn(n);let a=Je.min(),o=An();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,v){const A=rn(f),T=A.xs.get(v);return T!==void 0?Wt.resolve(A.Ms.get(T)):A.Pi.getTargetData(d,v)})(i,c,Xo(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?a:Je.min(),e?o:An()))).next((h=>(lI(i,KN(t),h),{documents:h,Qs:o})))))}function lI(n,t,e){let i=n.Os.get(t)||Je.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class fb{constructor(){this.activeTargetIds=ZN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uI{constructor(){this.Mo=new fb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new fb,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="ConnectivityMonitor";class pb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(db,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){le(db,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp=null;function u0(){return gp===null?gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():gp++,"0x"+gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="RestConnection",hI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Zp?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,o){const c=u0(),h=this.zo(t,e.toUriEncodedString());le(dg,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:d}=new URL(h),v=jh(d);return this.Jo(t,h,f,i,v).then((A=>(le(dg,`Received RPC '${t}' ${c}: `,A),A)),(A=>{throw Rh(dg,`RPC '${t}' ${c} failed with error: `,A,"url: ",h,"request:",i),A}))}Ho(t,e,i,a,o,c){return this.Go(t,e,i,a,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const i=hI[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="WebChannelConnection";class pI extends fI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,o){const c=u0();return new Promise(((h,f)=>{const d=new i4;d.setWithCredentials(!0),d.listenOnce(s4.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Lp.NO_ERROR:const A=d.getResponseJson();le(fs,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),h(A);break;case Lp.TIMEOUT:le(fs,`RPC '${t}' ${c} timed out`),f(new ue(Yt.DEADLINE_EXCEEDED,"Request time out"));break;case Lp.HTTP_ERROR:const T=d.getStatus();if(le(fs,`RPC '${t}' ${c} failed with status:`,T,"response text:",d.getResponseText()),T>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const V=w==null?void 0:w.error;if(V&&V.status&&V.message){const z=(function(q){const at=q.toLowerCase().replace(/_/g,"-");return Object.values(Yt).indexOf(at)>=0?at:Yt.UNKNOWN})(V.status);f(new ue(z,V.message))}else f(new ue(Yt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ue(Yt.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:t,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{le(fs,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(a);le(fs,`RPC '${t}' ${c} sending request:`,a),d.send(e,"POST",v,i,15)}))}T_(t,e,i){const a=u0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=l4(),h=o4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const v=o.join("");le(fs,`Creating RPC '${t}' stream ${a}: ${v}`,f);const A=c.createWebChannel(v,f);this.I_(A);let T=!1,w=!1;const V=new dI({Yo:F=>{w?le(fs,`Not sending because RPC '${t}' stream ${a} is closed:`,F):(T||(le(fs,`Opening RPC '${t}' stream ${a} transport.`),A.open(),T=!0),le(fs,`RPC '${t}' stream ${a} sending:`,F),A.send(F))},Zo:()=>A.close()}),z=(F,q,at)=>{F.listen(q,(J=>{try{at(J)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return z(A,Of.EventType.OPEN,(()=>{w||(le(fs,`RPC '${t}' stream ${a} transport opened.`),V.o_())})),z(A,Of.EventType.CLOSE,(()=>{w||(w=!0,le(fs,`RPC '${t}' stream ${a} transport closed`),V.a_(),this.E_(A))})),z(A,Of.EventType.ERROR,(F=>{w||(w=!0,Rh(fs,`RPC '${t}' stream ${a} transport errored. Name:`,F.name,"Message:",F.message),V.a_(new ue(Yt.UNAVAILABLE,"The operation could not be completed")))})),z(A,Of.EventType.MESSAGE,(F=>{var q;if(!w){const at=F.data[0];zn(!!at,16349);const J=at,tt=(J==null?void 0:J.error)||((q=J[0])==null?void 0:q.error);if(tt){le(fs,`RPC '${t}' stream ${a} received error:`,tt);const vt=tt.status;let St=(function(D){const K=li[D];if(K!==void 0)return q4(K)})(vt),G=tt.message;St===void 0&&(St=Yt.INTERNAL,G="Unknown error status: "+vt+" with message "+tt.message),w=!0,V.a_(new ue(St,G)),A.close()}else le(fs,`RPC '${t}' stream ${a} received:`,at),V.u_(at)}})),z(h,a4.STAT_EVENT,(F=>{F.stat===Xg.PROXY?le(fs,`RPC '${t}' stream ${a} detected buffering proxy`):F.stat===Xg.NOPROXY&&le(fs,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(n){return new v8(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="PersistentStream";class r3{constructor(t,e,i,a,o,c,h,f){this.Mi=t,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n3(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Yt.RESOURCE_EXHAUSTED?(jl(e.toString()),jl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Yt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ue(Yt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return le(mb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(le(mb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mI extends r3{constructor(t,e,i,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=w8(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Je.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Je.min():c.readTime?Qo(c.readTime):Je.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=o0(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=e0(f)?{documents:E8(o,f)}:{query:x8(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=G4(o,c.resumeToken);const d=i0(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(Je.min())>0){h.readTime=sm(o,c.snapshotVersion.toTimestamp());const d=i0(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const i=N8(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=o0(this.serializer),e.removeTarget=t,this.q_(e)}}class gI extends r3{constructor(t,e,i,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return zn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,zn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){zn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=S8(t.writeResults,t.commitTime),i=Qo(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=o0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>A8(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{}class vI extends yI{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ue(Yt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,s0(e,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Yt.UNKNOWN,o.toString())}))}Ho(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,s0(e,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(Yt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bI{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jl(e),this.aa=!1):le("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc="RemoteStore";class _I{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Tc(this)&&(le(yc,"Restarting streams for network reachability change."),await(async function(f){const d=rn(f);d.Ea.add(4),await dd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Lm(d)})(this))}))})),this.Ra=new bI(i,a)}}async function Lm(n){if(Tc(n))for(const t of n.da)await t(!0)}async function dd(n){for(const t of n.da)await t(!1)}function i3(n,t){const e=rn(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),r2(e)?n2(e):zh(e).O_()&&e2(e,t))}function t2(n,t){const e=rn(n),i=zh(e);e.Ia.delete(t),i.O_()&&s3(e,t),e.Ia.size===0&&(i.O_()?i.L_():Tc(e)&&e.Ra.set("Unknown"))}function e2(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Je.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}zh(n).Y_(t)}function s3(n,t){n.Va.Ue(t),zh(n).Z_(t)}function n2(n){n.Va=new p8({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),zh(n).start(),n.Ra.ua()}function r2(n){return Tc(n)&&!zh(n).x_()&&n.Ia.size>0}function Tc(n){return rn(n).Ea.size===0}function a3(n){n.Va=void 0}async function wI(n){n.Ra.set("Online")}async function AI(n){n.Ia.forEach(((t,e)=>{e2(n,t)}))}async function SI(n,t){a3(n),r2(n)?(n.Ra.ha(t),n2(n)):n.Ra.set("Unknown")}async function EI(n,t,e){if(n.Ra.set("Online"),t instanceof H4&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(i){le(yc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await om(n,i)}else if(t instanceof Pp?n.Va.Ze(t):t instanceof z4?n.Va.st(t):n.Va.tt(t),!e.isEqual(Je.min()))try{const i=await e3(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(d);v&&o.Ia.set(d,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,d)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(rs.EMPTY_BYTE_STRING,v.snapshotVersion)),s3(o,f);const A=new wu(v.target,f,d,v.sequenceNumber);e2(o,A)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){le(yc,"Failed to raise snapshot:",i),await om(n,i)}}async function om(n,t,e){if(!qh(t))throw t;n.Ea.add(1),await dd(n),n.Ra.set("Offline"),e||(e=()=>e3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(yc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Lm(n)}))}function o3(n,t){return t().catch((e=>om(n,e,t)))}async function km(n){const t=rn(n),e=Du(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:V0;for(;xI(t);)try{const a=await aI(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,TI(t,a)}catch(a){await om(t,a)}l3(t)&&u3(t)}function xI(n){return Tc(n)&&n.Ta.length<10}function TI(n,t){n.Ta.push(t);const e=Du(n);e.O_()&&e.X_&&e.ea(t.mutations)}function l3(n){return Tc(n)&&!Du(n).x_()&&n.Ta.length>0}function u3(n){Du(n).start()}async function NI(n){Du(n).ra()}async function II(n){const t=Du(n);for(const e of n.Ta)t.ea(e.mutations)}async function CI(n,t,e){const i=n.Ta.shift(),a=K0.from(i,t,e);await o3(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await km(n)}async function RI(n,t){t&&Du(n).X_&&await(async function(i,a){if((function(c){return h8(c)&&c!==Yt.ABORTED})(a.code)){const o=i.Ta.shift();Du(i).B_(),await o3(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await km(i)}})(n,t),l3(n)&&u3(n)}async function gb(n,t){const e=rn(n);e.asyncQueue.verifyOperationInProgress(),le(yc,"RemoteStore received new credentials");const i=Tc(e);e.Ea.add(3),await dd(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Lm(e)}async function LI(n,t){const e=rn(n);t?(e.Ea.delete(2),await Lm(e)):t||(e.Ea.add(2),await dd(e),e.Ra.set("Unknown"))}function zh(n){return n.ma||(n.ma=(function(e,i,a){const o=rn(e);return o.sa(),new mI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:wI.bind(null,n),t_:AI.bind(null,n),r_:SI.bind(null,n),H_:EI.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),r2(n)?n2(n):n.Ra.set("Unknown")):(await n.ma.stop(),a3(n))}))),n.ma}function Du(n){return n.fa||(n.fa=(function(e,i,a){const o=rn(e);return o.sa(),new gI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:NI.bind(null,n),r_:RI.bind(null,n),ta:II.bind(null,n),na:CI.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await km(n)):(await n.fa.stop(),n.Ta.length>0&&(le(yc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new hc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const c=Date.now()+i,h=new i2(t,e,c,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Yt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s2(n,t){if(jl("AsyncQueue",`${t}: ${n}`),qh(n))return new ue(Yt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{static emptySet(t){return new Sh(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Oe.comparator(e.key,i.key):(e,i)=>Oe.comparator(e.key,i.key),this.keyedMap=Pf(),this.sortedSet=new Dr(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Sh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Sh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.ga=new Dr(Oe.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):ze(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Ph{constructor(t,e,i,a,o,c,h,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new Ph(t,e,Sh.emptySet(e),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class DI{constructor(){this.queries=vb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=rn(e),o=a.queries;a.queries=vb(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new ue(Yt.ABORTED,"Firestore shutting down"))}}function vb(){return new xc((n=>R4(n)),xm)}async function OI(n,t){const e=rn(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(i=2):(o=new kI,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=s2(c,`Initialization of query '${dh(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&a2(e)}async function PI(n,t){const e=rn(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function MI(n,t){const e=rn(n);let i=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&a2(e)}function jI(n,t,e){const i=rn(n),a=i.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);i.queries.delete(t)}function a2(n){n.Ca.forEach((t=>{t.next()}))}var c0,bb;(bb=c0||(c0={})).Ma="default",bb.Cache="cache";class UI{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Ph(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ph.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==c0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(t){this.key=t}}class h3{constructor(t){this.key=t}}class VI{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=An(),this.mutatedKeys=An(),this.eu=L4(t),this.tu=new Sh(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new yb,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((v,A)=>{const T=a.get(v),w=Tm(this.query,A)?A:null,V=!!T&&this.mutatedKeys.has(T.key),z=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let F=!1;T&&w?T.data.isEqual(w.data)?V!==z&&(i.track({type:3,doc:w}),F=!0):this.su(T,w)||(i.track({type:2,doc:w}),F=!0,(f&&this.eu(w,f)>0||d&&this.eu(w,d)<0)&&(h=!0)):!T&&w?(i.track({type:0,doc:w}),F=!0):T&&!w&&(i.track({type:1,doc:T}),F=!0,(f||d)&&(h=!0)),F&&(w?(c=c.add(w),o=z?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,A)=>(function(w,V){const z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Rt:F})}};return z(w)-z(V)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,d=f!==this.Za;return this.Za=f,c.length!==0||d?{snapshot:new Ph(this.query,t.tu,o,c,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=An(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new h3(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new c3(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=An();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ph.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const o2="SyncEngine";class FI{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class BI{constructor(t){this.key=t,this.hu=!1}}class qI{constructor(t,e,i,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new xc((h=>R4(h)),xm),this.Iu=new Map,this.Eu=new Set,this.du=new Dr(Oe.comparator),this.Au=new Map,this.Ru=new X0,this.Vu={},this.mu=new Map,this.fu=Oh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zI(n,t,e=!0){const i=y3(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await f3(i,t,e,!0),a}async function HI(n,t){const e=y3(n);await f3(e,t,!0,!1)}async function f3(n,t,e,i){const a=await oI(n.localStore,Xo(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await GI(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&i3(n.remoteStore,a),h}async function GI(n,t,e,i,a){n.pu=(A,T,w)=>(async function(z,F,q,at){let J=F.view.ru(q);J.Cs&&(J=await hb(z.localStore,F.query,!1).then((({documents:G})=>F.view.ru(G,J))));const tt=at&&at.targetChanges.get(F.targetId),vt=at&&at.targetMismatches.get(F.targetId)!=null,St=F.view.applyChanges(J,z.isPrimaryClient,tt,vt);return wb(z,F.targetId,St.au),St.snapshot})(n,A,T,w);const o=await hb(n.localStore,t,!0),c=new VI(t,o.Qs),h=c.ru(o.documents),f=fd.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),d=c.applyChanges(h,n.isPrimaryClient,f);wb(n,e,d.au);const v=new FI(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function YI(n,t,e){const i=rn(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!xm(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await l0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&t2(i.remoteStore,a.targetId),h0(i,a.targetId)})).catch(Bh)):(h0(i,a.targetId),await l0(i.localStore,a.targetId,!0))}async function KI(n,t){const e=rn(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),t2(e.remoteStore,i.targetId))}async function WI(n,t,e){const i=eC(n);try{const a=await(function(c,h){const f=rn(c),d=cr.now(),v=h.reduce(((w,V)=>w.add(V.key)),An());let A,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let V=Ul(),z=An();return f.Ns.getEntries(w,v).next((F=>{V=F,V.forEach(((q,at)=>{at.isValidDocument()||(z=z.add(q))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,V))).next((F=>{A=F;const q=[];for(const at of h){const J=a8(at,A.get(at.key).overlayedDocument);J!=null&&q.push(new qu(at.key,J,A4(J.value.mapValue),fo.exists(!0)))}return f.mutationQueue.addMutationBatch(w,d,q,h)})).next((F=>{T=F;const q=F.applyToLocalDocumentSet(A,z);return f.documentOverlayCache.saveOverlays(w,F.batchId,q)}))})).then((()=>({batchId:T.batchId,changes:D4(A)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let d=c.Vu[c.currentUser.toKey()];d||(d=new Dr(wn)),d=d.insert(h,f),c.Vu[c.currentUser.toKey()]=d})(i,a.batchId,e),await pd(i,a.changes),await km(i.remoteStore)}catch(a){const o=s2(a,"Failed to persist write");e.reject(o)}}async function d3(n,t){const e=rn(n);try{const i=await iI(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(zn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?zn(c.hu,14607):a.removedDocuments.size>0&&(zn(c.hu,42227),c.hu=!1))})),await pd(e,i,t)}catch(i){await Bh(i)}}function _b(n,t,e){const i=rn(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=rn(c);f.onlineState=h;let d=!1;f.queries.forEach(((v,A)=>{for(const T of A.Sa)T.va(h)&&(d=!0)})),d&&a2(f)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function $I(n,t,e){const i=rn(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let c=new Dr(Oe.comparator);c=c.insert(o,vs.newNoDocument(o,Je.min()));const h=An().add(o),f=new Cm(Je.min(),new Map,new Dr(wn),c,h);await d3(i,f),i.du=i.du.remove(o),i.Au.delete(t),l2(i)}else await l0(i.localStore,t,!1).then((()=>h0(i,t,e))).catch(Bh)}async function XI(n,t){const e=rn(n),i=t.batch.batchId;try{const a=await rI(e.localStore,t);m3(e,i,null),p3(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await pd(e,a)}catch(a){await Bh(a)}}async function QI(n,t,e){const i=rn(n);try{const a=await(function(c,h){const f=rn(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let v;return f.mutationQueue.lookupMutationBatch(d,h).next((A=>(zn(A!==null,37113),v=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v))).next((()=>f.localDocuments.getDocuments(d,v)))}))})(i.localStore,t);m3(i,t,e),p3(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await pd(i,a)}catch(a){await Bh(a)}}function p3(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function m3(n,t,e){const i=rn(n);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function h0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||g3(n,i)}))}function g3(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(t2(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),l2(n))}function wb(n,t,e){for(const i of e)i instanceof c3?(n.Ru.addReference(i.key,t),JI(n,i)):i instanceof h3?(le(o2,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||g3(n,i.key)):ze(19791,{wu:i})}function JI(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(le(o2,"New document in limbo: "+e),n.Eu.add(i),l2(n))}function l2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Oe(fr.fromString(t)),i=n.fu.next();n.Au.set(i,new BI(e)),n.du=n.du.insert(e,i),i3(n.remoteStore,new wu(Xo(H0(e.path)),i,"TargetPurposeLimboResolution",Am.ce))}}async function pd(n,t,e){const i=rn(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((d=>{var v;if((d||e)&&i.isPrimaryClient){const A=d?!d.fromCache:(v=e==null?void 0:e.targetChanges.get(f.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,A?"current":"not-current")}if(d){a.push(d);const A=J0.As(f.targetId,d);o.push(A)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,d){const v=rn(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Wt.forEach(d,(T=>Wt.forEach(T.Es,(w=>v.persistence.referenceDelegate.addReference(A,T.targetId,w))).next((()=>Wt.forEach(T.ds,(w=>v.persistence.referenceDelegate.removeReference(A,T.targetId,w)))))))))}catch(A){if(!qh(A))throw A;le(Z0,"Failed to update sequence numbers: "+A)}for(const A of d){const T=A.targetId;if(!A.fromCache){const w=v.Ms.get(T),V=w.snapshotVersion,z=w.withLastLimboFreeSnapshotVersion(V);v.Ms=v.Ms.insert(T,z)}}})(i.localStore,o))}async function ZI(n,t){const e=rn(n);if(!e.currentUser.isEqual(t)){le(o2,"User change. New user:",t.toKey());const i=await t3(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new ue(Yt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await pd(e,i.Ls)}}function tC(n,t){const e=rn(n),i=e.Au.get(t);if(i&&i.hu)return An().add(i.key);{let a=An();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function y3(n){const t=rn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=d3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$I.bind(null,t),t.Pu.H_=MI.bind(null,t.eventManager),t.Pu.yu=jI.bind(null,t.eventManager),t}function eC(n){const t=rn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QI.bind(null,t),t}class lm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return nI(this.persistence,new Z8,t.initialUser,this.serializer)}Cu(t){return new Z4(Q0.mi,this.serializer)}Du(t){return new uI}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lm.provider={build:()=>new lm};class nC extends lm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){zn(this.persistence.referenceDelegate instanceof am,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new U8(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new Z4((i=>am.mi(i,e)),this.serializer)}}class f0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_b(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZI.bind(null,this.syncEngine),await LI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new DI})()}createDatastore(t){const e=Rm(t.databaseInfo.databaseId),i=(function(o){return new pI(o)})(t.databaseInfo);return(function(o,c,h,f){return new vI(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,c,h){return new _I(i,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>_b(this.syncEngine,e,0)),(function(){return pb.v()?new pb:new cI})())}createSyncEngine(t,e){return(function(a,o,c,h,f,d,v){const A=new qI(a,o,c,h,f,d);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(a){const o=rn(a);le(yc,"RemoteStore shutting down."),o.Ea.add(5),await dd(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}f0.provider={build:()=>new f0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):jl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="FirestoreClient";class iC{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=ys.UNAUTHENTICATED,this.clientId=U0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{le(Ou,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(le(Ou,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=s2(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function mg(n,t){n.asyncQueue.verifyOperationInProgress(),le(Ou,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await t3(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Ab(n,t){n.asyncQueue.verifyOperationInProgress();const e=await sC(n);le(Ou,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>gb(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>gb(t.remoteStore,a))),n._onlineComponents=t}async function sC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Ou,"Using user provided OfflineComponentProvider");try{await mg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Yt.FAILED_PRECONDITION||a.code===Yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Rh("Error using user provided cache. Falling back to memory cache: "+e),await mg(n,new lm)}}else le(Ou,"Using default OfflineComponentProvider"),await mg(n,new nC(void 0));return n._offlineComponents}async function v3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Ou,"Using user provided OnlineComponentProvider"),await Ab(n,n._uninitializedComponentsProvider._online)):(le(Ou,"Using default OnlineComponentProvider"),await Ab(n,new f0))),n._onlineComponents}function aC(n){return v3(n).then((t=>t.syncEngine))}async function Sb(n){const t=await v3(n),e=t.eventManager;return e.onListen=zI.bind(null,t.syncEngine),e.onUnlisten=YI.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=HI.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=KI.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="firestore.googleapis.com",xb=!0;class Tb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ue(Yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_3,this.ssl=xb}else this.host=t.host,this.ssl=t.ssl??xb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=J4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<M8)throw new ue(Yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_N("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b3(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dm{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ue(Yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new cN;switch(i.type){case"firstParty":return new pN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(Yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=Eb.get(e);i&&(le("ComponentProvider","Removing Datastore"),Eb.delete(e),i.terminate())})(this),Promise.resolve()}}function oC(n,t,e,i={}){var d;n=Tu(n,Dm);const a=jh(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(fw(`https://${h}`),dw("Firestore",!0)),o.host!==_3&&o.host!==h&&Rh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:i};if(!Iu(f,c)&&(n._setSettings(f),i.mockUserToken)){let v,A;if(typeof i.mockUserToken=="string")v=i.mockUserToken,A=ys.MOCK_USER;else{v=bE(i.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ue(Yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ys(T)}n._authCredentials=new hN(new c4(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Hh(this.firestore,t,this._query)}}class hi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hi(this.firestore,t,this._key)}toJSON(){return{type:hi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(ud(e,hi._jsonSchema))return new hi(t,i||null,new Oe(fr.fromString(e.referencePath)))}}hi._jsonSchemaVersion="firestore/documentReference/1.0",hi._jsonSchema={type:ci("string",hi._jsonSchemaVersion),referencePath:ci("string")};class Nu extends Hh{constructor(t,e,i){super(t,e,H0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hi(this.firestore,null,new Oe(t))}withConverter(t){return new Nu(this.firestore,t,this._path)}}function ya(n,t,...e){if(n=Hr(n),h4("collection","path",t),n instanceof Dm){const i=fr.fromString(t,...e);return Uv(i),new Nu(n,null,i)}{if(!(n instanceof hi||n instanceof Nu))throw new ue(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fr.fromString(t,...e));return Uv(i),new Nu(n.firestore,null,i)}}function yo(n,t,...e){if(n=Hr(n),arguments.length===1&&(t=U0.newId()),h4("doc","path",t),n instanceof Dm){const i=fr.fromString(t,...e);return jv(i),new hi(n,null,new Oe(i))}{if(!(n instanceof hi||n instanceof Nu))throw new ue(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fr.fromString(t,...e));return jv(i),new hi(n.firestore,n instanceof Nu?n.converter:null,new Oe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="AsyncQueue";class Ib{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n3(this,"async_queue_retry"),this._c=()=>{const i=pg();i&&le(Nb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=pg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=pg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new hc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!qh(t))throw t;le(Nb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,jl("INTERNAL UNHANDLED ERROR: ",Cb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=i2.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&ze(47125,{Pc:Cb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Cb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Mh extends Dm{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new Ib,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ib(t),this._firestoreClient=void 0,await t}}}function lC(n,t){const e=typeof n=="object"?n:I0(),i=typeof n=="string"?n:Zp,a=Sc(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=yE("firestore");o&&oC(a,...o)}return a}function w3(n){if(n._terminated)throw new ue(Yt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uC(n),n._firestoreClient}function uC(n){var i,a,o;const t=n._freezeSettings(),e=(function(h,f,d,v){return new LN(h,f,d,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,b3(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((o=t.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new iC(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fa(rs.fromBase64String(t))}catch(e){throw new ue(Yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Fa(rs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ud(t,Fa._jsonSchema))return Fa.fromBase64String(t.bytes)}}Fa._jsonSchemaVersion="firestore/bytes/1.0",Fa._jsonSchema={type:ci("string",Fa._jsonSchemaVersion),bytes:ci("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ue(Yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ns(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ue(Yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ue(Yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return wn(this._lat,t._lat)||wn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jo._jsonSchemaVersion}}static fromJSON(t){if(ud(t,Jo._jsonSchema))return new Jo(t.latitude,t.longitude)}}Jo._jsonSchemaVersion="firestore/geoPoint/1.0",Jo._jsonSchema={type:ci("string",Jo._jsonSchemaVersion),latitude:ci("number"),longitude:ci("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ud(t,Zo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Zo(t.vectorValues);throw new ue(Yt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zo._jsonSchemaVersion="firestore/vectorValue/1.0",Zo._jsonSchema={type:ci("string",Zo._jsonSchemaVersion),vectorValues:ci("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=/^__.*__$/;class hC{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new qu(t,this.data,this.fieldMask,e,this.fieldTransforms):new hd(t,this.data,e,this.fieldTransforms)}}class A3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new qu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function S3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ac:n})}}class c2{constructor(t,e,i,a,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new c2({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const e=(a=this.path)==null?void 0:a.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){var a;const e=(a=this.path)==null?void 0:a.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return um(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(S3(this.Ac)&&cC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class fC{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Rm(t)}Cc(t,e,i,a=!1){return new c2({Ac:t,methodName:e,Dc:i,path:ns.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h2(n){const t=n._freezeSettings(),e=Rm(n._databaseId);return new fC(n._databaseId,!!t.ignoreUndefinedProperties,e)}function dC(n,t,e,i,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);f2("Data must be an object, but it was:",c,i);const h=E3(i,c);let f,d;if(o.merge)f=new ga(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const A of o.mergeFields){const T=d0(t,A,e);if(!c.contains(T))throw new ue(Yt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);T3(v,T)||v.push(T)}f=new ga(v),d=c.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=c.fieldTransforms;return new hC(new Zs(h),f,d)}class Pm extends u2{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Pm}}function pC(n,t,e,i){const a=n.Cc(1,t,e);f2("Data must be an object, but it was:",a,i);const o=[],c=Zs.empty();Bu(i,((f,d)=>{const v=d2(t,f,e);d=Hr(d);const A=a.yc(v);if(d instanceof Pm)o.push(v);else{const T=md(d,A);T!=null&&(o.push(v),c.set(v,T))}}));const h=new ga(o);return new A3(c,h,a.fieldTransforms)}function mC(n,t,e,i,a,o){const c=n.Cc(1,t,e),h=[d0(t,i,e)],f=[a];if(o.length%2!=0)throw new ue(Yt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(d0(t,o[T])),f.push(o[T+1]);const d=[],v=Zs.empty();for(let T=h.length-1;T>=0;--T)if(!T3(d,h[T])){const w=h[T];let V=f[T];V=Hr(V);const z=c.yc(w);if(V instanceof Pm)d.push(w);else{const F=md(V,z);F!=null&&(d.push(w),v.set(w,F))}}const A=new ga(d);return new A3(v,A,c.fieldTransforms)}function gC(n,t,e,i=!1){return md(e,n.Cc(i?4:3,t))}function md(n,t){if(x3(n=Hr(n)))return f2("Unsupported field value:",t,n),E3(n,t);if(n instanceof u2)return(function(i,a){if(!S3(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let f=md(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,a){if((i=Hr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return t8(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=cr.fromDate(i);return{timestampValue:sm(a.serializer,o)}}if(i instanceof cr){const o=new cr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sm(a.serializer,o)}}if(i instanceof Jo)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fa)return{bytesValue:G4(a.serializer,i._byteString)};if(i instanceof hi){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Zo)return(function(c,h){return{mapValue:{fields:{[_4]:{stringValue:w4},[tm]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return G0(h.serializer,d)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${wm(i)}`)})(n,t)}function E3(n,t){const e={};return p4(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bu(n,((i,a)=>{const o=md(a,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function x3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof cr||n instanceof Jo||n instanceof Fa||n instanceof hi||n instanceof u2||n instanceof Zo)}function f2(n,t,e){if(!x3(e)||!f4(e)){const i=wm(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function d0(n,t,e){if((t=Hr(t))instanceof Om)return t._internalPath;if(typeof t=="string")return d2(n,t);throw um("Field path arguments must be of type string or ",n,!1,void 0,e)}const yC=new RegExp("[~\\*/\\[\\]]");function d2(n,t,e){if(t.search(yC)>=0)throw um(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Om(...t.split("."))._internalPath}catch{throw um(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function um(n,t,e,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new ue(Yt.INVALID_ARGUMENT,h+n+f)}function T3(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(p2("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class vC extends N3{data(){return super.data()}}function p2(n,t){return typeof t=="string"?d2(n,t):t instanceof Om?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(Yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m2{}class _C extends m2{}function Pu(n,t,...e){let i=[];t instanceof m2&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((f=>f instanceof g2)).length,h=o.filter((f=>f instanceof Mm)).length;if(c>1||c>0&&h>0)throw new ue(Yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Mm extends _C{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Mm(t,e,i)}_apply(t){const e=this._parse(t);return I3(t._query,e),new Hh(t.firestore,t.converter,n0(t._query,e))}_parse(t){const e=h2(t.firestore);return(function(o,c,h,f,d,v,A){let T;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(Yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){kb(A,v);const V=[];for(const z of A)V.push(Lb(f,o,z));T={arrayValue:{values:V}}}else T=Lb(f,o,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||kb(A,v),T=gC(h,c,A,v==="in"||v==="not-in");return ui.create(d,v,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Mu(n,t,e){const i=t,a=p2("where",n);return Mm._create(a,i,e)}class g2 extends m2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new g2(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:go.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)I3(c,f),c=n0(c,f)})(t._query,e),new Hh(t.firestore,t.converter,n0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Lb(n,t,e){if(typeof(e=Hr(e))=="string"){if(e==="")throw new ue(Yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C4(t)&&e.indexOf("/")!==-1)throw new ue(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(fr.fromString(e));if(!Oe.isDocumentKey(i))throw new ue(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Yv(n,new Oe(i))}if(e instanceof hi)return Yv(n,e._key);throw new ue(Yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(e)}.`)}function kb(n,t){if(!Array.isArray(n)||n.length===0)throw new ue(Yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function I3(n,t){const e=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ue(Yt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ue(Yt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class wC{convertValue(t,e="none"){switch(ku(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Lu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ze(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Bu(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){var i,a,o;const e=(o=(a=(i=t.fields)==null?void 0:i[tm].arrayValue)==null?void 0:a.values)==null?void 0:o.map((c=>Xr(c.doubleValue)));return new Zo(e)}convertGeoPoint(t){return new Jo(Xr(t.latitude),Xr(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Em(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Xf(t));default:return null}}convertTimestamp(t){const e=Ru(t);return new cr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fr.fromString(t);zn(Q4(i),9688,{name:t});const a=new Qf(i.get(1),i.get(3)),o=new Oe(i.popFirst(5));return a.isEqual(e)||jl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class jf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fc extends N3{constructor(t,e,i,a,o,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(p2("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Yt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=fc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}fc._jsonSchemaVersion="firestore/documentSnapshot/1.0",fc._jsonSchema={type:ci("string",fc._jsonSchemaVersion),bundleSource:ci("string","DocumentSnapshot"),bundleName:ci("string"),bundle:ci("string")};class Mp extends fc{data(t={}){return super.data(t)}}class Eh{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new jf(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Mp(this._firestore,this._userDataWriter,i.key,i,new jf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ue(Yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new Mp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new jf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Mp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new jf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,v=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:SC(h.type),doc:f,oldIndex:d,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Yt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Eh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=U0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function SC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}Eh._jsonSchemaVersion="firestore/querySnapshot/1.0",Eh._jsonSchema={type:ci("string",Eh._jsonSchemaVersion),bundleSource:ci("string","QuerySnapshot"),bundleName:ci("string"),bundle:ci("string")};class C3 extends wC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new hi(this.firestore,null,e)}}function gd(n,t,e,...i){n=Tu(n,hi);const a=Tu(n.firestore,Mh),o=h2(a);let c;return c=typeof(t=Hr(t))=="string"||t instanceof Om?mC(o,"updateDoc",n._key,t,e,i):pC(o,"updateDoc",n._key,t),y2(a,[c.toMutation(n._key,fo.exists(!0))])}function yd(n){return y2(Tu(n.firestore,Mh),[new Y0(n._key,fo.none())])}function ed(n,t){const e=Tu(n.firestore,Mh),i=yo(n),a=AC(n.converter,t);return y2(e,[dC(h2(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,fo.exists(!1))]).then((()=>i))}function ju(n,...t){var f,d,v;n=Hr(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||Rb(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Rb(t[i])){const A=t[i];t[i]=(f=A.next)==null?void 0:f.bind(A),t[i+1]=(d=A.error)==null?void 0:d.bind(A),t[i+2]=(v=A.complete)==null?void 0:v.bind(A)}let o,c,h;if(n instanceof hi)c=Tu(n.firestore,Mh),h=H0(n._key.path),o={next:A=>{t[i]&&t[i](EC(c,n,A))},error:t[i+1],complete:t[i+2]};else{const A=Tu(n,Hh);c=Tu(A.firestore,Mh),h=A._query;const T=new C3(c);o={next:w=>{t[i]&&t[i](new Eh(c,T,A,w))},error:t[i+1],complete:t[i+2]},bC(n._query)}return(function(T,w,V,z){const F=new rC(z),q=new UI(w,F,V);return T.asyncQueue.enqueueAndForget((async()=>OI(await Sb(T),q))),()=>{F.Nu(),T.asyncQueue.enqueueAndForget((async()=>PI(await Sb(T),q)))}})(w3(c),h,a,o)}function y2(n,t){return(function(i,a){const o=new hc;return i.asyncQueue.enqueueAndForget((async()=>WI(await aC(i),a,o))),o.promise})(w3(n),t)}function EC(n,t,e){const i=e.docs.get(t._key),a=new C3(n);return new fc(n,a,t._key,i,new jf(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){Fh=a})(Uh),tl(new po("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Mh(new fN(i.getProvider("auth-internal")),new mN(c,i.getProvider("app-check-internal")),(function(d,v){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ue(Yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qf(d.options.projectId,v)})(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ba(Dv,Ov,t),Ba(Dv,Ov,"esm2020")})();const R3="@firebase/installations",v2="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=1e4,k3=`w:${v2}`,D3="FIS_v2",xC="https://firebaseinstallations.googleapis.com/v1",TC=3600*1e3,NC="installations",IC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vc=new Ac(NC,IC,CC);function O3(n){return n instanceof bo&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3({projectId:n}){return`${xC}/projects/${n}/installations`}function M3(n){return{token:n.token,requestStatus:2,expiresIn:LC(n.expiresIn),creationTime:Date.now()}}async function j3(n,t){const i=(await t.json()).error;return vc.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function U3({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function RC(n,{refreshToken:t}){const e=U3(n);return e.append("Authorization",kC(t)),e}async function V3(n){const t=await n();return t.status>=500&&t.status<600?n():t}function LC(n){return Number(n.replace("s","000"))}function kC(n){return`${D3} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=P3(n),a=U3(n),o=t.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const c={fid:e,authVersion:D3,appId:n.appId,sdkVersion:k3},h={method:"POST",headers:a,body:JSON.stringify(c)},f=await V3(()=>fetch(i,h));if(f.ok){const d=await f.json();return{fid:d.fid||e,registrationStatus:2,refreshToken:d.refreshToken,authToken:M3(d.authToken)}}else throw await j3("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=/^[cdef][\w-]{21}$/,p0="";function MC(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=jC(n);return PC.test(e)?e:p0}catch{return p0}}function jC(n){return OC(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new Map;function q3(n,t){const e=jm(n);z3(e,t),UC(e,t)}function z3(n,t){const e=B3.get(n);if(e)for(const i of e)i(t)}function UC(n,t){const e=VC();e&&e.postMessage({key:n,fid:t}),FC()}let cc=null;function VC(){return!cc&&"BroadcastChannel"in self&&(cc=new BroadcastChannel("[Firebase] FID Change"),cc.onmessage=n=>{z3(n.data.key,n.data.fid)}),cc}function FC(){B3.size===0&&cc&&(cc.close(),cc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebase-installations-database",qC=1,bc="firebase-installations-store";let gg=null;function b2(){return gg||(gg=bw(BC,qC,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(bc)}}})),gg}async function cm(n,t){const e=jm(n),a=(await b2()).transaction(bc,"readwrite"),o=a.objectStore(bc),c=await o.get(e);return await o.put(t,e),await a.done,(!c||c.fid!==t.fid)&&q3(n,t.fid),t}async function H3(n){const t=jm(n),i=(await b2()).transaction(bc,"readwrite");await i.objectStore(bc).delete(t),await i.done}async function Um(n,t){const e=jm(n),a=(await b2()).transaction(bc,"readwrite"),o=a.objectStore(bc),c=await o.get(e),h=t(c);return h===void 0?await o.delete(e):await o.put(h,e),await a.done,h&&(!c||c.fid!==h.fid)&&q3(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(n){let t;const e=await Um(n.appConfig,i=>{const a=zC(i),o=HC(n,a);return t=o.registrationPromise,o.installationEntry});return e.fid===p0?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function zC(n){const t=n||{fid:MC(),registrationStatus:0};return G3(t)}function HC(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(vc.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=GC(n,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:YC(n)}:{installationEntry:t}}async function GC(n,t){try{const e=await DC(n,t);return cm(n.appConfig,e)}catch(e){throw O3(e)&&e.customData.serverCode===409?await H3(n.appConfig):await cm(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function YC(n){let t=await Db(n.appConfig);for(;t.registrationStatus===1;)await F3(100),t=await Db(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await _2(n);return i||e}return t}function Db(n){return Um(n,t=>{if(!t)throw vc.create("installation-not-found");return G3(t)})}function G3(n){return KC(n)?{fid:n.fid,registrationStatus:0}:n}function KC(n){return n.registrationStatus===1&&n.registrationTime+L3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC({appConfig:n,heartbeatServiceProvider:t},e){const i=$C(n,e),a=RC(n,e),o=t.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const c={installation:{sdkVersion:k3,appId:n.appId}},h={method:"POST",headers:a,body:JSON.stringify(c)},f=await V3(()=>fetch(i,h));if(f.ok){const d=await f.json();return M3(d)}else throw await j3("Generate Auth Token",f)}function $C(n,{fid:t}){return`${P3(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,t=!1){let e;const i=await Um(n.appConfig,o=>{if(!Y3(o))throw vc.create("not-registered");const c=o.authToken;if(!t&&JC(c))return o;if(c.requestStatus===1)return e=XC(n,t),o;{if(!navigator.onLine)throw vc.create("app-offline");const h=t7(o);return e=QC(n,h),h}});return e?await e:i.authToken}async function XC(n,t){let e=await Ob(n.appConfig);for(;e.authToken.requestStatus===1;)await F3(100),e=await Ob(n.appConfig);const i=e.authToken;return i.requestStatus===0?w2(n,t):i}function Ob(n){return Um(n,t=>{if(!Y3(t))throw vc.create("not-registered");const e=t.authToken;return e7(e)?{...t,authToken:{requestStatus:0}}:t})}async function QC(n,t){try{const e=await WC(n,t),i={...t,authToken:e};return await cm(n.appConfig,i),e}catch(e){if(O3(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await H3(n.appConfig);else{const i={...t,authToken:{requestStatus:0}};await cm(n.appConfig,i)}throw e}}function Y3(n){return n!==void 0&&n.registrationStatus===2}function JC(n){return n.requestStatus===2&&!ZC(n)}function ZC(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+TC}function t7(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function e7(n){return n.requestStatus===1&&n.requestTime+L3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(n){const t=n,{installationEntry:e,registrationPromise:i}=await _2(t);return i?i.catch(console.error):w2(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7(n,t=!1){const e=n;return await i7(e),(await w2(e,t)).token}async function i7(n){const{registrationPromise:t}=await _2(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(n){if(!n||!n.options)throw yg("App Configuration");if(!n.name)throw yg("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw yg(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function yg(n){return vc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="installations",a7="installations-internal",o7=n=>{const t=n.getProvider("app").getImmediate(),e=s7(t),i=Sc(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},l7=n=>{const t=n.getProvider("app").getImmediate(),e=Sc(t,K3).getImmediate();return{getId:()=>n7(e),getToken:a=>r7(e,a)}};function u7(){tl(new po(K3,o7,"PUBLIC")),tl(new po(a7,l7,"PRIVATE"))}u7();Ba(R3,v2);Ba(R3,v2,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="analytics",c7="firebase_id",h7="origin",f7=60*1e3,d7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",A2="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new ym("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ba=new Ac("analytics","Analytics",p7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(n){if(!n.startsWith(A2)){const t=ba.create("invalid-gtag-resource",{gtagURL:n});return Rs.warn(t.message),""}return n}function W3(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function g7(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function y7(n,t){const e=g7("firebase-js-sdk-policy",{createScriptURL:m7}),i=document.createElement("script"),a=`${A2}?l=${n}&id=${t}`;i.src=e?e==null?void 0:e.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function v7(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function b7(n,t,e,i,a,o){const c=i[a];try{if(c)await t[c];else{const f=(await W3(e)).find(d=>d.measurementId===a);f&&await t[f.appId]}}catch(h){Rs.error(h)}n("config",a,o)}async function _7(n,t,e,i,a){try{let o=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const h=await W3(e);for(const f of c){const d=h.find(A=>A.measurementId===f),v=d&&t[d.appId];if(v)o.push(v);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),n("event",i,a||{})}catch(o){Rs.error(o)}}function w7(n,t,e,i){async function a(o,...c){try{if(o==="event"){const[h,f]=c;await _7(n,t,e,h,f)}else if(o==="config"){const[h,f]=c;await b7(n,t,e,i,h,f)}else if(o==="consent"){const[h,f]=c;n("consent",h,f)}else if(o==="get"){const[h,f,d]=c;n("get",h,f,d)}else if(o==="set"){const[h]=c;n("set",h)}else n(o,...c)}catch(h){Rs.error(h)}}return a}function A7(n,t,e,i,a){let o=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=w7(o,n,t,e),{gtagCore:o,wrappedGtag:window[a]}}function S7(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(A2)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=30,x7=1e3;class T7{constructor(t={},e=x7){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const $3=new T7;function N7(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function I7(n){var c;const{appId:t,apiKey:e}=n,i={method:"GET",headers:N7(e)},a=d7.replace("{app-id}",t),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let h="";try{const f=await o.json();(c=f.error)!=null&&c.message&&(h=f.error.message)}catch{}throw ba.create("config-fetch-failed",{httpStatus:o.status,responseMessage:h})}return o.json()}async function C7(n,t=$3,e){const{appId:i,apiKey:a,measurementId:o}=n.options;if(!i)throw ba.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:i};throw ba.create("no-api-key")}const c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new k7;return setTimeout(async()=>{h.abort()},f7),X3({appId:i,apiKey:a,measurementId:o},c,h,t)}async function X3(n,{throttleEndTimeMillis:t,backoffCount:e},i,a=$3){var h;const{appId:o,measurementId:c}=n;try{await R7(i,t)}catch(f){if(c)return Rs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:c};throw f}try{const f=await I7(n);return a.deleteThrottleMetadata(o),f}catch(f){const d=f;if(!L7(d)){if(a.deleteThrottleMetadata(o),c)return Rs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:c};throw f}const v=Number((h=d==null?void 0:d.customData)==null?void 0:h.httpStatus)===503?iv(e,a.intervalMillis,E7):iv(e,a.intervalMillis),A={throttleEndTimeMillis:Date.now()+v,backoffCount:e+1};return a.setThrottleMetadata(o,A),Rs.debug(`Calling attemptFetch again in ${v} millis`),X3(n,A,i,a)}}function R7(n,t){return new Promise((e,i)=>{const a=Math.max(t-Date.now(),0),o=setTimeout(e,a);n.addEventListener(()=>{clearTimeout(o),i(ba.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function L7(n){if(!(n instanceof bo)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class k7{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function D7(n,t,e,i,a){if(a&&a.global){n("event",e,i);return}else{const o=await t,c={...i,send_to:o};n("event",e,c)}}async function O7(n,t,e,i){if(i&&i.global){const a={};for(const o of Object.keys(e))a[`user_properties.${o}`]=e[o];return n("set",a),Promise.resolve()}else{const a=await t;n("config",a,{update:!0,user_properties:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(){if(mw())try{await gw()}catch(n){return Rs.warn(ba.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Rs.warn(ba.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function M7(n,t,e,i,a,o,c){const h=C7(n);h.then(T=>{e[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Rs.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Rs.error(T)),t.push(h);const f=P7().then(T=>{if(T)return i.getId()}),[d,v]=await Promise.all([h,f]);S7(o)||y7(o,d.measurementId),a("js",new Date);const A=(c==null?void 0:c.config)??{};return A[h7]="firebase",A.update=!0,v!=null&&(A[c7]=v),a("config",d.measurementId,A),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(t){this.app=t}_delete(){return delete xh[this.app.options.appId],Promise.resolve()}}let xh={},Pb=[];const Mb={};let vg="dataLayer",U7="gtag",jb,S2,Ub=!1;function V7(){const n=[];if(pw()&&n.push("This is a browser extension environment."),IE()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),e=ba.create("invalid-analytics-context",{errorInfo:t});Rs.warn(e.message)}}function F7(n,t,e){V7();const i=n.options.appId;if(!i)throw ba.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Rs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ba.create("no-api-key");if(xh[i]!=null)throw ba.create("already-exists",{id:i});if(!Ub){v7(vg);const{wrappedGtag:o,gtagCore:c}=A7(xh,Pb,Mb,vg,U7);S2=o,jb=c,Ub=!0}return xh[i]=M7(n,Pb,Mb,t,jb,vg,e),new j7(n)}function B7(n=I0()){n=Hr(n);const t=Sc(n,hm);return t.isInitialized()?t.getImmediate():q7(n)}function q7(n,t={}){const e=Sc(n,hm);if(e.isInitialized()){const a=e.getImmediate();if(Iu(t,e.getOptions()))return a;throw ba.create("already-initialized")}return e.initialize({options:t})}function z7(n,t,e){n=Hr(n),O7(S2,xh[n.app.options.appId],t,e).catch(i=>Rs.error(i))}function H7(n,t,e,i){n=Hr(n),D7(S2,xh[n.app.options.appId],t,e,i).catch(a=>Rs.error(a))}const Vb="@firebase/analytics",Fb="0.10.19";function G7(){tl(new po(hm,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return F7(i,a,e)},"PUBLIC")),tl(new po("analytics-internal",n,"PRIVATE")),Ba(Vb,Fb),Ba(Vb,Fb,"esm2020");function n(t){try{const e=t.getProvider(hm).getImmediate();return{logEvent:(i,a,o)=>H7(e,i,a,o),setUserProperties:(i,a)=>z7(e,i,a)}}catch(e){throw ba.create("interop-component-reg-failed",{reason:e})}}}G7();const Y7={apiKey:"AIzaSyD8bIUJRuVCE10Uvap1z_aCVpc1mstcMoc",authDomain:"calculadora-keto-1eb5e.firebaseapp.com",projectId:"calculadora-keto-1eb5e",storageBucket:"calculadora-keto-1eb5e.firebasestorage.app",messagingSenderId:"503210674682",appId:"1:503210674682:web:fa80952a2590c683b6fc43",measurementId:"G-71LLSKPZSX"},E2=_w(Y7),yp=lN(E2),kr=lC(E2);B7(E2);const K7="/calculadora-keto/assets/logo-ak-C_Fqx3Ok.jpg",W7=({isOpen:n,toggleSidebar:t,activeTab:e,setActiveTab:i,onOpenCalculator:a,onOpenOrders:o,user:c,onLogout:h})=>P.jsxs(P.Fragment,{children:[n&&P.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:t}),P.jsx("aside",{className:`
        fixed top-0 left-0 h-full w-72 bg-brand-beige border-r border-[#E5DCD3] z-50 transform transition-transform duration-300 ease-in-out
        ${n?"translate-x-0":"-translate-x-full"}
        md:translate-x-0 md:static
      `,children:P.jsxs("div",{className:"p-8 flex flex-col h-full",children:[P.jsxs("div",{className:"flex flex-col items-center mb-6",children:[P.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white shadow-lg mb-4 bg-white",children:P.jsx("img",{src:K7,alt:"Alternativa Keto Logo",className:"w-full h-full object-cover"})}),P.jsxs("div",{className:"flex flex-col items-center",children:[P.jsxs("div",{className:"flex items-center gap-2 text-brand-brown mb-1",children:[P.jsx("div",{className:"h-6 w-6 rounded-full bg-brand-accent/20 flex items-center justify-center",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),P.jsxs("span",{className:"font-bold text-lg",children:["Hola, ",(c==null?void 0:c.displayName)||"Anto"]})]}),P.jsx("button",{onClick:h,className:"text-sm text-brand-brown/70 hover:text-brand-brown underline hover:font-medium transition-all",children:"Cerrar Sesin"})]})]}),P.jsxs("nav",{className:"flex-1 space-y-4",children:[P.jsxs("button",{onClick:()=>{i("dashboard"),window.innerWidth<768&&t()},className:`w-full text-left p-4 rounded-xl transition-all duration-200 flex items-center gap-3
                ${e==="dashboard"?"bg-brand-brown text-white shadow-md font-medium":"bg-white text-brand-brown hover:bg-brand-cream border border-transparent hover:border-brand-brown/10"}`,children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Dashboard Principal"]}),P.jsxs("button",{onClick:()=>{a(),window.innerWidth<768&&t()},className:`w-full text-left p-4 rounded-xl transition-all duration-200 flex flex-col items-start gap-1 border
                bg-brand-brown/10 text-brand-brown border-brand-brown/20 hover:bg-brand-brown/20`,children:[P.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"CALCULADORA MAESTRA"]}),P.jsx("span",{className:"text-xs text-brand-brown/70",children:"Materia Prima  Recetas  Precios"})]}),P.jsxs("button",{onClick:()=>{o(),window.innerWidth<768&&t()},className:`w-full text-left p-4 rounded-xl transition-all duration-200 flex flex-col items-start gap-1 border
                bg-brand-brown/10 text-brand-brown border-brand-brown/20 hover:bg-brand-brown/20`,children:[P.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"GESTIN DE PEDIDOS"]}),P.jsx("span",{className:"text-xs text-brand-brown/70",children:"Clientes  Nuevo Pedido"})]})]}),P.jsx("div",{className:"text-center text-xs text-brand-brown/40 font-serif mt-auto",children:" 2025 KetoCost Bakery"})]})})]}),$7=({user:n,title:t,onLogout:e,toggleSidebar:i})=>P.jsxs("header",{className:"bg-brand-beige border-b border-[#E5DCD3] p-4 md:p-6 flex justify-between items-center sticky top-0 z-40",children:[P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsx("button",{onClick:i,className:"md:hidden text-brand-brown hover:bg-brand-brown/10 p-2 rounded-lg",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),P.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-bold text-brand-brown",children:t})]}),P.jsx("div",{className:"flex items-center gap-4"})]}),X7=({children:n,user:t,activeTab:e,setActiveTab:i,onLogout:a,onOpenCalculator:o,onOpenOrders:c})=>{const[h,f]=de.useState(!1),d=()=>f(!h),v=()=>{switch(e){case"dashboard":return"Dashboard Principal";case"calculator":return"Calculadora Maestra";case"orders":return"Gestin de Pedidos";default:return"Dashboard"}};return P.jsxs("div",{className:"flex h-screen bg-brand-beige overflow-hidden",children:[P.jsx(W7,{isOpen:h,toggleSidebar:d,activeTab:e,setActiveTab:i,onOpenCalculator:o,onOpenOrders:c,user:t,onLogout:a}),P.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden w-full relative",children:[P.jsx($7,{user:t,title:v(),onLogout:a,toggleSidebar:d}),P.jsx("main",{className:"flex-1 overflow-y-auto w-full p-4 md:p-8 bg-brand-beige",children:P.jsx("div",{className:"max-w-7xl mx-auto h-full",children:n})})]})]})},Q7=({orders:n,onEdit:t,onView:e})=>{const i=n.filter(d=>new Date(d.deliveryDate)>=new Date(new Date().setHours(0,0,0,0))).sort((d,v)=>new Date(d.deliveryDate).getTime()-new Date(v.deliveryDate).getTime()).slice(0,5),[a,o]=de.useState(null),c=async d=>{try{const v=d.status==="completed"?"pending":"completed";await gd(yo(kr,"orders",d.id),{status:v})}catch(v){console.error("Error updating status:",v),alert("Error al actualizar estado")}},h=d=>{a===d?f(d):(o(d),setTimeout(()=>o(null),3e3))},f=async d=>{try{console.log("Iniciando borrado (Inline Confirm)...",d),await yd(yo(kr,"orders",d)),console.log("Borrado exitoso"),o(null)}catch(v){console.error("Error deleting order:",v),alert(`Error al eliminar pedido: ${v.message}`)}};return P.jsxs("div",{className:"bg-brand-cream rounded-xl shadow-sm border border-[#E5DCD3] p-6 w-full lg:w-80",children:[P.jsx("h3",{className:"text-xl font-serif font-bold text-brand-brown mb-4",children:"Prximas Entregas"}),P.jsx("div",{className:"space-y-4",children:i.length>0?i.map(d=>P.jsxs("div",{onClick:()=>e&&e(d),className:"flex flex-col pb-3 border-b border-brand-brown/10 last:border-0 group cursor-pointer hover:bg-brand-brown/5 transition-colors rounded-lg p-2",children:[P.jsxs("div",{className:"flex justify-between items-start mb-2",children:[P.jsxs("div",{className:"text-sm text-brand-brown",children:[P.jsx("span",{className:"font-bold block text-brand-brown/80",children:new Date(d.deliveryDate).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})}),d.items.map(v=>v.name).join(", "),P.jsxs("span",{className:"text-stone-400 block text-xs",children:["(",d.clientName,")"]})]}),P.jsx("div",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${d.status==="completed"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:d.status==="completed"?"Entregado":"Pendiente"})]}),P.jsxs("div",{className:"flex gap-2 justify-end",children:[P.jsx("button",{onClick:v=>{v.stopPropagation(),c(d)},className:"p-1.5 text-xs bg-white border border-brand-brown/20 rounded hover:bg-brand-brown/5 text-brand-brown shadow-sm",title:d.status==="completed"?"Marcar Pendiente":"Marcar Entregado",children:d.status==="completed"?"":""}),P.jsx("button",{onClick:v=>{v.stopPropagation(),t&&t(d)},className:"p-1.5 text-xs bg-white border border-brand-brown/20 rounded hover:bg-brand-brown/5 text-brand-brown shadow-sm",title:"Editar",children:""}),P.jsx("button",{onClick:v=>{v.stopPropagation(),h(d.id)},className:`p-1.5 text-xs bg-white border rounded shadow-sm transition-colors ${a===d.id?"border-red-500 bg-red-500 text-white hover:bg-red-600":"border-red-200 hover:bg-red-50 text-red-500"}`,title:"Eliminar",children:a===d.id?"Borrar?":""})]})]},d.id)):P.jsx("p",{className:"text-brand-brown/40 italic text-center py-4",children:"No hay entregas prximas"})})]})},Bb=({title:n,value:t,subtext:e,isAlert:i})=>P.jsxs("div",{className:"bg-brand-cream rounded-xl shadow-sm border border-[#E5DCD3] overflow-hidden flex flex-col",children:[P.jsx("div",{className:"bg-brand-brown text-white px-4 py-2 text-sm font-bold",children:n}),P.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-center items-center text-center",children:[P.jsx("div",{className:`text-2xl font-bold ${i?"text-red-500":"text-brand-brown"}`,children:t}),e&&P.jsx("div",{className:"text-xs text-stone-500 mt-1",children:e})]})]}),J7=({orders:n})=>{const t=new Date,[e,i]=de.useState(new Date),a=e.getFullYear(),o=e.getMonth(),c=new Date(a,o,1).getDay(),h=new Date(a,o+1,0).getDate(),f=Array.from({length:h},(T,w)=>w+1),d=c,v=T=>n.filter(w=>{const V=new Date(w.deliveryDate);return V.getDate()===T&&V.getMonth()===o&&V.getFullYear()===a}),A=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return P.jsxs("div",{className:"bg-brand-cream rounded-xl shadow-sm border border-[#E5DCD3] p-6 flex-1",children:[P.jsxs("div",{className:"flex justify-between items-center mb-6",children:[P.jsx("button",{onClick:()=>i(new Date(a,o-1,1)),className:"text-brand-brown hover:bg-brand-brown/10 p-1 rounded",children:"<"}),P.jsxs("h3",{className:"text-xl font-serif font-bold text-brand-brown capitalize",children:[A[o]," ",a]}),P.jsx("button",{onClick:()=>i(new Date(a,o+1,1)),className:"text-brand-brown hover:bg-brand-brown/10 p-1 rounded",children:">"})]}),P.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-sm mb-2",children:["Dom","Lun","Mar","Mier","Jue","Vie","Sab"].map(T=>P.jsx("div",{className:"font-bold text-brand-brown/70",children:T},T))}),P.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array(d).fill(null).map((T,w)=>P.jsx("div",{},`empty-${w}`)),f.map(T=>{const w=v(T),V=w.length>0,z=T===t.getDate()&&o===t.getMonth()&&a===t.getFullYear();return P.jsxs("div",{className:`
                                aspect-square flex flex-col items-center justify-center rounded-lg cursor-pointer transition-colors relative
                                ${z?"bg-brand-accent/20 border border-brand-accent":"hover:bg-white"}
                                ${V?"bg-white font-bold":""}
                            `,title:V?`${w.length} entregas`:"",children:[P.jsx("span",{className:`text-sm ${V?"font-bold text-brand-brown":"text-stone-500"}`,children:T}),V&&P.jsx("span",{className:"text-xl leading-none mt-1",children:""})]},T)})]})]})},Z7=({userId:n,onEditOrder:t,onViewOrder:e})=>{const[i,a]=de.useState([]);de.useEffect(()=>{if(!n)return;const d=Pu(ya(kr,"orders"),Mu("userId","==",n)),v=ju(d,A=>{const T=A.docs.map(w=>{const V=w.data();return{id:w.id,...V,deliveryDate:V.deliveryDate instanceof cr?V.deliveryDate.toDate():new Date(V.deliveryDate),createdAt:V.createdAt instanceof cr?V.createdAt.toDate():new Date(V.createdAt)}});a(T)});return()=>v()},[n]);const o=new Date;o.setHours(0,0,0,0);const c=i.filter(d=>{const v=new Date(d.deliveryDate);return v.setHours(0,0,0,0),v.getTime()===o.getTime()}).length,h=o.getMonth(),f=i.filter(d=>new Date(d.deliveryDate).getMonth()===h).reduce((d,v)=>{const A=new Date(v.deliveryDate);A.setHours(0,0,0,0);const T=v.status==="completed",w=A<o;return T||w?d+(v.total||0):d+(v.deposit||0)},0);return P.jsxs("div",{className:"flex flex-col gap-8",children:[P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[P.jsx(Bb,{title:"Pedidos Hoy:",value:c.toString()}),P.jsx(Bb,{title:"Ingresos Mes:",value:`$${f.toLocaleString()}`})]}),P.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[P.jsx(J7,{orders:i}),P.jsx(Q7,{orders:i,onEdit:t,onView:e})]})]})};var jp=(n=>(n.KG="Kg",n.GR="Gr",n.LT="Lt",n.UN="Un",n))(jp||{});const qb=n=>{switch(n){case"Kg":return 1e3;case"Lt":return 1e3;case"Gr":return 1;case"Un":return 1;default:return 1}},tR=({userId:n})=>{const[t,e]=de.useState([]),[i,a]=de.useState(""),[o,c]=de.useState(jp.KG),[h,f]=de.useState("1"),[d,v]=de.useState(""),[A,T]=de.useState(null),[w,V]=de.useState("");de.useEffect(()=>{const J=Pu(ya(kr,"ingredients"),Mu("userId","==",n)),tt=ju(J,vt=>{const St=vt.docs.map(G=>({id:G.id,...G.data()}));St.sort((G,O)=>G.name.localeCompare(O.name)),e(St)},vt=>{console.error("Firestore Error:",vt),V("Error de permisos: No se pueden cargar los ingredientes. Verifica las reglas de seguridad en Firebase Console.")});return()=>tt()},[n]);const z=async J=>{J.preventDefault(),V("");const tt=i.trim();if(!tt||!d)return;if(t.some(St=>St.name.toLowerCase()===tt.toLowerCase()&&St.id!==A)){V("Ya existe un ingrediente con ese nombre.");return}try{const St=parseFloat(h)||1,G=parseFloat(d),O={name:tt,unit:o,quantity:St,pricePerUnit:G/St,userId:n};A?(await gd(yo(kr,"ingredients",A),O),T(null)):await ed(ya(kr,"ingredients"),O),at()}catch(St){console.error(St),St.code==="permission-denied"?V("Permiso denegado al guardar. Verifica las reglas de Firestore."):V("Error al guardar.")}},F=J=>{a(J.name),c(J.unit);const tt=J.quantity||1;f(tt.toString()),v((J.pricePerUnit*tt).toString()),T(J.id)},q=async J=>{if(window.confirm("Eliminar este ingrediente?"))try{await yd(yo(kr,"ingredients",J))}catch(tt){console.error(tt),V("No se pudo eliminar. Permisos insuficientes.")}},at=()=>{a(""),c(jp.KG),f("1"),v(""),T(null),V("")};return P.jsxs("div",{className:"space-y-6 animate-fade-in",children:[P.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-brand-brown/10",children:[P.jsx("h2",{className:"text-xl font-bold text-brand-brown mb-4 font-serif",children:A?"Editar Ingrediente":"Nuevo Ingrediente"}),P.jsxs("form",{onSubmit:z,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1",children:"Nombre"}),P.jsx("input",{type:"text",value:i,onChange:J=>a(J.target.value),className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 text-brand-brown bg-brand-beige/50 placeholder-brand-brown/40",placeholder:"Ej. Harina de Almendras",required:!0})]}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1",children:"Unidad de Compra"}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("input",{type:"number",step:"any",value:h,onChange:J=>f(J.target.value),className:"w-24 p-3 rounded-xl border border-brand-brown/20 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 text-brand-brown bg-brand-beige/50 placeholder-brand-brown/40",placeholder:"Cant.",required:!0}),P.jsx("select",{value:o,onChange:J=>c(J.target.value),className:"flex-1 p-3 rounded-xl border border-brand-brown/20 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 bg-brand-beige/50 text-brand-brown cursor-pointer",children:Object.values(jp).map(J=>P.jsx("option",{value:J,children:J},J))})]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1",children:"Precio"}),P.jsx("input",{type:"number",step:"0.01",value:d,onChange:J=>v(J.target.value),className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 text-brand-brown bg-brand-beige/50 placeholder-brand-brown/40",placeholder:"0.00",required:!0})]})]}),w&&P.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm border border-red-100",children:w}),P.jsxs("div",{className:"flex gap-2 pt-2",children:[P.jsx("button",{type:"submit",className:"flex-1 bg-brand-brown text-white py-3 rounded-xl font-bold hover:bg-[#4A2E21] transition shadow-md",children:A?"Actualizar":"Guardar"}),A&&P.jsx("button",{type:"button",onClick:at,className:"px-4 py-3 bg-brand-brown/10 text-brand-brown rounded-xl font-bold hover:bg-brand-brown/20",children:"Cancelar"})]})]})]}),P.jsxs("div",{className:"space-y-3",children:[P.jsxs("h3",{className:"text-lg font-bold text-brand-brown pl-1 font-serif",children:["Inventario (",t.length,")"]}),t.length===0?P.jsx("p",{className:"text-brand-brown/40 text-center py-8 italic",children:w?"No se pudieron cargar datos.":"No hay ingredientes registrados."}):t.map(J=>P.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-brand-brown/10 flex justify-between items-center hover:border-brand-brown/30 transition-colors",children:[P.jsxs("div",{children:[P.jsx("h4",{className:"font-bold text-brand-brown",children:J.name}),P.jsxs("p",{className:"text-sm text-brand-brown/60",children:["$",J.pricePerUnit.toLocaleString()," / ",J.unit]})]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("button",{onClick:()=>F(J),className:"p-2 text-brand-brown bg-brand-brown/5 rounded-lg hover:bg-brand-brown/10 transition-colors",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),P.jsx("button",{onClick:()=>q(J.id),className:"p-2 text-red-500 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},J.id))]})]})},eR=({userId:n})=>{const[t,e]=de.useState([]),[i,a]=de.useState([]),[o,c]=de.useState(""),[h,f]=de.useState([]),[d,v]=de.useState(""),[A,T]=de.useState(null),[w,V]=de.useState(""),[z,F]=de.useState("");de.useEffect(()=>{const x=Pu(ya(kr,"ingredients"),Mu("userId","==",n)),R=ju(x,k=>{const lt=k.docs.map(_t=>({id:_t.id,..._t.data()}));lt.sort((_t,st)=>_t.name.localeCompare(st.name)),e(lt)},k=>console.error("Error loading ingredients:",k));return()=>R()},[n]),de.useEffect(()=>{const x=Pu(ya(kr,"recipes"),Mu("userId","==",n)),R=ju(x,k=>{const lt=k.docs.map(_t=>({id:_t.id,..._t.data()}));lt.sort((_t,st)=>_t.name.localeCompare(st.name)),a(lt)},k=>console.error("Error loading recipes:",k));return()=>R()},[n]);const q=()=>{f([...h,{ingredientId:"",quantityUsed:""}])},at=x=>{const R=[...h];R.splice(x,1),f(R)},J=(x,R,k)=>{const lt=[...h];lt[x]={...lt[x],[R]:k},f(lt)},tt=()=>{let x=0;return h.forEach(R=>{const k=t.find(_t=>_t.id===R.ingredientId),lt=parseFloat(R.quantityUsed);if(k&&!isNaN(lt)){const _t=qb(k.unit);x+=k.pricePerUnit/_t*lt}}),x},vt=async x=>{x.preventDefault(),V(""),F("");const R=parseFloat(d);if(!o||h.length===0||isNaN(R)||R<=0){alert("Por favor complete todos los campos correctamente.");return}const k=tt(),lt=k/R,_t=h.map(pt=>{const dt=t.find(U=>U.id===pt.ingredientId),Nt=parseFloat(pt.quantityUsed),qt=qb(dt.unit);return{ingredientId:pt.ingredientId,quantityUsed:Nt,calculatedCost:dt.pricePerUnit/qt*Nt}}),st={userId:n,name:o,ingredients:_t,totalYieldWeight:R,totalCost:k,costPerGram:lt};try{A?(await gd(yo(kr,"recipes",A),st),V("Receta actualizada correctamente!")):(await ed(ya(kr,"recipes"),st),V("Receta creada exitosamente!")),O(),setTimeout(()=>V(""),3e3),window.scrollTo({top:0,behavior:"smooth"})}catch(pt){console.error(pt),F("Error al guardar. Verifica tu conexin.")}},St=x=>{c(x.name),v(x.totalYieldWeight.toString());const R=x.ingredients.map(k=>({ingredientId:k.ingredientId,quantityUsed:k.quantityUsed.toString()}));f(R),T(x.id),window.scrollTo({top:0,behavior:"smooth"})},G=async(x,R)=>{if(x.stopPropagation(),!!R&&window.confirm("Ests seguro de eliminar esta receta? Esta accin no se puede deshacer."))try{await yd(yo(kr,"recipes",R)),A===R&&O(),V("Receta eliminada correctamente."),setTimeout(()=>V(""),3e3)}catch(k){console.error("Error al eliminar:",k),alert("Error al eliminar la receta. Verifica tus permisos o conexin.")}},O=()=>{c(""),f([]),v(""),T(null),F("")},D=x=>{const R=t.find(k=>k.id===x);if(!R)return"cant";switch(R.unit){case"Kg":return"gramos";case"Lt":return"ml";default:return"unidades"}},K=tt();return P.jsxs("div",{className:"space-y-8 animate-fade-in pb-20",children:[P.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-brand-brown/10",children:[P.jsx("h2",{className:"text-xl font-bold text-brand-brown mb-4 font-serif",children:A?"Editar Receta":"Nueva Receta"}),z&&P.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-3 rounded-lg mb-4 text-sm",children:z}),P.jsxs("form",{onSubmit:vt,className:"space-y-6",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1",children:"Nombre de la Receta"}),P.jsx("input",{type:"text",value:o,onChange:x=>c(x.target.value),className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 text-brand-brown bg-brand-beige/50 placeholder-brand-brown/40",placeholder:"Ej. Torta de Chocolate Keto",required:!0})]}),P.jsxs("div",{className:"space-y-3",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown",children:"Ingredientes"}),P.jsx("button",{type:"button",onClick:q,className:"text-xs bg-brand-brown/10 text-brand-brown px-3 py-1 rounded-full font-bold hover:bg-brand-brown/20 transition-colors",children:"+ Agregar"})]}),h.map((x,R)=>P.jsxs("div",{className:"flex gap-2 items-start",children:[P.jsxs("div",{className:"flex-grow space-y-2",children:[P.jsxs("select",{value:x.ingredientId,onChange:k=>J(R,"ingredientId",k.target.value),className:"w-full p-2.5 rounded-xl border border-brand-brown/20 bg-brand-beige/50 text-sm text-brand-brown focus:ring-2 focus:ring-brand-accent/50 focus:outline-none",required:!0,children:[P.jsx("option",{value:"",children:"Seleccionar ingrediente..."}),t.map(k=>P.jsx("option",{value:k.id,children:k.name},k.id))]}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"number",value:x.quantityUsed,onChange:k=>J(R,"quantityUsed",k.target.value),className:"w-full p-2.5 rounded-xl border border-brand-brown/20 text-sm text-brand-brown bg-brand-beige/50 placeholder-brand-brown/40 focus:ring-2 focus:ring-brand-accent/50 focus:outline-none",placeholder:"Cantidad usada",required:!0}),P.jsx("span",{className:"absolute right-3 top-2.5 text-xs text-brand-brown/60",children:x.ingredientId?D(x.ingredientId):"-"})]})]}),P.jsx("button",{type:"button",onClick:()=>at(R),className:"mt-1 p-2 text-red-400 hover:text-red-600 transition-colors",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},R)),h.length===0&&P.jsx("p",{className:"text-sm text-brand-brown/40 italic text-center py-2 bg-brand-brown/5 rounded-lg",children:"Agrega ingredientes a la lista"})]}),P.jsxs("div",{className:"bg-brand-brown/5 p-4 rounded-xl border border-brand-brown/10",children:[P.jsxs("div",{className:"flex justify-between items-center mb-2",children:[P.jsx("span",{className:"text-sm font-bold text-brand-brown",children:"Costo Ingredientes:"}),P.jsxs("span",{className:"font-bold text-lg text-brand-brown",children:["$",K.toFixed(2)]})]}),P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1",children:"Peso Final de la Preparacin (Yield)"}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"number",value:d,onChange:x=>v(x.target.value),className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 text-brand-brown bg-white placeholder-brand-brown/40",placeholder:"Total en gramos o unidades",required:!0}),P.jsx("span",{className:"absolute right-3 top-3.5 text-sm text-brand-brown/60",children:"gr/un"})]})]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("button",{type:"submit",className:"flex-1 bg-brand-brown text-white py-4 rounded-xl font-bold hover:bg-[#4A2E21] transition shadow-lg text-lg font-serif",children:A?"Actualizar Receta":"Guardar Receta"}),A&&P.jsx("button",{type:"button",onClick:O,className:"px-6 py-4 bg-brand-brown/10 text-brand-brown rounded-xl font-bold hover:bg-brand-brown/20 transition",children:"Cancelar"})]})]})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("h3",{className:"text-lg font-bold text-brand-brown pl-2 border-l-4 border-brand-brown font-serif",children:["Mis Recetas (",i.length,")"]}),i.length===0?P.jsx("p",{className:"text-center text-brand-brown/40 py-8 italic",children:"No tienes recetas guardadas an."}):P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(x=>P.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-brand-brown/10 flex flex-col justify-between hover:border-brand-brown/30 transition-all",children:[P.jsxs("div",{children:[P.jsxs("div",{className:"flex justify-between items-start mb-2",children:[P.jsx("h4",{className:"font-bold text-lg text-brand-brown leading-tight font-serif",children:x.name}),P.jsxs("span",{className:"bg-brand-brown/10 text-brand-brown text-xs font-bold px-2 py-1 rounded-lg",children:[x.ingredients.length," Ingred."]})]}),P.jsxs("div",{className:"space-y-1 text-sm text-brand-brown/70 mb-4",children:[P.jsxs("p",{className:"flex justify-between",children:[P.jsx("span",{children:"Rendimiento (Yield):"}),P.jsxs("span",{className:"font-medium text-brand-brown",children:[x.totalYieldWeight," gr/un"]})]}),P.jsxs("p",{className:"flex justify-between",children:[P.jsx("span",{children:"Costo Total:"}),P.jsxs("span",{className:"font-medium text-brand-brown",children:["$",x.totalCost.toFixed(2)]})]}),P.jsxs("div",{className:"pt-2 mt-2 border-t border-brand-brown/10 flex justify-between text-brand-brown font-bold",children:[P.jsx("span",{children:"Costo Base:"}),P.jsxs("span",{children:["$",x.costPerGram.toFixed(4)," / gr"]})]})]})]}),P.jsxs("div",{className:"flex gap-2 mt-2 pt-3 border-t border-brand-brown/5",children:[P.jsxs("button",{type:"button",onClick:()=>St(x),className:"flex-1 py-2 text-sm font-semibold text-brand-brown bg-brand-brown/5 rounded-lg hover:bg-brand-brown/10 transition flex justify-center items-center gap-2",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),P.jsxs("button",{type:"button",onClick:R=>G(R,x.id),className:"flex-1 py-2 text-sm font-semibold text-red-500 bg-red-50 rounded-lg hover:bg-red-100 transition flex justify-center items-center gap-2",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})]},x.id))})]}),w&&P.jsx("div",{className:"fixed bottom-20 md:bottom-10 left-4 right-4 bg-brand-brown text-white p-4 rounded-xl text-center shadow-lg animate-bounce z-50 font-serif",children:w})]})},nR="modulepreload",rR=function(n){return"/calculadora-keto/"+n},zb={},bg=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let c=function(d){return Promise.all(d.map(v=>Promise.resolve(v).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(e.map(d=>{if(d=rR(d),d in zb)return;zb[d]=!0;const v=d.endsWith(".css"),A=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":nR,v||(T.as="script"),T.crossOrigin="",T.href=d,f&&T.setAttribute("nonce",f),document.head.appendChild(T),v)return new Promise((w,V)=>{T.addEventListener("load",w),T.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function Xn(n){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(n)}var vo=Uint8Array,va=Uint16Array,x2=Int32Array,T2=new vo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),N2=new vo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hb=new vo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Q3=function(n,t){for(var e=new va(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var a=new x2(e[30]),i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)a[o]=o-e[i]<<5|i;return{b:e,r:a}},J3=Q3(T2,2),iR=J3.b,m0=J3.r;iR[28]=258,m0[258]=28;var sR=Q3(N2,0),Gb=sR.r,g0=new va(32768);for(var vr=0;vr<32768;++vr){var mu=(vr&43690)>>1|(vr&21845)<<1;mu=(mu&52428)>>2|(mu&13107)<<2,mu=(mu&61680)>>4|(mu&3855)<<4,g0[vr]=((mu&65280)>>8|(mu&255)<<8)>>1}var Hf=(function(n,t,e){for(var i=n.length,a=0,o=new va(t);a<i;++a)n[a]&&++o[n[a]-1];var c=new va(t);for(a=1;a<t;++a)c[a]=c[a-1]+o[a-1]<<1;var h;if(e){h=new va(1<<t);var f=15-t;for(a=0;a<i;++a)if(n[a])for(var d=a<<4|n[a],v=t-n[a],A=c[n[a]-1]++<<v,T=A|(1<<v)-1;A<=T;++A)h[g0[A]>>f]=d}else for(h=new va(i),a=0;a<i;++a)n[a]&&(h[a]=g0[c[n[a]-1]++]>>15-n[a]);return h}),_c=new vo(288);for(var vr=0;vr<144;++vr)_c[vr]=8;for(var vr=144;vr<256;++vr)_c[vr]=9;for(var vr=256;vr<280;++vr)_c[vr]=7;for(var vr=280;vr<288;++vr)_c[vr]=8;var fm=new vo(32);for(var vr=0;vr<32;++vr)fm[vr]=5;var aR=Hf(_c,9,0),oR=Hf(fm,5,0),Z3=function(n){return(n+7)/8|0},lR=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new vo(n.subarray(t,e))},Cl=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},Rf=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},_g=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var a=e.length,o=e.slice();if(!a)return{t:eA,l:0};if(a==1){var c=new vo(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(vt,St){return vt.f-St.f}),e.push({s:-1,f:25001});var h=e[0],f=e[1],d=0,v=1,A=2;for(e[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=a-1;)h=e[e[d].f<e[A].f?d++:A++],f=e[d!=v&&e[d].f<e[A].f?d++:A++],e[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var T=o[0].s,i=1;i<a;++i)o[i].s>T&&(T=o[i].s);var w=new va(T+1),V=y0(e[v-1],w,0);if(V>t){var i=0,z=0,F=V-t,q=1<<F;for(o.sort(function(St,G){return w[G.s]-w[St.s]||St.f-G.f});i<a;++i){var at=o[i].s;if(w[at]>t)z+=q-(1<<V-w[at]),w[at]=t;else break}for(z>>=F;z>0;){var J=o[i].s;w[J]<t?z-=1<<t-w[J]++-1:++i}for(;i>=0&&z;--i){var tt=o[i].s;w[tt]==t&&(--w[tt],++z)}V=t}return{t:new vo(w),l:V}},y0=function(n,t,e){return n.s==-1?Math.max(y0(n.l,t,e+1),y0(n.r,t,e+1)):t[n.s]=e},Yb=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new va(++t),i=0,a=n[0],o=1,c=function(f){e[i++]=f},h=1;h<=t;++h)if(n[h]==a&&h!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[h]}return{c:e.subarray(0,i),n:t}},Lf=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},tA=function(n,t,e){var i=e.length,a=Z3(t+2);n[a]=i&255,n[a+1]=i>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<i;++o)n[a+o+4]=e[o];return(a+4+i)*8},Kb=function(n,t,e,i,a,o,c,h,f,d,v){Cl(t,v++,e),++a[256];for(var A=_g(a,15),T=A.t,w=A.l,V=_g(o,15),z=V.t,F=V.l,q=Yb(T),at=q.c,J=q.n,tt=Yb(z),vt=tt.c,St=tt.n,G=new va(19),O=0;O<at.length;++O)++G[at[O]&31];for(var O=0;O<vt.length;++O)++G[vt[O]&31];for(var D=_g(G,7),K=D.t,x=D.l,R=19;R>4&&!K[Hb[R-1]];--R);var k=d+5<<3,lt=Lf(a,_c)+Lf(o,fm)+c,_t=Lf(a,T)+Lf(o,z)+c+14+3*R+Lf(G,K)+2*G[16]+3*G[17]+7*G[18];if(f>=0&&k<=lt&&k<=_t)return tA(t,v,n.subarray(f,f+d));var st,pt,dt,Nt;if(Cl(t,v,1+(_t<lt)),v+=2,_t<lt){st=Hf(T,w,0),pt=T,dt=Hf(z,F,0),Nt=z;var qt=Hf(K,x,0);Cl(t,v,J-257),Cl(t,v+5,St-1),Cl(t,v+10,R-4),v+=14;for(var O=0;O<R;++O)Cl(t,v+3*O,K[Hb[O]]);v+=3*R;for(var U=[at,vt],C=0;C<2;++C)for(var Y=U[C],O=0;O<Y.length;++O){var Z=Y[O]&31;Cl(t,v,qt[Z]),v+=K[Z],Z>15&&(Cl(t,v,Y[O]>>5&127),v+=Y[O]>>12)}}else st=aR,pt=_c,dt=oR,Nt=fm;for(var O=0;O<h;++O){var ot=i[O];if(ot>255){var Z=ot>>18&31;Rf(t,v,st[Z+257]),v+=pt[Z+257],Z>7&&(Cl(t,v,ot>>23&31),v+=T2[Z]);var ut=ot&31;Rf(t,v,dt[ut]),v+=Nt[ut],ut>3&&(Rf(t,v,ot>>5&8191),v+=N2[ut])}else Rf(t,v,st[ot]),v+=pt[ot]}return Rf(t,v,st[256]),v+pt[256]},uR=new x2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eA=new vo(0),cR=function(n,t,e,i,a,o){var c=o.z||n.length,h=new vo(i+c+5*(1+Math.ceil(c/7e3))+a),f=h.subarray(i,h.length-a),d=o.l,v=(o.r||0)&7;if(t){v&&(f[0]=o.r>>3);for(var A=uR[t-1],T=A>>13,w=A&8191,V=(1<<e)-1,z=o.p||new va(32768),F=o.h||new va(V+1),q=Math.ceil(e/3),at=2*q,J=function(ie){return(n[ie]^n[ie+1]<<q^n[ie+2]<<at)&V},tt=new x2(25e3),vt=new va(288),St=new va(32),G=0,O=0,D=o.i||0,K=0,x=o.w||0,R=0;D+2<c;++D){var k=J(D),lt=D&32767,_t=F[k];if(z[lt]=_t,F[k]=lt,x<=D){var st=c-D;if((G>7e3||K>24576)&&(st>423||!d)){v=Kb(n,f,0,tt,vt,St,O,K,R,D-R,v),K=G=O=0,R=D;for(var pt=0;pt<286;++pt)vt[pt]=0;for(var pt=0;pt<30;++pt)St[pt]=0}var dt=2,Nt=0,qt=w,U=lt-_t&32767;if(st>2&&k==J(D-U))for(var C=Math.min(T,st)-1,Y=Math.min(32767,D),Z=Math.min(258,st);U<=Y&&--qt&&lt!=_t;){if(n[D+dt]==n[D+dt-U]){for(var ot=0;ot<Z&&n[D+ot]==n[D+ot-U];++ot);if(ot>dt){if(dt=ot,Nt=U,ot>C)break;for(var ut=Math.min(U,ot-2),ft=0,pt=0;pt<ut;++pt){var Tt=D-U+pt&32767,Ct=z[Tt],jt=Tt-Ct&32767;jt>ft&&(ft=jt,_t=Tt)}}}lt=_t,_t=z[lt],U+=lt-_t&32767}if(Nt){tt[K++]=268435456|m0[dt]<<18|Gb[Nt];var Xt=m0[dt]&31,te=Gb[Nt]&31;O+=T2[Xt]+N2[te],++vt[257+Xt],++St[te],x=D+dt,++G}else tt[K++]=n[D],++vt[n[D]]}}for(D=Math.max(D,x);D<c;++D)tt[K++]=n[D],++vt[n[D]];v=Kb(n,f,d,tt,vt,St,O,K,R,D-R,v),d||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=F,o.p=z,o.i=D,o.w=x)}else{for(var D=o.w||0;D<c+d;D+=65535){var $t=D+65535;$t>=c&&(f[v/8|0]=d,$t=c),v=tA(f,v+1,n.subarray(D,$t))}o.i=c}return lR(h,0,i+Z3(v)+a)},nA=function(){var n=1,t=0;return{p:function(e){for(var i=n,a=t,o=e.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)a+=i+=e[c];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}n=i,t=a},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},hR=function(n,t,e,i,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),c=new vo(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return cR(n,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,a)},rA=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},fR=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var a=nA();a.p(t.dictionary),rA(n,2,a.d())}};function v0(n,t){t||(t={});var e=nA();e.p(n);var i=hR(n,t,t.dictionary?6:2,4);return fR(i,t),rA(i,i.length-4,e.d()),i}var dR=typeof TextDecoder<"u"&&new TextDecoder,pR=0;try{dR.decode(eA,{stream:!0}),pR=1}catch{}function mR(n){if(Array.isArray(n))return n}function gR(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,a,o,c,h=[],f=!0,d=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(f=(i=o.call(e)).done)&&(h.push(i.value),h.length!==t);f=!0);}catch(v){d=!0,a=v}finally{try{if(!f&&e.return!=null&&(c=e.return(),Object(c)!==c))return}finally{if(d)throw a}}return h}}function Wb(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function yR(n,t){if(n){if(typeof n=="string")return Wb(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Wb(n,t):void 0}}function vR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $b(n,t){return mR(n)||gR(n,t)||yR(n,t)||vR()}function Xb(n,t="utf8"){return new TextDecoder(t).decode(n)}const bR=new TextEncoder;function _R(n){return bR.encode(n)}const wR=1024*8,AR=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),wg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class I2{constructor(t=wR,e={}){$n(this,"buffer");$n(this,"byteLength");$n(this,"byteOffset");$n(this,"length");$n(this,"offset");$n(this,"lastWrittenByte");$n(this,"littleEndian");$n(this,"_data");$n(this,"_mark");$n(this,"_marks");let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const a=e.offset?e.offset>>>0:0,o=t.byteLength-a;let c=a;(ArrayBuffer.isView(t)||t instanceof I2)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+a),t=t.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,a=new Uint8Array(i);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const i=wg[e].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+i);if(this.littleEndian===AR&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+i));h.reverse();const f=new wg[e](h.buffer);return this.offset+=i,f.reverse(),f}const c=new wg[e](o);return this.offset+=i,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let i=0;i<t;i++)e+=this.readChar();return e}readUtf8(t=1){return Xb(this.readBytes(t))}decodeText(t=1,e="utf8"){return Xb(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(_R(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Gh(n){let t=n.length;for(;--t>=0;)n[t]=0}const SR=3,ER=258,iA=29,xR=256,TR=xR+1+iA,sA=30,NR=512,IR=new Array((TR+2)*2);Gh(IR);const CR=new Array(sA*2);Gh(CR);const RR=new Array(NR);Gh(RR);const LR=new Array(ER-SR+1);Gh(LR);const kR=new Array(iA);Gh(kR);const DR=new Array(sA);Gh(DR);const OR=(n,t,e,i)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;e!==0;){c=e>2e3?2e3:e,e-=c;do a=a+t[i++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var b0=OR;const PR=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},MR=new Uint32Array(PR()),jR=(n,t,e,i)=>{const a=MR,o=i+e;n^=-1;for(let c=i;c<o;c++)n=n>>>8^a[(n^t[c])&255];return n^-1};var Ho=jR,_0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},aA={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const UR=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var VR=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const i in e)UR(e,i)&&(n[i]=e[i])}}return n},FR=n=>{let t=0;for(let i=0,a=n.length;i<a;i++)t+=n[i].length;const e=new Uint8Array(t);for(let i=0,a=0,o=n.length;i<o;i++){let c=n[i];e.set(c,a),a+=c.length}return e},oA={assign:VR,flattenChunks:FR};let lA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lA=!1}const nd=new Uint8Array(256);for(let n=0;n<256;n++)nd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;nd[254]=nd[254]=1;var BR=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,i,a,o,c=n.length,h=0;for(a=0;a<c;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<c&&(i=n.charCodeAt(a+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,a=0;o<h;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<c&&(i=n.charCodeAt(a+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),a++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const qR=(n,t)=>{if(t<65534&&n.subarray&&lA)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e};var zR=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let i,a;const o=new Array(e*2);for(a=0,i=0;i<e;){let c=n[i++];if(c<128){o[a++]=c;continue}let h=nd[c];if(h>4){o[a++]=65533,i+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&i<e;)c=c<<6|n[i++]&63,h--;if(h>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return qR(o,a)},HR=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+nd[n[e]]>t?e:t},w0={string2buf:BR,buf2string:zR,utf8border:HR};function GR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var YR=GR;const vp=16209,KR=16191;var WR=function(t,e){let i,a,o,c,h,f,d,v,A,T,w,V,z,F,q,at,J,tt,vt,St,G,O,D,K;const x=t.state;i=t.next_in,D=t.input,a=i+(t.avail_in-5),o=t.next_out,K=t.output,c=o-(e-t.avail_out),h=o+(t.avail_out-257),f=x.dmax,d=x.wsize,v=x.whave,A=x.wnext,T=x.window,w=x.hold,V=x.bits,z=x.lencode,F=x.distcode,q=(1<<x.lenbits)-1,at=(1<<x.distbits)-1;t:do{V<15&&(w+=D[i++]<<V,V+=8,w+=D[i++]<<V,V+=8),J=z[w&q];e:for(;;){if(tt=J>>>24,w>>>=tt,V-=tt,tt=J>>>16&255,tt===0)K[o++]=J&65535;else if(tt&16){vt=J&65535,tt&=15,tt&&(V<tt&&(w+=D[i++]<<V,V+=8),vt+=w&(1<<tt)-1,w>>>=tt,V-=tt),V<15&&(w+=D[i++]<<V,V+=8,w+=D[i++]<<V,V+=8),J=F[w&at];n:for(;;){if(tt=J>>>24,w>>>=tt,V-=tt,tt=J>>>16&255,tt&16){if(St=J&65535,tt&=15,V<tt&&(w+=D[i++]<<V,V+=8,V<tt&&(w+=D[i++]<<V,V+=8)),St+=w&(1<<tt)-1,St>f){t.msg="invalid distance too far back",x.mode=vp;break t}if(w>>>=tt,V-=tt,tt=o-c,St>tt){if(tt=St-tt,tt>v&&x.sane){t.msg="invalid distance too far back",x.mode=vp;break t}if(G=0,O=T,A===0){if(G+=d-tt,tt<vt){vt-=tt;do K[o++]=T[G++];while(--tt);G=o-St,O=K}}else if(A<tt){if(G+=d+A-tt,tt-=A,tt<vt){vt-=tt;do K[o++]=T[G++];while(--tt);if(G=0,A<vt){tt=A,vt-=tt;do K[o++]=T[G++];while(--tt);G=o-St,O=K}}}else if(G+=A-tt,tt<vt){vt-=tt;do K[o++]=T[G++];while(--tt);G=o-St,O=K}for(;vt>2;)K[o++]=O[G++],K[o++]=O[G++],K[o++]=O[G++],vt-=3;vt&&(K[o++]=O[G++],vt>1&&(K[o++]=O[G++]))}else{G=o-St;do K[o++]=K[G++],K[o++]=K[G++],K[o++]=K[G++],vt-=3;while(vt>2);vt&&(K[o++]=K[G++],vt>1&&(K[o++]=K[G++]))}}else if((tt&64)===0){J=F[(J&65535)+(w&(1<<tt)-1)];continue n}else{t.msg="invalid distance code",x.mode=vp;break t}break}}else if((tt&64)===0){J=z[(J&65535)+(w&(1<<tt)-1)];continue e}else if(tt&32){x.mode=KR;break t}else{t.msg="invalid literal/length code",x.mode=vp;break t}break}}while(i<a&&o<h);vt=V>>3,i-=vt,V-=vt<<3,w&=(1<<V)-1,t.next_in=i,t.next_out=o,t.avail_in=i<a?5+(a-i):5-(i-a),t.avail_out=o<h?257+(h-o):257-(o-h),x.hold=w,x.bits=V};const uh=15,Qb=852,Jb=592,Zb=0,Ag=1,t_=2,$R=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),XR=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),QR=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),JR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ZR=(n,t,e,i,a,o,c,h)=>{const f=h.bits;let d=0,v=0,A=0,T=0,w=0,V=0,z=0,F=0,q=0,at=0,J,tt,vt,St,G,O=null,D;const K=new Uint16Array(uh+1),x=new Uint16Array(uh+1);let R=null,k,lt,_t;for(d=0;d<=uh;d++)K[d]=0;for(v=0;v<i;v++)K[t[e+v]]++;for(w=f,T=uh;T>=1&&K[T]===0;T--);if(w>T&&(w=T),T===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<T&&K[A]===0;A++);for(w<A&&(w=A),F=1,d=1;d<=uh;d++)if(F<<=1,F-=K[d],F<0)return-1;if(F>0&&(n===Zb||T!==1))return-1;for(x[1]=0,d=1;d<uh;d++)x[d+1]=x[d]+K[d];for(v=0;v<i;v++)t[e+v]!==0&&(c[x[t[e+v]]++]=v);if(n===Zb?(O=R=c,D=20):n===Ag?(O=$R,R=XR,D=257):(O=QR,R=JR,D=0),at=0,v=0,d=A,G=o,V=w,z=0,vt=-1,q=1<<w,St=q-1,n===Ag&&q>Qb||n===t_&&q>Jb)return 1;for(;;){k=d-z,c[v]+1<D?(lt=0,_t=c[v]):c[v]>=D?(lt=R[c[v]-D],_t=O[c[v]-D]):(lt=96,_t=0),J=1<<d-z,tt=1<<V,A=tt;do tt-=J,a[G+(at>>z)+tt]=k<<24|lt<<16|_t|0;while(tt!==0);for(J=1<<d-1;at&J;)J>>=1;if(J!==0?(at&=J-1,at+=J):at=0,v++,--K[d]===0){if(d===T)break;d=t[e+c[v]]}if(d>w&&(at&St)!==vt){for(z===0&&(z=w),G+=A,V=d-z,F=1<<V;V+z<T&&(F-=K[V+z],!(F<=0));)V++,F<<=1;if(q+=1<<V,n===Ag&&q>Qb||n===t_&&q>Jb)return 1;vt=at&St,a[vt]=w<<24|V<<16|G-o|0}}return at!==0&&(a[G+at]=d-z<<24|64<<16|0),h.bits=w,0};var Gf=ZR;const tL=0,uA=1,cA=2,{Z_FINISH:e_,Z_BLOCK:eL,Z_TREES:bp,Z_OK:wc,Z_STREAM_END:nL,Z_NEED_DICT:rL,Z_STREAM_ERROR:qa,Z_DATA_ERROR:hA,Z_MEM_ERROR:fA,Z_BUF_ERROR:iL,Z_DEFLATED:n_}=aA,Vm=16180,r_=16181,i_=16182,s_=16183,a_=16184,o_=16185,l_=16186,u_=16187,c_=16188,h_=16189,dm=16190,Rl=16191,Sg=16192,f_=16193,Eg=16194,d_=16195,p_=16196,m_=16197,g_=16198,_p=16199,wp=16200,y_=16201,v_=16202,b_=16203,__=16204,w_=16205,xg=16206,A_=16207,S_=16208,xr=16209,dA=16210,pA=16211,sL=852,aL=592,oL=15,lL=oL,E_=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function uL(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nc=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<Vm||t.mode>pA?1:0},mA=n=>{if(Nc(n))return qa;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=Vm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(sL),t.distcode=t.distdyn=new Int32Array(aL),t.sane=1,t.back=-1,wc},gA=n=>{if(Nc(n))return qa;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,mA(n)},yA=(n,t)=>{let e;if(Nc(n))return qa;const i=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?qa:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,gA(n))},vA=(n,t)=>{if(!n)return qa;const e=new uL;n.state=e,e.strm=n,e.window=null,e.mode=Vm;const i=yA(n,t);return i!==wc&&(n.state=null),i},cL=n=>vA(n,lL);let x_=!0,Tg,Ng;const hL=n=>{if(x_){Tg=new Int32Array(512),Ng=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Gf(uA,n.lens,0,288,Tg,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Gf(cA,n.lens,0,32,Ng,0,n.work,{bits:5}),x_=!1}n.lencode=Tg,n.lenbits=9,n.distcode=Ng,n.distbits=5},bA=(n,t,e,i)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),o.window.set(t.subarray(e-i,e-i+a),o.wnext),i-=a,i?(o.window.set(t.subarray(e-i,e),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},fL=(n,t)=>{let e,i,a,o,c,h,f,d,v,A,T,w,V,z,F=0,q,at,J,tt,vt,St,G,O;const D=new Uint8Array(4);let K,x;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nc(n)||!n.output||!n.input&&n.avail_in!==0)return qa;e=n.state,e.mode===Rl&&(e.mode=Sg),c=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,i=n.input,h=n.avail_in,d=e.hold,v=e.bits,A=h,T=f,O=wc;t:for(;;)switch(e.mode){case Vm:if(e.wrap===0){e.mode=Sg;break}for(;v<16;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,D[0]=d&255,D[1]=d>>>8&255,e.check=Ho(e.check,D,2,0),d=0,v=0,e.mode=r_;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",e.mode=xr;break}if((d&15)!==n_){n.msg="unknown compression method",e.mode=xr;break}if(d>>>=4,v-=4,G=(d&15)+8,e.wbits===0&&(e.wbits=G),G>15||G>e.wbits){n.msg="invalid window size",e.mode=xr;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=d&512?h_:Rl,d=0,v=0;break;case r_:for(;v<16;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(e.flags=d,(e.flags&255)!==n_){n.msg="unknown compression method",e.mode=xr;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=xr;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,e.check=Ho(e.check,D,2,0)),d=0,v=0,e.mode=i_;case i_:for(;v<32;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,D[2]=d>>>16&255,D[3]=d>>>24&255,e.check=Ho(e.check,D,4,0)),d=0,v=0,e.mode=s_;case s_:for(;v<16;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,e.check=Ho(e.check,D,2,0)),d=0,v=0,e.mode=a_;case a_:if(e.flags&1024){for(;v<16;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,e.check=Ho(e.check,D,2,0)),d=0,v=0}else e.head&&(e.head.extra=null);e.mode=o_;case o_:if(e.flags&1024&&(w=e.length,w>h&&(w=h),w&&(e.head&&(G=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(o,o+w),G)),e.flags&512&&e.wrap&4&&(e.check=Ho(e.check,i,w,o)),h-=w,o+=w,e.length-=w),e.length))break t;e.length=0,e.mode=l_;case l_:if(e.flags&2048){if(h===0)break t;w=0;do G=i[o+w++],e.head&&G&&e.length<65536&&(e.head.name+=String.fromCharCode(G));while(G&&w<h);if(e.flags&512&&e.wrap&4&&(e.check=Ho(e.check,i,w,o)),h-=w,o+=w,G)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=u_;case u_:if(e.flags&4096){if(h===0)break t;w=0;do G=i[o+w++],e.head&&G&&e.length<65536&&(e.head.comment+=String.fromCharCode(G));while(G&&w<h);if(e.flags&512&&e.wrap&4&&(e.check=Ho(e.check,i,w,o)),h-=w,o+=w,G)break t}else e.head&&(e.head.comment=null);e.mode=c_;case c_:if(e.flags&512){for(;v<16;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(e.wrap&4&&d!==(e.check&65535)){n.msg="header crc mismatch",e.mode=xr;break}d=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Rl;break;case h_:for(;v<32;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}n.adler=e.check=E_(d),d=0,v=0,e.mode=dm;case dm:if(e.havedict===0)return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=v,rL;n.adler=e.check=1,e.mode=Rl;case Rl:if(t===eL||t===bp)break t;case Sg:if(e.last){d>>>=v&7,v-=v&7,e.mode=xg;break}for(;v<3;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}switch(e.last=d&1,d>>>=1,v-=1,d&3){case 0:e.mode=f_;break;case 1:if(hL(e),e.mode=_p,t===bp){d>>>=2,v-=2;break t}break;case 2:e.mode=p_;break;case 3:n.msg="invalid block type",e.mode=xr}d>>>=2,v-=2;break;case f_:for(d>>>=v&7,v-=v&7;v<32;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",e.mode=xr;break}if(e.length=d&65535,d=0,v=0,e.mode=Eg,t===bp)break t;case Eg:e.mode=d_;case d_:if(w=e.length,w){if(w>h&&(w=h),w>f&&(w=f),w===0)break t;a.set(i.subarray(o,o+w),c),h-=w,o+=w,f-=w,c+=w,e.length-=w;break}e.mode=Rl;break;case p_:for(;v<14;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(e.nlen=(d&31)+257,d>>>=5,v-=5,e.ndist=(d&31)+1,d>>>=5,v-=5,e.ncode=(d&15)+4,d>>>=4,v-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=xr;break}e.have=0,e.mode=m_;case m_:for(;e.have<e.ncode;){for(;v<3;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.lens[R[e.have++]]=d&7,d>>>=3,v-=3}for(;e.have<19;)e.lens[R[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,K={bits:e.lenbits},O=Gf(tL,e.lens,0,19,e.lencode,0,e.work,K),e.lenbits=K.bits,O){n.msg="invalid code lengths set",e.mode=xr;break}e.have=0,e.mode=g_;case g_:for(;e.have<e.nlen+e.ndist;){for(;F=e.lencode[d&(1<<e.lenbits)-1],q=F>>>24,at=F>>>16&255,J=F&65535,!(q<=v);){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(J<16)d>>>=q,v-=q,e.lens[e.have++]=J;else{if(J===16){for(x=q+2;v<x;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(d>>>=q,v-=q,e.have===0){n.msg="invalid bit length repeat",e.mode=xr;break}G=e.lens[e.have-1],w=3+(d&3),d>>>=2,v-=2}else if(J===17){for(x=q+3;v<x;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}d>>>=q,v-=q,G=0,w=3+(d&7),d>>>=3,v-=3}else{for(x=q+7;v<x;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}d>>>=q,v-=q,G=0,w=11+(d&127),d>>>=7,v-=7}if(e.have+w>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=xr;break}for(;w--;)e.lens[e.have++]=G}}if(e.mode===xr)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=xr;break}if(e.lenbits=9,K={bits:e.lenbits},O=Gf(uA,e.lens,0,e.nlen,e.lencode,0,e.work,K),e.lenbits=K.bits,O){n.msg="invalid literal/lengths set",e.mode=xr;break}if(e.distbits=6,e.distcode=e.distdyn,K={bits:e.distbits},O=Gf(cA,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,K),e.distbits=K.bits,O){n.msg="invalid distances set",e.mode=xr;break}if(e.mode=_p,t===bp)break t;case _p:e.mode=wp;case wp:if(h>=6&&f>=258){n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=v,WR(n,T),c=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,i=n.input,h=n.avail_in,d=e.hold,v=e.bits,e.mode===Rl&&(e.back=-1);break}for(e.back=0;F=e.lencode[d&(1<<e.lenbits)-1],q=F>>>24,at=F>>>16&255,J=F&65535,!(q<=v);){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(at&&(at&240)===0){for(tt=q,vt=at,St=J;F=e.lencode[St+((d&(1<<tt+vt)-1)>>tt)],q=F>>>24,at=F>>>16&255,J=F&65535,!(tt+q<=v);){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}d>>>=tt,v-=tt,e.back+=tt}if(d>>>=q,v-=q,e.back+=q,e.length=J,at===0){e.mode=w_;break}if(at&32){e.back=-1,e.mode=Rl;break}if(at&64){n.msg="invalid literal/length code",e.mode=xr;break}e.extra=at&15,e.mode=y_;case y_:if(e.extra){for(x=e.extra;v<x;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=v_;case v_:for(;F=e.distcode[d&(1<<e.distbits)-1],q=F>>>24,at=F>>>16&255,J=F&65535,!(q<=v);){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if((at&240)===0){for(tt=q,vt=at,St=J;F=e.distcode[St+((d&(1<<tt+vt)-1)>>tt)],q=F>>>24,at=F>>>16&255,J=F&65535,!(tt+q<=v);){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}d>>>=tt,v-=tt,e.back+=tt}if(d>>>=q,v-=q,e.back+=q,at&64){n.msg="invalid distance code",e.mode=xr;break}e.offset=J,e.extra=at&15,e.mode=b_;case b_:if(e.extra){for(x=e.extra;v<x;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=xr;break}e.mode=__;case __:if(f===0)break t;if(w=T-f,e.offset>w){if(w=e.offset-w,w>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=xr;break}w>e.wnext?(w-=e.wnext,V=e.wsize-w):V=e.wnext-w,w>e.length&&(w=e.length),z=e.window}else z=a,V=c-e.offset,w=e.length;w>f&&(w=f),f-=w,e.length-=w;do a[c++]=z[V++];while(--w);e.length===0&&(e.mode=wp);break;case w_:if(f===0)break t;a[c++]=e.length,f--,e.mode=wp;break;case xg:if(e.wrap){for(;v<32;){if(h===0)break t;h--,d|=i[o++]<<v,v+=8}if(T-=f,n.total_out+=T,e.total+=T,e.wrap&4&&T&&(n.adler=e.check=e.flags?Ho(e.check,a,T,c-T):b0(e.check,a,T,c-T)),T=f,e.wrap&4&&(e.flags?d:E_(d))!==e.check){n.msg="incorrect data check",e.mode=xr;break}d=0,v=0}e.mode=A_;case A_:if(e.wrap&&e.flags){for(;v<32;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(e.wrap&4&&d!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=xr;break}d=0,v=0}e.mode=S_;case S_:O=nL;break t;case xr:O=hA;break t;case dA:return fA;case pA:default:return qa}return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=v,(e.wsize||T!==n.avail_out&&e.mode<xr&&(e.mode<xg||t!==e_))&&bA(n,n.output,n.next_out,T-n.avail_out),A-=n.avail_in,T-=n.avail_out,n.total_in+=A,n.total_out+=T,e.total+=T,e.wrap&4&&T&&(n.adler=e.check=e.flags?Ho(e.check,a,T,n.next_out-T):b0(e.check,a,T,n.next_out-T)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Rl?128:0)+(e.mode===_p||e.mode===Eg?256:0),(A===0&&T===0||t===e_)&&O===wc&&(O=iL),O},dL=n=>{if(Nc(n))return qa;let t=n.state;return t.window&&(t.window=null),n.state=null,wc},pL=(n,t)=>{if(Nc(n))return qa;const e=n.state;return(e.wrap&2)===0?qa:(e.head=t,t.done=!1,wc)},mL=(n,t)=>{const e=t.length;let i,a,o;return Nc(n)||(i=n.state,i.wrap!==0&&i.mode!==dm)?qa:i.mode===dm&&(a=1,a=b0(a,t,e,0),a!==i.check)?hA:(o=bA(n,t,e,e),o?(i.mode=dA,fA):(i.havedict=1,wc))};var gL=gA,yL=yA,vL=mA,bL=cL,_L=vA,wL=fL,AL=dL,SL=pL,EL=mL,xL="pako inflate (from Nodeca project)",Ll={inflateReset:gL,inflateReset2:yL,inflateResetKeep:vL,inflateInit:bL,inflateInit2:_L,inflate:wL,inflateEnd:AL,inflateGetHeader:SL,inflateSetDictionary:EL,inflateInfo:xL};function TL(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var NL=TL;const _A=Object.prototype.toString,{Z_NO_FLUSH:IL,Z_FINISH:CL,Z_OK:rd,Z_STREAM_END:Ig,Z_NEED_DICT:Cg,Z_STREAM_ERROR:RL,Z_DATA_ERROR:T_,Z_MEM_ERROR:LL}=aA;function vd(n){this.options=oA.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YR,this.strm.avail_out=0;let e=Ll.inflateInit2(this.strm,t.windowBits);if(e!==rd)throw new Error(_0[e]);if(this.header=new NL,Ll.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=w0.string2buf(t.dictionary):_A.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Ll.inflateSetDictionary(this.strm,t.dictionary),e!==rd)))throw new Error(_0[e])}vd.prototype.push=function(n,t){const e=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?CL:IL,_A.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),o=Ll.inflate(e,c),o===Cg&&a&&(o=Ll.inflateSetDictionary(e,a),o===rd?o=Ll.inflate(e,c):o===T_&&(o=Cg));e.avail_in>0&&o===Ig&&e.state.wrap>0&&n[e.next_in]!==0;)Ll.inflateReset(e),o=Ll.inflate(e,c);switch(o){case RL:case T_:case Cg:case LL:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===Ig))if(this.options.to==="string"){let f=w0.utf8border(e.output,e.next_out),d=e.next_out-f,v=w0.buf2string(e.output,f);e.next_out=d,e.avail_out=i-d,d&&e.output.set(e.output.subarray(f,f+d),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===rd&&h===0)){if(o===Ig)return o=Ll.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};vd.prototype.onData=function(n){this.chunks.push(n)};vd.prototype.onEnd=function(n){n===rd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=oA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function kL(n,t){const e=new vd(t);if(e.push(n),e.err)throw e.msg||_0[e.err];return e.result}var DL=vd,OL=kL,PL={Inflate:DL,inflate:OL};const{Inflate:ML,inflate:jL}=PL;var N_=ML,UL=jL;const wA=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;wA[n]=t}const I_=4294967295;function VL(n,t,e){let i=n;for(let a=0;a<e;a++)i=wA[(i^t[a])&255]^i>>>8;return i}function FL(n,t){return(VL(I_,n,t)^I_)>>>0}function C_(n,t,e){const i=n.readUint32(),a=FL(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(a!==i)throw new Error(`CRC mismatch for chunk ${e}. Expected ${i}, found ${a}`)}function AA(n,t,e){for(let i=0;i<e;i++)t[i]=n[i]}function SA(n,t,e,i){let a=0;for(;a<i;a++)t[a]=n[a];for(;a<e;a++)t[a]=n[a]+t[a-i]&255}function EA(n,t,e,i){let a=0;if(e.length===0)for(;a<i;a++)t[a]=n[a];else for(;a<i;a++)t[a]=n[a]+e[a]&255}function xA(n,t,e,i,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<i;o++)t[o]=n[o]+(t[o-a]>>1)&255}else{for(;o<a;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<i;o++)t[o]=n[o]+(t[o-a]+e[o]>>1)&255}}function TA(n,t,e,i,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<i;o++)t[o]=n[o]+t[o-a]&255}else{for(;o<a;o++)t[o]=n[o]+e[o]&255;for(;o<i;o++)t[o]=n[o]+BL(t[o-a],e[o],e[o-a])&255}}function BL(n,t,e){const i=n+t-e,a=Math.abs(i-n),o=Math.abs(i-t),c=Math.abs(i-e);return a<=o&&a<=c?n:o<=c?t:e}function qL(n,t,e,i,a,o){switch(n){case 0:AA(t,e,a);break;case 1:SA(t,e,a,o);break;case 2:EA(t,e,i,a);break;case 3:xA(t,e,i,a,o);break;case 4:TA(t,e,i,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const zL=new Uint16Array([255]),HL=new Uint8Array(zL.buffer),GL=HL[0]===255;function YL(n){const{data:t,width:e,height:i,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,f=new Uint8Array(i*e*h);let d=0;for(let v=0;v<7;v++){const A=c[v],T=Math.ceil((e-A.x)/A.xStep),w=Math.ceil((i-A.y)/A.yStep);if(T<=0||w<=0)continue;const V=T*h,z=new Uint8Array(V);for(let F=0;F<w;F++){const q=t[d++],at=t.subarray(d,d+V);d+=V;const J=new Uint8Array(V);qL(q,at,J,z,V,h),z.set(J);for(let tt=0;tt<T;tt++){const vt=A.x+tt*A.xStep,St=A.y+F*A.yStep;if(!(vt>=e||St>=i))for(let G=0;G<h;G++)f[(St*e+vt)*h+G]=J[tt*h+G]}}}if(o===16){const v=new Uint16Array(f.buffer);if(GL)for(let A=0;A<v.length;A++)v[A]=KL(v[A]);return v}else return f}function KL(n){return(n&255)<<8|n>>8&255}const WL=new Uint16Array([255]),$L=new Uint8Array(WL.buffer),XL=$L[0]===255,QL=new Uint8Array(0);function R_(n){const{data:t,width:e,height:i,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*e),f=new Uint8Array(i*h);let d=QL,v=0,A,T;for(let w=0;w<i;w++){switch(A=t.subarray(v+1,v+1+h),T=f.subarray(w*h,(w+1)*h),t[v]){case 0:AA(A,T,h);break;case 1:SA(A,T,h,c);break;case 2:EA(A,T,d,h);break;case 3:xA(A,T,d,h,c);break;case 4:TA(A,T,d,h,c);break;default:throw new Error(`Unsupported filter: ${t[v]}`)}d=T,v+=h+1}if(o===16){const w=new Uint16Array(f.buffer);if(XL)for(let V=0;V<w.length;V++)w[V]=JL(w[V]);return w}else return f}function JL(n){return(n&255)<<8|n>>8&255}const Up=Uint8Array.of(137,80,78,71,13,10,26,10);function L_(n){if(!ZL(n.readBytes(Up.length)))throw new Error("wrong PNG signature")}function ZL(n){if(n.length<Up.length)return!1;for(let t=0;t<Up.length;t++)if(n[t]!==Up[t])return!1;return!0}const tk="tEXt",ek=0,NA=new TextDecoder("latin1");function nk(n){if(ik(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const rk=/^[\u0000-\u00FF]*$/;function ik(n){if(!rk.test(n))throw new Error("invalid latin1 text")}function sk(n,t,e){const i=IA(t);n[i]=ak(t,e-i.length-1)}function IA(n){for(n.mark();n.readByte()!==ek;);const t=n.offset;n.reset();const e=NA.decode(n.readBytes(t-n.offset-1));return n.skip(1),nk(e),e}function ak(n,t){return NA.decode(n.readBytes(t))}const ma={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Rg={UNKNOWN:-1,DEFLATE:0},k_={UNKNOWN:-1,ADAPTIVE:0},Lg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ap={NONE:0,BACKGROUND:1,PREVIOUS:2},kg={SOURCE:0,OVER:1};class ok extends I2{constructor(e,i={}){super(e);$n(this,"_checkCrc");$n(this,"_inflator");$n(this,"_png");$n(this,"_apng");$n(this,"_end");$n(this,"_hasPalette");$n(this,"_palette");$n(this,"_hasTransparency");$n(this,"_transparency");$n(this,"_compressionMethod");$n(this,"_filterMethod");$n(this,"_interlaceMethod");$n(this,"_colorType");$n(this,"_isAnimated");$n(this,"_numberOfFrames");$n(this,"_numberOfPlays");$n(this,"_frames");$n(this,"_writingDataChunks");const{checkCrc:a=!1}=i;this._checkCrc=a,this._inflator=new N_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Rg.UNKNOWN,this._filterMethod=k_.UNKNOWN,this._interlaceMethod=Lg.UNKNOWN,this._colorType=ma.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(L_(this);!this._end;){const e=this.readUint32(),i=this.readChars(4);this.decodeChunk(e,i)}return this.decodeImage(),this._png}decodeApng(){for(L_(this);!this._end;){const e=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(e,i)}return this.decodeApngImage(),this._apng}decodeChunk(e,i){const a=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case tk:sk(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?C_(this,e+4,i):this.skip(4)}decodeApngChunk(e,i){const a=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,i),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?C_(this,e+4,i):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=lk(this.readUint8());const i=this.readUint8();this._colorType=i;let a;switch(i){case ma.GREYSCALE:a=1;break;case ma.TRUECOLOUR:a=3;break;case ma.INDEXED_COLOUR:a=1;break;case ma.GREYSCALE_ALPHA:a=2;break;case ma.TRUECOLOUR_ALPHA:a=4;break;case ma.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Rg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const i=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<i;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const i=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let i=e,a=this.offset+this.byteOffset;if(a+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,a,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ma.GREYSCALE:case ma.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let i=0;i<e/2;i++)this._transparency[i]=this.readUint16();break}case ma.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let i=0;for(;i<e;i++){const a=this.readByte();this._palette[i].push(a)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case ma.UNKNOWN:case ma.GREYSCALE_ALPHA:case ma.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const i=IA(this),a=this.readUint8();if(a!==Rg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(e-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:UL(o)}}decodepHYs(){const e=this.readUint32(),i=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:i,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const i={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=R_({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)i.data=a.data;else{const o=this._apng.frames.at(e-1);this.disposeFrame(a,o,i),this.addFrameDataToCanvas(i,a)}this._apng.frames.push(i)}}return this._apng}disposeFrame(e,i,a){switch(e.disposeOp){case Ap.NONE:break;case Ap.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const h=(o*e.width+c)*this._png.channels;for(let f=0;f<this._png.channels;f++)a.data[h+f]=0}break;case Ap.PREVIOUS:a.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,i){const a=1<<this._png.depth,o=(c,h)=>{const f=((c+i.yOffset)*this._png.width+i.xOffset+h)*this._png.channels,d=(c*i.width+h)*this._png.channels;return{index:f,frameIndex:d}};switch(i.blendOp){case kg.SOURCE:for(let c=0;c<i.height;c++)for(let h=0;h<i.width;h++){const{index:f,frameIndex:d}=o(c,h);for(let v=0;v<this._png.channels;v++)e.data[f+v]=i.data[d+v]}break;case kg.OVER:for(let c=0;c<i.height;c++)for(let h=0;h<i.width;h++){const{index:f,frameIndex:d}=o(c,h);for(let v=0;v<this._png.channels;v++){const A=i.data[d+this._png.channels-1]/a,T=v%(this._png.channels-1)===0?1:i.data[d+v],w=Math.floor(A*T+(1-A)*e.data[f+v]);e.data[f+v]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==k_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Lg.NO_INTERLACE)this._png.data=R_({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Lg.ADAM7)this._png.data=YL({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,i=this._frames.at(-1);i?i.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ap.NONE,blendOp:kg.SOURCE,data:e}),this._inflator=new N_,this._writingDataChunks=!1}}function lk(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var D_;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(D_||(D_={}));function uk(n,t){return new ok(n,t).decode()}var We=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Dg(){We.console&&typeof We.console.log=="function"&&We.console.log.apply(We.console,arguments)}var ur={log:Dg,warn:function(n){We.console&&(typeof We.console.warn=="function"?We.console.warn.apply(We.console,arguments):Dg.call(null,arguments))},error:function(n){We.console&&(typeof We.console.error=="function"?We.console.error.apply(We.console,arguments):Dg(n))}};function Og(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){oc(i.response,t,e)},i.onerror=function(){ur.error("could not download file")},i.send()}function O_(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Sp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var oc=We.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==We?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=We.URL||We.webkitURL,a=document.createElement("a");t=t||n.name||"download",a.download=t,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?O_(a.href)?Og(n,t,e):Sp(a,a.target="_blank"):Sp(a)):(a.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){Sp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(O_(n))Og(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Sp(i)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Xn(o)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return Og(n,t,e);var a=n.type==="application/octet-stream",o=/constructor/i.test(We.HTMLElement)||We.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=c?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=v:location=v,i=null},h.readAsDataURL(n)}else{var f=We.URL||We.webkitURL,d=f.createObjectURL(n);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function CA(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],i=0;i<e.length;i++){var a=e[i].re,o=e[i].process,c=a.exec(n);c&&(t=o(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var Vp=We.atob.bind(We),P_=We.btoa.bind(We);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Pg(n,t){var e=n[0],i=n[1],a=n[2],o=n[3];e=ds(e,i,a,o,t[0],7,-680876936),o=ds(o,e,i,a,t[1],12,-389564586),a=ds(a,o,e,i,t[2],17,606105819),i=ds(i,a,o,e,t[3],22,-1044525330),e=ds(e,i,a,o,t[4],7,-176418897),o=ds(o,e,i,a,t[5],12,1200080426),a=ds(a,o,e,i,t[6],17,-1473231341),i=ds(i,a,o,e,t[7],22,-45705983),e=ds(e,i,a,o,t[8],7,1770035416),o=ds(o,e,i,a,t[9],12,-1958414417),a=ds(a,o,e,i,t[10],17,-42063),i=ds(i,a,o,e,t[11],22,-1990404162),e=ds(e,i,a,o,t[12],7,1804603682),o=ds(o,e,i,a,t[13],12,-40341101),a=ds(a,o,e,i,t[14],17,-1502002290),e=ps(e,i=ds(i,a,o,e,t[15],22,1236535329),a,o,t[1],5,-165796510),o=ps(o,e,i,a,t[6],9,-1069501632),a=ps(a,o,e,i,t[11],14,643717713),i=ps(i,a,o,e,t[0],20,-373897302),e=ps(e,i,a,o,t[5],5,-701558691),o=ps(o,e,i,a,t[10],9,38016083),a=ps(a,o,e,i,t[15],14,-660478335),i=ps(i,a,o,e,t[4],20,-405537848),e=ps(e,i,a,o,t[9],5,568446438),o=ps(o,e,i,a,t[14],9,-1019803690),a=ps(a,o,e,i,t[3],14,-187363961),i=ps(i,a,o,e,t[8],20,1163531501),e=ps(e,i,a,o,t[13],5,-1444681467),o=ps(o,e,i,a,t[2],9,-51403784),a=ps(a,o,e,i,t[7],14,1735328473),e=ms(e,i=ps(i,a,o,e,t[12],20,-1926607734),a,o,t[5],4,-378558),o=ms(o,e,i,a,t[8],11,-2022574463),a=ms(a,o,e,i,t[11],16,1839030562),i=ms(i,a,o,e,t[14],23,-35309556),e=ms(e,i,a,o,t[1],4,-1530992060),o=ms(o,e,i,a,t[4],11,1272893353),a=ms(a,o,e,i,t[7],16,-155497632),i=ms(i,a,o,e,t[10],23,-1094730640),e=ms(e,i,a,o,t[13],4,681279174),o=ms(o,e,i,a,t[0],11,-358537222),a=ms(a,o,e,i,t[3],16,-722521979),i=ms(i,a,o,e,t[6],23,76029189),e=ms(e,i,a,o,t[9],4,-640364487),o=ms(o,e,i,a,t[12],11,-421815835),a=ms(a,o,e,i,t[15],16,530742520),e=gs(e,i=ms(i,a,o,e,t[2],23,-995338651),a,o,t[0],6,-198630844),o=gs(o,e,i,a,t[7],10,1126891415),a=gs(a,o,e,i,t[14],15,-1416354905),i=gs(i,a,o,e,t[5],21,-57434055),e=gs(e,i,a,o,t[12],6,1700485571),o=gs(o,e,i,a,t[3],10,-1894986606),a=gs(a,o,e,i,t[10],15,-1051523),i=gs(i,a,o,e,t[1],21,-2054922799),e=gs(e,i,a,o,t[8],6,1873313359),o=gs(o,e,i,a,t[15],10,-30611744),a=gs(a,o,e,i,t[6],15,-1560198380),i=gs(i,a,o,e,t[13],21,1309151649),e=gs(e,i,a,o,t[4],6,-145523070),o=gs(o,e,i,a,t[11],10,-1120210379),a=gs(a,o,e,i,t[2],15,718787259),i=gs(i,a,o,e,t[9],21,-343485551),n[0]=Au(e,n[0]),n[1]=Au(i,n[1]),n[2]=Au(a,n[2]),n[3]=Au(o,n[3])}function Fm(n,t,e,i,a,o){return t=Au(Au(t,n),Au(i,o)),Au(t<<a|t>>>32-a,e)}function ds(n,t,e,i,a,o,c){return Fm(t&e|~t&i,n,t,a,o,c)}function ps(n,t,e,i,a,o,c){return Fm(t&i|e&~i,n,t,a,o,c)}function ms(n,t,e,i,a,o,c){return Fm(t^e^i,n,t,a,o,c)}function gs(n,t,e,i,a,o,c){return Fm(e^(t|~i),n,t,a,o,c)}function RA(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Pg(i,ck(n.substring(t-64,t)));n=n.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Pg(i,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,Pg(i,a),i}function ck(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var M_="0123456789abcdef".split("");function hk(n){for(var t="",e=0;e<4;e++)t+=M_[n>>8*e+4&15]+M_[n>>8*e&15];return t}function fk(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function A0(n){return RA(n).map(fk).join("")}var dk=(function(n){for(var t=0;t<n.length;t++)n[t]=hk(n[t]);return n.join("")})(RA("hello"))!="5d41402abc4b2a76b9719d911017c592";function Au(n,t){if(dk){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function S0(n,t){var e,i,a,o;if(n!==e){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var v=h[f];d=(d+v+c.charCodeAt(f))%256,h[f]=h[d],h[d]=v}e=n,i=h}else h=i;var A=t.length,T=0,w=0,V="";for(f=0;f<A;f++)w=(w+(v=h[T=(T+1)%256]))%256,h[T]=h[w],h[w]=v,c=h[(h[T]+h[w])%256],V+=String.fromCharCode(t.charCodeAt(f)^c);return V}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var j_={print:4,modify:8,copy:16,"annot-forms":32};function gh(n,t,e,i){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(j_.perm!==void 0)throw new Error("Invalid permission: "+h);a+=j_[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=A0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=S0(this.encryptionKey,this.padding)}function yh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var a=n.charCodeAt(i);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[i]}return t}function U_(n){if(Xn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,a){if(a=a||!1,typeof e!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[i,!!a],o},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[e]){var c=t[e][o];try{c[0].apply(n,i)}catch(h){We.console&&ur.error("jsPDF PubSub Error",h.message,h)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function pm(n){if(!(this instanceof pm))return new pm(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function LA(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function lc(n,t,e,i,a){if(!(this instanceof lc))return new lc(n,t,e,i,a);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,LA.call(this,i,a)}function bh(n,t,e,i,a){if(!(this instanceof bh))return new bh(n,t,e,i,a);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,LA.call(this,i,a)}function Ee(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],o=arguments[3],c=[],h=1,f=16,d="S",v=null;Xn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,a=n.format||a,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),i=i||"mm",e=(""+(e||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,T={},w={internal:{},__private__:{}};w.__private__.PubSub=U_;var V="1.3",z=w.__private__.getPdfVersion=function(){return V};w.__private__.setPdfVersion=function(_){V=_};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return F};var q=w.__private__.getPageFormat=function(_){return F[_]};a=a||"a4";var at="compat",J="advanced",tt=at;function vt(){this.saveGraphicsState(),et(new Te(Ye,0,0,-Ye,0,Es()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),d="n",tt=J}function St(){this.restoreGraphicsState(),d="S",tt=at}var G=w.__private__.combineFontStyleAndFontWeight=function(_,M){if(_=="bold"&&M=="normal"||_=="bold"&&M==400||_=="normal"&&M=="italic"||_=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(_=M==400||M==="normal"?_==="italic"?"italic":"normal":M!=700&&M!=="bold"||_!=="normal"?(M==700?"bold":M)+""+_:"bold"),_};w.advancedAPI=function(_){var M=tt===at;return M&&vt.call(this),typeof _!="function"||(_(this),M&&St.call(this)),this},w.compatAPI=function(_){var M=tt===J;return M&&St.call(this),typeof _!="function"||(_(this),M&&vt.call(this)),this},w.isAdvancedAPI=function(){return tt===J};var O,D=function(_){if(tt!==J)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=w.roundToPrecision=w.__private__.roundToPrecision=function(_,M){var rt=t||M;if(isNaN(_)||isNaN(rt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(rt).replace(/0+$/,"")};O=w.hpf=w.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,16)};var x=w.f2=w.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return K(_,2)},R=w.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return K(_,3)},k=w.scale=w.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return tt===at?_*Ye:tt===J?_:void 0},lt=function(_){return k((function(M){return tt===at?Es()-M:tt===J?M:void 0})(_))};w.__private__.setPrecision=w.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var _t,st="00000000000000000000000000000000",pt=w.__private__.getFileId=function(){return st},dt=w.__private__.setFileId=function(_){return st=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():st.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(sr=new gh(v.userPermissions,v.userPassword,v.ownerPassword,st)),st};w.setFileId=function(_){return dt(_),this},w.getFileId=function(){return pt()};var Nt=w.__private__.convertDateToPDFDate=function(_){var M=_.getTimezoneOffset(),rt=M<0?"+":"-",ht=Math.floor(Math.abs(M/60)),bt=Math.abs(M%60),Ut=[rt,Z(ht),"'",Z(bt),"'"].join("");return["D:",_.getFullYear(),Z(_.getMonth()+1),Z(_.getDate()),Z(_.getHours()),Z(_.getMinutes()),Z(_.getSeconds()),Ut].join("")},qt=w.__private__.convertPDFDateToDate=function(_){var M=parseInt(_.substr(2,4),10),rt=parseInt(_.substr(6,2),10)-1,ht=parseInt(_.substr(8,2),10),bt=parseInt(_.substr(10,2),10),Ut=parseInt(_.substr(12,2),10),Kt=parseInt(_.substr(14,2),10);return new Date(M,rt,ht,bt,Ut,Kt,0)},U=w.__private__.setCreationDate=function(_){var M;if(_===void 0&&(_=new Date),_ instanceof Date)M=Nt(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=_}return _t=M},C=w.__private__.getCreationDate=function(_){var M=_t;return _==="jsDate"&&(M=qt(_t)),M};w.setCreationDate=function(_){return U(_),this},w.getCreationDate=function(_){return C(_)};var Y,Z=w.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ot=w.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ut=0,ft=[],Tt=[],Ct=0,jt=[],Xt=[],te=!1,$t=Tt;w.__private__.setCustomOutputDestination=function(_){te=!0,$t=_};var ie=function(_){te||($t=_)};w.__private__.resetCustomOutputDestination=function(){te=!1,$t=Tt};var et=w.__private__.out=function(_){return _=_.toString(),Ct+=_.length+1,$t.push(_),$t},Zt=w.__private__.write=function(_){return et(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Ve=w.__private__.getArrayBuffer=function(_){for(var M=_.length,rt=new ArrayBuffer(M),ht=new Uint8Array(rt);M--;)ht[M]=_.charCodeAt(M);return rt},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Ae};var Ft=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(_){return Ft=tt===J?_/Ye:_,this};var re,ee=w.__private__.getFontSize=w.getFontSize=function(){return tt===at?Ft:Ft*Ye},we=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(_){return we=_,this},w.__private__.getR2L=w.getR2L=function(){return we};var he,Ge=w.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))re=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');re=_}else re=parseInt(_,10)};w.__private__.getZoomMode=function(){return re};var Ze,Be=w.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');he=_};w.__private__.getPageMode=function(){return he};var an=w.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Ze=_};w.__private__.getLayoutMode=function(){return Ze},w.__private__.setDisplayMode=w.setDisplayMode=function(_,M,rt){return Ge(_),an(M),Be(rt),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(_){if(Object.keys(Xe).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[_]},w.__private__.getDocumentProperties=function(){return Xe},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(_){for(var M in Xe)Xe.hasOwnProperty(M)&&_[M]&&(Xe[M]=_[M]);return this},w.__private__.setDocumentProperty=function(_,M){if(Object.keys(Xe).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[_]=M};var ye,Ye,ve,hr,Qe,Ie={},je={},$e=[],xe={},Cn={},Pe={},Me={},kn=null,Se=0,be=[],on=new U_(w),fi=n.hotfixes||[],ti={},Ls={},Gr=[],Te=function _(M,rt,ht,bt,Ut,Kt){if(!(this instanceof _))return new _(M,rt,ht,bt,Ut,Kt);isNaN(M)&&(M=1),isNaN(rt)&&(rt=0),isNaN(ht)&&(ht=0),isNaN(bt)&&(bt=1),isNaN(Ut)&&(Ut=0),isNaN(Kt)&&(Kt=0),this._matrix=[M,rt,ht,bt,Ut,Kt]};Object.defineProperty(Te.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Te.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Te.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Te.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Te.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Te.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Te.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Te.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Te.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Te.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Te.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Te.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Te.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Te.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Te.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Te.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Te.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(_)},Te.prototype.multiply=function(_){var M=_.sx*this.sx+_.shy*this.shx,rt=_.sx*this.shy+_.shy*this.sy,ht=_.shx*this.sx+_.sy*this.shx,bt=_.shx*this.shy+_.sy*this.sy,Ut=_.tx*this.sx+_.ty*this.shx+this.tx,Kt=_.tx*this.shy+_.ty*this.sy+this.ty;return new Te(M,rt,ht,bt,Ut,Kt)},Te.prototype.decompose=function(){var _=this.sx,M=this.shy,rt=this.shx,ht=this.sy,bt=this.tx,Ut=this.ty,Kt=Math.sqrt(_*_+M*M),oe=(_/=Kt)*rt+(M/=Kt)*ht;rt-=_*oe,ht-=M*oe;var pe=Math.sqrt(rt*rt+ht*ht);return oe/=pe,_*(ht/=pe)<M*(rt/=pe)&&(_=-_,M=-M,oe=-oe,Kt=-Kt),{scale:new Te(Kt,0,0,pe,0,0),translate:new Te(1,0,0,1,bt,Ut),rotate:new Te(_,M,-M,_,0,0),skew:new Te(1,0,oe,1,0,0)}},Te.prototype.toString=function(_){return this.join(" ")},Te.prototype.inversed=function(){var _=this.sx,M=this.shy,rt=this.shx,ht=this.sy,bt=this.tx,Ut=this.ty,Kt=1/(_*ht-M*rt),oe=ht*Kt,pe=-M*Kt,Le=-rt*Kt,Ne=_*Kt;return new Te(oe,pe,Le,Ne,-oe*bt-Le*Ut,-pe*bt-Ne*Ut)},Te.prototype.applyToPoint=function(_){var M=_.x*this.sx+_.y*this.shx+this.tx,rt=_.x*this.shy+_.y*this.sy+this.ty;return new ri(M,rt)},Te.prototype.applyToRectangle=function(_){var M=this.applyToPoint(_),rt=this.applyToPoint(new ri(_.x+_.w,_.y+_.h));return new Ds(M.x,M.y,rt.x-M.x,rt.y-M.y)},Te.prototype.clone=function(){var _=this.sx,M=this.shy,rt=this.shx,ht=this.sy,bt=this.tx,Ut=this.ty;return new Te(_,M,rt,ht,bt,Ut)},w.Matrix=Te;var ea=w.matrixMult=function(_,M){return M.multiply(_)},Bi=new Te(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Bi;var Ti=function(_,M){if(!Cn[_]){var rt=(M instanceof lc?"Sh":"P")+(Object.keys(xe).length+1).toString(10);M.id=rt,Cn[_]=rt,xe[rt]=M,on.publish("addPattern",M)}};w.ShadingPattern=lc,w.TilingPattern=bh,w.addShadingPattern=function(_,M){return D("addShadingPattern()"),Ti(_,M),this},w.beginTilingPattern=function(_){D("beginTilingPattern()"),Os(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},w.endTilingPattern=function(_,M){D("endTilingPattern()"),M.stream=Xt[Y].join(`
`),Ti(_,M),on.publish("endTilingPattern",M),Gr.pop().restore()};var Ni,Bn=w.__private__.newObject=function(){var _=Qn();return Or(_,!0),_},Qn=w.__private__.newObjectDeferred=function(){return ut++,ft[ut]=function(){return Ct},ut},Or=function(_,M){return M=typeof M=="boolean"&&M,ft[_]=Ct,M&&et(_+" 0 obj"),_},di=w.__private__.newAdditionalObject=function(){var _={objId:Qn(),content:""};return jt.push(_),_},ei=Qn(),Dn=Qn(),Hn=w.__private__.decodeColorString=function(_){var M=_.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var rt=parseFloat(M[0]);M=[rt,rt,rt,"r"]}for(var ht="#",bt=0;bt<3;bt++)ht+=("0"+Math.floor(255*parseFloat(M[bt])).toString(16)).slice(-2);return ht},Pr=w.__private__.encodeColorString=function(_){var M;typeof _=="string"&&(_={ch1:_});var rt=_.ch1,ht=_.ch2,bt=_.ch3,Ut=_.ch4,Kt=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof rt=="string"&&rt.charAt(0)!=="#"){var oe=new CA(rt);if(oe.ok)rt=oe.toHex();else if(!/^\d*\.?\d*$/.test(rt))throw new Error('Invalid color "'+rt+'" passed to jsPDF.encodeColorString.')}if(typeof rt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(rt)&&(rt="#"+rt[1]+rt[1]+rt[2]+rt[2]+rt[3]+rt[3]),typeof rt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(rt)){var pe=parseInt(rt.substr(1),16);rt=pe>>16&255,ht=pe>>8&255,bt=255&pe}if(ht===void 0||Ut===void 0&&rt===ht&&ht===bt)M=typeof rt=="string"?rt+" "+Kt[0]:_.precision===2?x(rt/255)+" "+Kt[0]:R(rt/255)+" "+Kt[0];else if(Ut===void 0||Xn(Ut)==="object"){if(Ut&&!isNaN(Ut.a)&&Ut.a===0)return["1.","1.","1.",Kt[1]].join(" ");M=typeof rt=="string"?[rt,ht,bt,Kt[1]].join(" "):_.precision===2?[x(rt/255),x(ht/255),x(bt/255),Kt[1]].join(" "):[R(rt/255),R(ht/255),R(bt/255),Kt[1]].join(" ")}else M=typeof rt=="string"?[rt,ht,bt,Ut,Kt[2]].join(" "):_.precision===2?[x(rt),x(ht),x(bt),x(Ut),Kt[2]].join(" "):[R(rt),R(ht),R(bt),R(Ut),Kt[2]].join(" ");return M},Ii=w.__private__.getFilters=function(){return c},is=w.__private__.putStream=function(_){var M=(_=_||{}).data||"",rt=_.filters||Ii(),ht=_.alreadyAppliedFilters||[],bt=_.addLength1||!1,Ut=M.length,Kt=_.objectId,oe=function(E){return E};if(v!==null&&Kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(oe=sr.encryptor(Kt,0));var pe={};rt===!0&&(rt=["FlateEncode"]);var Le=_.additionalKeyValues||[],Ne=(pe=Ee.API.processDataByFilters!==void 0?Ee.API.processDataByFilters(M,rt):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(ht)?ht.join(" "):ht.toString());if(pe.data.length!==0&&(Le.push({key:"Length",value:pe.data.length}),bt===!0&&Le.push({key:"Length1",value:Ut})),Ne.length!=0)if(Ne.split("/").length-1==1)Le.push({key:"Filter",value:Ne});else{Le.push({key:"Filter",value:"["+Ne+"]"});for(var fn=0;fn<Le.length;fn+=1)if(Le[fn].key==="DecodeParms"){for(var Jn=[],qn=0;qn<pe.reverseChain.split("/").length-1;qn+=1)Jn.push("null");Jn.push(Le[fn].value),Le[fn].value="["+Jn.join(" ")+"]"}}et("<<");for(var m=0;m<Le.length;m++)et("/"+Le[m].key+" "+Le[m].value);et(">>"),pe.data.length!==0&&(et("stream"),et(oe(pe.data)),et("endstream"))},_a=w.__private__.putPage=function(_){var M=_.number,rt=_.data,ht=_.objId,bt=_.contentsObjId;Or(ht,!0),et("<</Type /Page"),et("/Parent "+_.rootDictionaryObjId+" 0 R"),et("/Resources "+_.resourceDictionaryObjId+" 0 R"),et("/MediaBox ["+parseFloat(O(_.mediaBox.bottomLeftX))+" "+parseFloat(O(_.mediaBox.bottomLeftY))+" "+O(_.mediaBox.topRightX)+" "+O(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&et("/CropBox ["+O(_.cropBox.bottomLeftX)+" "+O(_.cropBox.bottomLeftY)+" "+O(_.cropBox.topRightX)+" "+O(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&et("/BleedBox ["+O(_.bleedBox.bottomLeftX)+" "+O(_.bleedBox.bottomLeftY)+" "+O(_.bleedBox.topRightX)+" "+O(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&et("/TrimBox ["+O(_.trimBox.bottomLeftX)+" "+O(_.trimBox.bottomLeftY)+" "+O(_.trimBox.topRightX)+" "+O(_.trimBox.topRightY)+"]"),_.artBox!==null&&et("/ArtBox ["+O(_.artBox.bottomLeftX)+" "+O(_.artBox.bottomLeftY)+" "+O(_.artBox.topRightX)+" "+O(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&et("/UserUnit "+_.userUnit),on.publish("putPage",{objId:ht,pageContext:be[M],pageNumber:M,page:rt}),et("/Contents "+bt+" 0 R"),et(">>"),et("endobj");var Ut=rt.join(`
`);return tt===J&&(Ut+=`
Q`),Or(bt,!0),is({data:Ut,filters:Ii(),objectId:bt}),et("endobj"),ht},_s=w.__private__.putPages=function(){var _,M,rt=[];for(_=1;_<=Se;_++)be[_].objId=Qn(),be[_].contentsObjId=Qn();for(_=1;_<=Se;_++)rt.push(_a({number:_,data:Xt[_],objId:be[_].objId,contentsObjId:be[_].contentsObjId,mediaBox:be[_].mediaBox,cropBox:be[_].cropBox,bleedBox:be[_].bleedBox,trimBox:be[_].trimBox,artBox:be[_].artBox,userUnit:be[_].userUnit,rootDictionaryObjId:ei,resourceDictionaryObjId:Dn}));Or(ei,!0),et("<</Type /Pages");var ht="/Kids [";for(M=0;M<Se;M++)ht+=rt[M]+" 0 R ";et(ht+"]"),et("/Count "+Se),et(">>"),et("endobj"),on.publish("postPutPages")},Ci=function(_){on.publish("putFont",{font:_,out:et,newObject:Bn,putStream:is}),_.isAlreadyPutted!==!0&&(_.objectNumber=Bn(),et("<<"),et("/Type /Font"),et("/BaseFont /"+yh(_.postScriptName)),et("/Subtype /Type1"),typeof _.encoding=="string"&&et("/Encoding /"+_.encoding),et("/FirstChar 32"),et("/LastChar 255"),et(">>"),et("endobj"))},na=function(_){_.objectNumber=Bn();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[O(_.x),O(_.y),O(_.x+_.width),O(_.y+_.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var rt=_.pages[1].join(`
`);is({data:rt,additionalKeyValues:M,objectId:_.objectNumber}),et("endobj")},qi=function(_,M){M||(M=21);var rt=Bn(),ht=(function(Kt,oe){var pe,Le=[],Ne=1/(oe-1);for(pe=0;pe<1;pe+=Ne)Le.push(pe);if(Le.push(1),Kt[0].offset!=0){var fn={offset:0,color:Kt[0].color};Kt.unshift(fn)}if(Kt[Kt.length-1].offset!=1){var Jn={offset:1,color:Kt[Kt.length-1].color};Kt.push(Jn)}for(var qn="",m=0,E=0;E<Le.length;E++){for(pe=Le[E];pe>Kt[m+1].offset;)m++;var L=Kt[m].offset,X=(pe-L)/(Kt[m+1].offset-L),At=Kt[m].color,kt=Kt[m+1].color;qn+=ot(Math.round((1-X)*At[0]+X*kt[0]).toString(16))+ot(Math.round((1-X)*At[1]+X*kt[1]).toString(16))+ot(Math.round((1-X)*At[2]+X*kt[2]).toString(16))}return qn.trim()})(_.colors,M),bt=[];bt.push({key:"FunctionType",value:"0"}),bt.push({key:"Domain",value:"[0.0 1.0]"}),bt.push({key:"Size",value:"["+M+"]"}),bt.push({key:"BitsPerSample",value:"8"}),bt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),is({data:ht,additionalKeyValues:bt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:rt}),et("endobj"),_.objectNumber=Bn(),et("<< /ShadingType "+_.type),et("/ColorSpace /DeviceRGB");var Ut="/Coords ["+O(parseFloat(_.coords[0]))+" "+O(parseFloat(_.coords[1]))+" ";_.type===2?Ut+=O(parseFloat(_.coords[2]))+" "+O(parseFloat(_.coords[3])):Ut+=O(parseFloat(_.coords[2]))+" "+O(parseFloat(_.coords[3]))+" "+O(parseFloat(_.coords[4]))+" "+O(parseFloat(_.coords[5])),et(Ut+="]"),_.matrix&&et("/Matrix ["+_.matrix.toString()+"]"),et("/Function "+rt+" 0 R"),et("/Extend [true true]"),et(">>"),et("endobj")},pi=function(_,M){var rt=Qn(),ht=Bn();M.push({resourcesOid:rt,objectOid:ht}),_.objectNumber=ht;var bt=[];bt.push({key:"Type",value:"/Pattern"}),bt.push({key:"PatternType",value:"1"}),bt.push({key:"PaintType",value:"1"}),bt.push({key:"TilingType",value:"1"}),bt.push({key:"BBox",value:"["+_.boundingBox.map(O).join(" ")+"]"}),bt.push({key:"XStep",value:O(_.xStep)}),bt.push({key:"YStep",value:O(_.yStep)}),bt.push({key:"Resources",value:rt+" 0 R"}),_.matrix&&bt.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),is({data:_.stream,additionalKeyValues:bt,objectId:_.objectNumber}),et("endobj")},zi=function(_){for(var M in _.objectNumber=Bn(),et("<<"),_)switch(M){case"opacity":et("/ca "+x(_[M]));break;case"stroke-opacity":et("/CA "+x(_[M]))}et(">>"),et("endobj")},ss=function(_){Or(_.resourcesOid,!0),et("<<"),et("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in et("/Font <<"),Ie)Ie.hasOwnProperty(M)&&(A===!1||A===!0&&T.hasOwnProperty(M))&&et("/"+M+" "+Ie[M].objectNumber+" 0 R");et(">>")})(),(function(){if(Object.keys(xe).length>0){for(var M in et("/Shading <<"),xe)xe.hasOwnProperty(M)&&xe[M]instanceof lc&&xe[M].objectNumber>=0&&et("/"+M+" "+xe[M].objectNumber+" 0 R");on.publish("putShadingPatternDict"),et(">>")}})(),(function(M){if(Object.keys(xe).length>0){for(var rt in et("/Pattern <<"),xe)xe.hasOwnProperty(rt)&&xe[rt]instanceof w.TilingPattern&&xe[rt].objectNumber>=0&&xe[rt].objectNumber<M&&et("/"+rt+" "+xe[rt].objectNumber+" 0 R");on.publish("putTilingPatternDict"),et(">>")}})(_.objectOid),(function(){if(Object.keys(Pe).length>0){var M;for(M in et("/ExtGState <<"),Pe)Pe.hasOwnProperty(M)&&Pe[M].objectNumber>=0&&et("/"+M+" "+Pe[M].objectNumber+" 0 R");on.publish("putGStateDict"),et(">>")}})(),(function(){for(var M in et("/XObject <<"),ti)ti.hasOwnProperty(M)&&ti[M].objectNumber>=0&&et("/"+M+" "+ti[M].objectNumber+" 0 R");on.publish("putXobjectDict"),et(">>")})(),et(">>"),et("endobj")},dr=function(_){je[_.fontName]=je[_.fontName]||{},je[_.fontName][_.fontStyle]=_.id},Ao=function(_,M,rt,ht,bt){var Ut={id:"F"+(Object.keys(Ie).length+1).toString(10),postScriptName:_,fontName:M,fontStyle:rt,encoding:ht,isStandardFont:bt||!1,metadata:{}};return on.publish("addFont",{font:Ut,instance:this}),Ie[Ut.id]=Ut,dr(Ut),Ut.id},Ri=w.__private__.pdfEscape=w.pdfEscape=function(_,M){return(function(rt,ht){var bt,Ut,Kt,oe,pe,Le,Ne,fn,Jn;if(Kt=(ht=ht||{}).sourceEncoding||"Unicode",pe=ht.outputEncoding,(ht.autoencode||pe)&&Ie[ye].metadata&&Ie[ye].metadata[Kt]&&Ie[ye].metadata[Kt].encoding&&(oe=Ie[ye].metadata[Kt].encoding,!pe&&Ie[ye].encoding&&(pe=Ie[ye].encoding),!pe&&oe.codePages&&(pe=oe.codePages[0]),typeof pe=="string"&&(pe=oe[pe]),pe)){for(Ne=!1,Le=[],bt=0,Ut=rt.length;bt<Ut;bt++)(fn=pe[rt.charCodeAt(bt)])?Le.push(String.fromCharCode(fn)):Le.push(rt[bt]),Le[bt].charCodeAt(0)>>8&&(Ne=!0);rt=Le.join("")}for(bt=rt.length;Ne===void 0&&bt!==0;)rt.charCodeAt(bt-1)>>8&&(Ne=!0),bt--;if(!Ne)return rt;for(Le=ht.noBOM?[]:[254,255],bt=0,Ut=rt.length;bt<Ut;bt++){if((Jn=(fn=rt.charCodeAt(bt))>>8)>>8)throw new Error("Character at position "+bt+" of string '"+rt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Le.push(Jn),Le.push(fn-(Jn<<8))}return String.fromCharCode.apply(void 0,Le)})(_,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},as=w.__private__.beginPage=function(_){Xt[++Se]=[],be[Se]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},So(Se),ie(Xt[Y])},ws=function(_,M){var rt,ht,bt;switch(e=M||e,typeof _=="string"&&(rt=q(_.toLowerCase()),Array.isArray(rt)&&(ht=rt[0],bt=rt[1])),Array.isArray(_)&&(ht=_[0]*Ye,bt=_[1]*Ye),isNaN(ht)&&(ht=a[0],bt=a[1]),(ht>14400||bt>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ht=Math.min(14400,ht),bt=Math.min(14400,bt)),a=[ht,bt],e.substr(0,1)){case"l":bt>ht&&(a=[bt,ht]);break;case"p":ht>bt&&(a=[bt,ht])}as(a),Ce(ki),et(Gi),Ki!==0&&et(Ki+" J"),Nr!==0&&et(Nr+" j"),on.publish("addPage",{pageNumber:Se})},za=function(_){_>0&&_<=Se&&(Xt.splice(_,1),be.splice(_,1),Se--,Y>Se&&(Y=Se),this.setPage(Y))},So=function(_){_>0&&_<=Se&&(Y=_)},Eo=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Xt.length-1},rl=function(_,M,rt){var ht,bt=void 0;return rt=rt||{},_=_!==void 0?_:Ie[ye].fontName,M=M!==void 0?M:Ie[ye].fontStyle,ht=_.toLowerCase(),je[ht]!==void 0&&je[ht][M]!==void 0?bt=je[ht][M]:je[_]!==void 0&&je[_][M]!==void 0?bt=je[_][M]:rt.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+_+"', '"+M+"'. Refer to getFontList() for available fonts."),bt||rt.noFallback||(bt=je.times[M])==null&&(bt=je.times.normal),bt},Hi=w.__private__.putInfo=function(){var _=Bn(),M=function(ht){return ht};for(var rt in v!==null&&(M=sr.encryptor(_,0)),et("<<"),et("/Producer ("+Ri(M("jsPDF "+Ee.version))+")"),Xe)Xe.hasOwnProperty(rt)&&Xe[rt]&&et("/"+rt.substr(0,1).toUpperCase()+rt.substr(1)+" ("+Ri(M(Xe[rt]))+")");et("/CreationDate ("+Ri(M(_t))+")"),et(">>"),et("endobj")},ni=w.__private__.putCatalog=function(_){var M=(_=_||{}).rootDictionaryObjId||ei;switch(Bn(),et("<<"),et("/Type /Catalog"),et("/Pages "+M+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":et("/OpenAction [3 0 R /FitH null]");break;case"fullheight":et("/OpenAction [3 0 R /FitV null]");break;case"fullpage":et("/OpenAction [3 0 R /Fit]");break;case"original":et("/OpenAction [3 0 R /XYZ null null 1]");break;default:var rt=""+re;rt.substr(rt.length-1)==="%"&&(re=parseInt(re)/100),typeof re=="number"&&et("/OpenAction [3 0 R /XYZ null null "+x(re)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":et("/PageLayout /OneColumn");break;case"single":et("/PageLayout /SinglePage");break;case"two":case"twoleft":et("/PageLayout /TwoColumnLeft");break;case"tworight":et("/PageLayout /TwoColumnRight")}he&&et("/PageMode /"+he),on.publish("putCatalog"),et(">>"),et("endobj")},br=w.__private__.putTrailer=function(){et("trailer"),et("<<"),et("/Size "+(ut+1)),et("/Root "+ut+" 0 R"),et("/Info "+(ut-1)+" 0 R"),v!==null&&et("/Encrypt "+sr.oid+" 0 R"),et("/ID [ <"+st+"> <"+st+"> ]"),et(">>")},hn=w.__private__.putHeader=function(){et("%PDF-"+V),et("%")},ra=w.__private__.putXRef=function(){var _="0000000000";et("xref"),et("0 "+(ut+1)),et("0000000000 65535 f ");for(var M=1;M<=ut;M++)typeof ft[M]=="function"?et((_+ft[M]()).slice(-10)+" 00000 n "):ft[M]!==void 0?et((_+ft[M]).slice(-10)+" 00000 n "):et("0000000000 00000 n ")},os=w.__private__.buildDocument=function(){var _;ut=0,Ct=0,Tt=[],ft=[],jt=[],ei=Qn(),Dn=Qn(),ie(Tt),on.publish("buildDocument"),hn(),_s(),(function(){on.publish("putAdditionalObjects");for(var rt=0;rt<jt.length;rt++){var ht=jt[rt];Or(ht.objId,!0),et(ht.content),et("endobj")}on.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var rt in Ie)Ie.hasOwnProperty(rt)&&(A===!1||A===!0&&T.hasOwnProperty(rt))&&Ci(Ie[rt])})(),(function(){var rt;for(rt in Pe)Pe.hasOwnProperty(rt)&&zi(Pe[rt])})(),(function(){for(var rt in ti)ti.hasOwnProperty(rt)&&na(ti[rt])})(),(function(rt){var ht;for(ht in xe)xe.hasOwnProperty(ht)&&(xe[ht]instanceof lc?qi(xe[ht]):xe[ht]instanceof bh&&pi(xe[ht],rt))})(_),on.publish("putResources"),_.forEach(ss),ss({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources"),v!==null&&(sr.oid=Bn(),et("<<"),et("/Filter /Standard"),et("/V "+sr.v),et("/R "+sr.r),et("/U <"+sr.toHexString(sr.U)+">"),et("/O <"+sr.toHexString(sr.O)+">"),et("/P "+sr.P),et(">>"),et("endobj")),Hi(),ni();var M=Ct;return ra(),br(),et("startxref"),et(""+M),et("%%EOF"),ie(Xt[Y]),Tt.join(`
`)},yn=w.__private__.getBlob=function(_){return new Blob([Ve(_)],{type:"application/pdf"})},wa=w.output=w.__private__.output=(Ni=function(_,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",_){case void 0:return os();case"save":w.save(M.filename);break;case"arraybuffer":return Ve(os());case"blob":return yn(os());case"bloburi":case"bloburl":if(We.URL!==void 0&&typeof We.URL.createObjectURL=="function")return We.URL&&We.URL.createObjectURL(yn(os()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var rt="",ht=os();try{rt=P_(ht)}catch{rt=P_(unescape(encodeURIComponent(ht)))}return"data:application/pdf;filename="+M.filename+";base64,"+rt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(We)==="[object Window]"){var bt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(bt=M.pdfObjectUrl,Ut="");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+bt+'"'+Ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",oe=We.open();return oe!==null&&oe.document.write(Kt),oe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(We)==="[object Window]"){var pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Le=We.open();if(Le!==null){Le.document.write(pe);var Ne=this;Le.document.documentElement.querySelector("#pdfViewer").onload=function(){Le.document.title=M.filename,Le.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ne.output("bloburl"))}}return Le}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(We)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',Jn=We.open();if(Jn!==null&&(Jn.document.write(fn),Jn.document.title=M.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return We.document.location.href=this.output("datauristring",M);default:return null}},Ni.foo=function(){try{return Ni.apply(this,arguments)}catch(rt){var _=rt.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var M="Error in function "+_.split(`
`)[0].split("<")[0]+": "+rt.message;if(!We.console)throw new Error(M);We.console.error(M,rt),We.alert&&alert(M)}},Ni.foo.bar=Ni,Ni.foo),Tr=function(_){return Array.isArray(fi)===!0&&fi.indexOf(_)>-1};switch(i){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=Tr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ye=i}var sr=null;U(),dt();var _r=w.__private__.getPageInfo=w.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:be[_].objId,pageNumber:_,pageContext:be[_]}},Ha=w.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in be)if(be[M].objId===_)break;return _r(M)},Vl=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:be[Y].objId,pageNumber:Y,pageContext:be[Y]}};w.addPage=function(){return ws.apply(this,arguments),this},w.setPage=function(){return So.apply(this,arguments),ie.call(this,Xt[Y]),this},w.insertPage=function(_){return this.addPage(),this.movePage(Y,_),this},w.movePage=function(_,M){var rt,ht;if(_>M){rt=Xt[_],ht=be[_];for(var bt=_;bt>M;bt--)Xt[bt]=Xt[bt-1],be[bt]=be[bt-1];Xt[M]=rt,be[M]=ht,this.setPage(M)}else if(_<M){rt=Xt[_],ht=be[_];for(var Ut=_;Ut<M;Ut++)Xt[Ut]=Xt[Ut+1],be[Ut]=be[Ut+1];Xt[M]=rt,be[M]=ht,this.setPage(M)}return this},w.deletePage=function(){return za.apply(this,arguments),this},w.__private__.text=w.text=function(_,M,rt,ht,bt){var Ut,Kt,oe,pe,Le,Ne,fn,Jn,qn,m=(ht=ht||{}).scope||this;if(typeof _=="number"&&typeof M=="number"&&(typeof rt=="string"||Array.isArray(rt))){var E=rt;rt=M,M=_,_=E}if(arguments[3]instanceof Te==0?(oe=arguments[4],pe=arguments[5],Xn(fn=arguments[3])==="object"&&fn!==null||(typeof oe=="string"&&(pe=oe,oe=null),typeof fn=="string"&&(pe=fn,fn=null),typeof fn=="number"&&(oe=fn,fn=null),ht={flags:fn,angle:oe,align:pe})):(D("The transform parameter of text() with a Matrix value"),qn=bt),isNaN(M)||isNaN(rt)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return m;var L,X="",At=typeof ht.lineHeightFactor=="number"?ht.lineHeightFactor:aa,kt=m.internal.scaleFactor;function Jt(Rn){return Rn=Rn.split("	").join(Array(ht.TabLen||9).join(" ")),Ri(Rn,fn)}function He(Rn){for(var Sn,tr=Rn.concat(),Cr=[],Da=tr.length;Da--;)typeof(Sn=tr.shift())=="string"?Cr.push(Sn):Array.isArray(Rn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Cr.push(Sn[0]):Cr.push([Sn[0],Sn[1],Sn[2]]);return Cr}function Zn(Rn,Sn){var tr;if(typeof Rn=="string")tr=Sn(Rn)[0];else if(Array.isArray(Rn)){for(var Cr,Da,ca=Rn.concat(),hl=[],Gu=ca.length;Gu--;)typeof(Cr=ca.shift())=="string"?hl.push(Sn(Cr)[0]):Array.isArray(Cr)&&typeof Cr[0]=="string"&&(Da=Sn(Cr[0],Cr[1],Cr[2]),hl.push([Da[0],Da[1],Da[2]]));tr=hl}return tr}var un=!1,Pn=!0;if(typeof _=="string")un=!0;else if(Array.isArray(_)){var ii=_.concat();Kt=[];for(var gi,Gn=ii.length;Gn--;)(typeof(gi=ii.shift())!="string"||Array.isArray(gi)&&typeof gi[0]!="string")&&(Pn=!1);un=Pn}if(un===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var yi=Ft/m.internal.scaleFactor,xs=yi*(At-1);switch(ht.baseline){case"bottom":rt-=xs;break;case"top":rt+=yi-xs;break;case"hanging":rt+=yi-2*xs;break;case"middle":rt+=yi/2-xs}if((Ne=ht.maxWidth||0)>0&&(typeof _=="string"?_=m.splitTextToSize(_,Ne):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Rn,Sn){return Rn.concat(m.splitTextToSize(Sn,Ne))},[]))),Ut={text:_,x:M,y:rt,options:ht,mutex:{pdfEscape:Ri,activeFontKey:ye,fonts:Ie,activeFontSize:Ft}},on.publish("preProcessText",Ut),_=Ut.text,oe=(ht=Ut.options).angle,qn instanceof Te==0&&oe&&typeof oe=="number"){oe*=Math.PI/180,ht.rotationDirection===0&&(oe=-oe),tt===J&&(oe=-oe);var Ta=Math.cos(oe),Na=Math.sin(oe);qn=new Te(Ta,Na,-Na,Ta,0,0)}else oe&&oe instanceof Te&&(qn=oe);tt!==J||qn||(qn=Bi),(Le=ht.charSpace||Yi)!==void 0&&(X+=O(k(Le))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=ht.horizontalScale)!==void 0&&(X+=O(100*Jn)+` Tz
`),ht.lang;var $i=-1,$a=ht.renderingMode!==void 0?ht.renderingMode:ht.stroke,Fl=m.internal.getCurrentPageInfo().pageContext;switch($a){case 0:case!1:case"fill":$i=0;break;case 1:case!0:case"stroke":$i=1;break;case 2:case"fillThenStroke":$i=2;break;case 3:case"invisible":$i=3;break;case 4:case"fillAndAddForClipping":$i=4;break;case 5:case"strokeAndAddPathForClipping":$i=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$i=6;break;case 7:case"addToPathForClipping":$i=7}var zu=Fl.usedRenderingMode!==void 0?Fl.usedRenderingMode:-1;$i!==-1?X+=$i+` Tr
`:zu!==-1&&(X+=`0 Tr
`),$i!==-1&&(Fl.usedRenderingMode=$i),pe=ht.align||"left";var Ts,la=Ft*At,Xa=m.internal.pageSize.getWidth(),Hu=Ie[ye];Le=ht.charSpace||Yi,Ne=ht.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},ht.flags);var ua=[],Ro=function(Rn){return m.getStringUnitWidth(Rn,{font:Hu,charSpace:Le,fontSize:Ft,doKerning:!1})*Ft/kt};if(Object.prototype.toString.call(_)==="[object Array]"){var us;Kt=He(_),pe!=="left"&&(Ts=Kt.map(Ro));var Xi,Ia=0;if(pe==="right"){M-=Ts[0],_=[],Gn=Kt.length;for(var Ca=0;Ca<Gn;Ca++)Ca===0?(Xi=Kr(M),us=Mr(rt)):(Xi=k(Ia-Ts[Ca]),us=-la),_.push([Kt[Ca],Xi,us]),Ia=Ts[Ca]}else if(pe==="center"){M-=Ts[0]/2,_=[],Gn=Kt.length;for(var Qa=0;Qa<Gn;Qa++)Qa===0?(Xi=Kr(M),us=Mr(rt)):(Xi=k((Ia-Ts[Qa])/2),us=-la),_.push([Kt[Qa],Xi,us]),Ia=Ts[Qa]}else if(pe==="left"){_=[],Gn=Kt.length;for(var Bl=0;Bl<Gn;Bl++)_.push(Kt[Bl])}else if(pe==="justify"&&Hu.encoding==="Identity-H"){_=[],Gn=Kt.length,Ne=Ne!==0?Ne:Xa;for(var ql=0,Ir=0;Ir<Gn;Ir++)if(us=Ir===0?Mr(rt):-la,Xi=Ir===0?Kr(M):ql,Ir<Gn-1){var Cc=k((Ne-Ts[Ir])/(Kt[Ir].split(" ").length-1)),Ra=Kt[Ir].split(" ");_.push([Ra[0]+" ",Xi,us]),ql=0;for(var La=1;La<Ra.length;La++){var vi=(Ro(Ra[La-1]+" "+Ra[La])-Ro(Ra[La]))*kt+Cc;La==Ra.length-1?_.push([Ra[La],vi,0]):_.push([Ra[La]+" ",vi,0]),ql-=vi}}else _.push([Kt[Ir],Xi,us]);_.push(["",ql,0])}else{if(pe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Gn=Kt.length,Ne=Ne!==0?Ne:Xa,Ir=0;Ir<Gn;Ir++){us=Ir===0?Mr(rt):-la,Xi=Ir===0?Kr(M):0;var Ja=Kt[Ir].split(" ").length-1,zl=Ja>0?(Ne-Ts[Ir])/Ja:0;Ir<Gn-1?ua.push(O(k(zl))):ua.push(0),_.push([Kt[Ir],Xi,us])}}}(typeof ht.R2L=="boolean"?ht.R2L:we)===!0&&(_=Zn(_,function(Rn,Sn,tr){return[Rn.split("").reverse().join(""),Sn,tr]})),Ut={text:_,x:M,y:rt,options:ht,mutex:{pdfEscape:Ri,activeFontKey:ye,fonts:Ie,activeFontSize:Ft}},on.publish("postProcessText",Ut),_=Ut.text,L=Ut.mutex.isHex||!1;var Hl=Ie[ye].encoding;Hl!=="WinAnsiEncoding"&&Hl!=="StandardEncoding"||(_=Zn(_,function(Rn,Sn,tr){return[Jt(Rn),Sn,tr]})),Kt=He(_),_=[];for(var Za,to,ka,cl=Array.isArray(Kt[0])?1:0,Ns="",eo=function(Rn,Sn,tr){var Cr="";return tr instanceof Te?(tr=typeof ht.angle=="number"?ea(tr,new Te(1,0,0,1,Rn,Sn)):ea(new Te(1,0,0,1,Rn,Sn),tr),tt===J&&(tr=ea(new Te(1,0,0,-1,0,0),tr)),Cr=tr.join(" ")+` Tm
`):Cr=O(Rn)+" "+O(Sn)+` Td
`,Cr},Di=0;Di<Kt.length;Di++){switch(Ns="",cl){case 1:ka=(L?"<":"(")+Kt[Di][0]+(L?">":")"),Za=parseFloat(Kt[Di][1]),to=parseFloat(Kt[Di][2]);break;case 0:ka=(L?"<":"(")+Kt[Di]+(L?">":")"),Za=Kr(M),to=Mr(rt)}ua!==void 0&&ua[Di]!==void 0&&(Ns=ua[Di]+` Tw
`),Di===0?_.push(Ns+eo(Za,to,qn)+ka):cl===0?_.push(Ns+ka):cl===1&&_.push(Ns+eo(Za,to,qn)+ka)}_=cl===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var js=`BT
/`;return js+=ye+" "+Ft+` Tf
`,js+=O(Ft*At)+` TL
`,js+=Ss+`
`,js+=X,js+=_,et(js+="ET"),T[ye]=!0,m};var il=w.__private__.clip=w.clip=function(_){return et(_==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return il("evenodd")},w.__private__.discardPath=w.discardPath=function(){return et("n"),this};var mi=w.__private__.isValidStyle=function(_){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(M=!0),M};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(_){return mi(_)&&(d=_),this};var sl=w.__private__.getStyle=w.getStyle=function(_){var M=d;switch(_){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=_}return M},ia=w.close=function(){return et("h"),this};w.stroke=function(){return et("S"),this},w.fill=function(_){return Yr("f",_),this},w.fillEvenOdd=function(_){return Yr("f*",_),this},w.fillStroke=function(_){return Yr("B",_),this},w.fillStrokeEvenOdd=function(_){return Yr("B*",_),this};var Yr=function(_,M){Xn(M)==="object"?ol(M,_):et(_)},Aa=function(_){_===null||tt===J&&_===void 0||(_=sl(_),et(_))};function al(_,M,rt,ht,bt){var Ut=new bh(M||this.boundingBox,rt||this.xStep,ht||this.yStep,this.gState,bt||this.matrix);Ut.stream=this.stream;var Kt=_+"$$"+this.cloneIndex+++"$$";return Ti(Kt,Ut),Ut}var ol=function(_,M){var rt=Cn[_.key],ht=xe[rt];if(ht instanceof lc)et("q"),et(xo(M)),ht.gState&&w.setGState(ht.gState),et(_.matrix.toString()+" cm"),et("/"+rt+" sh"),et("Q");else if(ht instanceof bh){var bt=new Te(1,0,0,-1,0,Es());_.matrix&&(bt=bt.multiply(_.matrix||Bi),rt=al.call(ht,_.key,_.boundingBox,_.xStep,_.yStep,bt).id),et("q"),et("/Pattern cs"),et("/"+rt+" scn"),ht.gState&&w.setGState(ht.gState),et(M),et("Q")}},xo=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},To=w.moveTo=function(_,M){return et(O(k(_))+" "+O(lt(M))+" m"),this},sa=w.lineTo=function(_,M){return et(O(k(_))+" "+O(lt(M))+" l"),this},Li=w.curveTo=function(_,M,rt,ht,bt,Ut){return et([O(k(_)),O(lt(M)),O(k(rt)),O(lt(ht)),O(k(bt)),O(lt(Ut)),"c"].join(" ")),this};w.__private__.line=w.line=function(_,M,rt,ht,bt){if(isNaN(_)||isNaN(M)||isNaN(rt)||isNaN(ht)||!mi(bt))throw new Error("Invalid arguments passed to jsPDF.line");return tt===at?this.lines([[rt-_,ht-M]],_,M,[1,1],bt||"S"):this.lines([[rt-_,ht-M]],_,M,[1,1]).stroke()},w.__private__.lines=w.lines=function(_,M,rt,ht,bt,Ut){var Kt,oe,pe,Le,Ne,fn,Jn,qn,m,E,L,X;if(typeof _=="number"&&(X=rt,rt=M,M=_,_=X),ht=ht||[1,1],Ut=Ut||!1,isNaN(M)||isNaN(rt)||!Array.isArray(_)||!Array.isArray(ht)||!mi(bt)||typeof Ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(To(M,rt),Kt=ht[0],oe=ht[1],Le=_.length,E=M,L=rt,pe=0;pe<Le;pe++)(Ne=_[pe]).length===2?(E=Ne[0]*Kt+E,L=Ne[1]*oe+L,sa(E,L)):(fn=Ne[0]*Kt+E,Jn=Ne[1]*oe+L,qn=Ne[2]*Kt+E,m=Ne[3]*oe+L,E=Ne[4]*Kt+E,L=Ne[5]*oe+L,Li(fn,Jn,qn,m,E,L));return Ut&&ia(),Aa(bt),this},w.path=function(_){for(var M=0;M<_.length;M++){var rt=_[M],ht=rt.c;switch(rt.op){case"m":To(ht[0],ht[1]);break;case"l":sa(ht[0],ht[1]);break;case"c":Li.apply(this,ht);break;case"h":ia()}}return this},w.__private__.rect=w.rect=function(_,M,rt,ht,bt){if(isNaN(_)||isNaN(M)||isNaN(rt)||isNaN(ht)||!mi(bt))throw new Error("Invalid arguments passed to jsPDF.rect");return tt===at&&(ht=-ht),et([O(k(_)),O(lt(M)),O(k(rt)),O(k(ht)),"re"].join(" ")),Aa(bt),this},w.__private__.triangle=w.triangle=function(_,M,rt,ht,bt,Ut,Kt){if(isNaN(_)||isNaN(M)||isNaN(rt)||isNaN(ht)||isNaN(bt)||isNaN(Ut)||!mi(Kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[rt-_,ht-M],[bt-rt,Ut-ht],[_-bt,M-Ut]],_,M,[1,1],Kt,!0),this},w.__private__.roundedRect=w.roundedRect=function(_,M,rt,ht,bt,Ut,Kt){if(isNaN(_)||isNaN(M)||isNaN(rt)||isNaN(ht)||isNaN(bt)||isNaN(Ut)||!mi(Kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var oe=4/3*(Math.SQRT2-1);return bt=Math.min(bt,.5*rt),Ut=Math.min(Ut,.5*ht),this.lines([[rt-2*bt,0],[bt*oe,0,bt,Ut-Ut*oe,bt,Ut],[0,ht-2*Ut],[0,Ut*oe,-bt*oe,Ut,-bt,Ut],[2*bt-rt,0],[-bt*oe,0,-bt,-Ut*oe,-bt,-Ut],[0,2*Ut-ht],[0,-Ut*oe,bt*oe,-Ut,bt,-Ut]],_+bt,M,[1,1],Kt,!0),this},w.__private__.ellipse=w.ellipse=function(_,M,rt,ht,bt){if(isNaN(_)||isNaN(M)||isNaN(rt)||isNaN(ht)||!mi(bt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ut=4/3*(Math.SQRT2-1)*rt,Kt=4/3*(Math.SQRT2-1)*ht;return To(_+rt,M),Li(_+rt,M-Kt,_+Ut,M-ht,_,M-ht),Li(_-Ut,M-ht,_-rt,M-Kt,_-rt,M),Li(_-rt,M+Kt,_-Ut,M+ht,_,M+ht),Li(_+Ut,M+ht,_+rt,M+Kt,_+rt,M),Aa(bt),this},w.__private__.circle=w.circle=function(_,M,rt,ht){if(isNaN(_)||isNaN(M)||isNaN(rt)||!mi(ht))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,M,rt,rt,ht)},w.setFont=function(_,M,rt){return rt&&(M=G(M,rt)),ye=rl(_,M,{disableWarning:!1}),this};var As=w.__private__.getFont=w.getFont=function(){return Ie[rl.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var _,M,rt={};for(_ in je)if(je.hasOwnProperty(_))for(M in rt[_]=[],je[_])je[_].hasOwnProperty(M)&&rt[_].push(M);return rt},w.addFont=function(_,M,rt,ht,bt){var Ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ut.indexOf(arguments[3])!==-1?bt=arguments[3]:arguments[3]&&Ut.indexOf(arguments[3])==-1&&(rt=G(rt,ht)),Ao.call(this,_,M,rt,bt=bt||"Identity-H")};var aa,ki=n.lineWidth||.200025,Sa=w.__private__.getLineWidth=w.getLineWidth=function(){return ki},Ce=w.__private__.setLineWidth=w.setLineWidth=function(_){return ki=_,et(O(k(_))+" w"),this};w.__private__.setLineDash=Ee.API.setLineDash=Ee.API.setLineDashPattern=function(_,M){if(_=_||[],M=M||0,isNaN(M)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(rt){return O(k(rt))}).join(" "),M=O(k(M)),et("["+_+"] "+M+" d"),this};var Ga=w.__private__.getLineHeight=w.getLineHeight=function(){return Ft*aa};w.__private__.getLineHeight=w.getLineHeight=function(){return Ft*aa};var No=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(aa=_),this},Ea=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return aa};No(n.lineHeight);var Kr=w.__private__.getHorizontalCoordinate=function(_){return k(_)},Mr=w.__private__.getVerticalCoordinate=function(_){return tt===J?_:be[Y].mediaBox.topRightY-be[Y].mediaBox.bottomLeftY-k(_)},Ya=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(_){return O(Kr(_))},On=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(_){return O(Mr(_))},Gi=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Hn(Gi)},w.__private__.setStrokeColor=w.setDrawColor=function(_,M,rt,ht){return Gi=Pr({ch1:_,ch2:M,ch3:rt,ch4:ht,pdfColorType:"draw",precision:2}),et(Gi),this};var Ka=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Hn(Ka)},w.__private__.setFillColor=w.setFillColor=function(_,M,rt,ht){return Ka=Pr({ch1:_,ch2:M,ch3:rt,ch4:ht,pdfColorType:"fill",precision:2}),et(Ka),this};var Ss=n.textColor||"0 g",ll=w.__private__.getTextColor=w.getTextColor=function(){return Hn(Ss)};w.__private__.setTextColor=w.setTextColor=function(_,M,rt,ht){return Ss=Pr({ch1:_,ch2:M,ch3:rt,ch4:ht,pdfColorType:"text",precision:3}),this};var Yi=n.charSpace,oa=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Yi||0)};w.__private__.setCharSpace=w.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yi=_,this};var Ki=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(_){var M=w.CapJoinStyles[_];if(M===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ki=M,et(M+" J"),this};var Nr=0;w.__private__.setLineJoin=w.setLineJoin=function(_){var M=w.CapJoinStyles[_];if(M===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nr=M,et(M+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return et(O(k(_))+" M"),this},w.GState=pm,w.setGState=function(_){(_=typeof _=="string"?Pe[Me[_]]:ks(null,_)).equals(kn)||(et("/"+_.id+" gs"),kn=_)};var ks=function(_,M){if(!_||!Me[_]){var rt=!1;for(var ht in Pe)if(Pe.hasOwnProperty(ht)&&Pe[ht].equals(M)){rt=!0;break}if(rt)M=Pe[ht];else{var bt="GS"+(Object.keys(Pe).length+1).toString(10);Pe[bt]=M,M.id=bt}return _&&(Me[_]=M.id),on.publish("addGState",M),M}};w.addGState=function(_,M){return ks(_,M),this},w.saveGraphicsState=function(){return et("q"),$e.push({key:ye,size:Ft,color:Ss}),this},w.restoreGraphicsState=function(){et("Q");var _=$e.pop();return ye=_.key,Ft=_.size,Ss=_.color,kn=null,this},w.setCurrentTransformationMatrix=function(_){return et(_.toString()+" cm"),this},w.comment=function(_){return et("#"+_),this};var ri=function(_,M){var rt=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return rt},set:function(Ut){isNaN(Ut)||(rt=parseFloat(Ut))}});var ht=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ht},set:function(Ut){isNaN(Ut)||(ht=parseFloat(Ut))}});var bt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return bt},set:function(Ut){bt=Ut.toString()}}),this},Ds=function(_,M,rt,ht){ri.call(this,_,M),this.type="rect";var bt=rt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return bt},set:function(Kt){isNaN(Kt)||(bt=parseFloat(Kt))}});var Ut=ht||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ut},set:function(Kt){isNaN(Kt)||(Ut=parseFloat(Kt))}}),this},xa=function(){this.page=Se,this.currentPage=Y,this.pages=Xt.slice(0),this.pagesContext=be.slice(0),this.x=ve,this.y=hr,this.matrix=Qe,this.width=ls(Y),this.height=Io(Y),this.outputDestination=$t,this.id="",this.objectNumber=-1};xa.prototype.restore=function(){Se=this.page,Y=this.currentPage,be=this.pagesContext,Xt=this.pages,ve=this.x,hr=this.y,Qe=this.matrix,Wa(Y,this.width),Wi(Y,this.height),$t=this.outputDestination};var Os=function(_,M,rt,ht,bt){Gr.push(new xa),Se=Y=0,Xt=[],ve=_,hr=M,Qe=bt,as([rt,ht])};for(var Ps in w.beginFormObject=function(_,M,rt,ht,bt){return Os(_,M,rt,ht,bt),this},w.endFormObject=function(_){return(function(M){if(Ls[M])Gr.pop().restore();else{var rt=new xa,ht="Xo"+(Object.keys(ti).length+1).toString(10);rt.id=ht,Ls[M]=ht,ti[ht]=rt,on.publish("addFormObject",rt),Gr.pop().restore()}})(_),this},w.doFormObject=function(_,M){var rt=ti[Ls[_]];return et("q"),et(M.toString()+" cm"),et("/"+rt.id+" Do"),et("Q"),this},w.getFormObject=function(_){var M=ti[Ls[_]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},w.save=function(_,M){return _=_||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(oc(yn(os()),_),typeof oc.unload=="function"&&We.setTimeout&&setTimeout(oc.unload,911),this):new Promise(function(rt,ht){try{var bt=oc(yn(os()),_);typeof oc.unload=="function"&&We.setTimeout&&setTimeout(oc.unload,911),rt(bt)}catch(Ut){ht(Ut.message)}})},Ee.API)Ee.API.hasOwnProperty(Ps)&&(Ps==="events"&&Ee.API.events.length?(function(_,M){var rt,ht,bt;for(bt=M.length-1;bt!==-1;bt--)rt=M[bt][0],ht=M[bt][1],_.subscribe.apply(_,[rt].concat(typeof ht=="function"?[ht]:ht))})(on,Ee.API.events):w[Ps]=Ee.API[Ps]);function ls(_){return be[_].mediaBox.topRightX-be[_].mediaBox.bottomLeftX}function Wa(_,M){be[_].mediaBox.topRightX=M+be[_].mediaBox.bottomLeftX}function Io(_){return be[_].mediaBox.topRightY-be[_].mediaBox.bottomLeftY}function Wi(_,M){be[_].mediaBox.topRightY=M+be[_].mediaBox.bottomLeftY}var Ms=w.getPageWidth=function(_){return ls(_=_||Y)/Ye},ul=w.setPageWidth=function(_,M){Wa(_,M*Ye)},Es=w.getPageHeight=function(_){return Io(_=_||Y)/Ye},Co=w.setPageHeight=function(_,M){Wi(_,M*Ye)};return w.internal={pdfEscape:Ri,getStyle:sl,getFont:As,getFontSize:ee,getCharSpace:oa,getTextColor:ll,getLineHeight:Ga,getLineHeightFactor:Ea,getLineWidth:Sa,write:Zt,getHorizontalCoordinate:Kr,getVerticalCoordinate:Mr,getCoordinateString:Ya,getVerticalCoordinateString:On,collections:{},newObject:Bn,newAdditionalObject:di,newObjectDeferred:Qn,newObjectDeferredBegin:Or,getFilters:Ii,putStream:is,events:on,scaleFactor:Ye,pageSize:{getWidth:function(){return Ms(Y)},setWidth:function(_){ul(Y,_)},getHeight:function(){return Es(Y)},setHeight:function(_){Co(Y,_)}},encryptionOptions:v,encryption:sr,getEncryptor:function(_){return v!==null?sr.encryptor(_,0):function(M){return M}},output:wa,getNumberOfPages:Eo,get pages(){return Xt},out:et,f2:x,f3:R,getPageInfo:_r,getPageInfoByObjId:Ha,getCurrentPageInfo:Vl,getPDFVersion:z,Point:ri,Rectangle:Ds,Matrix:Te,hasHotfix:Tr},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Ms(Y)},set:function(_){ul(Y,_)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Es(Y)},set:function(_){Co(Y,_)},enumerable:!0,configurable:!0}),(function(_){for(var M=0,rt=Ae.length;M<rt;M++){var ht=Ao.call(this,_[M][0],_[M][1],_[M][2],Ae[M][3],!0);A===!1&&(T[ht]=!0);var bt=_[M][0].split("-");dr({id:ht,fontName:bt[0],fontStyle:bt[1]||""})}on.publish("addFonts",{fonts:Ie,dictionary:je})}).call(w,Ae),ye="F1",ws(a,e),on.publish("initialized"),w}gh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},gh.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gh.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},gh.prototype.processOwnerPassword=function(n,t){return S0(A0(t).substr(0,5),n)},gh.prototype.encryptor=function(n,t){var e=A0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return S0(e,i)}},pm.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Xn(n)!==Xn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Ee.API={events:[]},Ee.version="3.0.4";var zr=Ee.API,C2=1,Ic=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ch=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},nn=function(n){return n.toFixed(2)},gu=function(n){return n.toFixed(5)};zr.__acroform__={};var ta=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},V_=function(n){return n*C2},Go=function(n){var t=new DA,e=ge.internal.getHeight(n)||0,i=ge.internal.getWidth(n)||0;return t.BBox=[0,0,Number(nn(i)),Number(nn(e))],t},pk=zr.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},mk=zr.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},gk=zr.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Qr=zr.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gk(n,t-1)},Jr=zr.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pk(n,t-1)},Zr=zr.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return mk(n,t-1)},yk=zr.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],h=n[3],f={};return f.lowerLeft_X=e(a)||0,f.lowerLeft_Y=i(o+h)||0,f.upperRight_X=e(a+c)||0,f.upperRight_Y=i(o)||0,[Number(nn(f.lowerLeft_X)),Number(nn(f.lowerLeft_Y)),Number(nn(f.upperRight_X)),Number(nn(f.upperRight_Y))]},vk=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=E0(n,e),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+a+" "+nn(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Go(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},E0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=n.multiline?a.map(function(x){return x.split(`
`)}):a.map(function(x){return[x]});var o=e,c=ge.internal.getHeight(n)||0;c=c<0?-c:c;var h=ge.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(x,R,k){if(x+1<a.length){var lt=R+" "+a[x+1][0];return Ep(lt,n,k).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var d,v,A=Ep("3",n,o).height,T=n.multiline?c-o:(c-A)/2,w=T+=2,V=0,z=0,F=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ep(t,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var q="",at=0,J=0;J<a.length;J++)if(a.hasOwnProperty(J)){var tt=!1;if(a[J].length!==1&&F!==a[J].length-1){if((A+2)*(at+2)+2>c)continue t;q+=a[J][F],tt=!0,z=J,J--}else{q=(q+=a[J][F]+" ").substr(q.length-1)==" "?q.substr(0,q.length-1):q;var vt=parseInt(J),St=f(vt,q,o),G=J>=a.length-1;if(St&&!G){q+=" ",F=0;continue}if(St||G){if(G)z=vt;else if(n.multiline&&(A+2)*(at+2)+2>c)continue t}else{if(!n.multiline||(A+2)*(at+2)+2>c)continue t;z=vt}}for(var O="",D=V;D<=z;D++){var K=a[D];if(n.multiline){if(D===z){O+=K[F]+" ",F=(F+1)%K.length;continue}if(D===V){O+=K[K.length-1]+" ";continue}}O+=K[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,v=Ep(O,n,o).width,n.textAlign){case"right":d=h-v-2;break;case"center":d=(h-v)/2;break;default:d=2}t+=nn(d)+" "+nn(w)+` Td
`,t+="("+Ic(O)+`) Tj
`,t+=-nn(d)+` 0 Td
`,w=-(o+2),v=0,V=tt?z:z+1,at++,q=""}break}return i.text=t,i.fontSize=o,i},Ep=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},bk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_k=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},wk=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(_o.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(bk)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");C2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new OA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];o.objId=void 0,o.hasAnnotation&&_k(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,a){var o=!i;for(var c in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(c)){var h=i[c],f=[],d=h.Rect;if(h.Rect&&(h.Rect=yk(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=ge.createDefaultAppearanceStream(h),Xn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=vk(h);f.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var A="";for(var T in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(T)){var w=h.appearanceStreamContent[T];if(A+="/"+T+" ",A+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var c in w)if(w.hasOwnProperty(c)){var V=w[c];typeof V=="function"&&(V=V.call(a,h)),A+="/"+c+" "+V+" ",a.internal.acroformPlugin.xForms.indexOf(V)>=0||a.internal.acroformPlugin.xForms.push(V)}}else typeof(V=w)=="function"&&(V=V.call(a,h)),A+="/"+c+" "+V,a.internal.acroformPlugin.xForms.indexOf(V)>=0||a.internal.acroformPlugin.xForms.push(V);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:h.objId}),a.internal.out("endobj")}o&&(function(z,F){for(var q in z)if(z.hasOwnProperty(q)){var at=q,J=z[q];F.internal.newObjectDeferredBegin(J.objId,!0),Xn(J)==="object"&&typeof J.putStream=="function"&&J.putStream(),delete z[at]}})(a.internal.acroformPlugin.xForms,a)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},kA=zr.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Xn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),a+="("+Ic(i(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Mg=function(n,t,e){var i=function(a){return a};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+Ic(i(n))+")"},Ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ko.prototype.toString=function(){return this.objId+" 0 R"},Ko.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ko.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],a=this[i];a&&(Array.isArray(a)?n.push({key:i,value:kA(a,this.objId,this.scope)}):a instanceof Ko?(a.scope=this.scope,n.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:i,value:a}))}return n};var DA=function(){Ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};ta(DA,Ko);var OA=function(){Ko.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Ic(e(n))+")"}},set:function(e){n=e}})};ta(OA,Ko);var _o=function n(){Ko.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(q){if(isNaN(q))throw new Error('Invalid value "'+q+'" for attribute F supplied.');t=q}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qr(t,3)},set:function(q){q?this.F=Jr(t,3):this.F=Zr(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(q){if(isNaN(q))throw new Error('Invalid value "'+q+'" for attribute Ff supplied.');e=q}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(q){i=q!==void 0?q:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(q){i[0]=q}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(q){i[1]=q}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(q){i[2]=q}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(q){i[3]=q}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(q){switch(q){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=q;break;default:throw new Error('Invalid value "'+q+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof mm)return;o="FieldObject"+n.FieldNum++}var q=function(at){return at};return this.scope&&(q=this.scope.internal.getEncryptor(this.objId)),"("+Ic(q(o))+")"},set:function(q){o=q.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(q){o=q}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(q){c=q}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(q){h=q}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(q){f=q}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/C2:d},set:function(q){d=q}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(q){v=q}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof mm||this instanceof dc))return Mg(A,this.objId,this.scope)},set:function(q){q=q.toString(),A=q}});var T=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(T)return this instanceof Fi==0?Mg(T,this.objId,this.scope):T},set:function(q){q=q.toString(),T=this instanceof Fi==0?q.substr(0,1)==="("?ch(q.substr(1,q.length-2)):ch(q):q}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?ch(T.substr(1,T.length-1)):T},set:function(q){q=q.toString(),T=this instanceof Fi==1?"/"+q:q}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(q){this.V=q}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Fi==0?Mg(w,this.objId,this.scope):w},set:function(q){q=q.toString(),w=this instanceof Fi==0?q.substr(0,1)==="("?ch(q.substr(1,q.length-2)):ch(q):q}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?ch(w.substr(1,w.length-1)):w},set:function(q){q=q.toString(),w=this instanceof Fi==1?"/"+q:q}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var V,z=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return z},set:function(q){q=!!q,z=q}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(V)return V},set:function(q){V=q}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,1)},set:function(q){q?this.Ff=Jr(this.Ff,1):this.Ff=Zr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,2)},set:function(q){q?this.Ff=Jr(this.Ff,2):this.Ff=Zr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,3)},set:function(q){q?this.Ff=Jr(this.Ff,3):this.Ff=Zr(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(q){if([0,1,2].indexOf(q)===-1)throw new Error('Invalid value "'+q+'" for attribute Q supplied.');F=q}}),Object.defineProperty(this,"textAlign",{get:function(){var q;switch(F){case 0:default:q="left";break;case 1:q="center";break;case 2:q="right"}return q},configurable:!0,enumerable:!0,set:function(q){switch(q){case"right":case 2:F=2;break;case"center":case 1:F=1;break;default:F=0}}})};ta(_o,Ko);var Th=function(){_o.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kA(t,this.objId,this.scope)},set:function(e){var i,a;a=[],typeof(i=e)=="string"&&(a=(function(o,c,h){h||(h=1);for(var f,d=[];f=c.exec(o);)d.push(f[h]);return d})(i,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,18)},set:function(e){e?this.Ff=Jr(this.Ff,18):this.Ff=Zr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Jr(this.Ff,19):this.Ff=Zr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,20)},set:function(e){e?(this.Ff=Jr(this.Ff,20),t.sort()):this.Ff=Zr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,22)},set:function(e){e?this.Ff=Jr(this.Ff,22):this.Ff=Zr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(e){e?this.Ff=Jr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,27)},set:function(e){e?this.Ff=Jr(this.Ff,27):this.Ff=Zr(this.Ff,27)}}),this.hasAppearanceStream=!1};ta(Th,_o);var Nh=function(){Th.call(this),this.fontName="helvetica",this.combo=!1};ta(Nh,Th);var Ih=function(){Nh.call(this),this.combo=!0};ta(Ih,Nh);var Fp=function(){Ih.call(this),this.edit=!0};ta(Fp,Ih);var Fi=function(){_o.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,15)},set:function(e){e?this.Ff=Jr(this.Ff,15):this.Ff=Zr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,16)},set:function(e){e?this.Ff=Jr(this.Ff,16):this.Ff=Zr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,17)},set:function(e){e?this.Ff=Jr(this.Ff,17):this.Ff=Zr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(e){e?this.Ff=Jr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,a=[];for(i in a.push("<<"),t)a.push("/"+i+" ("+Ic(e(t[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Xn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};ta(Fi,_o);var Bp=function(){Fi.call(this),this.pushButton=!0};ta(Bp,Fi);var Ch=function(){Fi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};ta(Ch,Fi);var mm=function(){var n,t;_o.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),i)c.push("/"+o+" ("+Ic(a(i[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Xn(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ta(mm,_o),Ch.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Ch.prototype.createOption=function(n){var t=new mm;return t.Parent=this,t.optionName=n,this.Kids.push(t),Ak.call(this.scope,t),t};var qp=function(){Fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ge.CheckBox.createAppearanceStream()};ta(qp,Fi);var dc=function(){_o.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,13)},set:function(t){t?this.Ff=Jr(this.Ff,13):this.Ff=Zr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,21)},set:function(t){t?this.Ff=Jr(this.Ff,21):this.Ff=Zr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(t){t?this.Ff=Jr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,24)},set:function(t){t?this.Ff=Jr(this.Ff,24):this.Ff=Zr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,25)},set:function(t){t?this.Ff=Jr(this.Ff,25):this.Ff=Zr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(t){t?this.Ff=Jr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ta(dc,_o);var zp=function(){dc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,14)},set:function(n){n?this.Ff=Jr(this.Ff,14):this.Ff=Zr(this.Ff,14)}}),this.password=!0};ta(zp,dc);var ge={CheckBox:{createAppearanceStream:function(){return{N:{On:ge.CheckBox.YesNormal},D:{On:ge.CheckBox.YesPushDown,Off:ge.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Go(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=E0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+nn(ge.internal.getWidth(n))+" "+nn(ge.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+nn(o.fontSize)+" Tf "+a),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Go(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=[],o=ge.internal.getHeight(n),c=ge.internal.getWidth(n),h=E0(n,n.caption);return a.push("1 g"),a.push("0 0 "+nn(c)+" "+nn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+nn(c-1)+" "+nn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+nn(h.fontSize)+" Tf "+i),a.push(h.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(n){var t=Go(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+nn(ge.internal.getWidth(n))+" "+nn(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Circle.YesNormal,t.D[n]=ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Go(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=ge.internal.Bezier_C,o=Number((i*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+gu(ge.internal.getWidth(n)/2)+" "+gu(ge.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Go(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*ge.internal.Bezier_C).toFixed(5)),c=Number((i*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+gu(ge.internal.getWidth(n)/2)+" "+gu(ge.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+gu(ge.internal.getWidth(n)/2)+" "+gu(ge.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),e.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),e.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),e.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Go(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+gu(ge.internal.getWidth(n)/2)+" "+gu(ge.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Cross.YesNormal,t.D[n]=ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Go(n);t.scope=n.scope;var e=[],i=ge.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+nn(ge.internal.getWidth(n)-2)+" "+nn(ge.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(nn(i.x1.x)+" "+nn(i.x1.y)+" m"),e.push(nn(i.x2.x)+" "+nn(i.x2.y)+" l"),e.push(nn(i.x4.x)+" "+nn(i.x4.y)+" m"),e.push(nn(i.x3.x)+" "+nn(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Go(n);t.scope=n.scope;var e=ge.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+nn(ge.internal.getWidth(n))+" "+nn(ge.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+nn(ge.internal.getWidth(n)-2)+" "+nn(ge.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(nn(e.x1.x)+" "+nn(e.x1.y)+" m"),i.push(nn(e.x2.x)+" "+nn(e.x2.y)+" l"),i.push(nn(e.x4.x)+" "+nn(e.x4.y)+" m"),i.push(nn(e.x3.x)+" "+nn(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=Go(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+nn(ge.internal.getWidth(n))+" "+nn(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ge.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ge.internal.getWidth(n),e=ge.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ge.internal.getWidth=function(n){var t=0;return Xn(n)==="object"&&(t=V_(n.Rect[2])),t},ge.internal.getHeight=function(n){var t=0;return Xn(n)==="object"&&(t=V_(n.Rect[3])),t};var Ak=zr.addField=function(n){if(wk(this,n),!(n instanceof _o))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};zr.AcroFormChoiceField=Th,zr.AcroFormListBox=Nh,zr.AcroFormComboBox=Ih,zr.AcroFormEditBox=Fp,zr.AcroFormButton=Fi,zr.AcroFormPushButton=Bp,zr.AcroFormRadioButton=Ch,zr.AcroFormCheckBox=qp,zr.AcroFormTextField=dc,zr.AcroFormPasswordField=zp,zr.AcroFormAppearance=ge,zr.AcroForm={ChoiceField:Th,ListBox:Nh,ComboBox:Ih,EditBox:Fp,Button:Fi,PushButton:Bp,RadioButton:Ch,CheckBox:qp,TextField:dc,PasswordField:zp,Appearance:ge},Ee.AcroForm={ChoiceField:Th,ListBox:Nh,ComboBox:Ih,EditBox:Fp,Button:Fi,PushButton:Bp,RadioButton:Ch,CheckBox:qp,TextField:dc,PasswordField:zp,Appearance:ge};Ee.AcroForm;function PA(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(x,R){var k,lt,_t,st,pt,dt=e;if((R=R||e)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(St(x))for(pt in i)for(_t=i[pt],k=0;k<_t.length;k+=1){for(st=!0,lt=0;lt<_t[k].length;lt+=1)if(_t[k][lt]!==void 0&&_t[k][lt]!==x[lt]){st=!1;break}if(st===!0){dt=pt;break}}else for(pt in i)for(_t=i[pt],k=0;k<_t.length;k+=1){for(st=!0,lt=0;lt<_t[k].length;lt+=1)if(_t[k][lt]!==void 0&&_t[k][lt]!==x.charCodeAt(lt)){st=!1;break}if(st===!0){dt=pt;break}}return dt===e&&R!==e&&(dt=R),dt},o=function x(R){for(var k=this.internal.write,lt=this.internal.putStream,_t=(0,this.internal.getFilters)();_t.indexOf("FlateEncode")!==-1;)_t.splice(_t.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var st=[];if(st.push({key:"Type",value:"/XObject"}),st.push({key:"Subtype",value:"/Image"}),st.push({key:"Width",value:R.width}),st.push({key:"Height",value:R.height}),R.colorSpace===q.INDEXED?st.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(st.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===q.DEVICE_CMYK&&st.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),st.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&st.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var pt="",dt=0,Nt=R.transparency.length;dt<Nt;dt++)pt+=R.transparency[dt]+" "+R.transparency[dt]+" ";st.push({key:"Mask",value:"["+pt+"]"})}R.sMask!==void 0&&st.push({key:"SMask",value:R.objectId+1+" 0 R"});var qt=R.filter!==void 0?["/"+R.filter]:void 0;if(lt({data:R.data,additionalKeyValues:st,alreadyAppliedFilters:qt,objectId:R.objectId}),k("endobj"),"sMask"in R&&R.sMask!==void 0){var U,C=(U=R.sMaskBitsPerComponent)!==null&&U!==void 0?U:R.bitsPerComponent,Y={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:R.sMask};"filter"in R&&(Y.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(R.width),Y.filter=R.filter),x.call(this,Y)}if(R.colorSpace===q.INDEXED){var Z=this.internal.newObject();lt({data:O(new Uint8Array(R.palette)),objectId:Z}),k("endobj")}},c=function(){var x=this.internal.collections[t+"images"];for(var R in x)o.call(this,x[R])},h=function(){var x,R=this.internal.collections[t+"images"],k=this.internal.write;for(var lt in R)k("/I"+(x=R[lt]).index,x.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var x=this.internal.collections[t+"images"];return f.call(this),x},v=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(x){return typeof n["process"+x.toUpperCase()]=="function"},T=function(x){return Xn(x)==="object"&&x.nodeType===1},w=function(x,R){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var k=""+x.getAttribute("src");if(k.indexOf("data:image/")===0)return Vp(unescape(k).split("base64,").pop());var lt=n.loadFile(k,!0);if(lt!==void 0)return lt}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var _t;switch(R){case"PNG":_t="image/png";break;case"WEBP":_t="image/webp";break;default:_t="image/jpeg"}return Vp(x.toDataURL(_t,1).split("base64,").pop())}},V=function(x){var R=this.internal.collections[t+"images"];if(R){for(var k in R)if(x===R[k].alias)return R[k]}},z=function(x,R,k){return x||R||(x=-96,R=-96),x<0&&(x=-1*k.width*72/x/this.internal.scaleFactor),R<0&&(R=-1*k.height*72/R/this.internal.scaleFactor),x===0&&(x=R*k.width/k.height),R===0&&(R=x*k.height/k.width),[x,R]},F=function(x,R,k,lt,_t,st){var pt=z.call(this,k,lt,_t),dt=this.internal.getCoordinateString,Nt=this.internal.getVerticalCoordinateString,qt=d.call(this);if(k=pt[0],lt=pt[1],qt[_t.index]=_t,st){st*=Math.PI/180;var U=Math.cos(st),C=Math.sin(st),Y=function(ot){return ot.toFixed(4)},Z=[Y(U),Y(C),Y(-1*C),Y(U),0,0,"cm"]}this.internal.write("q"),st?(this.internal.write([1,"0","0",1,dt(x),Nt(R+lt),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([dt(k),"0","0",dt(lt),"0","0","cm"].join(" "))):this.internal.write([dt(k),"0","0",dt(lt),dt(x),Nt(R+lt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_t.index+" Do"),this.internal.write("Q")},q=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var at=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},J=n.__addimage__.sHashCode=function(x){var R,k,lt=0;if(typeof x=="string")for(k=x.length,R=0;R<k;R++)lt=(lt<<5)-lt+x.charCodeAt(R),lt|=0;else if(St(x))for(k=x.byteLength/2,R=0;R<k;R++)lt=(lt<<5)-lt+x[R],lt|=0;return lt},tt=n.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var R=!0;return x.length===0&&(R=!1),x.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(R=!1),R},vt=n.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var R=x.indexOf(",");return R<0?null:x.substring(0,R).trim().endsWith("base64")?x.substring(R+1):null};n.__addimage__.isArrayBuffer=function(x){return x instanceof ArrayBuffer};var St=n.__addimage__.isArrayBufferView=function(x){return x instanceof Int8Array||x instanceof Uint8Array||x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array},G=n.__addimage__.binaryStringToUint8Array=function(x){for(var R=x.length,k=new Uint8Array(R),lt=0;lt<R;lt++)k[lt]=x.charCodeAt(lt);return k},O=n.__addimage__.arrayBufferToBinaryString=function(x){for(var R="",k=St(x)?x:new Uint8Array(x),lt=0;lt<k.length;lt+=8192)R+=String.fromCharCode.apply(null,k.subarray(lt,lt+8192));return R};n.addImage=function(){var x,R,k,lt,_t,st,pt,dt,Nt;if(typeof arguments[1]=="number"?(R=e,k=arguments[1],lt=arguments[2],_t=arguments[3],st=arguments[4],pt=arguments[5],dt=arguments[6],Nt=arguments[7]):(R=arguments[1],k=arguments[2],lt=arguments[3],_t=arguments[4],st=arguments[5],pt=arguments[6],dt=arguments[7],Nt=arguments[8]),Xn(x=arguments[0])==="object"&&!T(x)&&"imageData"in x){var qt=x;x=qt.imageData,R=qt.format||R||e,k=qt.x||k||0,lt=qt.y||lt||0,_t=qt.w||qt.width||_t,st=qt.h||qt.height||st,pt=qt.alias||pt,dt=qt.compression||dt,Nt=qt.rotation||qt.angle||Nt}var U=this.internal.getFilters();if(dt===void 0&&U.indexOf("FlateEncode")!==-1&&(dt="SLOW"),isNaN(k)||isNaN(lt))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var C=D.call(this,x,R,pt,dt);return F.call(this,k,lt,_t,st,C,Nt),this};var D=function(x,R,k,lt){var _t,st,pt;if(typeof x=="string"&&a(x)===e){x=unescape(x);var dt=K(x,!1);(dt!==""||(dt=n.loadFile(x,!0))!==void 0)&&(x=dt)}if(T(x)&&(x=w(x,R)),R=a(x,R),!A(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((pt=k)==null||pt.length===0)&&(k=(function(Nt){return typeof Nt=="string"||St(Nt)?J(Nt):St(Nt.data)?J(Nt.data):null})(x)),(_t=V.call(this,k))||(x instanceof Uint8Array||R==="RGBA"||(st=x,x=G(x)),_t=this["process"+R.toUpperCase()](x,v.call(this),k,(function(Nt){return Nt&&typeof Nt=="string"&&(Nt=Nt.toUpperCase()),Nt in n.image_compression?Nt:at.NONE})(lt),st)),!_t)throw new Error("An unknown error occurred whilst processing the image.");return _t},K=n.__addimage__.convertBase64ToBinaryString=function(x,R){R=typeof R!="boolean"||R;var k,lt="";if(typeof x=="string"){var _t;k=(_t=vt(x))!==null&&_t!==void 0?_t:x;try{lt=Vp(k)}catch(st){if(R)throw tt(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+st.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return lt};n.getImageProperties=function(x){var R,k,lt="";if(T(x)&&(x=w(x)),typeof x=="string"&&a(x)===e&&((lt=K(x,!1))===""&&(lt=n.loadFile(x)||""),x=lt),k=a(x),!A(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(x instanceof Uint8Array||(x=G(x)),!(R=this["process"+k.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=k,R}})(Ee.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Ee.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,a,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,v=!1,A=0;A<d.length&&!v;A++)switch((i=d[A]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var T=0;T<d.length;T++){i=d[T];var w=this.internal.pdfEscape,V=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var z=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),q=this.internal.getEncryptor(z.objId),at=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(i.bounds.x)+" "+h(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w)+" "+h(i.bounds.y)+"] ")+"/Contents ("+w(q(i.contents))+")",o+=" /Popup "+F.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+w(q(at))+") >>",z.content=o;var J=z.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(i.bounds.x+30)+" "+h(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w+30)+" "+h(i.bounds.y)+"] ")+" /Parent "+J,i.open&&(o+=" /Open true"),o+=" >>",F.content=o,this.internal.write(z.objId,"0 R",F.objId,"0 R");break;case"freetext":a="/Rect ["+c(i.bounds.x)+" "+h(i.bounds.y)+" "+c(i.bounds.x+i.bounds.w)+" "+h(i.bounds.y+i.bounds.h)+"] ";var tt=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(V(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+tt+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var vt=this.annotations._nameMap[i.options.name];i.options.pageNumber=vt.page,i.options.top=vt.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(V(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var St=h(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+St+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,a,o,c){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(e),y:d(i),w:f(e+a),h:d(i+o)},options:c,type:"link"})},n.textWithLink=function(e,i,a,o){var c,h,f=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(e,h).length;c=Math.ceil(d*v)}else h=f,c=d;return this.text(e,i,a,o),a+=.2*d,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,a-d,h,c,o),f},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}})(Ee.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(z){return t[z.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(z){return typeof z=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(z)},h=n.__arabicParser__.isArabicEndLetter=function(z){return c(z)&&o(z)&&t[z.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(z){return c(z)&&a.indexOf(z.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(z){return c(z)&&o(z)&&t[z.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(z){return c(z)&&o(z)&&t[z.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(z){return c(z)&&o(z)&&t[z.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(z){return c(z)&&o(z)&&t[z.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(z){var F=0,q=e,at="",J=0;for(F=0;F<z.length;F+=1)q[z.charCodeAt(F)]!==void 0?(J++,typeof(q=q[z.charCodeAt(F)])=="number"&&(at+=String.fromCharCode(q),q=e,J=0),F===z.length-1&&(q=e,at+=z.charAt(F-(J-1)),F-=J-1,J=0)):(q=e,at+=z.charAt(F-J),F-=J,J=0);return at};n.__arabicParser__.isArabicDiacritic=function(z){return z!==void 0&&i[z.charCodeAt(0)]!==void 0};var T=n.__arabicParser__.getCorrectForm=function(z,F,q){return c(z)?o(z)===!1?-1:!d(z)||!c(F)&&!c(q)||!c(q)&&h(F)||h(z)&&!c(F)||h(z)&&f(F)||h(z)&&h(F)?0:v(z)&&c(F)&&!h(F)&&c(q)&&d(q)?3:h(z)||!c(q)?1:2:-1},w=function(z){var F=0,q=0,at=0,J="",tt="",vt="",St=(z=z||"").split("\\s+"),G=[];for(F=0;F<St.length;F+=1){for(G.push(""),q=0;q<St[F].length;q+=1)J=St[F][q],tt=St[F][q-1],vt=St[F][q+1],c(J)?(at=T(J,tt,vt),G[F]+=at!==-1?String.fromCharCode(t[J.charCodeAt(0)][at]):J):G[F]+=J;G[F]=A(G[F])}return G.join(" ")},V=n.__arabicParser__.processArabic=n.processArabic=function(){var z,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,q=[];if(Array.isArray(F)){var at=0;for(q=[],at=0;at<F.length;at+=1)Array.isArray(F[at])?q.push([w(F[at][0]),F[at][1],F[at][2]]):q.push([w(F[at])]);z=q}else z=w(F);return typeof arguments[0]=="string"?z:(arguments[0].text=z,arguments[0])};n.events.push(["preProcessText",V])})(Ee.API),Ee.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(h){i=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var a;if((e=e||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ee.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(z){f=z}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(z){d=z}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(z){v=z}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(z){A=z}});var T=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return T},set:function(z){T=z}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(z){w=z}});var V=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return V},set:function(z){V=z}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){i.call(this);var v=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),T=d.scaleFactor||this.internal.scaleFactor,w=0,V=0,z=0,F=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var q=d.maxWidth;q>0?typeof f=="string"?f=this.splitTextToSize(f,q):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(J,tt){return J.concat(F.splitTextToSize(tt,q))},[])):f=Array.isArray(f)?f:[f];for(var at=0;at<f.length;at++)w<(z=this.getStringUnitWidth(f[at],{font:A})*v)&&(w=z);return w!==0&&(V=f.length),{w:w/=T,h:Math.max((V*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/T,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,T=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,w&&T&&(this.printHeaderRow(f.lineNumber,!0),f.y+=T[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,v,A,T){if(i.call(this),!v)throw new Error("No data for PDF table.");var w,V,z,F,q=[],at=[],J=[],tt={},vt={},St=[],G=[],O=(T=T||{}).autoSize||!1,D=T.printHeaders!==!1,K=T.css&&T.css["font-size"]!==void 0?16*T.css["font-size"]:T.fontSize||12,x=T.margins||Object.assign({width:this.getPageWidth()},t),R=typeof T.padding=="number"?T.padding:3,k=T.headerBackgroundColor||"#c8c8c8",lt=T.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=lt,this.setFontSize(K),A==null)at=q=Object.keys(v[0]),J=q.map(function(){return"left"});else if(Array.isArray(A)&&Xn(A[0])==="object")for(q=A.map(function(qt){return qt.name}),at=A.map(function(qt){return qt.prompt||qt.name||""}),J=A.map(function(qt){return qt.align||"left"}),w=0;w<A.length;w+=1)vt[A[w].name]=.7499990551181103*A[w].width;else Array.isArray(A)&&typeof A[0]=="string"&&(at=q=A,J=q.map(function(){return"left"}));if(O||Array.isArray(A)&&typeof A[0]=="string")for(w=0;w<q.length;w+=1){for(tt[F=q[w]]=v.map(function(qt){return qt[F]}),this.setFont(void 0,"bold"),St.push(this.getTextDimensions(at[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),V=tt[F],this.setFont(void 0,"normal"),z=0;z<V.length;z+=1)St.push(this.getTextDimensions(V[z],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);vt[F]=Math.max.apply(null,St)+R+R,St=[]}if(D){var _t={};for(w=0;w<q.length;w+=1)_t[q[w]]={},_t[q[w]].text=at[w],_t[q[w]].align=J[w];var st=h.call(this,_t,vt);G=q.map(function(qt){return new o(f,d,vt[qt],st,_t[qt].text,void 0,_t[qt].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var pt=A.reduce(function(qt,U){return qt[U.name]=U.align,qt},{});for(w=0;w<v.length;w+=1){"rowStart"in T&&T.rowStart instanceof Function&&T.rowStart({row:w,data:v[w]},this);var dt=h.call(this,v[w],vt);for(z=0;z<q.length;z+=1){var Nt=v[w][q[z]];"cellStart"in T&&T.cellStart instanceof Function&&T.cellStart({row:w,col:z,data:Nt},this),c.call(this,new o(f,d,vt[q[z]],dt,Nt,w+2,pt[q[z]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var v=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,T=this.internal.scaleFactor;return Object.keys(f).map(function(w){var V=f[w];return this.splitTextToSize(V.hasOwnProperty("text")?V.text:V,d[w]-v-v)},this).map(function(w){return this.getLineHeightFactor()*w.length*A/T+v+v},this).reduce(function(w,V){return Math.max(w,V)},0)};n.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var T=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){v=this.internal.__cell__.tableHeaderRow[w].clone(),d&&(v.y=this.internal.__cell__.margins.top||0,T.push(v)),v.lineNumber=f;var V=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,v),this.setTextColor(V)}T.length>0&&this.setTableHeaderRow(T),this.setFont(void 0,"normal"),e=!1}})(Ee.API);var MA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],x0=PA(jA),UA=[100,200,300,400,500,600,700,800,900],Sk=PA(UA);function jg(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return MA[o=o||"normal"]?o:"normal"})(n.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof x0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:i,stretch:a,src:n.src||[],ref:n.ref||{name:t,style:[a,e,i].join(" ")}}}function F_(n,t,e,i){var a;for(a=e;a>=0&&a<t.length;a+=i)if(n[t[a]])return n[t[a]];for(a=e;a>=0&&a<t.length;a-=i)if(n[t[a]])return n[t[a]]}var Ek={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},B_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function q_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function z_(n){return n.trimLeft()}function xk(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function Tk(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var xp,H_,G_,hh,Tp,Y_,K_,W_,Ug=["times"];function $_(n,t,e,i,a){var o=4,c=Q_;switch(a){case Ee.API.image_compression.FAST:o=1,c=X_;break;case Ee.API.image_compression.MEDIUM:o=6,c=J_;break;case Ee.API.image_compression.SLOW:o=9,c=Z_}n=(function(f,d,v,A){for(var T,w=f.length/d,V=new Uint8Array(f.length+w),z=[Nk,X_,Q_,J_,Z_],F=0;F<w;F+=1){var q=F*d,at=f.subarray(q,q+d);if(A)V.set(A(at,v,T),q+F);else{for(var J=z.length,tt=[],vt=0;vt<J;vt+=1)tt[vt]=z[vt](at,v,T);var St=Ck(tt.concat());V.set(tt[St],q+F)}T=at}return V})(n,t,Math.ceil(e*i/8),c);var h=v0(n,{level:o});return Ee.API.__addimage__.arrayBufferToBinaryString(h)}function Nk(n){var t=Array.apply([],n);return t.unshift(0),t}function X_(n,t){var e=n.length,i=[];i[0]=1;for(var a=0;a<e;a+=1){var o=n[a-t]||0;i[a+1]=n[a]-o+256&255}return i}function Q_(n,t,e){var i=n.length,a=[];a[0]=2;for(var o=0;o<i;o+=1){var c=e&&e[o]||0;a[o+1]=n[o]-c+256&255}return a}function J_(n,t,e){var i=n.length,a=[];a[0]=3;for(var o=0;o<i;o+=1){var c=n[o-t]||0,h=e&&e[o]||0;a[o+1]=n[o]+256-(c+h>>>1)&255}return a}function Z_(n,t,e){var i=n.length,a=[];a[0]=4;for(var o=0;o<i;o+=1){var c=Ik(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);a[o+1]=n[o]-c+256&255}return a}function Ik(n,t,e){if(n===t&&t===e)return n;var i=Math.abs(t-e),a=Math.abs(n-e),o=Math.abs(n+t-e-e);return i<=a&&i<=o?n:a<=o?t:e}function Ck(n){var t=n.map(function(e){return e.reduce(function(i,a){return i+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function Vg(n,t,e){var i=t*e,a=Math.floor(i/8),o=16-(i-8*a+e),c=(1<<e)-1;return VA(n,a)>>o&c}function tw(n,t,e,i){var a=e*i,o=Math.floor(a/8),c=16-(a-8*o+i),h=(1<<i)-1,f=(t&h)<<c;(function(d,v,A){if(v+1<d.byteLength)d.setUint16(v,A,!1);else{var T=A>>8&255;d.setUint8(v,T)}})(n,o,VA(n,o)&~(h<<c)&65535|f)}function VA(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function Rk(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,a=n[t++],o=a>>7,c=1<<1+(7&a);n[t++],n[t++];var h=null,f=null;o&&(h=t,f=c,t+=3*c);var d=!0,v=[],A=0,T=null,w=0,V=null;for(this.width=e,this.height=i;d&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,V=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((x=n[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var z=n[t++];A=n[t++]|n[t++]<<8,T=n[t++],1&z||(T=null),w=z>>2&7,t++;break;case 254:for(;;){if(!((x=n[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var F=n[t++]|n[t++]<<8,q=n[t++]|n[t++]<<8,at=n[t++]|n[t++]<<8,J=n[t++]|n[t++]<<8,tt=n[t++],vt=tt>>6&1,St=1<<1+(7&tt),G=h,O=f,D=!1;tt>>7&&(D=!0,G=t,O=St,t+=3*St);var K=t;for(t++;;){var x;if(!((x=n[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}v.push({x:F,y:q,width:at,height:J,has_local_palette:D,palette_offset:G,palette_size:O,data_offset:K,data_length:t-K,transparent_index:T,interlaced:!!vt,delay:A,disposal:w});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return V},this.frameInfo=function(R){if(R<0||R>=v.length)throw new Error("Frame index out of range.");return v[R]},this.decodeAndBlitFrameBGRA=function(R,k){var lt=this.frameInfo(R),_t=lt.width*lt.height,st=new Uint8Array(_t);ew(n,lt.data_offset,st,_t);var pt=lt.palette_offset,dt=lt.transparent_index;dt===null&&(dt=256);var Nt=lt.width,qt=e-Nt,U=Nt,C=4*(lt.y*e+lt.x),Y=4*((lt.y+lt.height)*e+lt.x),Z=C,ot=4*qt;lt.interlaced===!0&&(ot+=4*e*7);for(var ut=8,ft=0,Tt=st.length;ft<Tt;++ft){var Ct=st[ft];if(U===0&&(U=Nt,(Z+=ot)>=Y&&(ot=4*qt+4*e*(ut-1),Z=C+(Nt+qt)*(ut<<1),ut>>=1)),Ct===dt)Z+=4;else{var jt=n[pt+3*Ct],Xt=n[pt+3*Ct+1],te=n[pt+3*Ct+2];k[Z++]=te,k[Z++]=Xt,k[Z++]=jt,k[Z++]=255}--U}},this.decodeAndBlitFrameRGBA=function(R,k){var lt=this.frameInfo(R),_t=lt.width*lt.height,st=new Uint8Array(_t);ew(n,lt.data_offset,st,_t);var pt=lt.palette_offset,dt=lt.transparent_index;dt===null&&(dt=256);var Nt=lt.width,qt=e-Nt,U=Nt,C=4*(lt.y*e+lt.x),Y=4*((lt.y+lt.height)*e+lt.x),Z=C,ot=4*qt;lt.interlaced===!0&&(ot+=4*e*7);for(var ut=8,ft=0,Tt=st.length;ft<Tt;++ft){var Ct=st[ft];if(U===0&&(U=Nt,(Z+=ot)>=Y&&(ot=4*qt+4*e*(ut-1),Z=C+(Nt+qt)*(ut<<1),ut>>=1)),Ct===dt)Z+=4;else{var jt=n[pt+3*Ct],Xt=n[pt+3*Ct+1],te=n[pt+3*Ct+2];k[Z++]=jt,k[Z++]=Xt,k[Z++]=te,k[Z++]=255}--U}}}function ew(n,t,e,i){for(var a=n[t++],o=1<<a,c=o+1,h=c+1,f=a+1,d=(1<<f)-1,v=0,A=0,T=0,w=n[t++],V=new Int32Array(4096),z=null;;){for(;v<16&&w!==0;)A|=n[t++]<<v,v+=8,w===1?w=n[t++]:--w;if(v<f)break;var F=A&d;if(A>>=f,v-=f,F!==o){if(F===c)break;for(var q=F<h?F:z,at=0,J=q;J>o;)J=V[J]>>8,++at;var tt=J;if(T+at+(q!==F?1:0)>i)return void ur.log("Warning, gif stream longer than expected.");e[T++]=tt;var vt=T+=at;for(q!==F&&(e[T++]=tt),J=q;at--;)J=V[J],e[--vt]=255&J,J>>=8;z!==null&&h<4096&&(V[h++]=z<<8|tt,h>=d+1&&f<12&&(++f,d=d<<1|1)),z=F}else h=c+1,d=(1<<(f=a+1))-1,z=null}return T!==i&&ur.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fg(n){var t,e,i,a,o,c=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),v=new Array(64),A=new Array(65535),T=new Array(65535),w=new Array(64),V=new Array(64),z=[],F=0,q=7,at=new Array(64),J=new Array(64),tt=new Array(64),vt=new Array(256),St=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],lt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_t=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function st(C,Y){for(var Z=0,ot=0,ut=new Array,ft=1;ft<=16;ft++){for(var Tt=1;Tt<=C[ft];Tt++)ut[Y[ot]]=[],ut[Y[ot]][0]=Z,ut[Y[ot]][1]=ft,ot++,Z++;Z*=2}return ut}function pt(C){for(var Y=C[0],Z=C[1]-1;Z>=0;)Y&1<<Z&&(F|=1<<q),Z--,--q<0&&(F==255?(dt(255),dt(0)):dt(F),q=7,F=0)}function dt(C){z.push(C)}function Nt(C){dt(C>>8&255),dt(255&C)}function qt(C,Y,Z,ot,ut){for(var ft,Tt=ut[0],Ct=ut[240],jt=(function(Ft,re){var ee,we,he,Ge,Ze,Be,an,Xe,ye,Ye,ve=0;for(ye=0;ye<8;++ye){ee=Ft[ve],we=Ft[ve+1],he=Ft[ve+2],Ge=Ft[ve+3],Ze=Ft[ve+4],Be=Ft[ve+5],an=Ft[ve+6];var hr=ee+(Xe=Ft[ve+7]),Qe=ee-Xe,Ie=we+an,je=we-an,$e=he+Be,xe=he-Be,Cn=Ge+Ze,Pe=Ge-Ze,Me=hr+Cn,kn=hr-Cn,Se=Ie+$e,be=Ie-$e;Ft[ve]=Me+Se,Ft[ve+4]=Me-Se;var on=.707106781*(be+kn);Ft[ve+2]=kn+on,Ft[ve+6]=kn-on;var fi=.382683433*((Me=Pe+xe)-(be=je+Qe)),ti=.5411961*Me+fi,Ls=1.306562965*be+fi,Gr=.707106781*(Se=xe+je),Te=Qe+Gr,ea=Qe-Gr;Ft[ve+5]=ea+ti,Ft[ve+3]=ea-ti,Ft[ve+1]=Te+Ls,Ft[ve+7]=Te-Ls,ve+=8}for(ve=0,ye=0;ye<8;++ye){ee=Ft[ve],we=Ft[ve+8],he=Ft[ve+16],Ge=Ft[ve+24],Ze=Ft[ve+32],Be=Ft[ve+40],an=Ft[ve+48];var Bi=ee+(Xe=Ft[ve+56]),Ti=ee-Xe,Ni=we+an,Bn=we-an,Qn=he+Be,Or=he-Be,di=Ge+Ze,ei=Ge-Ze,Dn=Bi+di,Hn=Bi-di,Pr=Ni+Qn,Ii=Ni-Qn;Ft[ve]=Dn+Pr,Ft[ve+32]=Dn-Pr;var is=.707106781*(Ii+Hn);Ft[ve+16]=Hn+is,Ft[ve+48]=Hn-is;var _a=.382683433*((Dn=ei+Or)-(Ii=Bn+Ti)),_s=.5411961*Dn+_a,Ci=1.306562965*Ii+_a,na=.707106781*(Pr=Or+Bn),qi=Ti+na,pi=Ti-na;Ft[ve+40]=pi+_s,Ft[ve+24]=pi-_s,Ft[ve+8]=qi+Ci,Ft[ve+56]=qi-Ci,ve++}for(ye=0;ye<64;++ye)Ye=Ft[ye]*re[ye],w[ye]=Ye>0?Ye+.5|0:Ye-.5|0;return w})(C,Y),Xt=0;Xt<64;++Xt)V[G[Xt]]=jt[Xt];var te=V[0]-Z;Z=V[0],te==0?pt(ot[0]):(pt(ot[T[ft=32767+te]]),pt(A[ft]));for(var $t=63;$t>0&&V[$t]==0;)$t--;if($t==0)return pt(Tt),Z;for(var ie,et=1;et<=$t;){for(var Zt=et;V[et]==0&&et<=$t;)++et;var Ve=et-Zt;if(Ve>=16){ie=Ve>>4;for(var Ae=1;Ae<=ie;++Ae)pt(Ct);Ve&=15}ft=32767+V[et],pt(ut[(Ve<<4)+T[ft]]),pt(A[ft]),et++}return $t!=63&&pt(Tt),Z}function U(C){C=Math.min(Math.max(C,1),100),o!=C&&((function(Y){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ot=0;ot<64;ot++){var ut=c((Z[ot]*Y+50)/100);ut=Math.min(Math.max(ut,1),255),h[G[ot]]=ut}for(var ft=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Tt=0;Tt<64;Tt++){var Ct=c((ft[Tt]*Y+50)/100);Ct=Math.min(Math.max(Ct,1),255),f[G[Tt]]=Ct}for(var jt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,te=0;te<8;te++)for(var $t=0;$t<8;$t++)d[Xt]=1/(h[G[Xt]]*jt[te]*jt[$t]*8),v[Xt]=1/(f[G[Xt]]*jt[te]*jt[$t]*8),Xt++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),o=C)}this.encode=function(C,Y){Y&&U(Y),z=new Array,F=0,q=7,Nt(65496),Nt(65504),Nt(16),dt(74),dt(70),dt(73),dt(70),dt(0),dt(1),dt(1),dt(0),Nt(1),Nt(1),dt(0),dt(0),(function(){Nt(65499),Nt(132),dt(0);for(var we=0;we<64;we++)dt(h[we]);dt(1);for(var he=0;he<64;he++)dt(f[he])})(),(function(we,he){Nt(65472),Nt(17),dt(8),Nt(he),Nt(we),dt(3),dt(1),dt(17),dt(0),dt(2),dt(17),dt(1),dt(3),dt(17),dt(1)})(C.width,C.height),(function(){Nt(65476),Nt(418),dt(0);for(var we=0;we<16;we++)dt(O[we+1]);for(var he=0;he<=11;he++)dt(D[he]);dt(16);for(var Ge=0;Ge<16;Ge++)dt(K[Ge+1]);for(var Ze=0;Ze<=161;Ze++)dt(x[Ze]);dt(1);for(var Be=0;Be<16;Be++)dt(R[Be+1]);for(var an=0;an<=11;an++)dt(k[an]);dt(17);for(var Xe=0;Xe<16;Xe++)dt(lt[Xe+1]);for(var ye=0;ye<=161;ye++)dt(_t[ye])})(),Nt(65498),Nt(12),dt(3),dt(1),dt(0),dt(2),dt(17),dt(3),dt(17),dt(0),dt(63),dt(0);var Z=0,ot=0,ut=0;F=0,q=7,this.encode.displayName="_encode_";for(var ft,Tt,Ct,jt,Xt,te,$t,ie,et,Zt=C.data,Ve=C.width,Ae=C.height,Ft=4*Ve,re=0;re<Ae;){for(ft=0;ft<Ft;){for(Xt=Ft*re+ft,$t=-1,ie=0,et=0;et<64;et++)te=Xt+(ie=et>>3)*Ft+($t=4*(7&et)),re+ie>=Ae&&(te-=Ft*(re+1+ie-Ae)),ft+$t>=Ft&&(te-=ft+$t-Ft+4),Tt=Zt[te++],Ct=Zt[te++],jt=Zt[te++],at[et]=(St[Tt]+St[Ct+256|0]+St[jt+512|0]>>16)-128,J[et]=(St[Tt+768|0]+St[Ct+1024|0]+St[jt+1280|0]>>16)-128,tt[et]=(St[Tt+1280|0]+St[Ct+1536|0]+St[jt+1792|0]>>16)-128;Z=qt(at,d,Z,t,i),ot=qt(J,v,ot,e,a),ut=qt(tt,v,ut,e,a),ft+=32}re+=8}if(q>=0){var ee=[];ee[1]=q+1,ee[0]=(1<<q+1)-1,pt(ee)}return Nt(65497),new Uint8Array(z)},n=n||50,(function(){for(var C=String.fromCharCode,Y=0;Y<256;Y++)vt[Y]=C(Y)})(),t=st(O,D),e=st(R,k),i=st(K,x),a=st(lt,_t),(function(){for(var C=1,Y=2,Z=1;Z<=15;Z++){for(var ot=C;ot<Y;ot++)T[32767+ot]=Z,A[32767+ot]=[],A[32767+ot][1]=Z,A[32767+ot][0]=ot;for(var ut=-(Y-1);ut<=-C;ut++)T[32767+ut]=Z,A[32767+ut]=[],A[32767+ut][1]=Z,A[32767+ut][0]=Y-1+ut;C<<=1,Y<<=1}})(),(function(){for(var C=0;C<256;C++)St[C]=19595*C,St[C+256|0]=38470*C,St[C+512|0]=7471*C+32768,St[C+768|0]=-11059*C,St[C+1024|0]=-21709*C,St[C+1280|0]=32768*C+8421375,St[C+1536|0]=-27439*C,St[C+1792|0]=-5329*C})(),U(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function co(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nw(n){function t(D){if(!D)throw Error("assert :P")}function e(D,K,x){for(var R=0;4>R;R++)if(D[K+R]!=x.charCodeAt(R))return!0;return!1}function i(D,K,x,R,k){for(var lt=0;lt<k;lt++)D[K+lt]=x[R+lt]}function a(D,K,x,R){for(var k=0;k<R;k++)D[K+k]=x}function o(D){return new Int32Array(D)}function c(D,K){for(var x=[],R=0;R<D;R++)x.push(new K);return x}function h(D,K){var x=[];return(function R(k,lt,_t){for(var st=_t[lt],pt=0;pt<st&&(k.push(_t.length>lt+1?[]:new K),!(_t.length<lt+1));pt++)R(k[pt],lt+1,_t)})(x,0,D),x}var f=function(){var D=this;function K(p,y){for(var S=1<<y-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function x(p,y,S,N,j){t(!(N%S));do p[y+(N-=S)]=j;while(0<N)}function R(p,y,S,N,j){if(t(2328>=j),512>=j)var B=o(512);else if((B=o(j))==null)return 0;return(function(H,$,Q,it,mt,It){var nt,yt,Et=$,Mt=1<<Q,xt=o(16),Pt=o(16);for(t(mt!=0),t(it!=null),t(H!=null),t(0<Q),yt=0;yt<mt;++yt){if(15<it[yt])return 0;++xt[it[yt]]}if(xt[0]==mt)return 0;for(Pt[1]=0,nt=1;15>nt;++nt){if(xt[nt]>1<<nt)return 0;Pt[nt+1]=Pt[nt]+xt[nt]}for(yt=0;yt<mt;++yt)nt=it[yt],0<it[yt]&&(It[Pt[nt]++]=yt);if(Pt[15]==1)return(it=new k).g=0,it.value=It[0],x(H,Et,1,Mt,it),Mt;var Bt,Qt=-1,Gt=Mt-1,me=0,se=1,Ke=1,ce=1<<Q;for(yt=0,nt=1,mt=2;nt<=Q;++nt,mt<<=1){if(se+=Ke<<=1,0>(Ke-=xt[nt]))return 0;for(;0<xt[nt];--xt[nt])(it=new k).g=nt,it.value=It[yt++],x(H,Et+me,mt,ce,it),me=K(me,nt)}for(nt=Q+1,mt=2;15>=nt;++nt,mt<<=1){if(se+=Ke<<=1,0>(Ke-=xt[nt]))return 0;for(;0<xt[nt];--xt[nt]){if(it=new k,(me&Gt)!=Qt){for(Et+=ce,Bt=1<<(Qt=nt)-Q;15>Qt&&!(0>=(Bt-=xt[Qt]));)++Qt,Bt<<=1;Mt+=ce=1<<(Bt=Qt-Q),H[$+(Qt=me&Gt)].g=Bt+Q,H[$+Qt].value=Et-$-Qt}it.g=nt-Q,it.value=It[yt++],x(H,Et+(me>>Q),mt,ce,it),me=K(me,nt)}}return se!=2*Pt[15]-1?0:Mt})(p,y,S,N,j,B)}function k(){this.value=this.g=0}function lt(){this.value=this.g=0}function _t(){this.G=c(5,k),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Ro,lt)}function st(p,y,S,N){t(p!=null),t(y!=null),t(2147483648>N),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=y,p.pa=S,p.Jd=y,p.Yc=S+N,p.Zc=4<=N?S+N-4+1:S,Tt(p)}function pt(p,y){for(var S=0;0<y--;)S|=jt(p,128)<<y;return S}function dt(p,y){var S=pt(p,y);return Ct(p)?-S:S}function Nt(p,y,S,N){var j,B=0;for(t(p!=null),t(y!=null),t(4294967288>N),p.Sb=N,p.Ra=0,p.u=0,p.h=0,4<N&&(N=4),j=0;j<N;++j)B+=y[S+j]<<8*j;p.Ra=B,p.bb=N,p.oa=y,p.pa=S}function qt(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ia-8>>>0,++p.bb,p.u-=8;ot(p)&&(p.h=1,p.u=0)}function U(p,y){if(t(0<=y),!p.h&&y<=Xi){var S=Z(p)&us[y];return p.u+=y,qt(p),S}return p.h=1,p.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(p){return p.Ra>>>(p.u&Ia-1)>>>0}function ot(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ia}function ut(p,y){p.u=y,p.h=ot(p)}function ft(p){p.u>=Ca&&(t(p.u>=Ca),qt(p))}function Tt(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ct(p){return pt(p,1)}function jt(p,y){var S=p.Ca;0>p.b&&Tt(p);var N=p.b,j=S*y>>>8,B=(p.I>>>N>j)+0;for(B?(S-=j,p.I-=j+1<<N>>>0):S=j+1,N=S,j=0;256<=N;)j+=8,N>>=8;return N=7^j+Qa[N],p.b-=N,p.Ca=(S<<N)-1,B}function Xt(p,y,S){p[y+0]=S>>24&255,p[y+1]=S>>16&255,p[y+2]=S>>8&255,p[y+3]=255&S}function te(p,y){return p[y+0]|p[y+1]<<8}function $t(p,y){return te(p,y)|p[y+2]<<16}function ie(p,y){return te(p,y)|te(p,y+2)<<16}function et(p,y){var S=1<<y;return t(p!=null),t(0<y),p.X=o(S),p.X==null?0:(p.Mb=32-y,p.Xa=y,1)}function Zt(p,y){t(p!=null),t(y!=null),t(p.Xa==y.Xa),i(y.X,0,p.X,0,1<<y.Xa)}function Ve(){this.X=[],this.Xa=this.Mb=0}function Ae(p,y,S,N){t(S!=null),t(N!=null);var j=S[0],B=N[0];return j==0&&(j=(p*B+y/2)/y),B==0&&(B=(y*j+p/2)/p),0>=j||0>=B?0:(S[0]=j,N[0]=B,1)}function Ft(p,y){return p+(1<<y)-1>>>y}function re(p,y){return((4278255360&p)+(4278255360&y)>>>0&4278255360)+((16711935&p)+(16711935&y)>>>0&16711935)>>>0}function ee(p,y){D[y]=function(S,N,j,B,H,$,Q){var it;for(it=0;it<H;++it){var mt=D[p]($[Q+it-1],j,B+it);$[Q+it]=re(S[N+it],mt)}}}function we(){this.ud=this.hd=this.jd=0}function he(p,y){return((4278124286&(p^y))>>>1)+(p&y)>>>0}function Ge(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ze(p,y){return Ge(p+(p-y+.5>>1))}function Be(p,y,S){return Math.abs(y-S)-Math.abs(p-S)}function an(p,y,S,N,j,B,H){for(N=B[H-1],S=0;S<j;++S)B[H+S]=N=re(p[y+S],N)}function Xe(p,y,S,N,j){var B;for(B=0;B<S;++B){var H=p[y+B],$=H>>8&255,Q=16711935&(Q=(Q=16711935&H)+(($<<16)+$));N[j+B]=(4278255360&H)+Q>>>0}}function ye(p,y){y.jd=255&p,y.hd=p>>8&255,y.ud=p>>16&255}function Ye(p,y,S,N,j,B){var H;for(H=0;H<N;++H){var $=y[S+H],Q=$>>>8,it=$,mt=255&(mt=(mt=$>>>16)+((p.jd<<24>>24)*(Q<<24>>24)>>>5));it=255&(it=(it+=(p.hd<<24>>24)*(Q<<24>>24)>>>5)+((p.ud<<24>>24)*(mt<<24>>24)>>>5)),j[B+H]=(4278255360&$)+(mt<<16)+it}}function ve(p,y,S,N,j){D[y]=function(B,H,$,Q,it,mt,It,nt,yt){for(Q=It;Q<nt;++Q)for(It=0;It<yt;++It)it[mt++]=j($[N(B[H++])])},D[p]=function(B,H,$,Q,it,mt,It){var nt=8>>B.b,yt=B.Ea,Et=B.K[0],Mt=B.w;if(8>nt)for(B=(1<<B.b)-1,Mt=(1<<nt)-1;H<$;++H){var xt,Pt=0;for(xt=0;xt<yt;++xt)xt&B||(Pt=N(Q[it++])),mt[It++]=j(Et[Pt&Mt]),Pt>>=nt}else D["VP8LMapColor"+S](Q,it,Et,Mt,mt,It,H,$,yt)}}function hr(p,y,S,N,j){for(S=y+S;y<S;){var B=p[y++];N[j++]=B>>16&255,N[j++]=B>>8&255,N[j++]=255&B}}function Qe(p,y,S,N,j){for(S=y+S;y<S;){var B=p[y++];N[j++]=B>>16&255,N[j++]=B>>8&255,N[j++]=255&B,N[j++]=B>>24&255}}function Ie(p,y,S,N,j){for(S=y+S;y<S;){var B=(H=p[y++])>>16&240|H>>12&15,H=240&H|H>>28&15;N[j++]=B,N[j++]=H}}function je(p,y,S,N,j){for(S=y+S;y<S;){var B=(H=p[y++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;N[j++]=B,N[j++]=H}}function $e(p,y,S,N,j){for(S=y+S;y<S;){var B=p[y++];N[j++]=255&B,N[j++]=B>>8&255,N[j++]=B>>16&255}}function xe(p,y,S,N,j,B){if(B==0)for(S=y+S;y<S;)Xt(N,((B=p[y++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),j+=32;else i(N,j,p,y,S)}function Cn(p,y){D[y][0]=D[p+"0"],D[y][1]=D[p+"1"],D[y][2]=D[p+"2"],D[y][3]=D[p+"3"],D[y][4]=D[p+"4"],D[y][5]=D[p+"5"],D[y][6]=D[p+"6"],D[y][7]=D[p+"7"],D[y][8]=D[p+"8"],D[y][9]=D[p+"9"],D[y][10]=D[p+"10"],D[y][11]=D[p+"11"],D[y][12]=D[p+"12"],D[y][13]=D[p+"13"],D[y][14]=D[p+"0"],D[y][15]=D[p+"0"]}function Pe(p){return p==Qu||p==Oc||p==Yl||p==Pc}function Me(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Me,this.f.kb=new kn,this.sd=null}function be(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fi(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function ti(p,y){var S=p.T,N=y.ba.f.RGBA,j=N.eb,B=N.fb+p.ka*N.A,H=wi[y.ba.S],$=p.y,Q=p.O,it=p.f,mt=p.N,It=p.ea,nt=p.W,yt=y.cc,Et=y.dc,Mt=y.Mc,xt=y.Nc,Pt=p.ka,Bt=p.ka+p.T,Qt=p.U,Gt=Qt+1>>1;for(Pt==0?H($,Q,null,null,it,mt,It,nt,it,mt,It,nt,j,B,null,null,Qt):(H(y.ec,y.fc,$,Q,yt,Et,Mt,xt,it,mt,It,nt,j,B-N.A,j,B,Qt),++S);Pt+2<Bt;Pt+=2)yt=it,Et=mt,Mt=It,xt=nt,mt+=p.Rc,nt+=p.Rc,B+=2*N.A,H($,(Q+=2*p.fa)-p.fa,$,Q,yt,Et,Mt,xt,it,mt,It,nt,j,B-N.A,j,B,Qt);return Q+=p.fa,p.j+Bt<p.o?(i(y.ec,y.fc,$,Q,Qt),i(y.cc,y.dc,it,mt,Gt),i(y.Mc,y.Nc,It,nt,Gt),S--):1&Bt||H($,Q,null,null,it,mt,It,nt,it,mt,It,nt,j,B+N.A,null,null,Qt),S}function Ls(p,y,S){var N=p.F,j=[p.J];if(N!=null){var B=p.U,H=y.ba.S,$=H==Xu||H==Yl;y=y.ba.f.RGBA;var Q=[0],it=p.ka;Q[0]=p.T,p.Kb&&(it==0?--Q[0]:(--it,j[0]-=p.width),p.j+p.ka+p.T==p.o&&(Q[0]=p.o-p.j-it));var mt=y.eb;it=y.fb+it*y.A,p=Yu(N,j[0],p.width,B,Q,mt,it+($?0:3),y.A),t(S==Q),p&&Pe(H)&&fl(mt,it,$,B,Q,y.A)}return 0}function Gr(p){var y=p.ma,S=y.ba.S,N=11>S,j=S==Pi||S==Vs||S==Xu||S==Gl||S==12||Pe(S);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Xa(y.Oa,p,j?11:12))return 0;if(j&&Pe(S)&&He(),p.da)alert("todo:use_scaling");else{if(N){if(y.Ib=fi,p.Kb){if(S=p.U+1>>1,y.memory=o(p.U+2*S),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+p.U,y.Mc=y.cc,y.Nc=y.dc+S,y.Ib=ti,He()}}else alert("todo:EmitYUV");j&&(y.Jb=Ls,N&&kt())}if(N&&!jo){for(p=0;256>p;++p)Ai[p]=89858*(p-128)+$l>>Gs,Bm[p]=-22014*(p-128)+$l,Ed[p]=-45773*(p-128),Fc[p]=113618*(p-128)+$l>>Gs;for(p=gl;p<Mo;++p)y=76283*(p-16)+$l>>Gs,qm[p-gl]=Hi(y,255),zm[p-gl]=Hi(y+8>>4,15);jo=1}return 1}function Te(p){var y=p.ma,S=p.U,N=p.T;return t(!(1&p.ka)),0>=S||0>=N?0:(S=y.Ib(p,y),y.Jb!=null&&y.Jb(p,y,S),y.Dc+=S,1)}function ea(p){p.ma.memory=null}function Bi(p,y,S,N){return U(p,8)!=47?0:(y[0]=U(p,14)+1,S[0]=U(p,14)+1,N[0]=U(p,1),U(p,3)!=0?0:!p.h)}function Ti(p,y){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+U(y,S)+1}function Ni(p,y){return 120<y?y-120:1<=(S=((S=Bs[y-1])>>4)*p+(8-(15&S)))?S:1;var S}function Bn(p,y,S){var N=Z(S),j=p[y+=255&N].g-8;return 0<j&&(ut(S,S.u+8),N=Z(S),y+=p[y].value,y+=N&(1<<j)-1),ut(S,S.u+p[y].g),p[y].value}function Qn(p,y,S){return S.g+=p.g,S.value+=p.value<<y>>>0,t(8>=S.g),p.g}function Or(p,y,S){var N=p.xc;return t((y=N==0?0:p.vc[p.md*(S>>N)+(y>>N)])<p.Wb),p.Ya[y]}function di(p,y,S,N){var j=p.ab,B=p.c*y,H=p.C;y=H+y;var $=S,Q=N;for(N=p.Ta,S=p.Ua;0<j--;){var it=p.gc[j],mt=H,It=y,nt=$,yt=Q,Et=(Q=N,$=S,it.Ea);switch(t(mt<It),t(It<=it.nc),it.hc){case 2:Ir(nt,yt,(It-mt)*Et,Q,$);break;case 0:var Mt=mt,xt=It,Pt=Q,Bt=$,Qt=(ce=it).Ea;Mt==0&&(Bl(nt,yt,null,null,1,Pt,Bt),an(nt,yt+1,0,0,Qt-1,Pt,Bt+1),yt+=Qt,Bt+=Qt,++Mt);for(var Gt=1<<ce.b,me=Gt-1,se=Ft(Qt,ce.b),Ke=ce.K,ce=ce.w+(Mt>>ce.b)*se;Mt<xt;){var dn=Ke,or=ce,tn=1;for(ql(nt,yt,Pt,Bt-Qt,1,Pt,Bt);tn<Qt;){var ae=(tn&~me)+Gt;ae>Qt&&(ae=Qt),(0,Ja[dn[or++]>>8&15])(nt,yt+ +tn,Pt,Bt+tn-Qt,ae-tn,Pt,Bt+tn),tn=ae}yt+=Qt,Bt+=Qt,++Mt&me||(ce+=se)}It!=it.nc&&i(Q,$-Et,Q,$+(It-mt-1)*Et,Et);break;case 1:for(Et=nt,xt=yt,Qt=(nt=it.Ea)-(Bt=nt&~(Pt=(yt=1<<it.b)-1)),Mt=Ft(nt,it.b),Gt=it.K,it=it.w+(mt>>it.b)*Mt;mt<It;){for(me=Gt,se=it,Ke=new we,ce=xt+Bt,dn=xt+nt;xt<ce;)ye(me[se++],Ke),zl(Ke,Et,xt,yt,Q,$),xt+=yt,$+=yt;xt<dn&&(ye(me[se++],Ke),zl(Ke,Et,xt,Qt,Q,$),xt+=Qt,$+=Qt),++mt&Pt||(it+=Mt)}break;case 3:if(nt==Q&&yt==$&&0<it.b){for(xt=Q,nt=Et=$+(It-mt)*Et-(Bt=(It-mt)*Ft(it.Ea,it.b)),yt=Q,Pt=$,Mt=[],Bt=(Qt=Bt)-1;0<=Bt;--Bt)Mt[Bt]=yt[Pt+Bt];for(Bt=Qt-1;0<=Bt;--Bt)xt[nt+Bt]=Mt[Bt];Cc(it,mt,It,Q,Et,Q,$)}else Cc(it,mt,It,nt,yt,Q,$)}$=N,Q=S}Q!=S&&i(N,S,$,Q,B)}function ei(p,y){var S=p.V,N=p.Ba+p.c*p.C,j=y-p.C;if(t(y<=p.l.o),t(16>=j),0<j){var B=p.l,H=p.Ta,$=p.Ua,Q=B.width;if(di(p,j,S,N),j=$=[$],t((S=p.C)<(N=y)),t(B.v<B.va),N>B.o&&(N=B.o),S<B.j){var it=B.j-S;S=B.j,j[0]+=it*Q}if(S>=N?S=0:(j[0]+=4*B.v,B.ka=S-B.j,B.U=B.va-B.v,B.T=N-S,S=1),S){if($=$[0],11>(S=p.ca).S){var mt=S.f.RGBA,It=(N=S.S,j=B.U,B=B.T,it=mt.eb,mt.A),nt=B;for(mt=mt.fb+p.Ma*mt.A;0<nt--;){var yt=H,Et=$,Mt=j,xt=it,Pt=mt;switch(N){case kc:Hl(yt,Et,Mt,xt,Pt);break;case Pi:Za(yt,Et,Mt,xt,Pt);break;case Qu:Za(yt,Et,Mt,xt,Pt),fl(xt,Pt,0,Mt,1,0);break;case Dc:cl(yt,Et,Mt,xt,Pt);break;case Vs:xe(yt,Et,Mt,xt,Pt,1);break;case Oc:xe(yt,Et,Mt,xt,Pt,1),fl(xt,Pt,0,Mt,1,0);break;case Xu:xe(yt,Et,Mt,xt,Pt,0);break;case Yl:xe(yt,Et,Mt,xt,Pt,0),fl(xt,Pt,1,Mt,1,0);break;case Gl:to(yt,Et,Mt,xt,Pt);break;case Pc:to(yt,Et,Mt,xt,Pt),Us(xt,Pt,Mt,1,0);break;case Lo:ka(yt,Et,Mt,xt,Pt);break;default:t(0)}$+=Q,mt+=It}p.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=S.height)}}p.C=y,t(p.C<=p.i)}function Dn(p){var y;if(0<p.ua)return 0;for(y=0;y<p.Wb;++y){var S=p.Ya[y].G,N=p.Ya[y].H;if(0<S[1][N[1]+0].g||0<S[2][N[2]+0].g||0<S[3][N[3]+0].g)return 0}return 1}function Hn(p,y,S,N,j,B){if(p.Z!=0){var H=p.qd,$=p.rd;for(t(ro[p.Z]!=null);y<S;++y)ro[p.Z](H,$,N,j,N,j,B),H=N,$=j,j+=B;p.qd=H,p.rd=$}}function Pr(p,y){var S=p.l.ma,N=S.Z==0||S.Z==1?p.l.j:p.C;if(N=p.C<N?N:p.C,t(y<=p.l.o),y>N){var j=p.l.width,B=S.ca,H=S.tb+j*N,$=p.V,Q=p.Ba+p.c*N,it=p.gc;t(p.ab==1),t(it[0].hc==3),La(it[0],N,y,$,Q,B,H),Hn(S,N,y,B,H,j)}p.C=p.Ma=y}function Ii(p,y,S,N,j,B,H){var $=p.$/N,Q=p.$%N,it=p.m,mt=p.s,It=S+p.$,nt=It;j=S+N*j;var yt=S+N*B,Et=280+mt.ua,Mt=p.Pb?$:16777216,xt=0<mt.ua?mt.Wa:null,Pt=mt.wc,Bt=It<yt?Or(mt,Q,$):null;t(p.C<B),t(yt<=j);var Qt=!1;t:for(;;){for(;Qt||It<yt;){var Gt=0;if($>=Mt){var me=It-S;t((Mt=p).Pb),Mt.wd=Mt.m,Mt.xd=me,0<Mt.s.ua&&Zt(Mt.s.Wa,Mt.s.vb),Mt=$+ko}if(Q&Pt||(Bt=Or(mt,Q,$)),t(Bt!=null),Bt.Qb&&(y[It]=Bt.qb,Qt=!0),!Qt)if(ft(it),Bt.jc){Gt=it,me=y;var se=It,Ke=Bt.pd[Z(Gt)&Ro-1];t(Bt.jc),256>Ke.g?(ut(Gt,Gt.u+Ke.g),me[se]=Ke.value,Gt=0):(ut(Gt,Gt.u+Ke.g-256),t(256<=Ke.value),Gt=Ke.value),Gt==0&&(Qt=!0)}else Gt=Bn(Bt.G[0],Bt.H[0],it);if(it.h)break;if(Qt||256>Gt){if(!Qt)if(Bt.nd)y[It]=(Bt.qb|Gt<<8)>>>0;else{if(ft(it),Qt=Bn(Bt.G[1],Bt.H[1],it),ft(it),me=Bn(Bt.G[2],Bt.H[2],it),se=Bn(Bt.G[3],Bt.H[3],it),it.h)break;y[It]=(se<<24|Qt<<16|Gt<<8|me)>>>0}if(Qt=!1,++It,++Q>=N&&(Q=0,++$,H!=null&&$<=B&&!($%16)&&H(p,$),xt!=null))for(;nt<It;)Gt=y[nt++],xt.X[(506832829*Gt&4294967295)>>>xt.Mb]=Gt}else if(280>Gt){if(Gt=Ti(Gt-256,it),me=Bn(Bt.G[4],Bt.H[4],it),ft(it),me=Ni(N,me=Ti(me,it)),it.h)break;if(It-S<me||j-It<Gt)break t;for(se=0;se<Gt;++se)y[It+se]=y[It+se-me];for(It+=Gt,Q+=Gt;Q>=N;)Q-=N,++$,H!=null&&$<=B&&!($%16)&&H(p,$);if(t(It<=j),Q&Pt&&(Bt=Or(mt,Q,$)),xt!=null)for(;nt<It;)Gt=y[nt++],xt.X[(506832829*Gt&4294967295)>>>xt.Mb]=Gt}else{if(!(Gt<Et))break t;for(Qt=Gt-280,t(xt!=null);nt<It;)Gt=y[nt++],xt.X[(506832829*Gt&4294967295)>>>xt.Mb]=Gt;Gt=It,t(!(Qt>>>(me=xt).Xa)),y[Gt]=me.X[Qt],Qt=!0}Qt||t(it.h==ot(it))}if(p.Pb&&it.h&&It<j)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Zt(p.s.vb,p.s.Wa);else{if(it.h)break t;H!=null&&H(p,$>B?B:$),p.a=0,p.$=It-S}return 1}return p.a=3,0}function is(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var y=p.Wa;y!=null&&(y.X=null),p.vb=null,t(p!=null)}function _a(){var p=new Le;return p==null?null:(p.a=0,p.xb=Xh,Cn("Predictor","VP8LPredictors"),Cn("Predictor","VP8LPredictors_C"),Cn("PredictorAdd","VP8LPredictorsAdd"),Cn("PredictorAdd","VP8LPredictorsAdd_C"),Ir=Xe,zl=Ye,Hl=hr,Za=Qe,to=Ie,ka=je,cl=$e,D.VP8LMapColor32b=Ra,D.VP8LMapColor8b=vi,p)}function _s(p,y,S,N,j){var B=1,H=[p],$=[y],Q=N.m,it=N.s,mt=null,It=0;t:for(;;){if(S)for(;B&&U(Q,1);){var nt=H,yt=$,Et=N,Mt=1,xt=Et.m,Pt=Et.gc[Et.ab],Bt=U(xt,2);if(Et.Oc&1<<Bt)B=0;else{switch(Et.Oc|=1<<Bt,Pt.hc=Bt,Pt.Ea=nt[0],Pt.nc=yt[0],Pt.K=[null],++Et.ab,t(4>=Et.ab),Bt){case 0:case 1:Pt.b=U(xt,3)+2,Mt=_s(Ft(Pt.Ea,Pt.b),Ft(Pt.nc,Pt.b),0,Et,Pt.K),Pt.K=Pt.K[0];break;case 3:var Qt,Gt=U(xt,8)+1,me=16<Gt?0:4<Gt?1:2<Gt?2:3;if(nt[0]=Ft(Pt.Ea,me),Pt.b=me,Qt=Mt=_s(Gt,1,0,Et,Pt.K)){var se,Ke=Gt,ce=Pt,dn=1<<(8>>ce.b),or=o(dn);if(or==null)Qt=0;else{var tn=ce.K[0],ae=ce.w;for(or[0]=ce.K[0][0],se=1;se<1*Ke;++se)or[se]=re(tn[ae+se],or[se-1]);for(;se<4*dn;++se)or[se]=0;ce.K[0]=null,ce.K[0]=or,Qt=1}}Mt=Qt;break;case 2:break;default:t(0)}B=Mt}}if(H=H[0],$=$[0],B&&U(Q,1)&&!(B=1<=(It=U(Q,4))&&11>=It)){N.a=3;break t}var ne;if(ne=B)e:{var pr,Ue,sn,Un=N,Wr=H,Si=$,er=It,jr=S,Mi=Un.m,Ur=Un.s,cn=[null],xn=1,mr=0,Ln=qs[er];n:for(;;){if(jr&&U(Mi,1)){var $r=U(Mi,3)+2,gr=Ft(Wr,$r),Tn=Ft(Si,$r),Lr=gr*Tn;if(!_s(gr,Tn,0,Un,cn))break n;for(cn=cn[0],Ur.xc=$r,pr=0;pr<Lr;++pr){var Vn=cn[pr]>>8&65535;cn[pr]=Vn,Vn>=xn&&(xn=Vn+1)}}if(Mi.h)break n;for(Ue=0;5>Ue;++Ue){var Vr=pl[Ue];!Ue&&0<er&&(Vr+=1<<er),mr<Vr&&(mr=Vr)}var Fr=c(xn*Ln,k),Yn=xn,En=c(Yn,_t);if(En==null)var ji=null;else t(65536>=Yn),ji=En;var Ar=o(mr);if(ji==null||Ar==null||Fr==null){Un.a=1;break n}var Re=Fr;for(pr=sn=0;pr<xn;++pr){var ke=ji[pr],Nn=ke.G,cs=ke.H,Ys=0,Ji=1,Br=0;for(Ue=0;5>Ue;++Ue){Vr=pl[Ue],Nn[Ue]=Re,cs[Ue]=sn,!Ue&&0<er&&(Vr+=1<<er);i:{var Uo,Vo=Vr,qc=Un,nr=Ar,Jh=Re,Zh=sn,zc=0,io=qc.m,Hm=U(io,1);if(a(nr,0,0,Vo),Hm){var tf=U(io,1)+1,ef=U(io,1),Hc=U(io,ef==0?1:8);nr[Hc]=1,tf==2&&(nr[Hc=U(io,8)]=1);var si=1}else{var Sr=o(19),ec=U(io,4)+4;if(19<ec){qc.a=3;var Fo=0;break i}for(Uo=0;Uo<ec;++Uo)Sr[Ju[Uo]]=U(io,3);var Ql=void 0,yl=void 0,Pa=qc,Gc=Sr,Jl=Vo,Yc=nr,Kc=0,so=Pa.m,nf=8,rf=c(128,k);r:for(;R(rf,0,7,Gc,19);){if(U(so,1)){var xd=2+2*U(so,3);if((Ql=2+U(so,xd))>Jl)break r}else Ql=Jl;for(yl=0;yl<Jl&&Ql--;){ft(so);var sf=rf[0+(127&Z(so))];ut(so,so.u+sf.g);var Bo=sf.value;if(16>Bo)Yc[yl++]=Bo,Bo!=0&&(nf=Bo);else{var Td=Bo==16,Nd=Bo-16,Id=Kl[Nd],af=U(so,Fs[Nd])+Id;if(yl+af>Jl)break r;for(var Cd=Td?nf:0;0<af--;)Yc[yl++]=Cd}}Kc=1;break r}Kc||(Pa.a=3),si=Kc}(si=si&&!io.h)&&(zc=R(Jh,Zh,8,nr,Vo)),si&&zc!=0?Fo=zc:(qc.a=3,Fo=0)}if(Fo==0)break n;if(Ji&&Mc[Ue]==1&&(Ji=Re[sn].g==0),Ys+=Re[sn].g,sn+=Fo,3>=Ue){var vl,Wc=Ar[0];for(vl=1;vl<Vr;++vl)Ar[vl]>Wc&&(Wc=Ar[vl]);Br+=Wc}}if(ke.nd=Ji,ke.Qb=0,Ji&&(ke.qb=(Nn[3][cs[3]+0].value<<24|Nn[1][cs[1]+0].value<<16|Nn[2][cs[2]+0].value)>>>0,Ys==0&&256>Nn[0][cs[0]+0].value&&(ke.Qb=1,ke.qb+=Nn[0][cs[0]+0].value<<8)),ke.jc=!ke.Qb&&6>Br,ke.jc){var nc,Ma=ke;for(nc=0;nc<Ro;++nc){var ao=nc,oo=Ma.pd[ao],$c=Ma.G[0][Ma.H[0]+ao];256<=$c.value?(oo.g=$c.g+256,oo.value=$c.value):(oo.g=0,oo.value=0,ao>>=Qn($c,8,oo),ao>>=Qn(Ma.G[1][Ma.H[1]+ao],16,oo),ao>>=Qn(Ma.G[2][Ma.H[2]+ao],0,oo),Qn(Ma.G[3][Ma.H[3]+ao],24,oo))}}}Ur.vc=cn,Ur.Wb=xn,Ur.Ya=ji,Ur.yc=Fr,ne=1;break e}ne=0}if(!(B=ne)){N.a=3;break t}if(0<It){if(it.ua=1<<It,!et(it.Wa,It)){N.a=1,B=0;break t}}else it.ua=0;var Xc=N,bl=H,Rd=$,Zl=Xc.s,tu=Zl.xc;if(Xc.c=bl,Xc.i=Rd,Zl.md=Ft(bl,tu),Zl.wc=tu==0?-1:(1<<tu)-1,S){N.xb=Do;break t}if((mt=o(H*$))==null){N.a=1,B=0;break t}B=(B=Ii(N,mt,0,H,$,$,null))&&!Q.h;break t}return B?(j!=null?j[0]=mt:(t(mt==null),t(S)),N.$=0,S||is(it)):is(it),B}function Ci(p,y){var S=p.c*p.i,N=S+y+16*y;return t(p.c<=y),p.V=o(N),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+y,1)}function na(p,y){var S=p.C,N=y-S,j=p.V,B=p.Ba+p.c*S;for(t(y<=p.l.o);0<N;){var H=16<N?16:N,$=p.l.ma,Q=p.l.width,it=Q*H,mt=$.ca,It=$.tb+Q*S,nt=p.Ta,yt=p.Ua;di(p,H,j,B),Is(nt,yt,mt,It,it),Hn($,S,S+H,mt,It,Q),N-=H,j+=H*p.c,S+=H}t(S==y),p.C=p.Ma=y}function qi(){this.ub=this.yd=this.td=this.Rb=0}function pi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zi(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ss(){this.Yb=(function(){var p=[];return(function y(S,N,j){for(var B=j[N],H=0;H<B&&(S.push(j.length>N+1?[]:0),!(j.length<N+1));H++)y(S[H],N+1,j)})(p,0,[3,11]),p})()}function dr(){this.jb=o(3),this.Wc=h([4,8],ss),this.Xc=h([4,17],ss)}function Ao(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ri(){this.ld=this.La=this.dd=this.tc=0}function as(){this.Na=this.la=0}function ws(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function za(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function So(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ri),this.Y=0,this.ya=Array(new za),this.aa=0,this.l=new ni}function Eo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function rl(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new qi,this.Kc=new pi,this.ed=new Ao,this.Qa=new zi,this.Ic=this.$c=this.Aa=0,this.D=new So,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,C),this.ia=0,this.pb=c(4,ws),this.Pa=new dr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Eo),this.Hd=0,this.rb=Array(new as),this.sb=0,this.wa=Array(new Ri),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new za),this.L=this.aa=0,this.gd=h([4,2],Ri),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hi(p,y){return 0>p?0:p>y?y:p}function ni(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function br(){var p=new rl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Cs||(Cs=yn)),p}function hn(p,y,S){return p.a==0&&(p.a=y,p.sc=S,p.cb=0),0}function ra(p,y,S){return 3<=S&&p[y+0]==157&&p[y+1]==1&&p[y+2]==42}function os(p,y){if(p==null)return 0;if(p.a=0,p.sc="OK",y==null)return hn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=y.data,N=y.w,j=y.ha;if(4>j)return hn(p,7,"Truncated header.");var B=S[N+0]|S[N+1]<<8|S[N+2]<<16,H=p.Od;if(H.Rb=!(1&B),H.td=B>>1&7,H.yd=B>>4&1,H.ub=B>>5,3<H.td)return hn(p,3,"Incorrect keyframe parameters.");if(!H.yd)return hn(p,4,"Frame not displayable.");N+=3,j-=3;var $=p.Kc;if(H.Rb){if(7>j)return hn(p,7,"cannot parse picture header");if(!ra(S,N,j))return hn(p,3,"Bad code word");$.c=16383&(S[N+4]<<8|S[N+3]),$.Td=S[N+4]>>6,$.i=16383&(S[N+6]<<8|S[N+5]),$.Ud=S[N+6]>>6,N+=7,j-=7,p.za=$.c+15>>4,p.Ub=$.i+15>>4,y.width=$.c,y.height=$.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((B=p.Pa).jb,0,255,B.jb.length),t((B=p.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,a(B.Zb,0,0,B.Zb.length),a(B.Lb,0,0,B.Lb)}if(H.ub>j)return hn(p,7,"bad partition length");st(B=p.m,S,N,H.ub),N+=H.ub,j-=H.ub,H.Rb&&($.Ld=Ct(B),$.Kd=Ct(B)),$=p.Qa;var Q,it=p.Pa;if(t(B!=null),t($!=null),$.Cb=Ct(B),$.Cb){if($.Bb=Ct(B),Ct(B)){for($.Fb=Ct(B),Q=0;4>Q;++Q)$.Zb[Q]=Ct(B)?dt(B,7):0;for(Q=0;4>Q;++Q)$.Lb[Q]=Ct(B)?dt(B,6):0}if($.Bb)for(Q=0;3>Q;++Q)it.jb[Q]=Ct(B)?pt(B,8):255}else $.Bb=0;if(B.Ka)return hn(p,3,"cannot parse segment header");if(($=p.ed).zd=Ct(B),$.Tb=pt(B,6),$.wb=pt(B,3),$.Pc=Ct(B),$.Pc&&Ct(B)){for(it=0;4>it;++it)Ct(B)&&($.vd[it]=dt(B,6));for(it=0;4>it;++it)Ct(B)&&($.od[it]=dt(B,6))}if(p.L=$.Tb==0?0:$.zd?1:2,B.Ka)return hn(p,3,"cannot parse filter header");var mt=j;if(j=Q=N,N=Q+mt,$=mt,p.Xb=(1<<pt(p.m,2))-1,mt<3*(it=p.Xb))S=7;else{for(Q+=3*it,$-=3*it,mt=0;mt<it;++mt){var It=S[j+0]|S[j+1]<<8|S[j+2]<<16;It>$&&(It=$),st(p.Jc[+mt],S,Q,It),Q+=It,$-=It,j+=3}st(p.Jc[+it],S,Q,$),S=Q<N?0:5}if(S!=0)return hn(p,S,"cannot parse partitions");for(S=pt(Q=p.m,7),j=Ct(Q)?dt(Q,4):0,N=Ct(Q)?dt(Q,4):0,$=Ct(Q)?dt(Q,4):0,it=Ct(Q)?dt(Q,4):0,Q=Ct(Q)?dt(Q,4):0,mt=p.Qa,It=0;4>It;++It){if(mt.Cb){var nt=mt.Zb[It];mt.Fb||(nt+=S)}else{if(0<It){p.pb[It]=p.pb[0];continue}nt=S}var yt=p.pb[It];yt.Sc[0]=zs[Hi(nt+j,127)],yt.Sc[1]=Hs[Hi(nt+0,127)],yt.Eb[0]=2*zs[Hi(nt+N,127)],yt.Eb[1]=101581*Hs[Hi(nt+$,127)]>>16,8>yt.Eb[1]&&(yt.Eb[1]=8),yt.Qc[0]=zs[Hi(nt+it,117)],yt.Qc[1]=Hs[Hi(nt+Q,127)],yt.lc=nt+Q}if(!H.Rb)return hn(p,4,"Not a key frame.");for(Ct(B),H=p.Pa,S=0;4>S;++S){for(j=0;8>j;++j)for(N=0;3>N;++N)for($=0;11>$;++$)it=jt(B,ar[S][j][N][$])?pt(B,8):Sd[S][j][N][$],H.Wc[S][j].Yb[N][$]=it;for(j=0;17>j;++j)H.Xc[S][j]=H.Wc[S][pn[j]]}return p.kc=Ct(B),p.kc&&(p.Bd=pt(B,8)),p.cb=1}function yn(p,y,S,N,j,B,H){var $=y[j].Yb[S];for(S=0;16>j;++j){if(!jt(p,$[S+0]))return j;for(;!jt(p,$[S+1]);)if($=y[++j].Yb[0],S=0,j==16)return 16;var Q=y[j+1].Yb;if(jt(p,$[S+2])){var it=p,mt=0;if(jt(it,(nt=$)[(It=S)+3]))if(jt(it,nt[It+6])){for($=0,It=2*(mt=jt(it,nt[It+8]))+(nt=jt(it,nt[It+9+mt])),mt=0,nt=Ad[It];nt[$];++$)mt+=mt+jt(it,nt[$]);mt+=3+(8<<It)}else jt(it,nt[It+7])?(mt=7+2*jt(it,165),mt+=jt(it,145)):mt=5+jt(it,159);else mt=jt(it,nt[It+4])?3+jt(it,nt[It+5]):2;$=Q[2]}else mt=1,$=Q[1];Q=H+$h[j],0>(it=p).b&&Tt(it);var It,nt=it.b,yt=(It=it.Ca>>1)-(it.I>>nt)>>31;--it.b,it.Ca+=yt,it.Ca|=1,it.I-=(It+1&yt)<<nt,B[Q]=((mt^yt)-yt)*N[(0<j)+0]}return 16}function wa(p){var y=p.rb[p.sb-1];y.la=0,y.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Tr(p,y,S,N,j){j=p[y+S+32*N]+(j>>3),p[y+S+32*N]=-256&j?0>j?0:255:j}function sr(p,y,S,N,j,B){Tr(p,y,0,S,N+j),Tr(p,y,1,S,N+B),Tr(p,y,2,S,N-B),Tr(p,y,3,S,N-j)}function _r(p){return(20091*p>>16)+p}function Ha(p,y,S,N){var j,B=0,H=o(16);for(j=0;4>j;++j){var $=p[y+0]+p[y+8],Q=p[y+0]-p[y+8],it=(35468*p[y+4]>>16)-_r(p[y+12]),mt=_r(p[y+4])+(35468*p[y+12]>>16);H[B+0]=$+mt,H[B+1]=Q+it,H[B+2]=Q-it,H[B+3]=$-mt,B+=4,y++}for(j=B=0;4>j;++j)$=(p=H[B+0]+4)+H[B+8],Q=p-H[B+8],it=(35468*H[B+4]>>16)-_r(H[B+12]),Tr(S,N,0,0,$+(mt=_r(H[B+4])+(35468*H[B+12]>>16))),Tr(S,N,1,0,Q+it),Tr(S,N,2,0,Q-it),Tr(S,N,3,0,$-mt),B++,N+=32}function Vl(p,y,S,N){var j=p[y+0]+4,B=35468*p[y+4]>>16,H=_r(p[y+4]),$=35468*p[y+1]>>16;sr(S,N,0,j+H,p=_r(p[y+1]),$),sr(S,N,1,j+B,p,$),sr(S,N,2,j-B,p,$),sr(S,N,3,j-H,p,$)}function il(p,y,S,N,j){Ha(p,y,S,N),j&&Ha(p,y+16,S,N+4)}function mi(p,y,S,N){eo(p,y+0,S,N,1),eo(p,y+32,S,N+128,1)}function sl(p,y,S,N){var j;for(p=p[y+0]+4,j=0;4>j;++j)for(y=0;4>y;++y)Tr(S,N,y,j,p)}function ia(p,y,S,N){p[y+0]&&Rn(p,y+0,S,N),p[y+16]&&Rn(p,y+16,S,N+4),p[y+32]&&Rn(p,y+32,S,N+128),p[y+48]&&Rn(p,y+48,S,N+128+4)}function Yr(p,y,S,N){var j,B=o(16);for(j=0;4>j;++j){var H=p[y+0+j]+p[y+12+j],$=p[y+4+j]+p[y+8+j],Q=p[y+4+j]-p[y+8+j],it=p[y+0+j]-p[y+12+j];B[0+j]=H+$,B[8+j]=H-$,B[4+j]=it+Q,B[12+j]=it-Q}for(j=0;4>j;++j)H=(p=B[0+4*j]+3)+B[3+4*j],$=B[1+4*j]+B[2+4*j],Q=B[1+4*j]-B[2+4*j],it=p-B[3+4*j],S[N+0]=H+$>>3,S[N+16]=it+Q>>3,S[N+32]=H-$>>3,S[N+48]=it-Q>>3,N+=64}function Aa(p,y,S){var N,j=y-32,B=Oi,H=255-p[j-1];for(N=0;N<S;++N){var $,Q=B,it=H+p[y-1];for($=0;$<S;++$)p[y+$]=Q[it+p[j+$]];y+=32}}function al(p,y){Aa(p,y,4)}function ol(p,y){Aa(p,y,8)}function xo(p,y){Aa(p,y,16)}function To(p,y){var S;for(S=0;16>S;++S)i(p,y+32*S,p,y-32,16)}function sa(p,y){var S;for(S=16;0<S;--S)a(p,y,p[y-1],16),y+=32}function Li(p,y,S){var N;for(N=0;16>N;++N)a(y,S+32*N,p,16)}function As(p,y){var S,N=16;for(S=0;16>S;++S)N+=p[y-1+32*S]+p[y+S-32];Li(N>>5,p,y)}function aa(p,y){var S,N=8;for(S=0;16>S;++S)N+=p[y-1+32*S];Li(N>>4,p,y)}function ki(p,y){var S,N=8;for(S=0;16>S;++S)N+=p[y+S-32];Li(N>>4,p,y)}function Sa(p,y){Li(128,p,y)}function Ce(p,y,S){return p+2*y+S+2>>2}function Ga(p,y){var S,N=y-32;for(N=new Uint8Array([Ce(p[N-1],p[N+0],p[N+1]),Ce(p[N+0],p[N+1],p[N+2]),Ce(p[N+1],p[N+2],p[N+3]),Ce(p[N+2],p[N+3],p[N+4])]),S=0;4>S;++S)i(p,y+32*S,N,0,N.length)}function No(p,y){var S=p[y-1],N=p[y-1+32],j=p[y-1+64],B=p[y-1+96];Xt(p,y+0,16843009*Ce(p[y-1-32],S,N)),Xt(p,y+32,16843009*Ce(S,N,j)),Xt(p,y+64,16843009*Ce(N,j,B)),Xt(p,y+96,16843009*Ce(j,B,B))}function Ea(p,y){var S,N=4;for(S=0;4>S;++S)N+=p[y+S-32]+p[y-1+32*S];for(N>>=3,S=0;4>S;++S)a(p,y+32*S,N,4)}function Kr(p,y){var S=p[y-1+0],N=p[y-1+32],j=p[y-1+64],B=p[y-1-32],H=p[y+0-32],$=p[y+1-32],Q=p[y+2-32],it=p[y+3-32];p[y+0+96]=Ce(N,j,p[y-1+96]),p[y+1+96]=p[y+0+64]=Ce(S,N,j),p[y+2+96]=p[y+1+64]=p[y+0+32]=Ce(B,S,N),p[y+3+96]=p[y+2+64]=p[y+1+32]=p[y+0+0]=Ce(H,B,S),p[y+3+64]=p[y+2+32]=p[y+1+0]=Ce($,H,B),p[y+3+32]=p[y+2+0]=Ce(Q,$,H),p[y+3+0]=Ce(it,Q,$)}function Mr(p,y){var S=p[y+1-32],N=p[y+2-32],j=p[y+3-32],B=p[y+4-32],H=p[y+5-32],$=p[y+6-32],Q=p[y+7-32];p[y+0+0]=Ce(p[y+0-32],S,N),p[y+1+0]=p[y+0+32]=Ce(S,N,j),p[y+2+0]=p[y+1+32]=p[y+0+64]=Ce(N,j,B),p[y+3+0]=p[y+2+32]=p[y+1+64]=p[y+0+96]=Ce(j,B,H),p[y+3+32]=p[y+2+64]=p[y+1+96]=Ce(B,H,$),p[y+3+64]=p[y+2+96]=Ce(H,$,Q),p[y+3+96]=Ce($,Q,Q)}function Ya(p,y){var S=p[y-1+0],N=p[y-1+32],j=p[y-1+64],B=p[y-1-32],H=p[y+0-32],$=p[y+1-32],Q=p[y+2-32],it=p[y+3-32];p[y+0+0]=p[y+1+64]=B+H+1>>1,p[y+1+0]=p[y+2+64]=H+$+1>>1,p[y+2+0]=p[y+3+64]=$+Q+1>>1,p[y+3+0]=Q+it+1>>1,p[y+0+96]=Ce(j,N,S),p[y+0+64]=Ce(N,S,B),p[y+0+32]=p[y+1+96]=Ce(S,B,H),p[y+1+32]=p[y+2+96]=Ce(B,H,$),p[y+2+32]=p[y+3+96]=Ce(H,$,Q),p[y+3+32]=Ce($,Q,it)}function On(p,y){var S=p[y+0-32],N=p[y+1-32],j=p[y+2-32],B=p[y+3-32],H=p[y+4-32],$=p[y+5-32],Q=p[y+6-32],it=p[y+7-32];p[y+0+0]=S+N+1>>1,p[y+1+0]=p[y+0+64]=N+j+1>>1,p[y+2+0]=p[y+1+64]=j+B+1>>1,p[y+3+0]=p[y+2+64]=B+H+1>>1,p[y+0+32]=Ce(S,N,j),p[y+1+32]=p[y+0+96]=Ce(N,j,B),p[y+2+32]=p[y+1+96]=Ce(j,B,H),p[y+3+32]=p[y+2+96]=Ce(B,H,$),p[y+3+64]=Ce(H,$,Q),p[y+3+96]=Ce($,Q,it)}function Gi(p,y){var S=p[y-1+0],N=p[y-1+32],j=p[y-1+64],B=p[y-1+96];p[y+0+0]=S+N+1>>1,p[y+2+0]=p[y+0+32]=N+j+1>>1,p[y+2+32]=p[y+0+64]=j+B+1>>1,p[y+1+0]=Ce(S,N,j),p[y+3+0]=p[y+1+32]=Ce(N,j,B),p[y+3+32]=p[y+1+64]=Ce(j,B,B),p[y+3+64]=p[y+2+64]=p[y+0+96]=p[y+1+96]=p[y+2+96]=p[y+3+96]=B}function Ka(p,y){var S=p[y-1+0],N=p[y-1+32],j=p[y-1+64],B=p[y-1+96],H=p[y-1-32],$=p[y+0-32],Q=p[y+1-32],it=p[y+2-32];p[y+0+0]=p[y+2+32]=S+H+1>>1,p[y+0+32]=p[y+2+64]=N+S+1>>1,p[y+0+64]=p[y+2+96]=j+N+1>>1,p[y+0+96]=B+j+1>>1,p[y+3+0]=Ce($,Q,it),p[y+2+0]=Ce(H,$,Q),p[y+1+0]=p[y+3+32]=Ce(S,H,$),p[y+1+32]=p[y+3+64]=Ce(N,S,H),p[y+1+64]=p[y+3+96]=Ce(j,N,S),p[y+1+96]=Ce(B,j,N)}function Ss(p,y){var S;for(S=0;8>S;++S)i(p,y+32*S,p,y-32,8)}function ll(p,y){var S;for(S=0;8>S;++S)a(p,y,p[y-1],8),y+=32}function Yi(p,y,S){var N;for(N=0;8>N;++N)a(y,S+32*N,p,8)}function oa(p,y){var S,N=8;for(S=0;8>S;++S)N+=p[y+S-32]+p[y-1+32*S];Yi(N>>4,p,y)}function Ki(p,y){var S,N=4;for(S=0;8>S;++S)N+=p[y+S-32];Yi(N>>3,p,y)}function Nr(p,y){var S,N=4;for(S=0;8>S;++S)N+=p[y-1+32*S];Yi(N>>3,p,y)}function ks(p,y){Yi(128,p,y)}function ri(p,y,S){var N=p[y-S],j=p[y+0],B=3*(j-N)+no[1020+p[y-2*S]-p[y+S]],H=$u[112+(B+4>>3)];p[y-S]=Oi[255+N+$u[112+(B+3>>3)]],p[y+0]=Oi[255+j-H]}function Ds(p,y,S,N){var j=p[y+0],B=p[y+S];return bi[255+p[y-2*S]-p[y-S]]>N||bi[255+B-j]>N}function xa(p,y,S,N){return 4*bi[255+p[y-S]-p[y+0]]+bi[255+p[y-2*S]-p[y+S]]<=N}function Os(p,y,S,N,j){var B=p[y-3*S],H=p[y-2*S],$=p[y-S],Q=p[y+0],it=p[y+S],mt=p[y+2*S],It=p[y+3*S];return 4*bi[255+$-Q]+bi[255+H-it]>N?0:bi[255+p[y-4*S]-B]<=j&&bi[255+B-H]<=j&&bi[255+H-$]<=j&&bi[255+It-mt]<=j&&bi[255+mt-it]<=j&&bi[255+it-Q]<=j}function Ps(p,y,S,N){var j=2*N+1;for(N=0;16>N;++N)xa(p,y+N,S,j)&&ri(p,y+N,S)}function ls(p,y,S,N){var j=2*N+1;for(N=0;16>N;++N)xa(p,y+N*S,1,j)&&ri(p,y+N*S,1)}function Wa(p,y,S,N){var j;for(j=3;0<j;--j)Ps(p,y+=4*S,S,N)}function Io(p,y,S,N){var j;for(j=3;0<j;--j)ls(p,y+=4,S,N)}function Wi(p,y,S,N,j,B,H,$){for(B=2*B+1;0<j--;){if(Os(p,y,S,B,H))if(Ds(p,y,S,$))ri(p,y,S);else{var Q=p,it=y,mt=S,It=Q[it-2*mt],nt=Q[it-mt],yt=Q[it+0],Et=Q[it+mt],Mt=Q[it+2*mt],xt=27*(Bt=no[1020+3*(yt-nt)+no[1020+It-Et]])+63>>7,Pt=18*Bt+63>>7,Bt=9*Bt+63>>7;Q[it-3*mt]=Oi[255+Q[it-3*mt]+Bt],Q[it-2*mt]=Oi[255+It+Pt],Q[it-mt]=Oi[255+nt+xt],Q[it+0]=Oi[255+yt-xt],Q[it+mt]=Oi[255+Et-Pt],Q[it+2*mt]=Oi[255+Mt-Bt]}y+=N}}function Ms(p,y,S,N,j,B,H,$){for(B=2*B+1;0<j--;){if(Os(p,y,S,B,H))if(Ds(p,y,S,$))ri(p,y,S);else{var Q=p,it=y,mt=S,It=Q[it-mt],nt=Q[it+0],yt=Q[it+mt],Et=$u[112+(4+(Mt=3*(nt-It))>>3)],Mt=$u[112+(Mt+3>>3)],xt=Et+1>>1;Q[it-2*mt]=Oi[255+Q[it-2*mt]+xt],Q[it-mt]=Oi[255+It+Mt],Q[it+0]=Oi[255+nt-Et],Q[it+mt]=Oi[255+yt-xt]}y+=N}}function ul(p,y,S,N,j,B){Wi(p,y,S,1,16,N,j,B)}function Es(p,y,S,N,j,B){Wi(p,y,1,S,16,N,j,B)}function Co(p,y,S,N,j,B){var H;for(H=3;0<H;--H)Ms(p,y+=4*S,S,1,16,N,j,B)}function _(p,y,S,N,j,B){var H;for(H=3;0<H;--H)Ms(p,y+=4,1,S,16,N,j,B)}function M(p,y,S,N,j,B,H,$){Wi(p,y,j,1,8,B,H,$),Wi(S,N,j,1,8,B,H,$)}function rt(p,y,S,N,j,B,H,$){Wi(p,y,1,j,8,B,H,$),Wi(S,N,1,j,8,B,H,$)}function ht(p,y,S,N,j,B,H,$){Ms(p,y+4*j,j,1,8,B,H,$),Ms(S,N+4*j,j,1,8,B,H,$)}function bt(p,y,S,N,j,B,H,$){Ms(p,y+4,1,j,8,B,H,$),Ms(S,N+4,1,j,8,B,H,$)}function Ut(){this.ba=new Se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function oe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pe(){this.ua=0,this.Wa=new Ve,this.vb=new Ve,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _t,this.yc=new k}function Le(){this.xb=this.a=0,this.l=new ni,this.ca=new Se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pe,this.ab=0,this.gc=c(4,oe),this.Oc=0}function Ne(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ni,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fn(p,y,S,N,j,B,H){for(p=p==null?0:p[y+0],y=0;y<H;++y)j[B+y]=p+S[N+y]&255,p=j[B+y]}function Jn(p,y,S,N,j,B,H){var $;if(p==null)fn(null,null,S,N,j,B,H);else for($=0;$<H;++$)j[B+$]=p[y+$]+S[N+$]&255}function qn(p,y,S,N,j,B,H){if(p==null)fn(null,null,S,N,j,B,H);else{var $,Q=p[y+0],it=Q,mt=Q;for($=0;$<H;++$)it=mt+(Q=p[y+$])-it,mt=S[N+$]+(-256&it?0>it?0:255:it)&255,it=Q,j[B+$]=mt}}function m(p,y,S,N){var j=y.width,B=y.o;if(t(p!=null&&y!=null),0>S||0>=N||S+N>B)return null;if(!p.Cc){if(p.ga==null){var H;if(p.ga=new Ne,(H=p.ga==null)||(H=y.width*y.o,t(p.Gb.length==0),p.Gb=o(H),p.Uc=0,p.Gb==null?H=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,H=1),H=!H),!H){H=p.ga;var $=p.Fa,Q=p.P,it=p.qc,mt=p.mb,It=p.nb,nt=Q+1,yt=it-1,Et=H.l;if(t($!=null&&mt!=null&&y!=null),ro[0]=null,ro[1]=fn,ro[2]=Jn,ro[3]=qn,H.ca=mt,H.tb=It,H.c=y.width,H.i=y.height,t(0<H.c&&0<H.i),1>=it)y=0;else if(H.$a=3&$[Q+0],H.Z=$[Q+0]>>2&3,H.Lc=$[Q+0]>>4&3,Q=$[Q+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||Q)y=0;else if(Et.put=Te,Et.ac=Gr,Et.bc=ea,Et.ma=H,Et.width=y.width,Et.height=y.height,Et.Da=y.Da,Et.v=y.v,Et.va=y.va,Et.j=y.j,Et.o=y.o,H.$a)t:{t(H.$a==1),y=_a();e:for(;;){if(y==null){y=0;break t}if(t(H!=null),H.mc=y,y.c=H.c,y.i=H.i,y.l=H.l,y.l.ma=H,y.l.width=H.c,y.l.height=H.i,y.a=0,Nt(y.m,$,nt,yt),!_s(H.c,H.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Dn(y.s)?(H.ic=1,$=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o($),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(H.ic=0,y=Ci(y,H.c)),!y))break e;y=1;break t}H.mc=null,y=0}else y=yt>=H.c*H.i;H=!y}if(H)return null;p.ga.Lc!=1?p.Ga=0:N=B-S}t(p.ga!=null),t(S+N<=B);t:{if(y=($=p.ga).c,B=$.l.o,$.$a==0){if(nt=p.rc,yt=p.Vc,Et=p.Fa,Q=p.P+1+S*y,it=p.mb,mt=p.nb+S*y,t(Q<=p.P+p.qc),$.Z!=0)for(t(ro[$.Z]!=null),H=0;H<N;++H)ro[$.Z](nt,yt,Et,Q,it,mt,y),nt=it,yt=mt,mt+=y,Q+=y;else for(H=0;H<N;++H)i(it,mt,Et,Q,y),nt=it,yt=mt,mt+=y,Q+=y;p.rc=nt,p.Vc=yt}else{if(t($.mc!=null),y=S+N,t((H=$.mc)!=null),t(y<=H.i),H.C>=y)y=1;else if($.ic||kt(),$.ic){$=H.V,nt=H.Ba,yt=H.c;var Mt=H.i,xt=(Et=1,Q=H.$/yt,it=H.$%yt,mt=H.m,It=H.s,H.$),Pt=yt*Mt,Bt=yt*y,Qt=It.wc,Gt=xt<Bt?Or(It,it,Q):null;t(xt<=Pt),t(y<=Mt),t(Dn(It));e:for(;;){for(;!mt.h&&xt<Bt;){if(it&Qt||(Gt=Or(It,it,Q)),t(Gt!=null),ft(mt),256>(Mt=Bn(Gt.G[0],Gt.H[0],mt)))$[nt+xt]=Mt,++xt,++it>=yt&&(it=0,++Q<=y&&!(Q%16)&&Pr(H,Q));else{if(!(280>Mt)){Et=0;break e}Mt=Ti(Mt-256,mt);var me,se=Bn(Gt.G[4],Gt.H[4],mt);if(ft(mt),!(xt>=(se=Ni(yt,se=Ti(se,mt)))&&Pt-xt>=Mt)){Et=0;break e}for(me=0;me<Mt;++me)$[nt+xt+me]=$[nt+xt+me-se];for(xt+=Mt,it+=Mt;it>=yt;)it-=yt,++Q<=y&&!(Q%16)&&Pr(H,Q);xt<Bt&&it&Qt&&(Gt=Or(It,it,Q))}t(mt.h==ot(mt))}Pr(H,Q>y?y:Q);break e}!Et||mt.h&&xt<Pt?(Et=0,H.a=mt.h?5:3):H.$=xt,y=Et}else y=Ii(H,H.V,H.Ba,H.c,H.i,y,na);if(!y){N=0;break t}}S+N>=B&&(p.Cc=1),N=1}if(!N)return null;if(p.Cc&&((N=p.ga)!=null&&(N.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*j}function E(p,y,S,N,j,B){for(;0<j--;){var H,$=p,Q=y+(S?1:0),it=p,mt=y+(S?0:3);for(H=0;H<N;++H){var It=it[mt+4*H];It!=255&&(It*=32897,$[Q+4*H+0]=$[Q+4*H+0]*It>>23,$[Q+4*H+1]=$[Q+4*H+1]*It>>23,$[Q+4*H+2]=$[Q+4*H+2]*It>>23)}y+=B}}function L(p,y,S,N,j){for(;0<N--;){var B;for(B=0;B<S;++B){var H=p[y+2*B+0],$=15&(it=p[y+2*B+1]),Q=4369*$,it=(240&it|it>>4)*Q>>16;p[y+2*B+0]=(240&H|H>>4)*Q>>16&240|(15&H|H<<4)*Q>>16>>4&15,p[y+2*B+1]=240&it|$}y+=j}}function X(p,y,S,N,j,B,H,$){var Q,it,mt=255;for(it=0;it<j;++it){for(Q=0;Q<N;++Q){var It=p[y+Q];B[H+4*Q]=It,mt&=It}y+=S,H+=$}return mt!=255}function At(p,y,S,N,j){var B;for(B=0;B<j;++B)S[N+B]=p[y+B]>>8}function kt(){fl=E,Us=L,Yu=X,Is=At}function Jt(p,y,S){D[p]=function(N,j,B,H,$,Q,it,mt,It,nt,yt,Et,Mt,xt,Pt,Bt,Qt){var Gt,me=Qt-1>>1,se=$[Q+0]|it[mt+0]<<16,Ke=It[nt+0]|yt[Et+0]<<16;t(N!=null);var ce=3*se+Ke+131074>>2;for(y(N[j+0],255&ce,ce>>16,Mt,xt),B!=null&&(ce=3*Ke+se+131074>>2,y(B[H+0],255&ce,ce>>16,Pt,Bt)),Gt=1;Gt<=me;++Gt){var dn=$[Q+Gt]|it[mt+Gt]<<16,or=It[nt+Gt]|yt[Et+Gt]<<16,tn=se+dn+Ke+or+524296,ae=tn+2*(dn+Ke)>>3;ce=ae+se>>1,se=(tn=tn+2*(se+or)>>3)+dn>>1,y(N[j+2*Gt-1],255&ce,ce>>16,Mt,xt+(2*Gt-1)*S),y(N[j+2*Gt-0],255&se,se>>16,Mt,xt+(2*Gt-0)*S),B!=null&&(ce=tn+Ke>>1,se=ae+or>>1,y(B[H+2*Gt-1],255&ce,ce>>16,Pt,Bt+(2*Gt-1)*S),y(B[H+2*Gt+0],255&se,se>>16,Pt,Bt+(2*Gt+0)*S)),se=dn,Ke=or}1&Qt||(ce=3*se+Ke+131074>>2,y(N[j+Qt-1],255&ce,ce>>16,Mt,xt+(Qt-1)*S),B!=null&&(ce=3*Ke+se+131074>>2,y(B[H+Qt-1],255&ce,ce>>16,Pt,Bt+(Qt-1)*S)))}}function He(){wi[kc]=ml,wi[Pi]=Wl,wi[Dc]=Qh,wi[Vs]=Uc,wi[Xu]=Oo,wi[Gl]=Oa,wi[Lo]=Po,wi[Qu]=Wl,wi[Oc]=Uc,wi[Yl]=Oo,wi[Pc]=Oa}function Zn(p){return p&-16384?0>p?0:255:p>>Vc}function un(p,y){return Zn((19077*p>>8)+(26149*y>>8)-14234)}function Pn(p,y,S){return Zn((19077*p>>8)-(6419*y>>8)-(13320*S>>8)+8708)}function ii(p,y){return Zn((19077*p>>8)+(33050*y>>8)-17685)}function gi(p,y,S,N,j){N[j+0]=un(p,S),N[j+1]=Pn(p,y,S),N[j+2]=ii(p,y)}function Gn(p,y,S,N,j){N[j+0]=ii(p,y),N[j+1]=Pn(p,y,S),N[j+2]=un(p,S)}function yi(p,y,S,N,j){var B=Pn(p,y,S);y=B<<3&224|ii(p,y)>>3,N[j+0]=248&un(p,S)|B>>5,N[j+1]=y}function xs(p,y,S,N,j){var B=240&ii(p,y)|15;N[j+0]=240&un(p,S)|Pn(p,y,S)>>4,N[j+1]=B}function Ta(p,y,S,N,j){N[j+0]=255,gi(p,y,S,N,j+1)}function Na(p,y,S,N,j){Gn(p,y,S,N,j),N[j+3]=255}function $i(p,y,S,N,j){gi(p,y,S,N,j),N[j+3]=255}function $a(p,y,S){D[p]=function(N,j,B,H,$,Q,it,mt,It){for(var nt=mt+(-2&It)*S;mt!=nt;)y(N[j+0],B[H+0],$[Q+0],it,mt),y(N[j+1],B[H+0],$[Q+0],it,mt+S),j+=2,++H,++Q,mt+=2*S;1&It&&y(N[j+0],B[H+0],$[Q+0],it,mt)}}function Fl(p,y,S){return S==0?p==0?y==0?6:5:y==0?4:0:S}function zu(p,y,S,N,j){switch(p>>>30){case 3:eo(y,S,N,j,0);break;case 2:Di(y,S,N,j);break;case 1:Rn(y,S,N,j)}}function Ts(p,y){var S,N,j=y.M,B=y.Nb,H=p.oc,$=p.pc+40,Q=p.oc,it=p.pc+584,mt=p.oc,It=p.pc+600;for(S=0;16>S;++S)H[$+32*S-1]=129;for(S=0;8>S;++S)Q[it+32*S-1]=129,mt[It+32*S-1]=129;for(0<j?H[$-1-32]=Q[it-1-32]=mt[It-1-32]=129:(a(H,$-32-1,127,21),a(Q,it-32-1,127,9),a(mt,It-32-1,127,9)),N=0;N<p.za;++N){var nt=y.ya[y.aa+N];if(0<N){for(S=-1;16>S;++S)i(H,$+32*S-4,H,$+32*S+12,4);for(S=-1;8>S;++S)i(Q,it+32*S-4,Q,it+32*S+4,4),i(mt,It+32*S-4,mt,It+32*S+4,4)}var yt=p.Gd,Et=p.Hd+N,Mt=nt.ad,xt=nt.Hc;if(0<j&&(i(H,$-32,yt[Et].y,0,16),i(Q,it-32,yt[Et].f,0,8),i(mt,It-32,yt[Et].ea,0,8)),nt.Za){var Pt=H,Bt=$-32+16;for(0<j&&(N>=p.za-1?a(Pt,Bt,yt[Et].y[15],4):i(Pt,Bt,yt[Et+1].y,0,4)),S=0;4>S;S++)Pt[Bt+128+S]=Pt[Bt+256+S]=Pt[Bt+384+S]=Pt[Bt+0+S];for(S=0;16>S;++S,xt<<=2)Pt=H,Bt=$+Rr[S],wr[nt.Ob[S]](Pt,Bt),zu(xt,Mt,16*+S,Pt,Bt)}else if(Pt=Fl(N,j,nt.Ob[0]),Qi[Pt](H,$),xt!=0)for(S=0;16>S;++S,xt<<=2)zu(xt,Mt,16*+S,H,$+Rr[S]);for(S=nt.Gc,Pt=Fl(N,j,nt.Dd),ha[Pt](Q,it),ha[Pt](mt,It),xt=Mt,Pt=Q,Bt=it,255&(nt=0|S)&&(170&nt?js(xt,256,Pt,Bt):Sn(xt,256,Pt,Bt)),nt=mt,xt=It,255&(S>>=8)&&(170&S?js(Mt,320,nt,xt):Sn(Mt,320,nt,xt)),j<p.Ub-1&&(i(yt[Et].y,0,H,$+480,16),i(yt[Et].f,0,Q,it+224,8),i(yt[Et].ea,0,mt,It+224,8)),S=8*B*p.B,yt=p.sa,Et=p.ta+16*N+16*B*p.R,Mt=p.qa,nt=p.ra+8*N+S,xt=p.Ha,Pt=p.Ia+8*N+S,S=0;16>S;++S)i(yt,Et+S*p.R,H,$+32*S,16);for(S=0;8>S;++S)i(Mt,nt+S*p.B,Q,it+32*S,8),i(xt,Pt+S*p.B,mt,It+32*S,8)}}function la(p,y,S,N,j,B,H,$,Q){var it=[0],mt=[0],It=0,nt=Q!=null?Q.kd:0,yt=Q??new Kt;if(p==null||12>S)return 7;yt.data=p,yt.w=y,yt.ha=S,y=[y],S=[S],yt.gb=[yt.gb];t:{var Et=y,Mt=S,xt=yt.gb;if(t(p!=null),t(Mt!=null),t(xt!=null),xt[0]=0,12<=Mt[0]&&!e(p,Et[0],"RIFF")){if(e(p,Et[0]+8,"WEBP")){xt=3;break t}var Pt=ie(p,Et[0]+4);if(12>Pt||4294967286<Pt){xt=3;break t}if(nt&&Pt>Mt[0]-8){xt=7;break t}xt[0]=Pt,Et[0]+=12,Mt[0]-=12}xt=0}if(xt!=0)return xt;for(Pt=0<yt.gb[0],S=S[0];;){t:{var Bt=p;Mt=y,xt=S;var Qt=it,Gt=mt,me=Et=[0];if((ce=It=[It])[0]=0,8>xt[0])xt=7;else{if(!e(Bt,Mt[0],"VP8X")){if(ie(Bt,Mt[0]+4)!=10){xt=3;break t}if(18>xt[0]){xt=7;break t}var se=ie(Bt,Mt[0]+8),Ke=1+$t(Bt,Mt[0]+12);if(2147483648<=Ke*(Bt=1+$t(Bt,Mt[0]+15))){xt=3;break t}me!=null&&(me[0]=se),Qt!=null&&(Qt[0]=Ke),Gt!=null&&(Gt[0]=Bt),Mt[0]+=18,xt[0]-=18,ce[0]=1}xt=0}}if(It=It[0],Et=Et[0],xt!=0)return xt;if(Mt=!!(2&Et),!Pt&&It)return 3;if(B!=null&&(B[0]=!!(16&Et)),H!=null&&(H[0]=Mt),$!=null&&($[0]=0),H=it[0],Et=mt[0],It&&Mt&&Q==null){xt=0;break}if(4>S){xt=7;break}if(Pt&&It||!Pt&&!It&&!e(p,y[0],"ALPH")){S=[S],yt.na=[yt.na],yt.P=[yt.P],yt.Sa=[yt.Sa];t:{se=p,xt=y,Pt=S;var ce=yt.gb;Qt=yt.na,Gt=yt.P,me=yt.Sa,Ke=22,t(se!=null),t(Pt!=null),Bt=xt[0];var dn=Pt[0];for(t(Qt!=null),t(me!=null),Qt[0]=null,Gt[0]=null,me[0]=0;;){if(xt[0]=Bt,Pt[0]=dn,8>dn){xt=7;break t}var or=ie(se,Bt+4);if(4294967286<or){xt=3;break t}var tn=8+or+1&-2;if(Ke+=tn,0<ce&&Ke>ce){xt=3;break t}if(!e(se,Bt,"VP8 ")||!e(se,Bt,"VP8L")){xt=0;break t}if(dn[0]<tn){xt=7;break t}e(se,Bt,"ALPH")||(Qt[0]=se,Gt[0]=Bt+8,me[0]=or),Bt+=tn,dn-=tn}}if(S=S[0],yt.na=yt.na[0],yt.P=yt.P[0],yt.Sa=yt.Sa[0],xt!=0)break}S=[S],yt.Ja=[yt.Ja],yt.xa=[yt.xa];t:if(ce=p,xt=y,Pt=S,Qt=yt.gb[0],Gt=yt.Ja,me=yt.xa,se=xt[0],Bt=!e(ce,se,"VP8 "),Ke=!e(ce,se,"VP8L"),t(ce!=null),t(Pt!=null),t(Gt!=null),t(me!=null),8>Pt[0])xt=7;else{if(Bt||Ke){if(ce=ie(ce,se+4),12<=Qt&&ce>Qt-12){xt=3;break t}if(nt&&ce>Pt[0]-8){xt=7;break t}Gt[0]=ce,xt[0]+=8,Pt[0]-=8,me[0]=Ke}else me[0]=5<=Pt[0]&&ce[se+0]==47&&!(ce[se+4]>>5),Gt[0]=Pt[0];xt=0}if(S=S[0],yt.Ja=yt.Ja[0],yt.xa=yt.xa[0],y=y[0],xt!=0)break;if(4294967286<yt.Ja)return 3;if($==null||Mt||($[0]=yt.xa?2:1),H=[H],Et=[Et],yt.xa){if(5>S){xt=7;break}$=H,nt=Et,Mt=B,p==null||5>S?p=0:5<=S&&p[y+0]==47&&!(p[y+4]>>5)?(Pt=[0],ce=[0],Qt=[0],Nt(Gt=new Y,p,y,S),Bi(Gt,Pt,ce,Qt)?($!=null&&($[0]=Pt[0]),nt!=null&&(nt[0]=ce[0]),Mt!=null&&(Mt[0]=Qt[0]),p=1):p=0):p=0}else{if(10>S){xt=7;break}$=Et,p==null||10>S||!ra(p,y+3,S-3)?p=0:(nt=p[y+0]|p[y+1]<<8|p[y+2]<<16,Mt=16383&(p[y+7]<<8|p[y+6]),p=16383&(p[y+9]<<8|p[y+8]),1&nt||3<(nt>>1&7)||!(nt>>4&1)||nt>>5>=yt.Ja||!Mt||!p?p=0:(H&&(H[0]=Mt),$&&($[0]=p),p=1))}if(!p||(H=H[0],Et=Et[0],It&&(it[0]!=H||mt[0]!=Et)))return 3;Q!=null&&(Q[0]=yt,Q.offset=y-Q.w,t(4294967286>y-Q.w),t(Q.offset==Q.ha-S));break}return xt==0||xt==7&&It&&Q==null?(B!=null&&(B[0]|=yt.na!=null&&0<yt.na.length),N!=null&&(N[0]=H),j!=null&&(j[0]=Et),0):xt}function Xa(p,y,S){var N=y.width,j=y.height,B=0,H=0,$=N,Q=j;if(y.Da=p!=null&&0<p.Da,y.Da&&($=p.cd,Q=p.bd,B=p.v,H=p.j,11>S||(B&=-2,H&=-2),0>B||0>H||0>=$||0>=Q||B+$>N||H+Q>j))return 0;if(y.v=B,y.j=H,y.va=B+$,y.o=H+Q,y.U=$,y.T=Q,y.da=p!=null&&0<p.da,y.da){if(!Ae($,Q,S=[p.ib],B=[p.hb]))return 0;y.ib=S[0],y.hb=B[0]}return y.ob=p!=null&&p.ob,y.Kb=p==null||!p.Sd,y.da&&(y.ob=y.ib<3*N/4&&y.hb<3*j/4,y.Kb=0),1}function Hu(p){if(p==null)return 2;if(11>p.S){var y=p.f.RGBA;y.fb+=(p.height-1)*y.A,y.A=-y.A}else y=p.f.kb,p=p.height,y.O+=(p-1)*y.fa,y.fa=-y.fa,y.N+=(p-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(p-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(p-1)*y.lb,y.lb=-y.lb);return 0}function ua(p,y,S,N){if(N==null||0>=p||0>=y)return 2;if(S!=null){if(S.Da){var j=S.cd,B=S.bd,H=-2&S.v,$=-2&S.j;if(0>H||0>$||0>=j||0>=B||H+j>p||$+B>y)return 2;p=j,y=B}if(S.da){if(!Ae(p,y,j=[S.ib],B=[S.hb]))return 2;p=j[0],y=B[0]}}N.width=p,N.height=y;t:{var Q=N.width,it=N.height;if(p=N.S,0>=Q||0>=it||!(p>=kc&&13>p))p=2;else{if(0>=N.Rd&&N.sd==null){H=B=j=y=0;var mt=($=Q*Bc[p])*it;if(11>p||(B=(it+1)/2*(y=(Q+1)/2),p==12&&(H=(j=Q)*it)),(it=o(mt+2*B+H))==null){p=1;break t}N.sd=it,11>p?((Q=N.f.RGBA).eb=it,Q.fb=0,Q.A=$,Q.size=mt):((Q=N.f.kb).y=it,Q.O=0,Q.fa=$,Q.Fd=mt,Q.f=it,Q.N=0+mt,Q.Ab=y,Q.Cd=B,Q.ea=it,Q.W=0+mt+B,Q.Db=y,Q.Ed=B,p==12&&(Q.F=it,Q.J=0+mt+2*B),Q.Tc=H,Q.lb=j)}if(y=1,j=N.S,B=N.width,H=N.height,j>=kc&&13>j)if(11>j)p=N.f.RGBA,y&=($=Math.abs(p.A))*(H-1)+B<=p.size,y&=$>=B*Bc[j],y&=p.eb!=null;else{p=N.f.kb,$=(B+1)/2,mt=(H+1)/2,Q=Math.abs(p.fa),it=Math.abs(p.Ab);var It=Math.abs(p.Db),nt=Math.abs(p.lb),yt=nt*(H-1)+B;y&=Q*(H-1)+B<=p.Fd,y&=it*(mt-1)+$<=p.Cd,y=(y&=It*(mt-1)+$<=p.Ed)&Q>=B&it>=$&It>=$,y&=p.y!=null,y&=p.f!=null,y&=p.ea!=null,j==12&&(y&=nt>=B,y&=yt<=p.Tc,y&=p.F!=null)}else y=0;p=y?0:2}}return p!=0||S!=null&&S.fd&&(p=Hu(N)),p}var Ro=64,us=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xi=24,Ia=32,Ca=8,Qa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ee("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(p){return p},D.Predictor2=function(p,y,S){return y[S+0]},D.Predictor3=function(p,y,S){return y[S+1]},D.Predictor4=function(p,y,S){return y[S-1]},D.Predictor5=function(p,y,S){return he(he(p,y[S+1]),y[S+0])},D.Predictor6=function(p,y,S){return he(p,y[S-1])},D.Predictor7=function(p,y,S){return he(p,y[S+0])},D.Predictor8=function(p,y,S){return he(y[S-1],y[S+0])},D.Predictor9=function(p,y,S){return he(y[S+0],y[S+1])},D.Predictor10=function(p,y,S){return he(he(p,y[S-1]),he(y[S+0],y[S+1]))},D.Predictor11=function(p,y,S){var N=y[S+0];return 0>=Be(N>>24&255,p>>24&255,(y=y[S-1])>>24&255)+Be(N>>16&255,p>>16&255,y>>16&255)+Be(N>>8&255,p>>8&255,y>>8&255)+Be(255&N,255&p,255&y)?N:p},D.Predictor12=function(p,y,S){var N=y[S+0];return(Ge((p>>24&255)+(N>>24&255)-((y=y[S-1])>>24&255))<<24|Ge((p>>16&255)+(N>>16&255)-(y>>16&255))<<16|Ge((p>>8&255)+(N>>8&255)-(y>>8&255))<<8|Ge((255&p)+(255&N)-(255&y)))>>>0},D.Predictor13=function(p,y,S){var N=y[S-1];return(Ze((p=he(p,y[S+0]))>>24&255,N>>24&255)<<24|Ze(p>>16&255,N>>16&255)<<16|Ze(p>>8&255,N>>8&255)<<8|Ze(255&p,255&N))>>>0};var Bl=D.PredictorAdd0;D.PredictorAdd1=an,ee("Predictor2","PredictorAdd2"),ee("Predictor3","PredictorAdd3"),ee("Predictor4","PredictorAdd4"),ee("Predictor5","PredictorAdd5"),ee("Predictor6","PredictorAdd6"),ee("Predictor7","PredictorAdd7"),ee("Predictor8","PredictorAdd8"),ee("Predictor9","PredictorAdd9"),ee("Predictor10","PredictorAdd10"),ee("Predictor11","PredictorAdd11"),ee("Predictor12","PredictorAdd12"),ee("Predictor13","PredictorAdd13");var ql=D.PredictorAdd2;ve("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ir,Cc=D.ColorIndexInverseTransform,Ra=D.MapARGB,La=D.VP8LColorIndexInverseTransformAlpha,vi=D.MapAlpha,Ja=D.VP8LPredictorsAdd=[];Ja.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var zl,Hl,Za,to,ka,cl,Ns,eo,Di,js,Rn,Sn,tr,Cr,Da,ca,hl,Gu,Yh,bd,_d,wd,Kh,Wh,fl,Us,Yu,Is,dl=o(511),Rc=o(2041),Ku=o(225),Wu=o(767),Lc=0,no=Rc,$u=Ku,Oi=Wu,bi=dl,kc=0,Pi=1,Dc=2,Vs=3,Xu=4,Gl=5,Lo=6,Qu=7,Oc=8,Yl=9,Pc=10,Fs=[2,3,7],Kl=[3,3,11],pl=[280,256,256,256,40],Mc=[0,1,1,1,0],Ju=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Bs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ko=8,zs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Hs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Cs=null,Ad=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$h=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_i=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ar=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qi=[],wr=[],ha=[],Do=1,Xh=2,ro=[],wi=[];Jt("UpsampleRgbLinePair",gi,3),Jt("UpsampleBgrLinePair",Gn,3),Jt("UpsampleRgbaLinePair",$i,4),Jt("UpsampleBgraLinePair",Na,4),Jt("UpsampleArgbLinePair",Ta,4),Jt("UpsampleRgba4444LinePair",xs,2),Jt("UpsampleRgb565LinePair",yi,2);var ml=D.UpsampleRgbLinePair,Qh=D.UpsampleBgrLinePair,Wl=D.UpsampleRgbaLinePair,Uc=D.UpsampleBgraLinePair,Oo=D.UpsampleArgbLinePair,Oa=D.UpsampleRgba4444LinePair,Po=D.UpsampleRgb565LinePair,Gs=16,$l=1<<Gs-1,gl=-227,Mo=482,Vc=6,jo=0,Ai=o(256),Fc=o(256),Ed=o(256),Bm=o(256),qm=o(Mo-gl),zm=o(Mo-gl);$a("YuvToRgbRow",gi,3),$a("YuvToBgrRow",Gn,3),$a("YuvToRgbaRow",$i,4),$a("YuvToBgraRow",Na,4),$a("YuvToArgbRow",Ta,4),$a("YuvToRgba4444Row",xs,2),$a("YuvToRgb565Row",yi,2);var Rr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xl=[0,2,8],Zu=[8,7,6,4,4,2,2,2,1,1,1,1],tc=1;this.WebPDecodeRGBA=function(p,y,S,N,j){var B=Pi,H=new Ut,$=new Se;H.ba=$,$.S=B,$.width=[$.width],$.height=[$.height];var Q=$.width,it=$.height,mt=new be;if(mt==null||p==null)var It=2;else t(mt!=null),It=la(p,y,S,mt.width,mt.height,mt.Pd,mt.Qd,mt.format,null);if(It!=0?Q=0:(Q!=null&&(Q[0]=mt.width[0]),it!=null&&(it[0]=mt.height[0]),Q=1),Q){$.width=$.width[0],$.height=$.height[0],N!=null&&(N[0]=$.width),j!=null&&(j[0]=$.height);t:{if(N=new ni,(j=new Kt).data=p,j.w=y,j.ha=S,j.kd=1,y=[0],t(j!=null),((p=la(j.data,j.w,j.ha,null,null,null,y,null,j))==0||p==7)&&y[0]&&(p=4),(y=p)==0){if(t(H!=null),N.data=j.data,N.w=j.w+j.offset,N.ha=j.ha-j.offset,N.put=Te,N.ac=Gr,N.bc=ea,N.ma=H,j.xa){if((p=_a())==null){H=1;break t}if((function(nt,yt){var Et=[0],Mt=[0],xt=[0];e:for(;;){if(nt==null)return 0;if(yt==null)return nt.a=2,0;if(nt.l=yt,nt.a=0,Nt(nt.m,yt.data,yt.w,yt.ha),!Bi(nt.m,Et,Mt,xt)){nt.a=3;break e}if(nt.xb=Xh,yt.width=Et[0],yt.height=Mt[0],!_s(Et[0],Mt[0],1,nt,null))break e;return 1}return t(nt.a!=0),0})(p,N)){if(N=(y=ua(N.width,N.height,H.Oa,H.ba))==0){e:{N=p;n:for(;;){if(N==null){N=0;break e}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((S=N.l)!=null),t((j=S.ma)!=null),N.xb!=0){if(N.ca=j.ba,N.tb=j.tb,t(N.ca!=null),!Xa(j.Oa,S,Vs)){N.a=2;break n}if(!Ci(N,S.width)||S.da)break n;if((S.da||Pe(N.ca.S))&&kt(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&kt()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!et(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Ii(N,N.V,N.Ba,N.c,N.i,S.o,ei))break n;j.Dc=N.Ma,N=1;break e}t(N.a!=0),N=0}N=!N}N&&(y=p.a)}else y=p.a}else{if((p=new br)==null){H=1;break t}if(p.Fa=j.na,p.P=j.P,p.qc=j.Sa,os(p,N)){if((y=ua(N.width,N.height,H.Oa,H.ba))==0){if(p.Aa=0,S=H.Oa,t((j=p)!=null),S!=null){if(0<(Q=0>(Q=S.Md)?0:100<Q?255:255*Q/100)){for(it=mt=0;4>it;++it)12>(It=j.pb[it]).lc&&(It.ia=Q*Zu[0>It.lc?0:It.lc]>>3),mt|=It.ia;mt&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=S.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(nt,yt){if(nt==null)return 0;if(yt==null)return hn(nt,2,"NULL VP8Io parameter in VP8Decode().");if(!nt.cb&&!os(nt,yt))return 0;if(t(nt.cb),yt.ac==null||yt.ac(yt)){yt.ob&&(nt.L=0);var Et=Xl[nt.L];if(nt.L==2?(nt.yb=0,nt.zb=0):(nt.yb=yt.v-Et>>4,nt.zb=yt.j-Et>>4,0>nt.yb&&(nt.yb=0),0>nt.zb&&(nt.zb=0)),nt.Va=yt.o+15+Et>>4,nt.Hb=yt.va+15+Et>>4,nt.Hb>nt.za&&(nt.Hb=nt.za),nt.Va>nt.Ub&&(nt.Va=nt.Ub),0<nt.L){var Mt=nt.ed;for(Et=0;4>Et;++Et){var xt;if(nt.Qa.Cb){var Pt=nt.Qa.Lb[Et];nt.Qa.Fb||(Pt+=Mt.Tb)}else Pt=Mt.Tb;for(xt=0;1>=xt;++xt){var Bt=nt.gd[Et][xt],Qt=Pt;if(Mt.Pc&&(Qt+=Mt.vd[0],xt&&(Qt+=Mt.od[0])),0<(Qt=0>Qt?0:63<Qt?63:Qt)){var Gt=Qt;0<Mt.wb&&(Gt=4<Mt.wb?Gt>>2:Gt>>1)>9-Mt.wb&&(Gt=9-Mt.wb),1>Gt&&(Gt=1),Bt.dd=Gt,Bt.tc=2*Qt+Gt,Bt.ld=40<=Qt?2:15<=Qt?1:0}else Bt.tc=0;Bt.La=xt}}}Et=0}else hn(nt,6,"Frame setup failed"),Et=nt.a;if(Et=Et==0){if(Et){nt.$c=0,0<nt.Aa||(nt.Ic=tc);e:{Et=nt.Ic,Mt=4*(Gt=nt.za);var me=32*Gt,se=Gt+1,Ke=0<nt.L?Gt*(0<nt.Aa?2:1):0,ce=(nt.Aa==2?2:1)*Gt;if((Bt=Mt+832+(xt=3*(16*Et+Xl[nt.L])/2*me)+(Pt=nt.Fa!=null&&0<nt.Fa.length?nt.Kc.c*nt.Kc.i:0))!=Bt)Et=0;else{if(Bt>nt.Vb){if(nt.Vb=0,nt.Ec=o(Bt),nt.Fc=0,nt.Ec==null){Et=hn(nt,1,"no memory during frame initialization.");break e}nt.Vb=Bt}Bt=nt.Ec,Qt=nt.Fc,nt.Ac=Bt,nt.Bc=Qt,Qt+=Mt,nt.Gd=c(me,Eo),nt.Hd=0,nt.rb=c(se+1,as),nt.sb=1,nt.wa=Ke?c(Ke,Ri):null,nt.Y=0,nt.D.Nb=0,nt.D.wa=nt.wa,nt.D.Y=nt.Y,0<nt.Aa&&(nt.D.Y+=Gt),t(!0),nt.oc=Bt,nt.pc=Qt,Qt+=832,nt.ya=c(ce,za),nt.aa=0,nt.D.ya=nt.ya,nt.D.aa=nt.aa,nt.Aa==2&&(nt.D.aa+=Gt),nt.R=16*Gt,nt.B=8*Gt,Gt=(me=Xl[nt.L])*nt.R,me=me/2*nt.B,nt.sa=Bt,nt.ta=Qt+Gt,nt.qa=nt.sa,nt.ra=nt.ta+16*Et*nt.R+me,nt.Ha=nt.qa,nt.Ia=nt.ra+8*Et*nt.B+me,nt.$c=0,Qt+=xt,nt.mb=Pt?Bt:null,nt.nb=Pt?Qt:null,t(Qt+Pt<=nt.Fc+nt.Vb),wa(nt),a(nt.Ac,nt.Bc,0,Mt),Et=1}}if(Et){if(yt.ka=0,yt.y=nt.sa,yt.O=nt.ta,yt.f=nt.qa,yt.N=nt.ra,yt.ea=nt.Ha,yt.Vd=nt.Ia,yt.fa=nt.R,yt.Rc=nt.B,yt.F=null,yt.J=0,!Lc){for(Et=-255;255>=Et;++Et)dl[255+Et]=0>Et?-Et:Et;for(Et=-1020;1020>=Et;++Et)Rc[1020+Et]=-128>Et?-128:127<Et?127:Et;for(Et=-112;112>=Et;++Et)Ku[112+Et]=-16>Et?-16:15<Et?15:Et;for(Et=-255;510>=Et;++Et)Wu[255+Et]=0>Et?0:255<Et?255:Et;Lc=1}Ns=Yr,eo=il,js=mi,Rn=sl,Sn=ia,Di=Vl,tr=ul,Cr=Es,Da=M,ca=rt,hl=Co,Gu=_,Yh=ht,bd=bt,_d=Ps,wd=ls,Kh=Wa,Wh=Io,wr[0]=Ea,wr[1]=al,wr[2]=Ga,wr[3]=No,wr[4]=Kr,wr[5]=Ya,wr[6]=Mr,wr[7]=On,wr[8]=Ka,wr[9]=Gi,Qi[0]=As,Qi[1]=xo,Qi[2]=To,Qi[3]=sa,Qi[4]=aa,Qi[5]=ki,Qi[6]=Sa,ha[0]=oa,ha[1]=ol,ha[2]=Ss,ha[3]=ll,ha[4]=Nr,ha[5]=Ki,ha[6]=ks,Et=1}else Et=0}Et&&(Et=(function(dn,or){for(dn.M=0;dn.M<dn.Va;++dn.M){var tn,ae=dn.Jc[dn.M&dn.Xb],ne=dn.m,pr=dn;for(tn=0;tn<pr.za;++tn){var Ue=ne,sn=pr,Un=sn.Ac,Wr=sn.Bc+4*tn,Si=sn.zc,er=sn.ya[sn.aa+tn];if(sn.Qa.Bb?er.$b=jt(Ue,sn.Pa.jb[0])?2+jt(Ue,sn.Pa.jb[2]):jt(Ue,sn.Pa.jb[1]):er.$b=0,sn.kc&&(er.Ad=jt(Ue,sn.Bd)),er.Za=!jt(Ue,145)+0,er.Za){var jr=er.Ob,Mi=0;for(sn=0;4>sn;++sn){var Ur,cn=Si[0+sn];for(Ur=0;4>Ur;++Ur){cn=_i[Un[Wr+Ur]][cn];for(var xn=jc[jt(Ue,cn[0])];0<xn;)xn=jc[2*xn+jt(Ue,cn[xn])];cn=-xn,Un[Wr+Ur]=cn}i(jr,Mi,Un,Wr,4),Mi+=4,Si[0+sn]=cn}}else cn=jt(Ue,156)?jt(Ue,128)?1:3:jt(Ue,163)?2:0,er.Ob[0]=cn,a(Un,Wr,cn,4),a(Si,0,cn,4);er.Dd=jt(Ue,142)?jt(Ue,114)?jt(Ue,183)?1:3:2:0}if(pr.m.Ka)return hn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(pr=ae,Ue=(ne=dn).rb[ne.sb-1],Un=ne.rb[ne.sb+ne.ja],tn=ne.ya[ne.aa+ne.ja],Wr=ne.kc?tn.Ad:0)Ue.la=Un.la=0,tn.Za||(Ue.Na=Un.Na=0),tn.Hc=0,tn.Gc=0,tn.ia=0;else{var mr,Ln;if(Ue=Un,Un=pr,Wr=ne.Pa.Xc,Si=ne.ya[ne.aa+ne.ja],er=ne.pb[Si.$b],sn=Si.ad,jr=0,Mi=ne.rb[ne.sb-1],cn=Ur=0,a(sn,jr,0,384),Si.Za)var $r=0,gr=Wr[3];else{xn=o(16);var Tn=Ue.Na+Mi.Na;if(Tn=Cs(Un,Wr[1],Tn,er.Eb,0,xn,0),Ue.Na=Mi.Na=(0<Tn)+0,1<Tn)Ns(xn,0,sn,jr);else{var Lr=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)sn[jr+xn]=Lr}$r=1,gr=Wr[0]}var Vn=15&Ue.la,Vr=15&Mi.la;for(xn=0;4>xn;++xn){var Fr=1&Vr;for(Lr=Ln=0;4>Lr;++Lr)Vn=Vn>>1|(Fr=(Tn=Cs(Un,gr,Tn=Fr+(1&Vn),er.Sc,$r,sn,jr))>$r)<<7,Ln=Ln<<2|(3<Tn?3:1<Tn?2:sn[jr+0]!=0),jr+=16;Vn>>=4,Vr=Vr>>1|Fr<<7,Ur=(Ur<<8|Ln)>>>0}for(gr=Vn,$r=Vr>>4,mr=0;4>mr;mr+=2){for(Ln=0,Vn=Ue.la>>4+mr,Vr=Mi.la>>4+mr,xn=0;2>xn;++xn){for(Fr=1&Vr,Lr=0;2>Lr;++Lr)Tn=Fr+(1&Vn),Vn=Vn>>1|(Fr=0<(Tn=Cs(Un,Wr[2],Tn,er.Qc,0,sn,jr)))<<3,Ln=Ln<<2|(3<Tn?3:1<Tn?2:sn[jr+0]!=0),jr+=16;Vn>>=2,Vr=Vr>>1|Fr<<5}cn|=Ln<<4*mr,gr|=Vn<<4<<mr,$r|=(240&Vr)<<mr}Ue.la=gr,Mi.la=$r,Si.Hc=Ur,Si.Gc=cn,Si.ia=43690&cn?0:er.ia,Wr=!(Ur|cn)}if(0<ne.L&&(ne.wa[ne.Y+ne.ja]=ne.gd[tn.$b][tn.Za],ne.wa[ne.Y+ne.ja].La|=!Wr),pr.Ka)return hn(dn,7,"Premature end-of-file encountered.")}if(wa(dn),ne=or,pr=1,tn=(ae=dn).D,Ue=0<ae.L&&ae.M>=ae.zb&&ae.M<=ae.Va,ae.Aa==0)e:{if(tn.M=ae.M,tn.uc=Ue,Ts(ae,tn),pr=1,tn=(Ln=ae.D).Nb,Ue=(cn=Xl[ae.L])*ae.R,Un=cn/2*ae.B,xn=16*tn*ae.R,Lr=8*tn*ae.B,Wr=ae.sa,Si=ae.ta-Ue+xn,er=ae.qa,sn=ae.ra-Un+Lr,jr=ae.Ha,Mi=ae.Ia-Un+Lr,Vr=(Vn=Ln.M)==0,Ur=Vn>=ae.Va-1,ae.Aa==2&&Ts(ae,Ln),Ln.uc)for(Fr=(Tn=ae).D.M,t(Tn.D.uc),Ln=Tn.yb;Ln<Tn.Hb;++Ln){$r=Ln,gr=Fr;var Yn=(En=(Br=Tn).D).Nb;mr=Br.R;var En=En.wa[En.Y+$r],ji=Br.sa,Ar=Br.ta+16*Yn*mr+16*$r,Re=En.dd,ke=En.tc;if(ke!=0)if(t(3<=ke),Br.L==1)0<$r&&wd(ji,Ar,mr,ke+4),En.La&&Wh(ji,Ar,mr,ke),0<gr&&_d(ji,Ar,mr,ke+4),En.La&&Kh(ji,Ar,mr,ke);else{var Nn=Br.B,cs=Br.qa,Ys=Br.ra+8*Yn*Nn+8*$r,Ji=Br.Ha,Br=Br.Ia+8*Yn*Nn+8*$r;Yn=En.ld,0<$r&&(Cr(ji,Ar,mr,ke+4,Re,Yn),ca(cs,Ys,Ji,Br,Nn,ke+4,Re,Yn)),En.La&&(Gu(ji,Ar,mr,ke,Re,Yn),bd(cs,Ys,Ji,Br,Nn,ke,Re,Yn)),0<gr&&(tr(ji,Ar,mr,ke+4,Re,Yn),Da(cs,Ys,Ji,Br,Nn,ke+4,Re,Yn)),En.La&&(hl(ji,Ar,mr,ke,Re,Yn),Yh(cs,Ys,Ji,Br,Nn,ke,Re,Yn))}}if(ae.ia&&alert("todo:DitherRow"),ne.put!=null){if(Ln=16*Vn,Vn=16*(Vn+1),Vr?(ne.y=ae.sa,ne.O=ae.ta+xn,ne.f=ae.qa,ne.N=ae.ra+Lr,ne.ea=ae.Ha,ne.W=ae.Ia+Lr):(Ln-=cn,ne.y=Wr,ne.O=Si,ne.f=er,ne.N=sn,ne.ea=jr,ne.W=Mi),Ur||(Vn-=cn),Vn>ne.o&&(Vn=ne.o),ne.F=null,ne.J=null,ae.Fa!=null&&0<ae.Fa.length&&Ln<Vn&&(ne.J=m(ae,ne,Ln,Vn-Ln),ne.F=ae.mb,ne.F==null&&ne.F.length==0)){pr=hn(ae,3,"Could not decode alpha data.");break e}Ln<ne.j&&(cn=ne.j-Ln,Ln=ne.j,t(!(1&cn)),ne.O+=ae.R*cn,ne.N+=ae.B*(cn>>1),ne.W+=ae.B*(cn>>1),ne.F!=null&&(ne.J+=ne.width*cn)),Ln<Vn&&(ne.O+=ne.v,ne.N+=ne.v>>1,ne.W+=ne.v>>1,ne.F!=null&&(ne.J+=ne.v),ne.ka=Ln-ne.j,ne.U=ne.va-ne.v,ne.T=Vn-Ln,pr=ne.put(ne))}tn+1!=ae.Ic||Ur||(i(ae.sa,ae.ta-Ue,Wr,Si+16*ae.R,Ue),i(ae.qa,ae.ra-Un,er,sn+8*ae.B,Un),i(ae.Ha,ae.Ia-Un,jr,Mi+8*ae.B,Un))}if(!pr)return hn(dn,6,"Output aborted.")}return 1})(nt,yt)),yt.bc!=null&&yt.bc(yt),Et&=1}return Et?(nt.cb=0,Et):0})(p,N)||(y=p.a)}}else y=p.a}y==0&&H.Oa!=null&&H.Oa.fd&&(y=Hu(H.ba))}H=y}B=H!=0?null:11>B?$.f.RGBA.eb:$.f.kb.y}else B=null;return B};var Bc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,K){for(var x="",R=0;R<4;R++)x+=String.fromCharCode(D[K++]);return x}function v(D,K){return D[K+0]|D[K+1]<<8}function A(D,K){return(D[K+0]|D[K+1]<<8|D[K+2]<<16)>>>0}function T(D,K){return(D[K+0]|D[K+1]<<8|D[K+2]<<16|D[K+3]<<24)>>>0}new f;var w=[0],V=[0],z=[],F=new f,q=n,at=(function(D,K){var x={},R=0,k=!1,lt=0,_t=0;if(x.frames=[],!(function(C,Y){for(var Z=0;Z<4;Z++)if(C[Y+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(D,K)){for(T(D,K+=4),K+=8;K<D.length;){var st=d(D,K),pt=T(D,K+=4);K+=4;var dt=pt+(1&pt);switch(st){case"VP8 ":case"VP8L":x.frames[R]===void 0&&(x.frames[R]={}),(U=x.frames[R]).src_off=k?_t:K-8,U.src_size=lt+pt+8,R++,k&&(k=!1,lt=0,_t=0);break;case"VP8X":(U=x.header={}).feature_flags=D[K];var Nt=K+4;U.canvas_width=1+A(D,Nt),Nt+=3,U.canvas_height=1+A(D,Nt),Nt+=3;break;case"ALPH":k=!0,lt=dt+8,_t=K-8;break;case"ANIM":(U=x.header).bgcolor=T(D,K),Nt=K+4,U.loop_count=v(D,Nt),Nt+=2;break;case"ANMF":var qt,U;(U=x.frames[R]={}).offset_x=2*A(D,K),K+=3,U.offset_y=2*A(D,K),K+=3,U.width=1+A(D,K),K+=3,U.height=1+A(D,K),K+=3,U.duration=A(D,K),K+=3,qt=D[K++],U.dispose=1&qt,U.blend=qt>>1&1}st!="ANMF"&&(K+=dt)}return x}})(q,0);at.response=q,at.rgbaoutput=!0,at.dataurl=!1;var J=at.header?at.header:null,tt=at.frames?at.frames:null;if(J){J.loop_counter=J.loop_count,w=[J.canvas_height],V=[J.canvas_width];for(var vt=0;vt<tt.length&&tt[vt].blend!=0;vt++);}var St=tt[0],G=F.WebPDecodeRGBA(q,St.src_off,St.src_size,V,w);St.rgba=G,St.imgwidth=V[0],St.imgheight=w[0];for(var O=0;O<V[0]*w[0]*4;O++)z[O]=G[O];return this.width=V,this.height=w,this.data=z,this}(function(n){var t,e,i,a,o,c,h,f,d,v=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new f,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new c,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new c,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new v}]);var A=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=C;Object.defineProperty(this,"pdf",{get:function(){return Y}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(et){Z=!!et}});var ot=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ot},set:function(et){ot=!!et}});var ut=0;Object.defineProperty(this,"posX",{get:function(){return ut},set:function(et){isNaN(et)||(ut=et)}});var ft=0;Object.defineProperty(this,"posY",{get:function(){return ft},set:function(et){isNaN(et)||(ft=et)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(et){var Zt;typeof et=="number"?Zt=[et,et,et,et]:((Zt=new Array(4))[0]=et[0],Zt[1]=et.length>=2?et[1]:Zt[0],Zt[2]=et.length>=3?et[2]:Zt[0],Zt[3]=et.length>=4?et[3]:Zt[1]),d.margin=Zt}});var Tt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Tt},set:function(et){Tt=et}});var Ct=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ct},set:function(et){Ct=et}});var jt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return jt},set:function(et){jt=et}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(et){et instanceof v&&(d=et)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(et){d.path=et}});var Xt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xt},set:function(et){Xt=et}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(et){var Zt;Zt=T(et),this.ctx.fillStyle=Zt.style,this.ctx.isFillTransparent=Zt.a===0,this.ctx.fillOpacity=Zt.a,this.pdf.setFillColor(Zt.r,Zt.g,Zt.b,{a:Zt.a}),this.pdf.setTextColor(Zt.r,Zt.g,Zt.b,{a:Zt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(et){var Zt=T(et);this.ctx.strokeStyle=Zt.style,this.ctx.isStrokeTransparent=Zt.a===0,this.ctx.strokeOpacity=Zt.a,Zt.a===0?this.pdf.setDrawColor(255,255,255):(Zt.a,this.pdf.setDrawColor(Zt.r,Zt.g,Zt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(et){["butt","round","square"].indexOf(et)!==-1&&(this.ctx.lineCap=et,this.pdf.setLineCap(et))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(et){isNaN(et)||(this.ctx.lineWidth=et,this.pdf.setLineWidth(et))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(et){["bevel","round","miter"].indexOf(et)!==-1&&(this.ctx.lineJoin=et,this.pdf.setLineJoin(et))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(et){isNaN(et)||(this.ctx.miterLimit=et,this.pdf.setMiterLimit(et))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(et){this.ctx.textBaseline=et}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(et){["right","end","center","left","start"].indexOf(et)!==-1&&(this.ctx.textAlign=et)}});var te=null,$t=null,ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return ie},set:function(et){te=null,$t=null,ie=et}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(et){var Zt;if(this.ctx.font=et,(Zt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(et))!==null){var Ve=Zt[1];Zt[2];var Ae=Zt[3],Ft=Zt[4];Zt[5];var re=Zt[6],ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ft)[2];Ft=Math.floor(ee==="px"?parseFloat(Ft)*this.pdf.internal.scaleFactor:ee==="em"?parseFloat(Ft)*this.pdf.getFontSize():parseFloat(Ft)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ft);var we=(function(ve){var hr,Qe,Ie=[],je=ve.trim();if(je==="")return Ug;if(je in B_)return[B_[je]];for(;je!=="";){switch(Qe=null,hr=(je=z_(je)).charAt(0)){case'"':case"'":Qe=xk(je.substring(1),hr);break;default:Qe=Tk(je)}if(Qe===null||(Ie.push(Qe[0]),(je=z_(Qe[1]))!==""&&je.charAt(0)!==","))return Ug;je=je.replace(/^,/,"")}return Ie})(re);if(this.fontFaces){var he=(function(ve,hr){var Qe=ve.getFontList(),Ie=JSON.stringify(Qe);if(te===null||$t!==Ie){var je=(function($e){var xe=[];return Object.keys($e).forEach(function(Cn){$e[Cn].forEach(function(Pe){var Me=null;switch(Pe){case"bold":Me={family:Cn,weight:"bold"};break;case"italic":Me={family:Cn,style:"italic"};break;case"bolditalic":Me={family:Cn,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:Cn}}Me!==null&&(Me.ref={name:Cn,style:Pe},xe.push(Me))})}),xe})(Qe);te=(function($e){for(var xe={},Cn=0;Cn<$e.length;++Cn){var Pe=jg($e[Cn]),Me=Pe.family,kn=Pe.stretch,Se=Pe.style,be=Pe.weight;xe[Me]=xe[Me]||{},xe[Me][kn]=xe[Me][kn]||{},xe[Me][kn][Se]=xe[Me][kn][Se]||{},xe[Me][kn][Se][be]=Pe}return xe})(je.concat(hr)),$t=Ie}return te})(this.pdf,this.fontFaces),Ge=we.map(function(ve){return{family:ve,stretch:"normal",weight:Ae,style:Ve}}),Ze=(function(ve,hr,Qe){for(var Ie=(Qe=Qe||{}).defaultFontFamily||"times",je=Object.assign({},Ek,Qe.genericFontFamilies||{}),$e=null,xe=null,Cn=0;Cn<hr.length;++Cn)if(je[($e=jg(hr[Cn])).family]&&($e.family=je[$e.family]),ve.hasOwnProperty($e.family)){xe=ve[$e.family];break}if(!(xe=xe||ve[Ie]))throw new Error("Could not find a font-family for the rule '"+q_($e)+"' and default family '"+Ie+"'.");if(xe=(function(Pe,Me){if(Me[Pe])return Me[Pe];var kn=x0[Pe],Se=kn<=x0.normal?-1:1,be=F_(Me,jA,kn,Se);if(!be)throw new Error("Could not find a matching font-stretch value for "+Pe);return be})($e.stretch,xe),xe=(function(Pe,Me){if(Me[Pe])return Me[Pe];for(var kn=MA[Pe],Se=0;Se<kn.length;++Se)if(Me[kn[Se]])return Me[kn[Se]];throw new Error("Could not find a matching font-style for "+Pe)})($e.style,xe),!(xe=(function(Pe,Me){if(Me[Pe])return Me[Pe];if(Pe===400&&Me[500])return Me[500];if(Pe===500&&Me[400])return Me[400];var kn=Sk[Pe],Se=F_(Me,UA,kn,Pe<400?-1:1);if(!Se)throw new Error("Could not find a matching font-weight for value "+Pe);return Se})($e.weight,xe)))throw new Error("Failed to resolve a font for the rule '"+q_($e)+"'.");return xe})(he,Ge);this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var Be="";(Ae==="bold"||parseInt(Ae,10)>=700||Ve==="bold")&&(Be="bold"),Ve==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var an="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ye=0;ye<we.length;ye++){if(this.pdf.internal.getFont(we[ye],Be,{noFallback:!0,disableWarning:!0})!==void 0){an=we[ye];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(we[ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)an=we[ye],Be="bold";else if(this.pdf.internal.getFont(we[ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){an=we[ye],Be="normal";break}}if(an===""){for(var Ye=0;Ye<we.length;Ye++)if(Xe[we[Ye]]){an=Xe[we[Ye]];break}}an=an===""?"Times":an,this.pdf.setFont(an,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(et){this.ctx.globalCompositeOperation=et}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(et){this.ctx.globalAlpha=et}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(et){this.ctx.lineDashOffset=et,U.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(et){this.ctx.lineDash=et,U.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(et){this.ctx.ignoreClearRect=!!et}})};A.prototype.setLineDash=function(C){this.lineDash=C},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){tt.call(this,"fill",!1)},A.prototype.stroke=function(){tt.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(C,Y){if(isNaN(C)||isNaN(Y))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new c(C,Y));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(C,Y)},A.prototype.closePath=function(){var C=new c(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Xn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){C=new c(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(C.x,C.y)},A.prototype.lineTo=function(C,Y){if(isNaN(C)||isNaN(Y))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new c(C,Y));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(Z.x,Z.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),tt.call(this,null,!0)},A.prototype.quadraticCurveTo=function(C,Y,Z,ot){if(isNaN(Z)||isNaN(ot)||isNaN(C)||isNaN(Y))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ut=this.ctx.transform.applyToPoint(new c(Z,ot)),ft=this.ctx.transform.applyToPoint(new c(C,Y));this.path.push({type:"qct",x1:ft.x,y1:ft.y,x:ut.x,y:ut.y}),this.ctx.lastPoint=new c(ut.x,ut.y)},A.prototype.bezierCurveTo=function(C,Y,Z,ot,ut,ft){if(isNaN(ut)||isNaN(ft)||isNaN(C)||isNaN(Y)||isNaN(Z)||isNaN(ot))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Tt=this.ctx.transform.applyToPoint(new c(ut,ft)),Ct=this.ctx.transform.applyToPoint(new c(C,Y)),jt=this.ctx.transform.applyToPoint(new c(Z,ot));this.path.push({type:"bct",x1:Ct.x,y1:Ct.y,x2:jt.x,y2:jt.y,x:Tt.x,y:Tt.y}),this.ctx.lastPoint=new c(Tt.x,Tt.y)},A.prototype.arc=function(C,Y,Z,ot,ut,ft){if(isNaN(C)||isNaN(Y)||isNaN(Z)||isNaN(ot)||isNaN(ut))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ft=!!ft,!this.ctx.transform.isIdentity){var Tt=this.ctx.transform.applyToPoint(new c(C,Y));C=Tt.x,Y=Tt.y;var Ct=this.ctx.transform.applyToPoint(new c(0,Z)),jt=this.ctx.transform.applyToPoint(new c(0,0));Z=Math.sqrt(Math.pow(Ct.x-jt.x,2)+Math.pow(Ct.y-jt.y,2))}Math.abs(ut-ot)>=2*Math.PI&&(ot=0,ut=2*Math.PI),this.path.push({type:"arc",x:C,y:Y,radius:Z,startAngle:ot,endAngle:ut,counterclockwise:ft})},A.prototype.arcTo=function(C,Y,Z,ot,ut){throw new Error("arcTo not implemented.")},A.prototype.rect=function(C,Y,Z,ot){if(isNaN(C)||isNaN(Y)||isNaN(Z)||isNaN(ot))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,Y),this.lineTo(C+Z,Y),this.lineTo(C+Z,Y+ot),this.lineTo(C,Y+ot),this.lineTo(C,Y),this.lineTo(C+Z,Y),this.lineTo(C,Y)},A.prototype.fillRect=function(C,Y,Z,ot){if(isNaN(C)||isNaN(Y)||isNaN(Z)||isNaN(ot))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ut={};this.lineCap!=="butt"&&(ut.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ut.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,Y,Z,ot),this.fill(),ut.hasOwnProperty("lineCap")&&(this.lineCap=ut.lineCap),ut.hasOwnProperty("lineJoin")&&(this.lineJoin=ut.lineJoin)}},A.prototype.strokeRect=function(C,Y,Z,ot){if(isNaN(C)||isNaN(Y)||isNaN(Z)||isNaN(ot))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");V.call(this)||(this.beginPath(),this.rect(C,Y,Z,ot),this.stroke())},A.prototype.clearRect=function(C,Y,Z,ot){if(isNaN(C)||isNaN(Y)||isNaN(Z)||isNaN(ot))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,Y,Z,ot))},A.prototype.save=function(C){C=typeof C!="boolean"||C;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var ot=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ot}},A.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var T=function(C){var Y,Z,ot,ut;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))Y=0,Z=0,ot=0,ut=0;else{var ft=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ft!==null)Y=parseInt(ft[1]),Z=parseInt(ft[2]),ot=parseInt(ft[3]),ut=1;else if((ft=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)Y=parseInt(ft[1]),Z=parseInt(ft[2]),ot=parseInt(ft[3]),ut=parseFloat(ft[4]);else{if(ut=1,typeof C=="string"&&C.charAt(0)!=="#"){var Tt=new CA(C);C=Tt.ok?Tt.toHex():"#000000"}C.length===4?(Y=C.substring(1,2),Y+=Y,Z=C.substring(2,3),Z+=Z,ot=C.substring(3,4),ot+=ot):(Y=C.substring(1,3),Z=C.substring(3,5),ot=C.substring(5,7)),Y=parseInt(Y,16),Z=parseInt(Z,16),ot=parseInt(ot,16)}}return{r:Y,g:Z,b:ot,a:ut,style:C}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},V=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(C,Y,Z,ot){if(isNaN(Y)||isNaN(Z)||typeof C!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ot=isNaN(ot)?void 0:ot,!w.call(this)){var ut=dt(this.ctx.transform.rotation),ft=this.ctx.transform.scaleX;R.call(this,{text:C,x:Y,y:Z,scale:ft,angle:ut,align:this.textAlign,maxWidth:ot})}},A.prototype.strokeText=function(C,Y,Z,ot){if(isNaN(Y)||isNaN(Z)||typeof C!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!V.call(this)){ot=isNaN(ot)?void 0:ot;var ut=dt(this.ctx.transform.rotation),ft=this.ctx.transform.scaleX;R.call(this,{text:C,x:Y,y:Z,scale:ft,renderingMode:"stroke",angle:ut,align:this.textAlign,maxWidth:ot})}},A.prototype.measureText=function(C){if(typeof C!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,Z=this.pdf.internal.scaleFactor,ot=Y.internal.getFontSize(),ut=Y.getStringUnitWidth(C)*ot/Y.internal.scaleFactor;return new function(ft){var Tt=(ft=ft||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Tt}}),this}({width:ut*=Math.round(96*Z/72*1e4)/1e4})},A.prototype.scale=function(C,Y){if(isNaN(C)||isNaN(Y))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new f(C,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.rotate=function(C){if(isNaN(C))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new f(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.translate=function(C,Y){if(isNaN(C)||isNaN(Y))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new f(1,0,0,1,C,Y);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.transform=function(C,Y,Z,ot,ut,ft){if(isNaN(C)||isNaN(Y)||isNaN(Z)||isNaN(ot)||isNaN(ut)||isNaN(ft))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Tt=new f(C,Y,Z,ot,ut,ft);this.ctx.transform=this.ctx.transform.multiply(Tt)},A.prototype.setTransform=function(C,Y,Z,ot,ut,ft){C=isNaN(C)?1:C,Y=isNaN(Y)?0:Y,Z=isNaN(Z)?0:Z,ot=isNaN(ot)?1:ot,ut=isNaN(ut)?0:ut,ft=isNaN(ft)?0:ft,this.ctx.transform=new f(C,Y,Z,ot,ut,ft)};var z=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(C,Y,Z,ot,ut,ft,Tt,Ct,jt){var Xt=this.pdf.getImageProperties(C),te=1,$t=1,ie=1,et=1;ot!==void 0&&Ct!==void 0&&(ie=Ct/ot,et=jt/ut,te=Xt.width/ot*Ct/ot,$t=Xt.height/ut*jt/ut),ft===void 0&&(ft=Y,Tt=Z,Y=0,Z=0),ot!==void 0&&Ct===void 0&&(Ct=ot,jt=ut),ot===void 0&&Ct===void 0&&(Ct=Xt.width,jt=Xt.height);var Zt=this.ctx.transform.decompose(),Ve=dt(Zt.rotate.shx),Ae=new f,Ft=(Ae=(Ae=(Ae=Ae.multiply(Zt.translate)).multiply(Zt.skew)).multiply(Zt.scale)).applyToRectangle(new h(ft-Y*ie,Tt-Z*et,ot*te,ut*$t));if(this.autoPaging){for(var re,ee=F.call(this,Ft),we=[],he=0;he<ee.length;he+=1)we.indexOf(ee[he])===-1&&we.push(ee[he]);J(we);for(var Ge=we[0],Ze=we[we.length-1],Be=Ge;Be<Ze+1;Be++){this.pdf.setPage(Be);var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=Be===1?this.posY+this.margin[0]:this.margin[0],ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ve=Be===1?0:ye+(Be-2)*Ye;if(this.ctx.clip_path.length!==0){var hr=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=at(re,this.posX+this.margin[3],-ve+Xe+this.ctx.prevPageLastElemOffset),vt.call(this,"fill",!0),this.path=hr}var Qe=JSON.parse(JSON.stringify(Ft));Qe=at([Qe],this.posX+this.margin[3],-ve+Xe+this.ctx.prevPageLastElemOffset)[0];var Ie=(Be>Ge||Be<Ze)&&z.call(this);Ie&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,Ye,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,Ve),Ie&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Ve)};var F=function(C,Y,Z){var ot=[];Y=Y||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ut=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":ot.push(Math.floor((C.y+ut)/Z)+1);break;case"arc":ot.push(Math.floor((C.y+ut-C.radius)/Z)+1),ot.push(Math.floor((C.y+ut+C.radius)/Z)+1);break;case"qct":var ft=Nt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);ot.push(Math.floor((ft.y+ut)/Z)+1),ot.push(Math.floor((ft.y+ft.h+ut)/Z)+1);break;case"bct":var Tt=qt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);ot.push(Math.floor((Tt.y+ut)/Z)+1),ot.push(Math.floor((Tt.y+Tt.h+ut)/Z)+1);break;case"rect":ot.push(Math.floor((C.y+ut)/Z)+1),ot.push(Math.floor((C.y+C.h+ut)/Z)+1)}for(var Ct=0;Ct<ot.length;Ct+=1)for(;this.pdf.internal.getNumberOfPages()<ot[Ct];)q.call(this);return ot},q=function(){var C=this.fillStyle,Y=this.strokeStyle,Z=this.font,ot=this.lineCap,ut=this.lineWidth,ft=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=Y,this.font=Z,this.lineCap=ot,this.lineWidth=ut,this.lineJoin=ft},at=function(C,Y,Z){for(var ot=0;ot<C.length;ot++)switch(C[ot].type){case"bct":C[ot].x2+=Y,C[ot].y2+=Z;case"qct":C[ot].x1+=Y,C[ot].y1+=Z;default:C[ot].x+=Y,C[ot].y+=Z}return C},J=function(C){return C.sort(function(Y,Z){return Y-Z})},tt=function(C,Y){var Z=this.fillStyle,ot=this.strokeStyle,ut=this.lineCap,ft=this.lineWidth,Tt=Math.abs(ft*this.ctx.transform.scaleX),Ct=this.lineJoin;if(this.autoPaging){for(var jt,Xt,te=JSON.parse(JSON.stringify(this.path)),$t=JSON.parse(JSON.stringify(this.path)),ie=[],et=0;et<$t.length;et++)if($t[et].x!==void 0)for(var Zt=F.call(this,$t[et]),Ve=0;Ve<Zt.length;Ve+=1)ie.indexOf(Zt[Ve])===-1&&ie.push(Zt[Ve]);for(var Ae=0;Ae<ie.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<ie[Ae];)q.call(this);J(ie);for(var Ft=ie[0],re=ie[ie.length-1],ee=Ft;ee<re+1;ee++){this.pdf.setPage(ee),this.fillStyle=Z,this.strokeStyle=ot,this.lineCap=ut,this.lineWidth=Tt,this.lineJoin=Ct;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],he=ee===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=ee===1?0:Ge+(ee-2)*Ze;if(this.ctx.clip_path.length!==0){var an=this.path;jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=at(jt,this.posX+this.margin[3],-Be+he+this.ctx.prevPageLastElemOffset),vt.call(this,C,!0),this.path=an}if(Xt=JSON.parse(JSON.stringify(te)),this.path=at(Xt,this.posX+this.margin[3],-Be+he+this.ctx.prevPageLastElemOffset),Y===!1||ee===0){var Xe=(ee>Ft||ee<re)&&z.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Ze,null).clip().discardPath()),vt.call(this,C,Y),Xe&&this.pdf.restoreGraphicsState()}this.lineWidth=ft}this.path=te}else this.lineWidth=Tt,vt.call(this,C,Y),this.lineWidth=ft},vt=function(C,Y){if((C!=="stroke"||Y||!V.call(this))&&(C==="stroke"||Y||!w.call(this))){for(var Z,ot,ut=[],ft=this.path,Tt=0;Tt<ft.length;Tt++){var Ct=ft[Tt];switch(Ct.type){case"begin":ut.push({begin:!0});break;case"close":ut.push({close:!0});break;case"mt":ut.push({start:Ct,deltas:[],abs:[]});break;case"lt":var jt=ut.length;if(ft[Tt-1]&&!isNaN(ft[Tt-1].x)&&(Z=[Ct.x-ft[Tt-1].x,Ct.y-ft[Tt-1].y],jt>0)){for(;jt>=0;jt--)if(ut[jt-1].close!==!0&&ut[jt-1].begin!==!0){ut[jt-1].deltas.push(Z),ut[jt-1].abs.push(Ct);break}}break;case"bct":Z=[Ct.x1-ft[Tt-1].x,Ct.y1-ft[Tt-1].y,Ct.x2-ft[Tt-1].x,Ct.y2-ft[Tt-1].y,Ct.x-ft[Tt-1].x,Ct.y-ft[Tt-1].y],ut[ut.length-1].deltas.push(Z);break;case"qct":var Xt=ft[Tt-1].x+2/3*(Ct.x1-ft[Tt-1].x),te=ft[Tt-1].y+2/3*(Ct.y1-ft[Tt-1].y),$t=Ct.x+2/3*(Ct.x1-Ct.x),ie=Ct.y+2/3*(Ct.y1-Ct.y),et=Ct.x,Zt=Ct.y;Z=[Xt-ft[Tt-1].x,te-ft[Tt-1].y,$t-ft[Tt-1].x,ie-ft[Tt-1].y,et-ft[Tt-1].x,Zt-ft[Tt-1].y],ut[ut.length-1].deltas.push(Z);break;case"arc":ut.push({deltas:[],abs:[],arc:!0}),Array.isArray(ut[ut.length-1].abs)&&ut[ut.length-1].abs.push(Ct)}}ot=Y?null:C==="stroke"?"stroke":"fill";for(var Ve=!1,Ae=0;Ae<ut.length;Ae++)if(ut[Ae].arc)for(var Ft=ut[Ae].abs,re=0;re<Ft.length;re++){var ee=Ft[re];ee.type==="arc"?O.call(this,ee.x,ee.y,ee.radius,ee.startAngle,ee.endAngle,ee.counterclockwise,void 0,Y,!Ve):k.call(this,ee.x,ee.y),Ve=!0}else if(ut[Ae].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(ut[Ae].begin!==!0){var we=ut[Ae].start.x,he=ut[Ae].start.y;lt.call(this,ut[Ae].deltas,we,he),Ve=!0}ot&&D.call(this,ot),Y&&K.call(this)}},St=function(C){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-Z;case"top":return C+Y-Z;case"hanging":return C+Y-2*Z;case"middle":return C+Y/2-Z;default:return C}},G=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(Y,Z){this.colorStops.push([Y,Z])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(C,Y,Z,ot,ut,ft,Tt,Ct,jt){for(var Xt=st.call(this,Z,ot,ut,ft),te=0;te<Xt.length;te++){var $t=Xt[te];te===0&&(jt?x.call(this,$t.x1+C,$t.y1+Y):k.call(this,$t.x1+C,$t.y1+Y)),_t.call(this,C,Y,$t.x2,$t.y2,$t.x3,$t.y3,$t.x4,$t.y4)}Ct?K.call(this):D.call(this,Tt)},D=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(C,Y){this.pdf.internal.out(e(C)+" "+i(Y)+" m")},R=function(C){var Y;switch(C.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var Z,ot,ut,ft=this.pdf.getTextDimensions(C.text),Tt=St.call(this,C.y),Ct=G.call(this,Tt)-ft.h,jt=this.ctx.transform.applyToPoint(new c(C.x,Tt));if(this.autoPaging){var Xt=this.ctx.transform.decompose(),te=new f;te=(te=(te=te.multiply(Xt.translate)).multiply(Xt.skew)).multiply(Xt.scale);for(var $t=this.ctx.transform.applyToRectangle(new h(C.x,Tt,ft.w,ft.h)),ie=te.applyToRectangle(new h(C.x,Ct,ft.w,ft.h)),et=F.call(this,ie),Zt=[],Ve=0;Ve<et.length;Ve+=1)Zt.indexOf(et[Ve])===-1&&Zt.push(et[Ve]);J(Zt);for(var Ae=Zt[0],Ft=Zt[Zt.length-1],re=Ae;re<Ft+1;re++){this.pdf.setPage(re);var ee=re===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],he=this.pdf.internal.pageSize.height-this.margin[2],Ge=he-this.margin[0],Ze=this.pdf.internal.pageSize.width-this.margin[1],Be=Ze-this.margin[3],an=re===1?0:we+(re-2)*Ge;if(this.ctx.clip_path.length!==0){var Xe=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=at(Z,this.posX+this.margin[3],-1*an+ee),vt.call(this,"fill",!0),this.path=Xe}var ye=at([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-an+ee+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ot*C.scale),ut=this.lineWidth,this.lineWidth=ut*C.scale);var Ye=this.autoPaging!=="text";if(Ye||ye.y+ye.h<=he){if(Ye||ye.y>=ee&&ye.x<=Ze){var ve=Ye?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Ze-ye.x)[0],hr=at([JSON.parse(JSON.stringify($t))],this.posX+this.margin[3],-an+ee+this.ctx.prevPageLastElemOffset)[0],Qe=Ye&&(re>Ae||re<Ft)&&z.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,Ge,null).clip().discardPath()),this.pdf.text(ve,hr.x,hr.y,{angle:C.angle,align:Y,renderingMode:C.renderingMode}),Qe&&this.pdf.restoreGraphicsState()}}else ye.y<he&&(this.ctx.prevPageLastElemOffset+=he-ye.y);C.scale>=.01&&(this.pdf.setFontSize(ot),this.lineWidth=ut)}}else C.scale>=.01&&(ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ot*C.scale),ut=this.lineWidth,this.lineWidth=ut*C.scale),this.pdf.text(C.text,jt.x+this.posX,jt.y+this.posY,{angle:C.angle,align:Y,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(ot),this.lineWidth=ut)},k=function(C,Y,Z,ot){Z=Z||0,ot=ot||0,this.pdf.internal.out(e(C+Z)+" "+i(Y+ot)+" l")},lt=function(C,Y,Z){return this.pdf.lines(C,Y,Z,null,null)},_t=function(C,Y,Z,ot,ut,ft,Tt,Ct){this.pdf.internal.out([t(a(Z+C)),t(o(ot+Y)),t(a(ut+C)),t(o(ft+Y)),t(a(Tt+C)),t(o(Ct+Y)),"c"].join(" "))},st=function(C,Y,Z,ot){for(var ut=2*Math.PI,ft=Math.PI/2;Y>Z;)Y-=ut;var Tt=Math.abs(Z-Y);Tt<ut&&ot&&(Tt=ut-Tt);for(var Ct=[],jt=ot?-1:1,Xt=Y;Tt>1e-5;){var te=Xt+jt*Math.min(Tt,ft);Ct.push(pt.call(this,C,Xt,te)),Tt-=Math.abs(te-Xt),Xt=te}return Ct},pt=function(C,Y,Z){var ot=(Z-Y)/2,ut=C*Math.cos(ot),ft=C*Math.sin(ot),Tt=ut,Ct=-ft,jt=Tt*Tt+Ct*Ct,Xt=jt+Tt*ut+Ct*ft,te=4/3*(Math.sqrt(2*jt*Xt)-Xt)/(Tt*ft-Ct*ut),$t=Tt-te*Ct,ie=Ct+te*Tt,et=$t,Zt=-ie,Ve=ot+Y,Ae=Math.cos(Ve),Ft=Math.sin(Ve);return{x1:C*Math.cos(Y),y1:C*Math.sin(Y),x2:$t*Ae-ie*Ft,y2:$t*Ft+ie*Ae,x3:et*Ae-Zt*Ft,y3:et*Ft+Zt*Ae,x4:C*Math.cos(Z),y4:C*Math.sin(Z)}},dt=function(C){return 180*C/Math.PI},Nt=function(C,Y,Z,ot,ut,ft){var Tt=C+.5*(Z-C),Ct=Y+.5*(ot-Y),jt=ut+.5*(Z-ut),Xt=ft+.5*(ot-ft),te=Math.min(C,ut,Tt,jt),$t=Math.max(C,ut,Tt,jt),ie=Math.min(Y,ft,Ct,Xt),et=Math.max(Y,ft,Ct,Xt);return new h(te,ie,$t-te,et-ie)},qt=function(C,Y,Z,ot,ut,ft,Tt,Ct){var jt,Xt,te,$t,ie,et,Zt,Ve,Ae,Ft,re,ee,we,he,Ge=Z-C,Ze=ot-Y,Be=ut-Z,an=ft-ot,Xe=Tt-ut,ye=Ct-ft;for(Xt=0;Xt<41;Xt++)Ae=(Zt=(te=C+(jt=Xt/40)*Ge)+jt*((ie=Z+jt*Be)-te))+jt*(ie+jt*(ut+jt*Xe-ie)-Zt),Ft=(Ve=($t=Y+jt*Ze)+jt*((et=ot+jt*an)-$t))+jt*(et+jt*(ft+jt*ye-et)-Ve),Xt==0?(re=Ae,ee=Ft,we=Ae,he=Ft):(re=Math.min(re,Ae),ee=Math.min(ee,Ft),we=Math.max(we,Ae),he=Math.max(he,Ft));return new h(Math.round(re),Math.round(ee),Math.round(we-re),Math.round(he-ee))},U=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,Y,Z=(C=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:Y}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Ee.API),(function(n){var t=function(c){var h,f,d,v,A,T,w,V,z,F;for(f=[],d=0,v=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;v>d;d+=4)(A=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(T=(A=((A=((A=((A=(A-(F=A%85))/85)-(z=A%85))/85)-(V=A%85))/85)-(w=A%85))/85)%85,f.push(T+33,w+33,V+33,z+33,F+33)):f.push(122);return(function(q,at){for(var J=at;J>0;J--)q.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},e=function(c){var h,f,d,v,A,T=String,w="length",V=255,z="charCodeAt",F="slice",q="replace";for(c[F](-2),c=c[F](0,-2)[q](/\s/g,"")[q]("z","!!!!!"),d=[],v=0,A=(c+=h="uuuuu"[F](c[w]%5||5))[w];A>v;v+=5)f=52200625*(c[z](v)-33)+614125*(c[z](v+1)-33)+7225*(c[z](v+2)-33)+85*(c[z](v+3)-33)+(c[z](v+4)-33),d.push(V&f>>24,V&f>>16,V&f>>8,V&f);return(function(at,J){for(var tt=J;tt>0;tt--)at.pop()})(d,h[w]),T.fromCharCode.apply(T,d)},i=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var f="",d=0;d<c.length;d+=2)f+=String.fromCharCode("0x"+(c[d]+c[d+1]));return f},o=function(c){for(var h=new Uint8Array(c.length),f=c.length;f--;)h[f]=c.charCodeAt(f);return(h=v0(h)).reduce(function(d,v){return d+String.fromCharCode(v)},"")};n.processDataByFilters=function(c,h){var f=0,d=c||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:v.reverse().join(" ")}}})(Ee.API),(function(n){n.loadFile=function(t,e,i){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(f,d,v){var A=new XMLHttpRequest,T=0,w=function(V){var z=V.length,F=[],q=String.fromCharCode;for(T=0;T<z;T+=1)F.push(q(255&V.charCodeAt(T)));return F.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?v(w(this.responseText)):v(void 0)}),A.send(null),d&&A.status===200)return w(A.responseText)})(a,o,c)}catch{}return h})(t,e,i)},n.loadImageFile=n.loadFile})(Ee.API),(function(n){function t(){return(We.html2canvas?Promise.resolve(We.html2canvas):bg(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(We.DOMPurify?Promise.resolve(We.DOMPurify):bg(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var i=function(h){var f=Xn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(h,f){var d=document.createElement(h);for(var v in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[v]=f.style[v];return d},o=function h(f,d){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||v.appendChild(h(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},c=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),d);return(v=v.setProgress(1,h,1,[h])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,f){return h.__proto__=f||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(e).then(function(d){return this.set({src:a("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=this.opt.jsPDF,v=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,T=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete T.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=v,v)for(var w=0;w<v.length;++w){var V=v[w],z=V.src.find(function(F){return F.format==="truetype"});z&&d.addFont(z.url,V.ref.name,V.ref.style)}return T.windowHeight=T.windowHeight||0,T.windowHeight=T.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):T.windowHeight,d.context2d.save(!0),f(this.prop.container,T)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},c.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(i(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(h,f){return this.then(function(){var d=h in c.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},c.prototype.setMargin=function(h){return this.then(function(){switch(i(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function f(d,v){return Math.floor(d*v/72*96)}return this.then(function(){(h=h||Ee.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,f,d,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,f,d,v){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,v?this.progress.stack.concat(v):null)},c.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(v,A){return d.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(T){return d.updateProgress(null,v),T}).then(v,A).then(function(T){return d.updateProgress(1),T})})},c.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:c.convert(Object.assign({},v),Promise.prototype),T=d.call(A,h,f);return c.convert(T,v.__proto__)},c.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},c.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},c.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return c.convert(f,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Ee.getPageSize=function(h,f,d){if(Xn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,d=v.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var A,T=(""+d).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var V,z=0,F=0;if(w.hasOwnProperty(T))z=w[T][1]/A,F=w[T][0]/A;else try{z=d[1],F=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",F>z&&(V=F,F=z,z=V);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",z>F&&(V=F,F=z,z=V)}return{width:F,height:z,unit:f,k:A,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(jg):null;var d=new c(f);return f.worker?d:d.from(h).doCallback()}})(Ee.API),Ee.API.addJS=function(n){return G_=n,this.internal.events.subscribe("postPutResources",function(){xp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),H_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+G_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xp!==void 0&&H_!==void 0&&this.internal.out("/Names <</JavaScript "+xp+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],h=i.exec(c);if(h!=null){var f=h[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,v=[];for(o=0;o<d;o++){var A=e.internal.newObject();v.push(A);var T=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+T.objId+" 0 R /XYZ null null null]>> endobj")}var w=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<v.length;o++)e.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+w+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,a,o){var c={title:a,options:o,children:[]};return i==null&&(i=this.root),i.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var c=i.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var f=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,a){for(var o=0;o<a.children.length;o++)i.count++,this.count_r(i,a.children[o]);return i.count}}])})(Ee.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,a,o,c,h){var f,d=this.decode.DCT_DECODE,v=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(A){for(var T,w=256*A.charCodeAt(4)+A.charCodeAt(5),V=A.length,z={width:0,height:0,numcomponents:1},F=4;F<V;F+=2){if(F+=w,t.indexOf(A.charCodeAt(F+1))!==-1){T=256*A.charCodeAt(F+5)+A.charCodeAt(F+6),z={width:256*A.charCodeAt(F+7)+A.charCodeAt(F+8),height:T,numcomponents:A.charCodeAt(F+9)};break}w=256*A.charCodeAt(F+2)+A.charCodeAt(F+3)}return z})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:e,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:i,alias:a}}return v}})(Ee.API),Ee.API.processPNG=function(n,t,e,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=uk(n,{checkCrc:!0}),c=o.width,h=o.height,f=o.channels,d=o.palette,v=o.depth;a=d&&f===1?(function(O){for(var D=O.width,K=O.height,x=O.data,R=O.palette,k=O.depth,lt=!1,_t=[],st=[],pt=void 0,dt=!1,Nt=0,qt=0;qt<R.length;qt++){var U=$b(R[qt],4),C=U[0],Y=U[1],Z=U[2],ot=U[3];_t.push(C,Y,Z),ot!=null&&(ot===0?(Nt++,st.length<1&&st.push(qt)):ot<255&&(dt=!0))}if(dt||Nt>1){lt=!0,st=void 0;var ut=D*K;pt=new Uint8Array(ut);for(var ft=new DataView(x.buffer),Tt=0;Tt<ut;Tt++){var Ct=Vg(ft,Tt,k),jt=$b(R[Ct],4)[3];pt[Tt]=jt}}else Nt===0&&(st=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:lt?8:void 0,colorBytes:x,alphaBytes:pt,needSMask:lt,palette:_t,mask:st}})(o):f===2||f===4?(function(O){for(var D=O.data,K=O.width,x=O.height,R=O.channels,k=O.depth,lt=R===2?"DeviceGray":"DeviceRGB",_t=R-1,st=K*x,pt=_t,dt=st*pt,Nt=1*st,qt=Math.ceil(dt*k/8),U=Math.ceil(Nt*k/8),C=new Uint8Array(qt),Y=new Uint8Array(U),Z=new DataView(D.buffer),ot=new DataView(C.buffer),ut=new DataView(Y.buffer),ft=!1,Tt=0;Tt<st;Tt++){for(var Ct=Tt*R,jt=0;jt<pt;jt++)tw(ot,Vg(Z,Ct+jt,k),Tt*pt+jt,k);var Xt=Vg(Z,Ct+pt,k);Xt<(1<<k)-1&&(ft=!0),tw(ut,Xt,1*Tt,k)}return{colorSpace:lt,colorsPerPixel:_t,sMaskBitsPerComponent:ft?k:void 0,colorBytes:C,alphaBytes:Y,needSMask:ft}})(o):(function(O){var D=O.data,K=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(x){for(var R=x.length,k=new Uint8Array(2*R),lt=new DataView(k.buffer,k.byteOffset,k.byteLength),_t=0;_t<R;_t++)lt.setUint16(2*_t,x[_t],!1);return k})(D):D,needSMask:!1}})(o);var A,T,w,V=a,z=V.colorSpace,F=V.colorsPerPixel,q=V.sMaskBitsPerComponent,at=V.colorBytes,J=V.alphaBytes,tt=V.needSMask,vt=V.palette,St=V.mask,G=null;return i!==Ee.API.image_compression.NONE&&typeof v0=="function"?(G=(function(O){var D;switch(O){case Ee.API.image_compression.FAST:D=11;break;case Ee.API.image_compression.MEDIUM:D=13;break;case Ee.API.image_compression.SLOW:D=14;break;default:D=12}return D})(i),A=this.decode.FLATE_DECODE,T="/Predictor ".concat(G," /Colors ").concat(F," /BitsPerComponent ").concat(v," /Columns ").concat(c),n=$_(at,Math.ceil(c*F*v/8),F,v,i),tt&&(w=$_(J,Math.ceil(c*q/8),1,q,i))):(A=void 0,T=void 0,n=at,tt&&(w=J)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:e,data:n,index:t,filter:A,decodeParameters:T,transparency:St,palette:vt,sMask:w,predictor:G,width:c,height:h,bitsPerComponent:v,sMaskBitsPerComponent:q,colorSpace:z}}},(function(n){n.processGIF89A=function(t,e,i,a){var o=new Rk(t),c=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:c,height:h},v=new Fg(100).encode(d,100);return n.processJPEG.call(this,v,e,i,a)},n.processGIF87A=n.processGIF89A})(Ee.API),co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},co.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){ur.log("bit decode error:"+e)}},co.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[c+4*h]=f.blue,this.data[c+4*h+1]=f.green,this.data[c+4*h+2]=f.red,this.data[c+4*h+3]=255}e!==0&&(this.pos+=4-e)}},co.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+2*a*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},co.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},co.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,d=o>>15?255:0,v=i*this.width*4+4*a;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=c,this.data[v+3]=d}this.pos+=n}},co.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&t)/t*255|0,f=(c>>5&e)/e*255|0,d=(c>>11)/t*255|0,v=a*this.width*4+4*o;this.data[v]=d,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},co.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=i,this.data[c+3]=255}this.pos+=this.width%4}},co.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=i,this.data[h+3]=c}},co.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,i,a){var o=new co(t,!1),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new Fg(100).encode(f,100);return n.processJPEG.call(this,d,e,i,a)}})(Ee.API),nw.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,i,a){var o=new nw(t),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new Fg(100).encode(f,100);return n.processJPEG.call(this,d,e,i,a)}})(Ee.API),Ee.API.processRGBA=function(n,t,e){for(var i=n.data,a=i.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),h=0,f=0,d=0;d<a;d+=4){var v=i[d],A=i[d+1],T=i[d+2],w=i[d+3];o[h++]=v,o[h++]=A,o[h++]=T,c[f++]=w}var V=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:V,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ee.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hh=Ee.API,Tp=hh.getCharWidthsArray=function(n,t){var e,i,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:a.metadata.Unicode.widths,f=h.fof?h.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,v=d.fof?d.fof:1,A=t.doKerning!==!1,T=0,w=n.length,V=0,z=h[0]||f,F=[];for(e=0;e<w;e++)i=n.charCodeAt(e),typeof a.metadata.widthOfString=="function"?F.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+c*(1e3/o)||0)/1e3):(T=A&&Xn(d[i])==="object"&&!isNaN(parseInt(d[i][V],10))?d[i][V]/v:0,F.push((h[i]||z)/f+T)),V=i;return F},Y_=hh.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return hh.processArabic&&(n=hh.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,a)/e:Tp.apply(this,arguments).reduce(function(o,c){return o+c},0)},K_=function(n,t,e,i){for(var a=[],o=0,c=n.length,h=0;o!==c&&h+t[o]<e;)h+=t[o],o++;a.push(n.slice(0,o));var f=o;for(h=0;o!==c;)h+t[o]>i&&(a.push(n.slice(f,o)),h=0,f=o),h+=t[o],o++;return f!==o&&a.push(n.slice(f,o)),a},W_=function(n,t,e){e||(e={});var i,a,o,c,h,f,d,v=[],A=[v],T=e.textIndent||0,w=0,V=0,z=n.split(" "),F=Tp.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?z[0].length+2:e.lineIndent||0){var q=Array(f).join(" "),at=[];z.map(function(tt){(tt=tt.split(/\s*\n/)).length>1?at=at.concat(tt.map(function(vt,St){return(St&&vt.length?`
`:"")+vt})):at.push(tt[0])}),z=at,f=Y_.apply(this,[q,e])}for(o=0,c=z.length;o<c;o++){var J=0;if(i=z[o],f&&i[0]==`
`&&(i=i.substr(1),J=1),T+w+(V=(a=Tp.apply(this,[i,e])).reduce(function(tt,vt){return tt+vt},0))>t||J){if(V>t){for(h=K_.apply(this,[i,a,t-(T+w),t]),v.push(h.shift()),v=[h.pop()];h.length;)A.push([h.shift()]);V=a.slice(i.length-(v[0]?v[0].length:0)).reduce(function(tt,vt){return tt+vt},0)}else v=[i];A.push(v),T=V+f,w=F}else v.push(i),T+=w+V,w=F}return d=f?function(tt,vt){return(vt?q:"")+tt.join(" ")}:function(tt){return tt.join(" ")},A.map(d)},hh.splitTextToSize=function(n,t,e){var i,a=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var A=this.internal.getFont(v.fontName,v.fontStyle),T="Unicode";return A.metadata[T]?{widths:A.metadata[T].widths||{0:1},kerning:A.metadata[T].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=e.lineIndent;var h,f,d=[];for(h=0,f=i.length;h<f;h++)d=d.concat(W_.apply(this,[i[h],c,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",i={},a={},o=0;o<16;o++)i[e[o]]=t[o],a[t[o]]=e[o];var c=function(T){return"0x"+parseInt(T,10).toString(16)},h=n.__fontmetrics__.compress=function(T){var w,V,z,F,q=["{"];for(var at in T){if(w=T[at],isNaN(parseInt(at,10))?V="'"+at+"'":(at=parseInt(at,10),V=(V=c(at).slice(2)).slice(0,-1)+a[V.slice(-1)]),typeof w=="number")w<0?(z=c(w).slice(3),F="-"):(z=c(w).slice(2),F=""),z=F+z.slice(0,-1)+a[z.slice(-1)];else{if(Xn(w)!=="object")throw new Error("Don't know what to do with value type "+Xn(w)+".");z=h(w)}q.push(V+z)}return q.push("}"),q.join("")},f=n.__fontmetrics__.uncompress=function(T){if(typeof T!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,V,z,F,q={},at=1,J=q,tt=[],vt="",St="",G=T.length-1,O=1;O<G;O+=1)(F=T[O])=="'"?w?(z=w.join(""),w=void 0):w=[]:w?w.push(F):F=="{"?(tt.push([J,z]),J={},z=void 0):F=="}"?((V=tt.pop())[0][V[1]]=J,z=void 0,J=V[0]):F=="-"?at=-1:z===void 0?i.hasOwnProperty(F)?(vt+=i[F],z=parseInt(vt,16)*at,at=1,vt=""):vt+=F:i.hasOwnProperty(F)?(St+=i[F],J[z]=parseInt(St,16)*at,at=1,z=void 0,St=""):St+=F;return q},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(T){var w=T.font,V=A.Unicode[w.postScriptName];V&&(w.metadata.Unicode={},w.metadata.Unicode.widths=V.widths,w.metadata.Unicode.kerning=V.kerning);var z=v.Unicode[w.postScriptName];z&&(w.metadata.Unicode.encoding=z,w.encoding=z.codePages[0])}])})(Ee.API),(function(n){var t=function(e){for(var i=e.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=e.charCodeAt(o);return a};n.API.events.push(["addFont",function(e){var i=void 0,a=e.font,o=e.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(Vp(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,i)}}])})(Ee),Ee.API.addSvgAsImage=function(n,t,e,i,a,o,c,h){if(isNaN(t)||isNaN(e))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(We.canvg?Promise.resolve(We.canvg):bg(()=>import("./index.es-C28nK-AK.js"),[])).catch(function(T){return Promise.reject(new Error("Could not load canvg: "+T))}).then(function(T){return T.default?T.default:T}).then(function(T){return T.fromString(d,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(v)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),t,e,i,a,c,h)})},Ee.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(t,e);return this},Ee.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),f=[],d=0,v=0,A=0;function T(V,z){var F,q=!1;for(F=0;F<V.length;F+=1)V[F]===z&&(q=!0);return q}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var w=h.length;for(A=0;A<w;A+=1)e[h[A]].value=e[h[A]].defaultValue,e[h[A]].explicitSet=!1}if(Xn(n)==="object"){for(a in n)if(o=n[a],T(h,a)&&o!==void 0){if(e[a].type==="boolean"&&typeof o=="boolean")e[a].value=o;else if(e[a].type==="name"&&T(e[a].valueSet,o))e[a].value=o;else if(e[a].type==="integer"&&Number.isInteger(o))e[a].value=o;else if(e[a].type==="array"){for(d=0;d<o.length;d+=1)if(i=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(v=0;v<o[d].length;v+=1)typeof o[d][v]!="number"&&(i=!1);i===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}e[a].value="["+f.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var V,z=[];for(V in e)e[V].explicitSet===!0&&(e[V].type==="name"?z.push("/"+V+" /"+e[V].value):z.push("/"+V+" "+e[V].value));z.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+z.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+c.length+h.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+h+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Ee.API),(function(n){var t=n.API,e=t.pdfEscape16=function(o,c){for(var h,f=c.metadata.Unicode.widths,d=["","0","00","000","0000"],v=[""],A=0,T=o.length;A<T;++A){if(h=c.metadata.characterToGlyph(o.charCodeAt(A)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(d[4-h.length],h)}return v.join("")},i=function(o){var c,h,f,d,v,A,T;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,T=(h=Object.keys(o).sort(function(w,V){return w-V})).length;A<T;A++)c=h[A],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(d=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+d+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,T=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",V=0;V<T.length;V++)w+=String.fromCharCode(T[V]);var z=d();v({data:w,addLength1:!0,objectId:z}),f("endobj");var F=d();v({data:i(h.metadata.toUnicode),addLength1:!0,objectId:F}),f("endobj");var q=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+yh(h.fontName)),f("/FontFile2 "+z+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var at=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+yh(h.fontName)),f("/FontDescriptor "+q+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+F+" 0 R"),f("/BaseFont /"+yh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+at+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,T="",w=0;w<A.length;w++)T+=String.fromCharCode(A[w]);var V=d();v({data:T,addLength1:!0,objectId:V}),f("endobj");var z=d();v({data:i(h.metadata.toUnicode),addLength1:!0,objectId:z}),f("endobj");var F=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+V+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+yh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var q=0;q<h.metadata.hmtx.widths.length;q++)h.metadata.hmtx.widths[q]=parseInt(h.metadata.hmtx.widths[q]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+z+" 0 R/BaseFont/"+yh(h.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,h=o.text||"",f=o.x,d=o.y,v=o.options||{},A=o.mutex||{},T=A.pdfEscape,w=A.activeFontKey,V=A.fonts,z=w,F="",q=0,at="",J=V[z].encoding;if(V[z].encoding!=="Identity-H")return{text:h,x:f,y:d,options:v,mutex:A};for(at=h,z=w,Array.isArray(h)&&(at=h[0]),q=0;q<at.length;q+=1)V[z].metadata.hasOwnProperty("cmap")&&(c=V[z].metadata.cmap.unicode.codeMap[at[q].charCodeAt(0)]),c||at[q].charCodeAt(0)<256&&V[z].metadata.hasOwnProperty("Unicode")?F+=at[q]:F+="";var tt="";return parseInt(z.slice(1))<14||J==="WinAnsiEncoding"?tt=T(F,z).split("").map(function(vt){return vt.charCodeAt(0).toString(16)}).join(""):J==="Identity-H"&&(tt=e(F,V[z])),A.isHex=!0,{text:tt,x:f,y:d,options:v,mutex:A}};t.events.push(["postProcessText",function(o){var c=o.text||"",h=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?h.push([a(Object.assign({},f,{text:c[d][0]})).text,c[d][1],c[d][2]]):h.push(a(Object.assign({},f,{text:c[d]})).text);o.text=h}else o.text=a(Object.assign({},f,{text:c})).text}])})(Ee),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Ee.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var a,o,c,h,f,d,v,A=t,T=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],V={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},z={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),at=!1,J=0;this.__bidiEngine__={};var tt=function(x){var R=x.charCodeAt(),k=R>>8,lt=z[k];return lt!==void 0?A[256*lt+(255&R)]:k===252||k===253?"AL":q.test(k)?"L":k===8?"R":"N"},vt=function(x){for(var R,k=0;k<x.length;k++){if((R=tt(x.charAt(k)))==="L")return!1;if(R==="R")return!0}return!1},St=function(x,R,k,lt){var _t,st,pt,dt,Nt=R[lt];switch(Nt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":at=!1;break;case"N":case"AN":break;case"EN":at&&(Nt="AN");break;case"AL":at=!0,Nt="R";break;case"WS":case"BN":Nt="N";break;case"CS":lt<1||lt+1>=R.length||(_t=k[lt-1])!=="EN"&&_t!=="AN"||(st=R[lt+1])!=="EN"&&st!=="AN"?Nt="N":at&&(st="AN"),Nt=st===_t?st:"N";break;case"ES":Nt=(_t=lt>0?k[lt-1]:"B")==="EN"&&lt+1<R.length&&R[lt+1]==="EN"?"EN":"N";break;case"ET":if(lt>0&&k[lt-1]==="EN"){Nt="EN";break}if(at){Nt="N";break}for(pt=lt+1,dt=R.length;pt<dt&&R[pt]==="ET";)pt++;Nt=pt<dt&&R[pt]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(dt=R.length,pt=lt+1;pt<dt&&R[pt]==="NSM";)pt++;if(pt<dt){var qt=x[lt],U=qt>=1425&&qt<=2303||qt===64286;if(_t=R[pt],U&&(_t==="R"||_t==="AL")){Nt="R";break}}}Nt=lt<1||(_t=R[lt-1])==="B"?"N":k[lt-1];break;case"B":at=!1,a=!0,Nt=J;break;case"S":o=!0,Nt="N"}return Nt},G=function(x,R,k){var lt=x.split("");return k&&O(lt,k,{hiLevel:J}),lt.reverse(),R&&R.reverse(),lt.join("")},O=function(x,R,k){var lt,_t,st,pt,dt,Nt=-1,qt=x.length,U=0,C=[],Y=J?w:T,Z=[];for(at=!1,a=!1,o=!1,_t=0;_t<qt;_t++)Z[_t]=tt(x[_t]);for(st=0;st<qt;st++){if(dt=U,C[st]=St(x,Z,C,st),lt=240&(U=Y[dt][V[C[st]]]),U&=15,R[st]=pt=Y[U][5],lt>0)if(lt===16){for(_t=Nt;_t<st;_t++)R[_t]=1;Nt=-1}else Nt=-1;if(Y[U][6])Nt===-1&&(Nt=st);else if(Nt>-1){for(_t=Nt;_t<st;_t++)R[_t]=pt;Nt=-1}Z[st]==="B"&&(R[st]=0),k.hiLevel|=pt}o&&(function(ot,ut,ft){for(var Tt=0;Tt<ft;Tt++)if(ot[Tt]==="S"){ut[Tt]=J;for(var Ct=Tt-1;Ct>=0&&ot[Ct]==="WS";Ct--)ut[Ct]=J}})(Z,R,qt)},D=function(x,R,k,lt,_t){if(!(_t.hiLevel<x)){if(x===1&&J===1&&!a)return R.reverse(),void(k&&k.reverse());for(var st,pt,dt,Nt,qt=R.length,U=0;U<qt;){if(lt[U]>=x){for(dt=U+1;dt<qt&&lt[dt]>=x;)dt++;for(Nt=U,pt=dt-1;Nt<pt;Nt++,pt--)st=R[Nt],R[Nt]=R[pt],R[pt]=st,k&&(st=k[Nt],k[Nt]=k[pt],k[pt]=st);U=dt}U++}}},K=function(x,R,k){var lt=x.split(""),_t={hiLevel:J};return k||(k=[]),O(lt,k,_t),(function(st,pt,dt){if(dt.hiLevel!==0&&v)for(var Nt,qt=0;qt<st.length;qt++)pt[qt]===1&&(Nt=F.indexOf(st[qt]))>=0&&(st[qt]=F[Nt+1])})(lt,k,_t),D(2,lt,R,k,_t),D(1,lt,R,k,_t),lt.join("")};return this.__bidiEngine__.doBidiReorder=function(x,R,k){if((function(_t,st){if(st)for(var pt=0;pt<_t.length;pt++)st[pt]=pt;h===void 0&&(h=vt(_t)),d===void 0&&(d=vt(_t))})(x,R),c||!f||d)if(c&&f&&h^d)J=h?1:0,x=G(x,R,k);else if(!c&&f&&d)J=h?1:0,x=K(x,R,k),x=G(x,R);else if(!c||h||f||d){if(c&&!f&&h^d)x=G(x,R),h?(J=0,x=K(x,R,k)):(J=1,x=K(x,R,k),x=G(x,R));else if(c&&h&&!f&&d)J=1,x=K(x,R,k),x=G(x,R);else if(!c&&!f&&h^d){var lt=v;h?(J=1,x=K(x,R,k),J=0,v=!1,x=K(x,R,k),v=lt):(J=0,x=K(x,R,k),x=G(x,R),J=1,v=!1,x=K(x,R,k),v=lt,x=G(x,R))}}else J=0,x=K(x,R,k);else J=h?1:0,x=K(x,R,k);return x},this.__bidiEngine__.setOptions=function(x){x&&(c=x.isInputVisual,f=x.isOutputVisual,h=x.isInputRtl,d=x.isOutputRtl,v=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(c=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?c.push([e.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):c.push([e.doBidiReorder(a[h])]);i.text=c}else i.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])})(Ee),Ee.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Uu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Gk(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new Lk(this.contents),this.head=new Dk(this),this.name=new Uk(this),this.cmap=new FA(this),this.toUnicode={},this.hhea=new Ok(this),this.maxp=new Vk(this),this.hmtx=new Fk(this),this.post=new Mk(this),this.os2=new Pk(this),this.loca=new Hk(this),this.glyf=new Bk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,f,d;for(d=[],c=0,h=(f=this.bbox).length;c<h;c++)t=f[c],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(e=a>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var a,o,c,h;for(c=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=t.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/e)||0;return c*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n})();var wo,Uu=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,a;for(a=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,a,o,c,h,f;return t=this.readByte(),e=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*a+16777216*o+65536*c+256*h+f},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,a,o;for(o=[],i=0,a=t.length;i<a;i++)e=t[i],o.push(this.writeByte(e));return o},n})(),Lk=(function(){var n;function t(e){var i,a,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,a,o,c,h,f,d,v,A,T,w,V,z;for(z in w=Object.keys(e).length,f=Math.log(2),A=16*Math.floor(Math.log(w)/f),c=Math.floor(A/f),v=16*w-A,(a=new Uu).writeInt(this.scalarType),a.writeShort(w),a.writeShort(A),a.writeShort(c),a.writeShort(v),o=16*w,d=a.pos+o,h=null,V=[],e)for(T=e[z],a.writeString(z),a.writeInt(n(T)),a.writeInt(d),a.writeInt(T.length),V=V.concat(T),z==="head"&&(h=d),d+=T.length;d%4;)V.push(0),d++;return a.write(V),i=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(i),a.data},n=function(e){var i,a,o,c;for(e=BA.call(e);e.length%4;)e.push(0);for(o=new Uu(e),a=0,i=0,c=e.length;i<c;i=i+=4)a+=o.readUInt32();return 4294967295&a},t})(),kk={}.hasOwnProperty,nl=function(n,t){for(var e in t)kk.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};wo=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var Dk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,wo),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Uu).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),rw=(function(){function n(t,e){var i,a,o,c,h,f,d,v,A,T,w,V,z,F,q,at,J;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(w=t.readUInt16(),T=w/2,t.pos+=6,o=(function(){var tt,vt;for(vt=[],f=tt=0;0<=T?tt<T:tt>T;f=0<=T?++tt:--tt)vt.push(t.readUInt16());return vt})(),t.pos+=2,z=(function(){var tt,vt;for(vt=[],f=tt=0;0<=T?tt<T:tt>T;f=0<=T?++tt:--tt)vt.push(t.readUInt16());return vt})(),d=(function(){var tt,vt;for(vt=[],f=tt=0;0<=T?tt<T:tt>T;f=0<=T?++tt:--tt)vt.push(t.readUInt16());return vt})(),v=(function(){var tt,vt;for(vt=[],f=tt=0;0<=T?tt<T:tt>T;f=0<=T?++tt:--tt)vt.push(t.readUInt16());return vt})(),a=(this.length-t.pos+this.offset)/2,h=(function(){var tt,vt;for(vt=[],f=tt=0;0<=a?tt<a:tt>a;f=0<=a?++tt:--tt)vt.push(t.readUInt16());return vt})(),f=q=0,J=o.length;q<J;f=++q)for(F=o[f],i=at=V=z[f];V<=F?at<=F:at>=F;i=V<=F?++at:--at)v[f]===0?c=i+d[f]:(c=h[v[f]/2+(i-V)-(T-f)]||0)!==0&&(c+=d[f]),this.codeMap[i]=65535&c}t.pos=A}return n.encode=function(t,e){var i,a,o,c,h,f,d,v,A,T,w,V,z,F,q,at,J,tt,vt,St,G,O,D,K,x,R,k,lt,_t,st,pt,dt,Nt,qt,U,C,Y,Z,ot,ut,ft,Tt,Ct,jt,Xt,te;switch(lt=new Uu,c=Object.keys(t).sort(function($t,ie){return $t-ie}),e){case"macroman":for(z=0,F=(function(){var $t=[];for(V=0;V<256;++V)$t.push(0);return $t})(),at={0:0},o={},_t=0,Nt=c.length;_t<Nt;_t++)at[Ct=t[a=c[_t]]]==null&&(at[Ct]=++z),o[a]={old:t[a],new:at[t[a]]},F[a]=at[t[a]];return lt.writeUInt16(1),lt.writeUInt16(0),lt.writeUInt32(12),lt.writeUInt16(0),lt.writeUInt16(262),lt.writeUInt16(0),lt.write(F),{charMap:o,subtable:lt.data,maxGlyphID:z+1};case"unicode":for(R=[],A=[],J=0,at={},i={},q=d=null,st=0,qt=c.length;st<qt;st++)at[vt=t[a=c[st]]]==null&&(at[vt]=++J),i[a]={old:vt,new:at[vt]},h=at[vt]-a,q!=null&&h===d||(q&&A.push(q),R.push(a),d=h),q=a;for(q&&A.push(q),A.push(65535),R.push(65535),K=2*(D=R.length),O=2*Math.pow(Math.log(D)/Math.LN2,2),T=Math.log(O/2)/Math.LN2,G=2*D-O,f=[],St=[],w=[],V=pt=0,U=R.length;pt<U;V=++pt){if(x=R[V],v=A[V],x===65535){f.push(0),St.push(0);break}if(x-(k=i[x].new)>=32768)for(f.push(0),St.push(2*(w.length+D-V)),a=dt=x;x<=v?dt<=v:dt>=v;a=x<=v?++dt:--dt)w.push(i[a].new);else f.push(k-x),St.push(0)}for(lt.writeUInt16(3),lt.writeUInt16(1),lt.writeUInt32(12),lt.writeUInt16(4),lt.writeUInt16(16+8*D+2*w.length),lt.writeUInt16(0),lt.writeUInt16(K),lt.writeUInt16(O),lt.writeUInt16(T),lt.writeUInt16(G),ft=0,C=A.length;ft<C;ft++)a=A[ft],lt.writeUInt16(a);for(lt.writeUInt16(0),Tt=0,Y=R.length;Tt<Y;Tt++)a=R[Tt],lt.writeUInt16(a);for(jt=0,Z=f.length;jt<Z;jt++)h=f[jt],lt.writeUInt16(h);for(Xt=0,ot=St.length;Xt<ot;Xt++)tt=St[Xt],lt.writeUInt16(tt);for(te=0,ut=w.length;te<ut;te++)z=w[te],lt.writeUInt16(z);return{charMap:i,subtable:lt.data,maxGlyphID:J+1}}},n})(),FA=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,wo),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)e=new rw(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var i,a;return e==null&&(e="macroman"),i=rw.encode(t,e),(a=new Uu).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n})(),Ok=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,wo),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),Pk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,wo),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,i;for(i=[],e=0;e<10;++e)i.push(t.readByte());return i})(),this.charRange=(function(){var e,i;for(i=[],e=0;e<4;++e)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,i;for(i=[],e=0;e<2;e=++e)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),Mk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,wo),n.prototype.tag="post",n.prototype.parse=function(t){var e,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)e=t.readByte(),a.push(this.names.push(t.readString(e)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var c,h,f;for(f=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)f.push(t.readUInt32());return f}).call(this)}},n})(),jk=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Uk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,wo),n.prototype.tag="name",n.prototype.parse=function(t){var e,i,a,o,c,h,f,d,v,A,T;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),i=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(f={},o=v=0,A=i.length;v<A;o=++v)a=i[o],t.pos=a.offset,d=t.readString(a.length),c=new jk(d,a),f[T=a.nameID]==null&&(f[T]=[]),f[a.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),Vk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,wo),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),Fk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,wo),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,i,a,o,c,h,f;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,v;for(v=[],e=d=0;0<=a?d<a:d>a;e=0<=a?++d:--d)v.push(t.readInt16());return v})(),this.widths=(function(){var d,v,A,T;for(T=[],d=0,v=(A=this.metrics).length;d<v;d++)o=A[d],T.push(o.advance);return T}).call(this),i=this.widths[this.widths.length-1],f=[],e=c=0;0<=a?c<a:c>a;e=0<=a?++c:--c)f.push(this.widths.push(i));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),BA=[].slice,Bk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,wo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,i,a,o,c,h,f,d,v,A;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,i=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+i,c=(h=new Uu(e.read(a))).readShort(),d=h.readShort(),A=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[t]=c===-1?new zk(h,d,A,f,v):new qk(h,c,d,A,f,v),this.cache[t]))},n.prototype.encode=function(t,e,i){var a,o,c,h,f;for(c=[],o=[],h=0,f=e.length;h<f;h++)a=t[e[h]],o.push(c.length),a&&(c=c.concat(a.encode(i)));return o.push(c.length),{table:c,offsets:o}},n})(),qk=(function(){function n(t,e,i,a,o,c){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),zk=(function(){function n(t,e,i,a,o){var c,h;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new Uu(BA.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),Hk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,wo),n.prototype.tag="loca",n.prototype.parse=function(t){var e,i;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<i.length;++c)if(i[c]=a,o<e.length&&e[o]==c){++o,i[c]=a;var h=this.offsets[c],f=this.offsets[c+1]-h;f>0&&(a+=f)}for(var d=new Array(4*i.length),v=0;v<i.length;++v)d[4*v+3]=255&i[v],d[4*v+2]=(65280&i[v])>>8,d[4*v+1]=(16711680&i[v])>>16,d[4*v]=(4278190080&i[v])>>24;return d},n})(),Gk=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,a,o;for(e in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)i=o[e],t[e]=a[i];return t},n.prototype.glyphsFor=function(t){var e,i,a,o,c,h,f;for(a={},c=0,h=t.length;c<h;c++)a[o=t[c]]=this.font.glyf.glyphFor(o);for(o in e=[],a)(i=a[o])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))i=f[o],a[o]=i;return a},n.prototype.encode=function(t,e){var i,a,o,c,h,f,d,v,A,T,w,V,z,F,q;for(a in i=FA.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),w={0:0},q=i.charMap)w[(f=q[a]).old]=f.new;for(V in T=i.maxGlyphID,c)V in w||(w[V]=T++);return v=(function(at){var J,tt;for(J in tt={},at)tt[at[J]]=J;return tt})(w),A=Object.keys(v).sort(function(at,J){return at-J}),z=(function(){var at,J,tt;for(tt=[],at=0,J=A.length;at<J;at++)h=A[at],tt.push(v[h]);return tt})(),o=this.font.glyf.encode(c,z,w),d=this.font.loca.encode(o.offsets,z),F={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},n})();Ee.API.PDFObject=(function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,a,o,c;if(Array.isArray(e))return"["+(function(){var h,f,d;for(d=[],h=0,f=e.length;h<f;h++)i=e[h],d.push(t.convert(i));return d})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in o=["<<"],e)c=e[a],o.push("/"+a+" "+t.convert(c));return o.push(">>"),o.join(`
`)}return""+e},t})();const Yk=({userId:n})=>{const[t,e]=de.useState([]),[i,a]=de.useState(""),[o,c]=de.useState(""),[h,f]=de.useState("");de.useEffect(()=>{const F=Pu(ya(kr,"recipes"),Mu("userId","==",n)),q=ju(F,at=>{const J=at.docs.map(tt=>({id:tt.id,...tt.data()}));J.sort((tt,vt)=>tt.name.localeCompare(vt.name)),e(J),f("")},at=>{console.error("Firestore Error:",at),f("Error al cargar recetas. Verifica permisos de Firebase.")});return()=>q()},[n]);const d=t.find(F=>F.id===i),v=parseFloat(o)||0,T=(d?d.costPerGram:0)*v,w=T*3,V=w-T,z=async()=>{if(d)try{console.log("Iniciando generacin de PDF...");const F=new Ee({orientation:"portrait",unit:"mm",format:[80,180]}),q=tt=>{try{const vt=tt?75:20;F.setFontSize(18),F.setFont("helvetica","bold"),F.text("Alternativa Keto",40,vt,{align:"center"}),F.setFontSize(12),F.text("----------------------------------------",40,vt+6,{align:"center"}),F.setFontSize(20),F.setFont("helvetica","bold"),F.text(d.name,40,vt+20,{align:"center",maxWidth:75}),F.setFontSize(16),F.setFont("helvetica","normal"),F.text(`${v} g`,40,vt+34,{align:"center"}),F.setFontSize(32),F.setFont("helvetica","bold"),F.text(`$${w.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`,40,vt+54,{align:"center"}),F.setFontSize(14),F.setFont("helvetica","italic"),F.text("Gracias por su compra!",40,vt+74,{align:"center"});const St=16,G=vt+79,O=9;F.setDrawColor(0),F.setLineWidth(.4),F.roundedRect(St,G,O,O,2,2,"S"),F.circle(St+O/2,G+O/2,O*.25,"S"),F.circle(St+O*.75,G+O*.22,.4,"F"),F.setFontSize(14),F.setFont("helvetica","bold"),F.text("@alternativaketo",St+O+3,G+6,{align:"left"});const D=d.name.replace(/[^a-zA-Z0-9]/g,"_"),K=F.output("blob"),x=URL.createObjectURL(K);window.open(x,"_blank")||(F.save(`ticket_${D}.pdf`),alert("Se intent abrir el PDF pero el navegador bloque la ventana emergente. Se ha descargado el archivo.")),setTimeout(()=>URL.revokeObjectURL(x),6e4)}catch(vt){console.error("Error drawing content:",vt),alert(`Error al dibujar contenido del PDF: ${vt.message}`)}},at=new Image,J="/calculadora-keto/logo.png";console.log("Loading logo from:",J),at.src=J,at.onload=()=>{try{F.addImage(at,"PNG",10,5,60,60,void 0,"FAST"),q(!0)}catch(tt){console.error("Error adding image:",tt),q(!1)}},at.onerror=tt=>{console.warn("Logo load failed",tt),q(!1)}}catch(F){console.error("PDF Generation Error:",F),alert(`Error al iniciar generacin de PDF: ${F.message}`)}};return P.jsxs("div",{className:"space-y-6 animate-fade-in",children:[P.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-brand-brown/10",children:[P.jsx("h2",{className:"text-xl font-bold text-brand-brown mb-6 font-serif",children:"Calculadora de Venta"}),h&&P.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-3 rounded-lg mb-4 text-sm",children:h}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1",children:"Seleccionar Receta"}),P.jsxs("select",{value:i,onChange:F=>a(F.target.value),className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 bg-brand-beige/50 text-brand-brown cursor-pointer",children:[P.jsx("option",{value:"",children:"-- Elige una preparacin --"}),t.map(F=>P.jsx("option",{value:F.id,children:F.name},F.id))]})]}),P.jsxs("div",{className:"opacity-100 transition-opacity duration-300",children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1",children:"Cantidad a Vender (Peso/Unidad)"}),P.jsx("input",{type:"number",value:o,onChange:F=>c(F.target.value),disabled:!i,className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 text-lg font-semibold bg-brand-beige/50 disabled:bg-gray-100 text-brand-brown placeholder-brand-brown/40",placeholder:"0"})]})]})]}),i&&v>0&&P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"bg-brand-brown text-white p-6 rounded-3xl shadow-lg transform transition-all duration-300 hover:scale-[1.02]",children:[P.jsxs("div",{className:"flex justify-between items-start",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-brand-accent text-sm font-bold mb-1 uppercase tracking-wider",children:"Precio Sugerido (x3)"}),P.jsxs("h3",{className:"text-4xl font-bold tracking-tight font-serif",children:["$",w.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),P.jsxs("div",{className:"text-right opacity-80",children:[P.jsx("p",{className:"text-xs",children:"Margen Bruto"}),P.jsxs("p",{className:"font-bold",children:["$",V.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]})]})]}),P.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10 flex justify-between items-center",children:[P.jsx("span",{className:"text-sm opacity-80",children:"Costo Real de Produccin:"}),P.jsxs("span",{className:"text-xl font-bold",children:["$",T.toFixed(2)]})]})]}),P.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-brand-brown/10",children:[P.jsx("h4",{className:"font-bold text-brand-brown mb-2 font-serif",children:"Detalles de la Receta"}),P.jsxs("div",{className:"text-sm text-brand-brown/80 grid grid-cols-2 gap-2",children:[P.jsxs("div",{children:["Yield Total: ",P.jsx("span",{className:"font-medium",children:d==null?void 0:d.totalYieldWeight})]}),P.jsxs("div",{children:["Costo Total: ",P.jsxs("span",{className:"font-medium",children:["$",d==null?void 0:d.totalCost.toFixed(2)]})]}),P.jsxs("div",{className:"col-span-2",children:["Costo Base: ",P.jsxs("span",{className:"font-medium",children:["$",d==null?void 0:d.costPerGram.toFixed(4)," / gr"]})]})]})]}),P.jsxs("button",{onClick:z,className:"w-full bg-[#2C1810] text-white py-3 rounded-xl font-bold shadow-md hover:bg-black transition flex items-center justify-center gap-2",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Generar Ticket PDF"]})]})]})},Kk=({isOpen:n,onClose:t,userId:e})=>{const[i,a]=de.useState("inventory");return n?P.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[P.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),P.jsxs("div",{className:"relative w-full max-w-4xl bg-brand-cream rounded-2xl shadow-2xl flex flex-col max-h-[90vh] animate-in fade-in zoom-in duration-200",children:[P.jsxs("div",{className:"flex justify-between items-center p-6 pb-2 border-b border-brand-brown/10 bg-brand-cream",children:[P.jsx("div",{className:"flex-1 text-center",children:P.jsx("h2",{className:"text-2xl font-serif font-bold text-brand-brown",children:"Calculadora Maestra"})}),P.jsx("button",{onClick:t,className:"absolute right-6 top-6 text-brand-brown/50 hover:text-brand-brown transition-colors",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),P.jsxs("div",{className:"flex px-6 pt-6 gap-1 overflow-visible bg-brand-cream relative z-10",children:[P.jsx("button",{onClick:()=>a("inventory"),className:`
                    px-6 py-3 rounded-t-xl font-bold text-sm transition-all relative z-20
                    ${i==="inventory"?"bg-brand-brown text-white shadow-[0_-4px_12px_rgba(0,0,0,0.15)] pb-4 -mb-1":"bg-brand-brown/5 text-brand-brown/60 hover:bg-brand-brown/10 hover:text-brand-brown pb-3"}
                `,children:"Materia Prima"}),P.jsx("button",{onClick:()=>a("recipes"),className:`
                    px-6 py-3 rounded-t-xl font-bold text-sm transition-all relative z-10 -ml-2
                    ${i==="recipes"?"bg-brand-brown text-white shadow-[0_-4px_12px_rgba(0,0,0,0.15)] pb-4 -mb-1 z-30":"bg-brand-brown/5 text-brand-brown/60 hover:bg-brand-brown/10 hover:text-brand-brown pb-3"}
                `,children:"Recetas"}),P.jsx("button",{onClick:()=>a("calc"),className:`
                    px-6 py-3 rounded-t-xl font-bold text-sm transition-all relative -ml-2
                    ${i==="calc"?"bg-brand-brown text-white shadow-[0_-4px_12px_rgba(0,0,0,0.15)] pb-4 -mb-1 z-30":"bg-brand-brown/5 text-brand-brown/70 hover:bg-brand-brown/20 pb-3"}
                `,children:"Precio Venta (x3)"})]}),P.jsx("div",{className:"flex-1 overflow-y-auto p-0 bg-white border-t-8 border-brand-brown rounded-b-2xl relative z-20 shadow-[-2px_-4px_10px_rgba(0,0,0,0.05)]",children:P.jsxs("div",{className:"p-6",children:[i==="inventory"&&P.jsx(tR,{userId:e}),i==="recipes"&&P.jsx(eR,{userId:e}),i==="calc"&&P.jsx(Yk,{userId:e})]})})]})]}):null},Wk=({userId:n,onBack:t})=>{const[e,i]=de.useState([]),[a,o]=de.useState("form"),[c,h]=de.useState(""),[f,d]=de.useState(""),[v,A]=de.useState(""),[T,w]=de.useState(null),[V,z]=de.useState(!1);de.useEffect(()=>{if(!n)return;const J=Pu(ya(kr,"clients"),Mu("userId","==",n)),tt=ju(J,vt=>{i(vt.docs.map(St=>({id:St.id,...St.data()})))});return()=>tt()},[n]);const F=async J=>{if(J.preventDefault(),!!c.trim()){z(!0);try{T?(await gd(yo(kr,"clients",T),{name:c,phone:f,address:v}),w(null),alert("Cliente actualizado correctamente")):(await ed(ya(kr,"clients"),{userId:n,name:c,phone:f,address:v,createdAt:new Date}),alert("Cliente guardado correctamente")),h(""),d(""),A("")}catch(tt){console.error("Error:",tt),alert("Error al guardar: "+tt.message)}finally{z(!1)}}},q=J=>{h(J.name),d(J.phone),A(J.address),w(J.id),o("form")},at=async J=>{if(console.log("Attempting to delete client:",J),!J){alert("Error: ID de cliente no vlido");return}try{await yd(yo(kr,"clients",J)),console.log("Client deleted successfully")}catch(tt){console.error("Error deleting client:",tt),alert("Error al eliminar: "+tt.message)}};return P.jsxs("div",{className:"flex flex-col h-full min-h-[500px]",children:[P.jsxs("div",{className:"flex items-center gap-4 mb-6 relative",children:[P.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-brand-brown/10 text-brand-brown transition-colors absolute left-0",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),P.jsx("div",{className:"w-full text-center",children:P.jsx("h2",{className:"text-3xl font-serif font-bold text-brand-brown",children:"Gestin de Clientes"})})]}),P.jsxs("div",{className:"flex p-1 bg-brand-brown/10 rounded-xl mb-6",children:[P.jsx("button",{onClick:()=>o("form"),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-all duration-200 ${a==="form"?"bg-white text-brand-brown shadow-sm":"text-brand-brown/60 hover:text-brand-brown"}`,children:T?"Editar Cliente":"Nuevo Cliente"}),P.jsxs("button",{onClick:()=>o("list"),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-all duration-200 ${a==="list"?"bg-white text-brand-brown shadow-sm":"text-brand-brown/60 hover:text-brand-brown"}`,children:["Lista de Clientes (",e.length,")"]})]}),P.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:a==="form"?P.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-brand-brown/10 animate-in fade-in slide-in-from-bottom-2 duration-300",children:P.jsxs("form",{onSubmit:F,className:"space-y-5",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1.5",children:"Nombre Completo"}),P.jsx("input",{type:"text",value:c,onChange:J=>h(J.target.value),className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:ring-2 focus:ring-brand-accent/50 outline-none bg-brand-cream/30",placeholder:"Ej: Ana Gmez",required:!0})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1.5",children:"Telfono"}),P.jsx("input",{type:"tel",value:f,onChange:J=>d(J.target.value),className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:ring-2 focus:ring-brand-accent/50 outline-none bg-brand-cream/30",placeholder:"+54 9 11..."})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1.5",children:"Direccin"}),P.jsx("input",{type:"text",value:v,onChange:J=>A(J.target.value),className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:ring-2 focus:ring-brand-accent/50 outline-none bg-brand-cream/30",placeholder:"Calle 123, Ciudad"})]}),P.jsxs("div",{className:"pt-2 flex gap-3",children:[P.jsx("button",{type:"submit",disabled:V,className:"flex-1 bg-brand-brown text-white font-bold py-3.5 rounded-xl shadow-lg hover:bg-[#5D4229] transition-all disabled:opacity-50",children:V?"Guardando...":T?"Actualizar":"Guardar Cliente"}),T&&P.jsx("button",{type:"button",onClick:()=>{w(null),h(""),d(""),A("")},className:"px-6 py-3.5 rounded-xl border-2 border-brand-brown/20 text-brand-brown font-bold hover:bg-brand-brown/5",children:"Cancelar"})]})]})}):P.jsx("div",{className:"space-y-3 animate-in fade-in slide-in-from-bottom-2 duration-300 pb-4",children:e.length===0?P.jsxs("div",{className:"text-center py-12 opacity-50",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-brand-brown",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),P.jsx("p",{className:"font-serif text-lg text-brand-brown",children:"No hay clientes an"}),P.jsx("button",{onClick:()=>o("form"),className:"text-brand-accent underline mt-2",children:"Agregar el primero"})]}):e.map(J=>P.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-brand-brown/10 hover:border-brand-brown/30 transition-all group flex justify-between items-center",children:[P.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[P.jsx("h4",{className:"font-bold text-brand-brown truncate",children:J.name}),P.jsxs("div",{className:"text-sm text-brand-brown/60 space-y-0.5 mt-1",children:[J.phone&&P.jsxs("p",{className:"flex items-center gap-1.5 truncate",children:[P.jsx("span",{className:"opacity-50",children:""})," ",J.phone]}),J.address&&P.jsxs("p",{className:"flex items-center gap-1.5 truncate",children:[P.jsx("span",{className:"opacity-50",children:""})," ",J.address]})]})]}),P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx("button",{onClick:()=>q(J),className:"p-2 text-brand-brown/40 hover:text-brand-accent hover:bg-brand-accent/10 rounded-lg transition-colors",title:"Editar",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),P.jsx("button",{onClick:tt=>{tt.stopPropagation(),alert("Click detectado en borrar: "+J.id),at(J.id)},className:"p-2 text-brand-brown/40 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},J.id))})})]})},$k=({userId:n,onBack:t,initialOrder:e,readOnly:i})=>{const[a,o]=de.useState([]),[c,h]=de.useState([]),[f,d]=de.useState(""),[v,A]=de.useState(!1),[T,w]=de.useState(""),[V,z]=de.useState(""),[F,q]=de.useState(""),[at,J]=de.useState(!1),[tt,vt]=de.useState([{id:"1",name:"",amount:0,unit:"un",quantity:1,price:0}]),[St,G]=de.useState(""),[O,D]=de.useState(0),[K,x]=de.useState(!1);de.useEffect(()=>{if(!n)return;const U=Pu(ya(kr,"clients"),Mu("userId","==",n)),C=ju(U,ot=>{o(ot.docs.map(ut=>({id:ut.id,...ut.data()})))}),Y=Pu(ya(kr,"recipes"),Mu("userId","==",n)),Z=ju(Y,ot=>{h(ot.docs.map(ut=>({id:ut.id,...ut.data()})))});return()=>{C(),Z()}},[n]),de.useEffect(()=>{if(e){if(d(e.clientId),vt(e.items.map(U=>({...U,amount:U.amount||0,unit:U.unit||"un",quantity:U.quantity||1,price:U.price||0,recipeId:U.recipeId||""}))),e.deliveryDate){const C=new Date(e.deliveryDate).toISOString().split("T")[0];G(C)}D(e.deposit||0)}},[e]);const R=tt.reduce((U,C)=>U+C.price*C.quantity,0),k=R-O,lt=()=>{vt([...tt,{id:Date.now().toString(),name:"",amount:0,unit:"un",quantity:1,price:0}])},_t=(U,C,Y)=>{vt(Z=>Z.map(ot=>{if(ot.id!==U)return ot;const ut={...ot,[C]:Y};if(C==="recipeId"){const ft=c.find(Tt=>Tt.id===Y);ft&&(ut.name=ft.name,ut.recipeId=ft.id,ut.amount>0&&(ut.price=Math.ceil(ut.amount*ft.costPerGram*3)))}if(C==="amount"&&ut.recipeId){const ft=c.find(Tt=>Tt.id===ut.recipeId);ft&&(ut.price=Math.ceil(Number(Y)*ft.costPerGram*3))}return ut}))},st=U=>{tt.length!==1&&vt(tt.filter(C=>C.id!==U))},pt=async U=>{if(U.preventDefault(),!!T.trim()){J(!0);try{const C=await ed(ya(kr,"clients"),{userId:n,name:T,phone:V,address:F,createdAt:new Date});A(!1),w(""),z(""),q(""),d(C.id),alert("Cliente creado y seleccionado!")}catch(C){console.error(C),alert("Error al crear cliente")}finally{J(!1)}}},dt=async()=>{if(!(!e||!window.confirm("Ests seguro de que quieres eliminar este pedido permanentemente?")))try{await yd(yo(kr,"orders",e.id)),alert("Pedido eliminado correctamente"),t()}catch(U){console.error("Error deleting order:",U),alert("Error al eliminar el pedido")}},Nt=async()=>{try{const U=new Ee({orientation:"portrait",unit:"mm",format:[80,200+tt.length*10]}),C=ot=>{try{const ut=ot?65:20;U.setFontSize(16),U.setFont("helvetica","bold"),U.text("Alternativa Keto",40,ut,{align:"center"}),U.setLineWidth(.5),U.setDrawColor(0),U.line(5,ut+4,75,ut+4);const ft=a.find(ee=>ee.id===f),Tt=(ft==null?void 0:ft.name)||"Cliente Final",Ct=(ft==null?void 0:ft.phone)||"",jt=(ft==null?void 0:ft.address)||"",Xt=St?St.split("-").reverse().join("/"):new Date().toLocaleDateString();let te=ut+12;if(U.setFontSize(14),U.setFont("helvetica","bold"),U.text(`Cliente: ${Tt}`,5,te),U.setFontSize(10),U.setFont("helvetica","normal"),te+=6,Ct&&(U.text(`Tel: ${Ct}`,5,te),te+=5),jt){const ee=U.splitTextToSize(`Dir: ${jt}`,70);U.text(ee,5,te),te+=ee.length*5}U.text(`Fecha Entrega: ${Xt}`,5,te),te+=5,U.setLineWidth(.5),U.line(5,te+2,75,te+2);let $t=te+8;U.setFont("helvetica","bold"),U.text("Cant.",5,$t),U.text("Producto",20,$t),U.text("Total",75,$t,{align:"right"}),$t+=2,U.setLineWidth(.2),U.line(5,$t,75,$t),$t+=5,U.setFont("helvetica","normal"),tt.forEach(ee=>{const we=ee.name||"Producto",he=U.splitTextToSize(we,45);U.text(`${ee.quantity}`,5,$t),U.text(he,20,$t),U.text(`$${ee.price.toLocaleString()}`,75,$t,{align:"right"}),$t+=he.length*5+3}),$t+=2,U.setLineWidth(.5),U.line(5,$t,75,$t),$t+=6;const ie=(ee,we,he=!1,Ge=!1)=>{U.setFont("helvetica",he?"bold":"normal"),U.setFontSize(he?12:11),U.text(ee,45,$t,{align:"right"}),U.text(we,75,$t,{align:"right"}),$t+=6};ie("Total:",`$${R.toLocaleString()}`,!0),O>0?(ie("Sea:",`-$${O.toLocaleString()}`,!1),U.setLineWidth(.2),U.line(40,$t-4,75,$t-4),$t+=1,ie("Resta:",`$${k.toLocaleString()}`,!0)):$t+=2,$t+=5,U.setFontSize(10),U.setFont("helvetica","italic"),U.text("Gracias por su compra!",40,$t,{align:"center"});const et=$t+5,Zt=7,Ve=18;U.setDrawColor(0),U.setLineWidth(.3),U.roundedRect(Ve,et,Zt,Zt,1.5,1.5,"S"),U.circle(Ve+Zt/2,et+Zt/2,Zt*.25,"S"),U.circle(Ve+Zt*.75,et+Zt*.22,.3,"F"),U.setFont("helvetica","bold"),U.setFontSize(10),U.text("@alternativaketo",Ve+Zt+2,et+5);const Ae=U.output("blob"),Ft=URL.createObjectURL(Ae);if(!window.open(Ft,"_blank")){const ee=Tt.replace(/[^a-zA-Z0-9]/g,"_");U.save(`ticket_${ee}.pdf`),alert("Ventana emergente bloqueada. Se descarg el archivo.")}setTimeout(()=>URL.revokeObjectURL(Ft),6e4)}catch(ut){console.error("Error drawing ticket:",ut),alert(`Error al generar contenido del ticket: ${ut.message}`)}},Y=new Image,Z="/calculadora-keto/logo.png";Y.src=Z,Y.onload=()=>{U.addImage(Y,"PNG",17.5,5,45,45,void 0,"FAST"),C(!0)},Y.onerror=()=>{console.warn("Logo load failed"),C(!1)}}catch(U){console.error("PDF Init Error:",U),alert(`Error al iniciar PDF: ${U.message}`)}},qt=async U=>{if(!f){alert("Por favor selecciona un cliente");return}if(tt.some(C=>!C.name||C.price<=0)){alert("Por favor completa los detalles del producto (y asegrate que el precio > 0)");return}x(!0);try{const C=a.find(ut=>ut.id===f);let Y=new Date;if(St){const[ut,ft,Tt]=St.split("-").map(Number);Y=new Date(ut,ft-1,Tt)}const Z={userId:n,clientId:f,clientName:(C==null?void 0:C.name)||"Cliente Desconocido",items:tt,deliveryDate:Y,status:"pending",total:R,deposit:O,createdAt:new Date},ot=e?await gd(yo(kr,"orders",e.id),Z):await ed(ya(kr,"orders"),Z);U||(alert(e?"Pedido actualizado correctamente!":"Pedido confirmado correctamente!"),t())}catch(C){console.error("Error creating order:",C),alert("Error al crear el pedido")}finally{x(!1)}};return P.jsxs("div",{className:"flex flex-col h-full bg-white rounded-2xl overflow-hidden animate-in fade-in zoom-in duration-200 relative",children:[v&&P.jsx("div",{className:"absolute inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:P.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-sm animate-in zoom-in duration-200",children:[P.jsx("h3",{className:"text-xl font-bold text-brand-brown mb-4 font-serif",children:"Nuevo Cliente Rpido"}),P.jsxs("form",{onSubmit:pt,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-xs font-bold text-brand-brown mb-1",children:"Nombre"}),P.jsx("input",{autoFocus:!0,type:"text",value:T,onChange:U=>w(U.target.value),className:"w-full p-2.5 rounded-lg border border-brand-brown/20 focus:ring-2 focus:ring-brand-accent/50 outline-none",required:!0})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-xs font-bold text-brand-brown mb-1",children:"Telfono"}),P.jsx("input",{type:"tel",value:V,onChange:U=>z(U.target.value),className:"w-full p-2.5 rounded-lg border border-brand-brown/20"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-xs font-bold text-brand-brown mb-1",children:"Direccin"}),P.jsx("input",{type:"text",value:F,onChange:U=>q(U.target.value),className:"w-full p-2.5 rounded-lg border border-brand-brown/20"})]}),P.jsxs("div",{className:"flex gap-2 pt-2",children:[P.jsx("button",{type:"button",onClick:()=>A(!1),className:"flex-1 py-2 rounded-lg border border-brand-brown/20 text-brand-brown font-bold hover:bg-brand-brown/5",children:"Cancelar"}),P.jsx("button",{type:"submit",disabled:at,className:"flex-1 py-2 rounded-lg bg-brand-brown text-white font-bold hover:bg-[#5D4229]",children:"Guardar"})]})]})]})}),P.jsxs("div",{className:"flex items-center p-4 border-b border-brand-brown/10 relative",children:[P.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-brand-brown/10 text-brand-brown transition-colors absolute left-4",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),P.jsx("div",{className:"w-full text-center",children:P.jsx("h2",{className:"text-2xl font-serif font-bold text-brand-brown",children:e?i?"Detalles del Pedido":"Editar Pedido":"Nuevo Pedido"})})]}),P.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[P.jsxs("div",{className:"space-y-3",children:[P.jsxs("h3",{className:"text-lg font-bold text-brand-brown flex items-center gap-2",children:[P.jsx("span",{className:"bg-brand-brown/10 w-6 h-6 rounded-full flex items-center justify-center text-sm",children:"1"})," Seleccionar Cliente"]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("div",{className:"relative flex-1",children:P.jsxs("select",{value:f,onChange:U=>d(U.target.value),disabled:i,className:"w-full p-3 pr-10 rounded-xl border border-brand-brown/20 bg-brand-cream/30 outline-none text-brand-brown appearance-none disabled:opacity-70 disabled:bg-stone-100",children:[P.jsx("option",{value:"",children:"Buscar Cliente Existente..."}),a.map(U=>P.jsx("option",{value:U.id,children:U.name},U.id))]})}),!i&&P.jsx("button",{onClick:()=>A(!0),className:"bg-brand-brown text-white p-3 rounded-xl hover:bg-[#5D4229] shadow-md",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("h3",{className:"text-lg font-bold text-brand-brown flex items-center gap-2",children:[P.jsx("span",{className:"bg-brand-brown/10 w-6 h-6 rounded-full flex items-center justify-center text-sm",children:"2"})," Agregar Producto"]}),P.jsx("div",{className:"space-y-4",children:tt.map((U,C)=>P.jsxs("div",{className:"bg-brand-cream/20 p-4 rounded-xl border border-brand-brown/10 relative",children:[tt.length>1&&!i&&P.jsx("button",{onClick:()=>st(U.id),className:"absolute -top-2 -right-2 bg-red-100 text-red-500 rounded-full p-1 shadow-sm hover:bg-red-200",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),P.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[P.jsxs("div",{className:"col-span-12 md:col-span-5",children:[P.jsx("label",{className:"block text-xs font-bold text-brand-brown/60 mb-1",children:"Producto"}),P.jsxs("select",{value:U.recipeId||"",onChange:Y=>_t(U.id,"recipeId",Y.target.value),disabled:i,className:"w-full p-2 rounded-lg border border-brand-brown/20 bg-white text-sm disabled:opacity-70 disabled:bg-stone-100",children:[P.jsx("option",{value:"",children:"Seleccionar Receta..."}),c.map(Y=>P.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),P.jsxs("div",{className:"col-span-4 md:col-span-3",children:[P.jsx("label",{className:"block text-xs font-bold text-brand-brown/60 mb-1",children:"Peso (g) / Unid."}),P.jsx("input",{type:"number",value:U.amount||"",onChange:Y=>_t(U.id,"amount",parseFloat(Y.target.value)),placeholder:"200",disabled:i,className:"w-full p-2 rounded-lg border border-brand-brown/20 bg-white disabled:opacity-70 disabled:bg-stone-100"})]}),P.jsxs("div",{className:"col-span-3 md:col-span-2",children:[P.jsx("label",{className:"block text-xs font-bold text-brand-brown/60 mb-1",children:"Cant."}),P.jsx("input",{type:"number",min:"1",value:U.quantity,onChange:Y=>_t(U.id,"quantity",parseInt(Y.target.value)||1),disabled:i,className:"w-full p-2 rounded-lg border border-brand-brown/20 bg-white disabled:opacity-70 disabled:bg-stone-100"})]}),P.jsxs("div",{className:"col-span-5 md:col-span-2",children:[P.jsx("label",{className:"block text-xs font-bold text-brand-brown/60 mb-1",children:"Total"}),P.jsx("input",{type:"number",disabled:!0,value:U.price||"",className:"w-full p-2 rounded-lg border border-brand-brown/20 bg-brand-brown/10 font-bold text-brand-brown"})]})]})]},U.id))}),!i&&P.jsx("button",{onClick:lt,className:"w-full py-3 border-2 border-dashed border-brand-brown/30 rounded-xl text-brand-brown/70 font-bold hover:bg-brand-brown/5 hover:border-brand-brown/50 transition-all flex items-center justify-center gap-2",children:"+ Agregar otro producto"})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("h3",{className:"text-lg font-bold text-brand-brown flex items-center gap-2",children:[P.jsx("span",{className:"bg-brand-brown/10 w-6 h-6 rounded-full flex items-center justify-center text-sm",children:"3"})," Detalles de Entrega"]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1.5",children:"Fecha de Entrega"}),P.jsx("input",{type:"date",value:St,onChange:U=>G(U.target.value),disabled:i,className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:ring-2 focus:ring-brand-accent/50 outline-none bg-white font-medium disabled:opacity-70 disabled:bg-stone-100"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1.5",children:"Sea / Adelanto ($)"}),P.jsx("input",{type:"number",value:O||"",onChange:U=>D(parseFloat(U.target.value)||0),disabled:i,className:"w-full p-3 rounded-xl border border-brand-brown/20 focus:ring-2 focus:ring-brand-accent/50 outline-none bg-white text-lg font-medium disabled:opacity-70 disabled:bg-stone-100",placeholder:"0"})]})]}),P.jsxs("div",{className:"space-y-3 bg-brand-brown/5 p-4 rounded-xl",children:[P.jsxs("h3",{className:"text-lg font-bold text-brand-brown flex items-center gap-2",children:[P.jsx("span",{className:"bg-brand-brown/10 w-6 h-6 rounded-full flex items-center justify-center text-sm",children:"4"})," Pago"]}),P.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-brand-brown/10 mt-2",children:[P.jsx("span",{className:"text-brand-brown/70",children:"Total a Pagar:"}),P.jsxs("span",{className:"font-bold text-brand-brown text-lg",children:["$",R.toLocaleString()]})]}),P.jsxs("div",{className:"flex justify-between items-center text-sm",children:[P.jsx("span",{className:"text-brand-brown/70",children:"Saldo Pendiente:"}),P.jsxs("span",{className:"font-bold text-brand-accent text-lg",children:["$",k.toLocaleString()]})]})]})]}),P.jsxs("div",{className:"p-4 border-t border-brand-brown/10 bg-brand-cream/30 flex gap-3",children:[e&&!i&&P.jsx("button",{onClick:dt,type:"button",className:"p-4 rounded-xl border border-red-200 bg-red-50 text-red-500 hover:bg-red-100 transition-colors shadow-sm",title:"Eliminar Pedido",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),!i&&P.jsx("button",{onClick:()=>qt(!1),disabled:K,className:"flex-1 bg-brand-brown text-white font-bold py-4 rounded-xl shadow-lg hover:bg-[#5D4229] disabled:opacity-50",children:K?"Guardando...":e?"Actualizar Pedido":"Confirmar Pedido"}),P.jsx("button",{onClick:Nt,className:"flex-1 bg-brand-accent text-brand-brown font-bold py-4 rounded-xl shadow-lg hover:bg-[#E5DCD3] border border-brand-brown/20 flex items-center justify-center gap-2",children:"Generar Ticket"})]})]})},Xk=({isOpen:n,onClose:t,userId:e,initialOrder:i,isReadOnly:a})=>{const[o,c]=de.useState("menu");return sw.useEffect(()=>{n&&c(i?"newOrder":"menu")},[n,i]),n?P.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-brand-brown/20 backdrop-blur-sm animate-in fade-in duration-200",children:[P.jsx("div",{className:"absolute inset-0",onClick:t}),P.jsxs("div",{className:"relative w-full max-w-2xl bg-brand-cream rounded-2xl shadow-2xl flex flex-col animate-in fade-in zoom-in duration-200 p-8 border border-brand-brown/10 max-h-[90vh] overflow-hidden",children:[P.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-brand-brown/40 hover:text-brand-brown hover:bg-brand-brown/5 rounded-full transition-colors z-10",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o==="menu"&&P.jsxs(P.Fragment,{children:[P.jsx("h2",{className:"text-3xl font-serif font-bold text-center text-brand-brown mb-8",children:"Gestin de Pedidos"}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[P.jsxs("button",{onClick:()=>c("clients"),className:"group flex flex-col items-center p-8 bg-gradient-to-br from-[#D4A373] to-[#C59263] rounded-2xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 border border-[#B08055]",children:[P.jsx("div",{className:"mb-4 text-brand-brown/80 group-hover:text-brand-brown group-hover:scale-110 transition-transform duration-300",children:P.jsxs("div",{className:"relative",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-[#6B4423]",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),P.jsx("div",{className:"absolute -right-2 -bottom-2 bg-[#6B4423] rounded-full p-1 text-[#D4A373]",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})})]})}),P.jsx("h3",{className:"text-2xl font-bold text-[#4A3728] mb-2 font-serif",children:"Clientes"}),P.jsxs("p",{className:"text-[#5D4229] text-sm text-center font-medium leading-tight",children:["Administrar base de datos,",P.jsx("br",{}),"telfono y direccin."]})]}),P.jsxs("button",{onClick:()=>c("newOrder"),className:"group flex flex-col items-center p-8 bg-gradient-to-br from-[#D4A373] to-[#C59263] rounded-2xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 border border-[#B08055]",children:[P.jsx("div",{className:"mb-4 text-brand-brown/80 group-hover:text-brand-brown group-hover:scale-110 transition-transform duration-300",children:P.jsxs("div",{className:"relative",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-[#6B4423]",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})}),P.jsx("div",{className:"absolute -right-2 -top-2 bg-[#6B4423] rounded-full p-1 text-[#D4A373]",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4v16m8-8H4"})})})]})}),P.jsx("h3",{className:"text-2xl font-bold text-[#4A3728] mb-2 font-serif",children:"Nuevo Pedido"}),P.jsxs("p",{className:"text-[#5D4229] text-sm text-center font-medium leading-tight",children:["Crear una nueva venta y",P.jsx("br",{}),"agendar entrega."]})]})]})]}),o==="clients"&&P.jsx(Wk,{userId:e,onBack:()=>c("menu")}),o==="newOrder"&&P.jsx($k,{userId:e,onBack:()=>c("menu"),initialOrder:i,readOnly:a})]})]}):null};function Qk(){const[n,t]=de.useState(null),[e,i]=de.useState(!0),[a,o]=de.useState("dashboard"),[c,h]=de.useState(!1),[f,d]=de.useState(!1),[v,A]=de.useState(null),[T,w]=de.useState(!1),[V,z]=de.useState(""),[F,q]=de.useState(""),[at,J]=de.useState(!1),[tt,vt]=de.useState("");de.useEffect(()=>{const x=Xx(yp,R=>{t(R),i(!1)});return()=>x()},[]);const St=()=>h(!c),G=()=>{d(!f),f&&A(null)},O=x=>{A(x),w(!1),d(!0)},D=x=>{A(x),w(!0),d(!0)},K=async x=>{x.preventDefault(),vt("");try{at?await Yx(yp,V,F):await Kx(yp,V,F)}catch(R){vt(R.message||"Error en autenticacin")}};return e?P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-beige text-brand-brown font-serif",children:"Cargando..."}):n?P.jsxs(P.Fragment,{children:[P.jsx(X7,{activeTab:a,setActiveTab:o,user:n,onLogout:()=>Qx(yp),onOpenCalculator:St,onOpenOrders:G,children:a==="dashboard"&&P.jsx(Z7,{userId:(n==null?void 0:n.uid)||"",onEditOrder:O,onViewOrder:D})}),P.jsx(Kk,{isOpen:c,onClose:()=>h(!1),userId:n.uid}),P.jsx(Xk,{isOpen:f,onClose:()=>{d(!1),A(null),w(!1)},userId:n.uid,initialOrder:v,isReadOnly:T})]}):P.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-brand-beige",children:P.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-xl p-8 border border-[#E5DCD3]",children:[P.jsxs("div",{className:"text-center mb-8",children:[P.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-brown mb-2",children:"Alternativa Keto"}),P.jsx("p",{className:"text-stone-500",children:"Gestiona tu pastelera keto con estilo."})]}),P.jsxs("form",{onSubmit:K,className:"space-y-5",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1.5",children:"Email"}),P.jsx("input",{type:"email",required:!0,className:"w-full p-4 rounded-xl border border-stone-200 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 text-brand-brown bg-brand-cream placeholder-stone-400 transition-all shadow-sm",placeholder:"nombre@ejemplo.com",value:V,onChange:x=>z(x.target.value)})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold text-brand-brown mb-1.5",children:"Contrasea"}),P.jsx("input",{type:"password",required:!0,className:"w-full p-4 rounded-xl border border-stone-200 focus:outline-none focus:ring-2 focus:ring-brand-accent/50 text-brand-brown bg-brand-cream placeholder-stone-400 transition-all shadow-sm",placeholder:"",value:F,onChange:x=>q(x.target.value)})]}),tt&&P.jsx("p",{className:"text-red-500 text-center text-sm bg-red-50 p-2 rounded-lg border border-red-100",children:tt}),P.jsx("button",{type:"submit",className:"w-full bg-brand-brown text-white py-4 rounded-xl font-bold font-serif text-lg shadow-lg shadow-brand-brown/20 hover:bg-[#4A2E21] hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200",children:at?"Crear Cuenta":"Ingresar al Dashboard"})]}),P.jsx("div",{className:"mt-8 text-center pt-6 border-t border-stone-100",children:P.jsx("button",{onClick:()=>J(!at),className:"text-brand-accent hover:text-brand-brown text-sm font-bold underline transition-colors",children:at?"Ya tienes cuenta? Ingresa aqu":"Nuevo usuario? Regstrate gratis"})})]})})}const qA=document.getElementById("root");if(!qA)throw new Error("Could not find root element to mount to");const Jk=lE.createRoot(qA);Jk.render(P.jsx(sw.StrictMode,{children:P.jsx(Qk,{})}));export{Xn as _,tD as c,iw as g};
